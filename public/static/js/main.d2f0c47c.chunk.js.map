{"version":3,"sources":["components/Creator/SelectionMenu/SelectionMenu.module.css","components/SidePanel/AuthMenu/AuthMenu.module.css","components/Chat/ChatPreviews/ChatPrev/AddButton/AddButton.module.css","components/SidePanel/UserMenu/UserMenu.module.css","components/Chat/ChatPreviews/ChatPrev/ChatPrev.module.css","components/Footer/Footer.module.css","components/Stream/StreamElement/StreamElement.module.css","components/Chat/ChatWindow/Message/Message.module.css","components/Navigation/Navigation.module.css","components/Stream/StreamElement/CommentSection/Comment/Comment.module.css","components/Chat/ChatPreviews/ChatPreviews.module.css","components/Creator/Element/ResizeHandler/ResizeHandler.module.css","components/SidePanel/SidePanel.module.css","media/DefaultProfilePic.png","components/Creator/Element/TextElement/TextElement.module.css","components/Stream/StreamElement/CommentSection/Comment/SubCommentWrapper/SubComment/SubComment.module.css","components/Creator/TopMenu/TopMenu.module.css","components/Creator/ExportModal/ExportModal.module.css","components/Stream/StreamElement/CommentSection/CommentForm/CommentForm.module.css","components/Stream/Stream.module.css","components/NewChatModal/NewChatModal.module.css","components/Stream/StreamElement/CommentSection/Comment/CommentMenu/CommentMenu.module.css","components/Chat/Chat.module.css","components/Chat/ChatWindow/ChatWindow.module.css","components/DropModal/ChatPrev/ChatPrev.module.css","components/Stream/StreamElement/CommentSection/Comment/Voting/Voting.module.css","components/UI/NeumorphismButton/NeumorphismButton.module.css","components/NewChatModal/UserPrev/UserPrev.module.css","components/DropModal/DropModal.module.css","components/SidePanel/MenuScreen/MenuScreen.module.css","components/Stream/StreamElement/Content/Content.module.css","components/Stream/StreamElement/CommentSection/CommentSection.module.css","components/UI/PrimaryButton/PrimaryButton.module.css","components/Chat/ChatWindow/ChatForm/ChatForm.module.css","components/Creator/Element/Element.module.css","components/Stream/StreamElement/Content/Source/Source.module.css","components/Creator/Creator.module.css","components/Stream/StreamElement/CommentSection/Comment/Branches/Branches.module.css","media/Boat.png","components/Creator/Line/Line.module.css","components/SidePanel/MenuItem/MenuItem.module.css","components/Feedback/Feedback.module.css","components/Stream/StreamElement/CommentSection/Comment/CommentMenu/TrashOpen.svg","components/Stream/StreamElement/CommentSection/Comment/CommentMenu/TrashClosed.svg","components/Stream/StreamElement/CommentSection/AuthorPic/AuthorPic.module.css","components/UI/Backdrop/Backdrop.module.css","SVGs/RiverWhite.svg","SVGs/river.svg","SVGs/RiverGlow.svg","components/Chat/ChatPreviews/ChatPrev/Connector.svg","media/stupidfuckingface.jpeg","components/Creator/SelectionFrame/SelectionFrame.module.css","components/Creator/Washington.jpeg","components/Creator/Washington_Monument.jpeg","media/taktaktak.jpg","components/SidePanel/AuthMenu/ProfilePicPlaceholder.svg","components/SidePanel/UserMenu/logout.svg","components/Creator/ImageDragNDrop/ImageDragNDrop.module.css","components/Creator/ChrisDrunk.jpg","components/SidePanel/MenuScreen/arrow_back.svg","store/actions/UIActions.js","store/actions/actionTypes.js","store/actions/chatActions.js","store/actions/streamActions.js","store/actions/userActions.js","components/Stream/StreamElement/Content/Source/Source.js","components/Stream/StreamElement/Content/Content.js","components/Stream/StreamElement/CommentSection/Comment/CommentMenu/CommentMenu.js","components/Stream/StreamElement/CommentSection/Comment/Voting/Voting.js","components/Stream/StreamElement/CommentSection/AuthorPic/AuthorPic.js","components/UI/Backdrop/Backdrop.js","components/Stream/StreamElement/CommentSection/Comment/Branches/Branches.js","components/Stream/StreamElement/CommentSection/Comment/SubCommentWrapper/SubComment/SubComment.js","components/UI/NeumorphismButton/NeumorphismButton.js","components/Stream/StreamElement/CommentSection/CommentForm/CommentForm.js","components/Stream/StreamElement/CommentSection/Comment/SubCommentWrapper/SubCommentWrapper.js","components/Stream/StreamElement/CommentSection/Comment/Comment.js","components/Stream/StreamElement/CommentSection/CommentSection.js","components/UI/PrimaryButton/PrimaryButton.js","components/Stream/StreamElement/StreamElement.js","components/Stream/Stream.js","components/Chat/ChatPreviews/ChatPrev/AddButton/AddButton.js","components/Chat/ChatPreviews/ChatPrev/ChatPrev.js","components/Chat/ChatPreviews/ChatPreviews.js","components/Chat/ChatWindow/ChatForm/ChatForm.js","components/Chat/ChatWindow/Message/Message.js","components/Chat/ChatWindow/ChatWindow.js","components/Chat/Chat.js","components/Creator/Element/ResizeHandler/ResizeHandler.js","components/Creator/Element/TextElement/AutoResizeTextElement.js","components/Creator/Element/TextElement/TextElement.js","components/Creator/Element/Element.js","components/Creator/Line/Line.js","components/Creator/TopMenu/TopMenu.js","components/Creator/SelectionMenu/SelectionMenu.js","components/Creator/SelectionFrame/SelectionFrame.js","components/Creator/ExportModal/ExportModal.js","components/Creator/ImageDragNDrop/ImageDragNDrop.js","components/Creator/Creator.js","components/Navigation/Navigation.js","components/NewChatModal/UserPrev/UserPrev.js","components/NewChatModal/NewChatModal.js","components/DropModal/ChatPrev/ChatPrev.js","components/DropModal/DropModal.js","components/Footer/Footer.js","components/SidePanel/MenuScreen/MenuScreen.js","components/SidePanel/MenuItem/MenuItem.js","components/SidePanel/AuthMenu/AuthMenu.js","components/SidePanel/UserMenu/UserMenu.js","components/SidePanel/SidePanel.js","components/Feedback/Feedback.js","App.js","serviceWorker.js","store/reducers/StreamReducer.js","store/reducers/ChatReducer.js","store/reducers/UserReducer.js","store/reducers/UIReducer.js","index.js"],"names":["module","exports","_path","switchTab","tab","type","addToMenuStack","next","setChatStateOnLogin","userdata","fetchAllUsers","dispatch","fetchAllUsersStart","axios","get","then","response","addNewUsers","data","fetchAllUsersSuccess","catch","err","console","log","fetchAllUsersFailed","users","sendMessageStart","chatId","text","randId","userId","sendMessageSuccess","message","sendMessageFailed","sendMessageFromBufferStart","id","sendMessageFromBufferSuccess","sendMessageFromBufferFailed","sendFirstMessageNewChatStart","dummyChatId","self","sendFirstMessageNewChatSuccess","createdChat","chatPartner","sendFirstMessageNewChatFailed","sendFriendRequest","user","sendFriendRequestStart","token","localStorage","getItem","headers","authorization","post","friendId","res","sendFriendRequestSuccess","chat","sendFriendRequestFailed","acceptFriendRequest","existingChatId","acceptFriendRequestStart","body","acceptFriendRequestSuccess","friend","acceptFriendRequestFailed","changeChat","setItem","createDummyChat","scrollStart","scrollSuccess","scrollFailed","fetchIdsStart","setIds","ids","fetchIdsFailed","fetchDrops","fetchDropsStart","setDrops","fetchDropsFailed","drops","sendCommentStart","dropId","comment","sendCommentSuccess","sendCommentFailed","sendSubCommentStart","subComment","sendSubCommentSuccess","randPath","sendSubCommentFailed","deleteCommentStart","commentId","deleteCommentSuccess","deleteCommentFailed","fetchDropStart","fetchDropSuccess","drop","fetchDropFailed","resetDropTargets","logout","removeItem","loginStart","loginSuccess","responseData","loginFail","error","signupStart","signupSuccess","profilePicSrc","signupFail","emailAlreadyTaken","email","checkEmailTakenStart","checkEmailTakenSuccess","checkEmailTakenFailed","handleAlreadyTaken","handle","checkHandleTakenStart","checkHandleTakenSuccess","checkHandleTakenFailed","sendMessagesReadStart","sendMessagesReadSuccess","sendMessagesReadFailed","updateNotifications","notifications","deleteNotificationStart","notificationId","deleteNotificationSuccess","deleteNotificationFailed","subscribeEmailListStart","subscribeEmailListSuccess","subscribeEmailListFailed","Source","className","classes","Header","Link","href","this","props","sourceURL","Component","Content","getLoader","position","memeStatus","Spinner","color","height","width","src","startsWith","process","ContentContainer","currentlyLoadingMemeId","alt","Meme","onLoad","onFetchMemeSuccess","source","connect","state","stream","actions","CommentMenu","trashOpen","deleteCommentOpen","userComment","MenuItem","TrashOpen","TrashClosed","Trash","onMouseOver","setState","onMouseOut","onClick","DeleteDialog","YesButton","onDeleteComment","NoButton","url","delete","Voting","getArrow","up","glow","down","upvote","downvote","viewBox","fill","xmlns","d","event","stopPropagation","didUpvote","newState","route","path","vote","voterId","didDownvote","points","onOpenMenu","unvote","getCountString","number","Math","floor","firstDigit","secondDigit","upvoted","downvoted","voting","title","darkmode","ui","AuthorPic","DefaultPic","authorId","selfId","hasProfilePic","style","left","depth","indent","backdrop","zIndex","Backdrop","clicked","Branches","getRoot","i","styles","treeString","length","Root","hideBranches","getL","generateBoneStyles","key","getC","generateLine","generateBones","boneComponents","bones","push","split","pop","top","branches","root","SubComment","subComments","getSpeechBubbleArrow","selected","parentSelected","sending","SpeechBubbleArrow","fillRule","clipRule","onUnselectComment","onSelectSubComment","divElement","clientHeight","selectedComment","some","s","backgroundStyleClasses","CommentBackground","commentStyle","paddingLeft","contentStyle","maxWidth","hiddenBranches","CommentContainer","Comment","join","ref","upVoted","downVoted","SelectClickTarget","select","actualComment","streamActions","NeumorphismButton","styleClasses","Button","buttonType","SubmitComment","disabled","Disabled","colorTheme","Light","Dark","children","CommentForm","textareaValue","inputChangedHandler","newValue","target","value","trim","streamElements","submitHandler","preventDefault","newSubComment","Date","now","author","parentPath","onSendSubComment","newComment","posted","onSendComment","getBranches","fillOpacity","commentInputStyles","slice","CommentInput","CommentInputBackground","actualCommentForm","TextArea","onChange","placeholder","SubmitButton","getArrowRight","SubCommentWrapper","createSubComments","nextTreeString","map","lastProp","tree","last","selectedCommentPath","inheritance","thisTreeString","onSelectComment","c","neuMorphism","CommentSection","componentDidUpdate","getComments","comments","x","hidden","windowWidth","onMouseEnter","onSetMouseOverComments","onMouseLeave","tabIndex","commentStatus","overComments","PrimaryButton","buttonClasses","theme","PrimaryButtonNeumorphism","PrimaryButtonFlat","StreamElement","streamStatus","dropStatus","onFetchDrop","PrimaryButtonClicked","onOpenDropModal","pos","transY","transZ","show","transform","WebkitTransform","droppedToYouBy","cssClasses","ShowDrop","FadedRight","FadedLeft","halfLeft","HalfLeft","halfRight","HalfRight","calcStyles2","dropLoaded","status","contentContainer","DROP","authReason","creatorId","Stream","deltaYLastWheelEvent","wtfOpen","msg","send","currentlyDropping","keypressHandler","menuOpen","currentTab","scrollHandler","mouseOverComments","deltaY","timeStampLastScroll","onScroll","anonymousId","getRiver","RiverWhite","River","getRiverGlow","RiverGlow","getStreamElements","forEach","element","unshift","dropping","droppingHandler","render","OutRight","Boat","Boat1","Boat2","document","addEventListener","onFetchIds","initialStreamLoad","modalOpen","menu","open","like","authorisation","AddButton","getAddIcon","inverted","AddIcon","getCheckMark","button","Loading","GlowOnHover","Clickable","TextButton","AcceptButton","Inverted","NotIverted","ChatPrev","connectorsOut","getConnector","Connector","ConnectorUp","ConnectorDown","getButton","active","buttonClick","friends","onSendFriendRequest","sentFriendRequests","sendingFriendRequests","acceptingFriendRequests","receivedFriendRequests","onAcceptFriendRequest","unreadMessages","notifiaction","filter","n","notifiactionStype","TrippleDigit","DoubleDigit","SingleDigit","members","m","name","preview","messages","profilePic","DefaultProfilePic","currentChatId","Active","ProfilePic","Info","Name","Preview","NotificationCount","seenUpdatesChats","chats","allUsers","onChangeChat","ChatPreviews","searching","searchInput","focus","getElementById","getChats","chatsStatus","LoaderContainer","sort","chatA","chatB","lastInteraction","getSearchInput","input","onSearchInput","SearchInput","openSearch","closeSearch","getNewChatIcon","AddChatIcon","y","getNewChatButton","NewChatContainer","onOpenNewChatModal","NewChatMessage","SearchIcon","ScrollContainer","formHeight","friendsStatus","allUsersStatus","onFetchAllUsers","inputRef","ChatForm","inputValue","onInput","enterHandler","keyCode","shiftKey","currentChat","find","creatingChats","onAddMessageToBuffer","onSendFirstMessageNewChat","onSendTextMessage","window","ChatInput","TextareaContainer","Textarea","rows","currentChatLoaded","chatInput","onChangeFormHeight","dummyMessageId","Message","getMessage","Text","Image","StupidFuckingFace","Drop","containerStyleclasses","MessageContainer","sent","Sent","Received","Sending","messageNew","New","onSendMessagesRead","messageIds","onDeleteNotification","useEffect","scrollToBottom","currentMessageNotificatios","currentNewChatNotifications","smooth","bottomRef","current","scrollIntoView","behavior","block","inline","createRef","foundAllOldMessages","new","NewMessageSeparator","sender","ChatWindow","SmallChatWindow","BigChatWindow","Messages","NotEncryptedMessage","Chat","textInput","unbufferMessage","messageBuffer","onSendMessageFromBuffer","setChatFormInputValue","onChangeShouldDeleteInput","getNotLoggedInMessage","NotLoggedInContainer","NotLoggedInMessage","InnerContainer","OutLeft","ResizeHandler","componentDidMount","dir","handleResizeMouseDown","componentWillUnmount","removeEventListener","e","resizeMouseDown","elementId","getStyleClasses","Corner","Edge","NW","NE","SW","SE","N","W","S","E","onMouseDown","AutoResizeTextElement","useFitText","fontSize","font","fontWeight","verticalAlign","verticalAlignClass","topAlign","bottomAlign","middleAlign","contentEditable","editing","suppressContentEditableWarning","TextInput","fontFamily","onTextInput","TextElement","fixedDimensions","Element","getStyles","posX","posY","textAlign","underline","italic","textStroke","fontStyle","backgroundColor","textDecoration","WebkitTextStrokeColor","WebkitTextStrokeWidth","textShadow","cursor","editingId","inPreview","getContent","imgSrc","onImageLoad","highlighed","selectedLines","Hlines","Vlines","includes","v","h","mouseDown","elementMouseDown","mouseUp","doubleClick","selectAndEdit","onDoubleClick","onMouseUp","Line","HL","VL","TopMenu","inputFile","useRef","LeftAlign","addElements","rx","fixedWidth","click","cx","cy","r","stroke","strokeWidth","RightAlign","openExportModal","shareIcon","x1","y1","x2","y2","multiple","display","fr","FileReader","onload","image","result","readAsDataURL","files","SelectionMenu","leftAlignIcon","strokeColor","alignActive","alignInactive","centerAlignIcon","rightAlignIcon","topAlignIcon","middleAlignIcon","bottomAlignIcon","italicIcon","underlineIcon","editHeight","edit","editWidth","editX","editY","editFont","editFontSize","editTextAlign","editFontWeight","editFixedDimensions","editUnderline","editItalic","editVerticalAlign","editColor","flex","inputWrapper","textOptions","fontSelector","flexSpaceBetween","alignIcon","textBoxTypeOptions","checked","SelectionFrame","getResizeHandlers","resizeHandlers","pointerEvents","ExportModal","downloadFormat","linkRef","React","imagesLoaded","imageCreationStarted","downloadLoading","clientWidth","calcContentMetrics","leftBorder","rightBorder","topBorder","bottomBorder","elements","contentWidth","contentHeight","setDownloadFormat","onDownLoad","node","downloadStarted","htmlToImage","dataUrl","link","createElement","setAttribute","appendChild","parentNode","removeChild","closeExportModal","getElements","previewStyles","scaleFactorY","zoom","scaleFactorX","transformedElements","Background","Modal","PreviewContainer","Preveiw","DownloadWrapper","DownloadOptions","DownloadContainer","label","ImageDragNDrop","drag","dropRef","handleDragIn","dragCounter","dataTransfer","items","handleDragOut","handleDrop","clearData","div","dragging","border","right","Creator","draggingFile","selectedId","selectedHline","selectedVline","exportModalOpen","Washington","Monument","blur","setTimeout","backgroundMouseUp","prevX","prevY","prevMouseX","clientX","prevMouseY","clientY","getLines","mousemove","newX","newY","l","abs","elementsNew","mouseup","selectionOffsetBefore","getSelection","focusOffset","elem","offsetHeight","newHeight","textContent","range","createRange","selection","childNodes","setStart","collapse","removeAllRanges","addRange","adjustTextElementHeight","innerHTML","handleImageDrop","fileList","aspectRatio","prevWidth","prevHeight","mouseStartX","mouseStartY","resizeMouseMouve","newWidth","newFontSize","diffWidth","diffHeight","fixedAspectRatio","newElement","newElements","onImgeLoad","currentlyEditing","excludeId","Set","shouldElementHighlight","renderLines","lines","wheel","ctrlKey","deltaX","OutLeftLeft","onTouchStart","onTouchEnd","onWheel","sendingSubscribeEmailList","sentSubscribeEmailList","emailListError","onSubscribeEmailList","Navigation","chatNotifications","notifiactionStyle","to","inactive","onSwitchTab","UIActions","UserPrev","existingChat","onCloseNewChatModal","selfName","selfHandle","selfHasPfilePic","onCreateDummyChat","currentUserId","NewChatModal","getAllUsers","toLowerCase","logedinUserId","f","getFriends","spellCheck","onCloseNewChatMenu","SearchContainer","getSearchIcon","failedFriendRequest","dropTargets","onUnSelectDropTarget","onSelectDropTarget","DropModal","onSendDrop","targetNames","targetId","onCloseDropModal","targets","sentTime","liked","chatIds","sendDropStart","messageReplacements","chatReplacements","sendDropSuccess","Footer","getInstagramIcon","Icon","clipPath","filterUnits","colorInterpolationFilters","floodOpacity","in","values","stdDeviation","mode","in2","getTwitterIcon","getFacebookIcon","getTumblrIcon","getPinterestIcon","getSocialButtons","SocialButtons","rel","_excluded","_extends","Object","assign","bind","arguments","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgArrowBack","_ref","svgRef","titleId","ForwardRef","MenuScreen","getArrowBack","BackButton","ArrowBack","onPopFromMenuStack","currentDepth","loginOrSignup","invalid","Invalid","UNACCEPTABLE_PASSWORDS","AuthMenu","loginEmail","touched","valid","loginPassword","password","errorMessage","secondPassword","tooUgly","file","userConditions","newsletter","onInputLoginEmail","test","onLeaveLoginEmailFocus","onInputLoginPassword","onLeaveLoginPasswordFocus","onInputName","onLeaveNameFocus","onUploadprofilePic","acceptedFiles","Array","from","URL","createObjectURL","onRemoveProfilePic","onInputEmail","onLeaveEmailFocus","onInputHandle","substring","onLeaveHandleFocus","onInputPassword","onLeavePasswordFocus","onInputSecondPassword","onLeaveSecondPasswordFocus","onChangeUserconditions","prevState","onChangeNewsletter","shouldMoveRight","onMoveRight","menuStack","createAccount","onSignup","login","onLogin","signup","checkEmailTaken","chooseHandle","checkHandleTaken","getMenuScreens","content","emailErrorMessage","passwordErrorMessage","secondPasswordErrorMessage","loginErrorMessage","loginError","takenEmails","onSubmit","onAnimationStart","onBlur","ErrorMessage","loginLoading","CheckboxContainer","CheckboxText","checkEmailLoading","handleErrorMessage","takenHandles","checkHandleLoading","onDrop","getRootProps","getInputProps","Dropzone","ProfilePicPlaceholder","signupLoading","screen","goBack","MenuItems","signupError","onAddToMenuStack","exists","identifier","JSON","stringify","identification","expirationDate","getTime","expiresIn","toJSON","formData","FormData","append","method","UserMenu","LogoutContainer","onLogout","LogoutIcon","LogoutText","menuClasses","Menu","lightButtonClasses","LightButton","darkButtonClasses","DarkButton","DarkMenu","Inactive","LightMenu","SidePanel","getProfilePic","MenuOpen","DarkMode","Container","Overlay","onCloseMenu","Assistant","NameArea","Handle","Feedback","handleClicked","onOpenChrisChat","App","onSetAnonymousId","onTryAutoSignup","onSetWindowWidth","innerWidth","setInterval","onRefreshNotifications","inComingIds","iid","taktaktak","component","newChatModalOpen","dropModalOpen","withRouter","authOpen","parse","messageNotifications","checkAndAddNewMessages","newChatNotifications","Boolean","location","hostname","match","initialState","selectedTargets","dropIds","insertSubComment","replaceSubCommentId","setDropsNotLoaded","action","streamElementsNew","activeIds","random","fetchMemeSuccess","nextPos","nextId","fetchMemeFailed","sendingObject","sendingNew","commentsNew","selectDropTarget","dropTargetsNew","unselectDropTarget","dropIdsNew","selectComment","unselectComment","selectSubComment","unselectSubComment","newPath","setMouseOverComments","reducer","failedFriendRequests","group","time","sendingMessages","newTextMessagesNotifications","dummyChatsFromRequests","chatsNew","messageId","chatInputNew","seenUpdatesChatsNew","chatInputChangeHandler","received","seen","sendingMessagesNew","shouldDeleteInput","sendingMessage","messagesNew","sendingM","currentChatIdNew","chatReplacement","messageReplacement","sendDropFailed","newMessage","creatingChatsNew","dummyChatMessages","messageBufferNew","addMessageToBuffer","bufferMessage","aciton","sendingFriendRequestsNew","sentFriendRequestsNew","friendsNew","failedFriendRequestsNew","receivedFriendRequestsNew","acceptingFriendRequestsNew","dummyId","fetchChatsStart","fetchChatsSuccess","fetchChatsFailed","chatStatus","personsNew","newMessagesThisChat","messageSet","removeDuplicateMessages","fetchNewChatStart","fetchNewChatSuccess","fetchNewChatFailed","openChrisChat","existingChrisChat","loading","deletingNotifications","setAnonymousId","messagesReadStart","notificationsNew","messagesReadSuccess","messagesReadFailed","toDelte","deletingNotificationsNew","scrollToTop","documentElement","scrollTop","requestAnimationFrame","scrollTo","defaults","baseURL","appReducer","combineReducers","UserReducer","ChatReducer","StreamReducer","UIReducer","composeEnhancers","compose","store","createStore","undefined","applyMiddleware","thunk","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d2f0c47c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"SelectionMenu\":\"SelectionMenu_SelectionMenu__Z2ojO\",\"flex\":\"SelectionMenu_flex__15n15\",\"flexSpaceBetween\":\"SelectionMenu_flexSpaceBetween__24DeG\",\"inputWrapper\":\"SelectionMenu_inputWrapper__3hFux\",\"input\":\"SelectionMenu_input__3orDM\",\"alignIcons\":\"SelectionMenu_alignIcons__3h8DA\",\"alignIcon\":\"SelectionMenu_alignIcon__1OtCb\",\"alignActive\":\"SelectionMenu_alignActive__2hj9a\",\"alignInactive\":\"SelectionMenu_alignInactive__2E3LX\",\"textBoxTypeOptions\":\"SelectionMenu_textBoxTypeOptions__30bQ5\",\"fontSelector\":\"SelectionMenu_fontSelector__3j2fj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MenuItems\":\"AuthMenu_MenuItems__3rNnh\",\"BackButton\":\"AuthMenu_BackButton__37MYS\",\"Dropzone\":\"AuthMenu_Dropzone__1q8ct\",\"ProfilePicPlaceholder\":\"AuthMenu_ProfilePicPlaceholder__324KV\",\"ProfilePic\":\"AuthMenu_ProfilePic__1bHlH\",\"TextInput\":\"AuthMenu_TextInput__13WDk\",\"Invaid\":\"AuthMenu_Invaid__2SyHm\",\"onAutoFillStart\":\"AuthMenu_onAutoFillStart__13px6\",\"Textinput\":\"AuthMenu_Textinput__2ehuS\",\"onAutoFillCancel\":\"AuthMenu_onAutoFillCancel__3M0RO\",\"ErrorMessage\":\"AuthMenu_ErrorMessage__2ZQks\",\"CreateAccount\":\"AuthMenu_CreateAccount__3rr2F\",\"CheckboxText\":\"AuthMenu_CheckboxText__3DRRH\",\"CheckboxContainer\":\"AuthMenu_CheckboxContainer__3hbZz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AddButton\":\"AddButton_AddButton__247dH\",\"Spinner\":\"AddButton_Spinner__VKy9T\",\"AddIcon\":\"AddButton_AddIcon__15XCF\",\"Inverted\":\"AddButton_Inverted__19rUX\",\"AddIconGLow\":\"AddButton_AddIconGLow__Boows\",\"Clickable\":\"AddButton_Clickable__VUiJp\",\"TextButton\":\"AddButton_TextButton__19czF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LogoutContainer\":\"UserMenu_LogoutContainer__256hM\",\"LogoutIcon\":\"UserMenu_LogoutIcon__1thmb\",\"LogoutText\":\"UserMenu_LogoutText__1BpvJ\",\"MenuItems\":\"UserMenu_MenuItems__knxvC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatPrev\":\"ChatPrev_ChatPrev__3fJMz\",\"ProfilePic\":\"ChatPrev_ProfilePic__2fF2Q\",\"Link\":\"ChatPrev_Link__1nvmI\",\"Active\":\"ChatPrev_Active__2B2Xo\",\"Preview\":\"ChatPrev_Preview__11hWt\",\"Info\":\"ChatPrev_Info__2FAib\",\"Name\":\"ChatPrev_Name__LGoDf\",\"ConnectorUp\":\"ChatPrev_ConnectorUp__EQSim\",\"ConnectorDown\":\"ChatPrev_ConnectorDown__2pwH6\",\"SingleDigit\":\"ChatPrev_SingleDigit__3gW4S\",\"DoubleDigit\":\"ChatPrev_DoubleDigit__1TOYN\",\"TrippleDigit\":\"ChatPrev_TrippleDigit__10R-l\",\"NotificationCount\":\"ChatPrev_NotificationCount__3_GZ6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Footer\":\"Footer_Footer__238hM\",\"SocialButtons\":\"Footer_SocialButtons__1QO7E\",\"Link\":\"Footer_Link__2v7FB\",\"Icon\":\"Footer_Icon__2abUb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"StreamElement\":\"StreamElement_StreamElement__3OCsm\",\"Light\":\"StreamElement_Light__2TtLJ\",\"Dark\":\"StreamElement_Dark__2dlJY\",\"LogoForButton\":\"StreamElement_LogoForButton__1AJ3s\",\"title\":\"StreamElement_title__1alnv\",\"hideCommentsButton\":\"StreamElement_hideCommentsButton__2tvUl\",\"showCommentsButton\":\"StreamElement_showCommentsButton__378tv\",\"ShowDrop\":\"StreamElement_ShowDrop__1aiJj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MessageContainer\":\"Message_MessageContainer__gf0e5\",\"Sent\":\"Message_Sent__2XCKT\",\"Received\":\"Message_Received__1847w\",\"Message\":\"Message_Message__1uVPF\",\"Text\":\"Message_Text__2KRx3\",\"Sending\":\"Message_Sending__1OvWC\",\"Image\":\"Message_Image__jO4GU\",\"Drop\":\"Message_Drop__Tob2B\",\"Time\":\"Message_Time__2J939\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__1tTPb\",\"active\":\"Navigation_active__1Sofg\",\"inactive\":\"Navigation_inactive__HaPCz\",\"SingleDigit\":\"Navigation_SingleDigit__2RgMU\",\"DoubleDigit\":\"Navigation_DoubleDigit__1ow4U\",\"TrippleDigit\":\"Navigation_TrippleDigit__10ipn\",\"NotificationCount\":\"Navigation_NotificationCount__daxOy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentContainer\":\"Comment_CommentContainer__1pRtV\",\"Comment\":\"Comment_Comment__3-CQ4\",\"Root\":\"Comment_Root__2CJ9O\",\"actualComment\":\"Comment_actualComment__2e5Xa\",\"CommentBackground\":\"Comment_CommentBackground__2ay4r\",\"selected\":\"Comment_selected__1Cjjs\",\"sending\":\"Comment_sending__2ZFQ6\",\"SpeechBubbleArrow\":\"Comment_SpeechBubbleArrow__2Bk8e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatPreviews\":\"ChatPreviews_ChatPreviews__fzX0l\",\"SearchContainer\":\"ChatPreviews_SearchContainer__Ej40j\",\"SearchInput\":\"ChatPreviews_SearchInput__GTzsf\",\"SearchIcon\":\"ChatPreviews_SearchIcon__1xA98\",\"NewChatContainer\":\"ChatPreviews_NewChatContainer__B-M_c\",\"AddChatIcon\":\"ChatPreviews_AddChatIcon__2Ywob\",\"NewChatMessage\":\"ChatPreviews_NewChatMessage__1YuwC\",\"ScrollContainer\":\"ChatPreviews_ScrollContainer__3gP52\",\"EmptyMessage\":\"ChatPreviews_EmptyMessage__DTHP9\",\"LoaderContainer\":\"ChatPreviews_LoaderContainer__1-XQ1\",\"Spinner\":\"ChatPreviews_Spinner__1xiTt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Corner\":\"ResizeHandler_Corner__3-KWA\",\"Edge\":\"ResizeHandler_Edge__1xF-y\",\"NW\":\"ResizeHandler_NW__TAwmj\",\"SW\":\"ResizeHandler_SW__3WC-T\",\"SE\":\"ResizeHandler_SE__1GarH\",\"NE\":\"ResizeHandler_NE__dMKUa\",\"N\":\"ResizeHandler_N__3ZPKg\",\"S\":\"ResizeHandler_S__2Tcvz\",\"W\":\"ResizeHandler_W__2yN16\",\"E\":\"ResizeHandler_E__HY2p2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"SidePanel_Container__2n4dm\",\"Overlay\":\"SidePanel_Overlay__3H8RD\",\"ProfilePic\":\"SidePanel_ProfilePic__2088H\",\"MenuOpen\":\"SidePanel_MenuOpen__3zM5A\",\"Menu\":\"SidePanel_Menu__1Le88\",\"NameArea\":\"SidePanel_NameArea__uF_F1\",\"Handle\":\"SidePanel_Handle__3Hwhr\",\"Name\":\"SidePanel_Name__10lm8\",\"MenuItems\":\"SidePanel_MenuItems__2Im6n\",\"LightMenu\":\"SidePanel_LightMenu__3snu5\",\"DarkMenu\":\"SidePanel_DarkMenu__3io-a\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TextInput\":\"TextElement_TextInput__1KrCZ\",\"topAlign\":\"TextElement_topAlign__iMBaG\",\"middleAlign\":\"TextElement_middleAlign__2ZxBb\",\"bottomAlign\":\"TextElement_bottomAlign__3cJU0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentContainer\":\"SubComment_CommentContainer__3pN14\",\"Comment\":\"SubComment_Comment__3QuPl\",\"Root\":\"SubComment_Root__3euip\",\"CommentBackground\":\"SubComment_CommentBackground__2YwBN\",\"actualComment\":\"SubComment_actualComment__A31dE\",\"unselectRect\":\"SubComment_unselectRect__MO8ow\",\"sending\":\"SubComment_sending__3HKiD\",\"selected\":\"SubComment_selected__3zWkG\",\"CommentBackgroundNeumorphism\":\"SubComment_CommentBackgroundNeumorphism__3JPk3\",\"SpeechBubbleArrow\":\"SubComment_SpeechBubbleArrow__1pXFE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TopMenu\":\"TopMenu_TopMenu__KNG5p\",\"LeftAlign\":\"TopMenu_LeftAlign__2xUF9\",\"RightAlign\":\"TopMenu_RightAlign__2nWqm\",\"MenuItem\":\"TopMenu_MenuItem__VTSNx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ExportModal\":\"ExportModal_ExportModal__1dqm9\",\"Background\":\"ExportModal_Background__RsbW8\",\"Modal\":\"ExportModal_Modal__1lp19\",\"PreviewContainer\":\"ExportModal_PreviewContainer__1E3j6\",\"Preveiw\":\"ExportModal_Preveiw__NOHR9\",\"DownloadOptions\":\"ExportModal_DownloadOptions__2nYOZ\",\"DownloadWrapper\":\"ExportModal_DownloadWrapper__1H_WS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentForm\":\"CommentForm_CommentForm__2ziHj\",\"CommentInput\":\"CommentForm_CommentInput__2JXGs\",\"CommentInputBackground\":\"CommentForm_CommentInputBackground__1TW1s\",\"SpeechBubbleArrow\":\"CommentForm_SpeechBubbleArrow__3gt-i\",\"TextArea\":\"CommentForm_TextArea__82bTZ\",\"InputContainer\":\"CommentForm_InputContainer__2Kt2i\",\"toplevel\":\"CommentForm_toplevel__2NYbc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Stream\":\"Stream_Stream__1p-EH\",\"OutRight\":\"Stream_OutRight__2aEf-\",\"River\":\"Stream_River__1O9az\",\"RiverGlow\":\"Stream_RiverGlow__mAxa8\",\"Boat1\":\"Stream_Boat1__1Z0Du\",\"Boat2\":\"Stream_Boat2__3IrRP\",\"wtfButton\":\"Stream_wtfButton__3i49j\",\"wtfContainer\":\"Stream_wtfContainer__3DD06\",\"SubLine\":\"Stream_SubLine__MVszT\",\"EmojiButton\":\"Stream_EmojiButton__2W_FH\",\"LeftThumb\":\"Stream_LeftThumb__3tnvu\",\"RightThumb\":\"Stream_RightThumb__2xIpX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"NewChatModal_Modal__3n-er\",\"SearchContainer\":\"NewChatModal_SearchContainer__1PZ0o\",\"SearchInput\":\"NewChatModal_SearchInput__33tyc\",\"SearchIcon\":\"NewChatModal_SearchIcon__1DLA0\",\"ScrollContainer\":\"NewChatModal_ScrollContainer__1XoBc\",\"LoaderContainer\":\"NewChatModal_LoaderContainer__1M8IG\",\"Spinner\":\"NewChatModal_Spinner__3J-6G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentMenu\":\"CommentMenu_CommentMenu__3B8Xo\",\"MenuItem\":\"CommentMenu_MenuItem__l5Lxn\",\"Seperator\":\"CommentMenu_Seperator__3O3Yx\",\"Trash\":\"CommentMenu_Trash__um9o6\",\"DeleteDialog\":\"CommentMenu_DeleteDialog__1AU-G\",\"YesButton\":\"CommentMenu_YesButton__PmqGu\",\"NoButton\":\"CommentMenu_NoButton__2NJ_f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Chat\":\"Chat_Chat__3NjUX\",\"OutLeft\":\"Chat_OutLeft__1_mEV\",\"OutRight\":\"Chat_OutRight__YGIUX\",\"NotLoggedInContainer\":\"Chat_NotLoggedInContainer__2Hcrs\",\"NotLoggedInMessage\":\"Chat_NotLoggedInMessage__Bn3g9\",\"InnerContainer\":\"Chat_InnerContainer__rd9e-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatWindow\":\"ChatWindow_ChatWindow__3ZoYy\",\"BigChatWindow\":\"ChatWindow_BigChatWindow__19t_d\",\"SmallChatWindow\":\"ChatWindow_SmallChatWindow__2GHo6\",\"Messages\":\"ChatWindow_Messages__1N3ql\",\"NotEncryptedMessage\":\"ChatWindow_NotEncryptedMessage__bqLT2\",\"Loader\":\"ChatWindow_Loader__2w4-b\",\"NewMessageSeparator\":\"ChatWindow_NewMessageSeparator__2uQ7X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatPrev\":\"ChatPrev_ChatPrev__1lyZi\",\"selected\":\"ChatPrev_selected__y6ntP\",\"Preview\":\"ChatPrev_Preview__1ByQn\",\"ProfilePic\":\"ChatPrev_ProfilePic__1R9OE\",\"Link\":\"ChatPrev_Link__1gyEA\",\"Active\":\"ChatPrev_Active__2SofW\",\"Info\":\"ChatPrev_Info__2XPhd\",\"Name\":\"ChatPrev_Name__11Zqr\",\"ConnectorUp\":\"ChatPrev_ConnectorUp__3UBMQ\",\"ConnectorDown\":\"ChatPrev_ConnectorDown__1juAG\",\"Notifiaction\":\"ChatPrev_Notifiaction__1pdd1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"voting\":\"Voting_voting__3vVRy\",\"up\":\"Voting_up__3cj2v\",\"down\":\"Voting_down__3d4pn\",\"points\":\"Voting_points__34ens\",\"glow\":\"Voting_glow__21-0a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"NeumorphismButton_Button__3Mhi_\",\"Light\":\"NeumorphismButton_Light__1hn8R\",\"Dark\":\"NeumorphismButton_Dark__3fV4M\",\"SubmitComment\":\"NeumorphismButton_SubmitComment__1CjOP\",\"Disabled\":\"NeumorphismButton_Disabled__3xpGV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatPrev\":\"UserPrev_ChatPrev__2Fkpd\",\"ProfilePic\":\"UserPrev_ProfilePic__3_nZY\",\"Link\":\"UserPrev_Link__2yoHm\",\"Active\":\"UserPrev_Active__3CTz3\",\"Preview\":\"UserPrev_Preview__28pMt\",\"Info\":\"UserPrev_Info__2DeeM\",\"Name\":\"UserPrev_Name__21Zdo\",\"ConnectorUp\":\"UserPrev_ConnectorUp__OHqYY\",\"ConnectorDown\":\"UserPrev_ConnectorDown__3dfXw\",\"Notifiaction\":\"UserPrev_Notifiaction__oO-da\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"DropModal_Modal__izsVc\",\"SearchContainer\":\"DropModal_SearchContainer__3meeK\",\"SearchInput\":\"DropModal_SearchInput__1qIWA\",\"SearchIcon\":\"DropModal_SearchIcon__BxKrh\",\"ScrollContainer\":\"DropModal_ScrollContainer__2Un2N\",\"LoaderContainer\":\"DropModal_LoaderContainer__2155I\",\"Spinner\":\"DropModal_Spinner__1SZUx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MenuScreen\":\"MenuScreen_MenuScreen__37x6c\",\"left\":\"MenuScreen_left__2KbP-\",\"right\":\"MenuScreen_right__16duB\",\"LogoutText\":\"MenuScreen_LogoutText__2aVtF\",\"CheckboxText\":\"MenuScreen_CheckboxText__3QIIk\",\"CheckboxContainer\":\"MenuScreen_CheckboxContainer__AE6qE\",\"Dropzone\":\"MenuScreen_Dropzone__2vjFT\",\"ProfilePicPlaceholder\":\"MenuScreen_ProfilePicPlaceholder__1GWyr\",\"ProfilePic\":\"MenuScreen_ProfilePic__2iQ_F\",\"BackButton\":\"MenuScreen_BackButton__1q91L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"Content_Content__3juYp\",\"ContentContainer\":\"Content_ContentContainer__3CNVh\",\"Spinner\":\"Content_Spinner__27jW_\",\"Meme\":\"Content_Meme__1e2JB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentSection\":\"CommentSection_CommentSection__g3AjZ\",\"hidden\":\"CommentSection_hidden__2qlkD\",\"comments\":\"CommentSection_comments__2KHFw\",\"ShowMoreComments\":\"CommentSection_ShowMoreComments__3-Tdf\",\"NeuMorphism\":\"CommentSection_NeuMorphism__1Nepv\",\"Spinner\":\"CommentSection_Spinner__2zJe0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PrimaryButton\":\"PrimaryButton_PrimaryButton__2q7QZ\",\"PrimaryButtonFlat\":\"PrimaryButton_PrimaryButtonFlat__36rlY\",\"PrimaryButtonNeumorphism\":\"PrimaryButton_PrimaryButtonNeumorphism__Gt2M2\",\"Disabled\":\"PrimaryButton_Disabled__1O0bV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatInput\":\"ChatForm_ChatInput__1kLXn\",\"TextareaContainer\":\"ChatForm_TextareaContainer__22FgX\",\"Textarea\":\"ChatForm_Textarea__EcqJR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Element\":\"Element_Element__3cgSw\",\"highlight\":\"Element_highlight__32Nsz\",\"Image\":\"Element_Image__2dEuO\",\"Rect\":\"Element_Rect__121rk\",\"text\":\"Element_text__mgt81\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Source\":\"Source_Source__2tzeb\",\"Header\":\"Source_Header__ID_zx\",\"Link\":\"Source_Link__2KUn5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Creator\":\"Creator_Creator__12J2i\",\"Content\":\"Creator_Content__38q3Z\",\"Blinking\":\"Creator_Blinking__3a5Xa\",\"blinker\":\"Creator_blinker__u2hUA\",\"OutLeft\":\"Creator_OutLeft__1ttKS\",\"OutLeftLeft\":\"Creator_OutLeftLeft__2SQ0t\",\"SendingWrapper\":\"Creator_SendingWrapper__cUrbo\",\"Form\":\"Creator_Form__2GT40\",\"SendButton\":\"Creator_SendButton__pJL7m\",\"ErrorMessage\":\"Creator_ErrorMessage__1iWUe\",\"Checkmark\":\"Creator_Checkmark__20ycc\",\"Spinner\":\"Creator_Spinner__dq7fA\",\"Sending\":\"Creator_Sending__3AyYF\",\"Disabled\":\"Creator_Disabled__sZMz-\",\"TakTakTak\":\"Creator_TakTakTak__3tHwA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selected\":\"Branches_selected__69WnF\",\"Root\":\"Branches_Root__VPCsi\"};","module.exports = __webpack_public_path__ + \"static/media/Boat.3dbd1766.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"HL\":\"Line_HL__3cneY\",\"VL\":\"Line_VL__327lv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MenuItem\":\"MenuItem_MenuItem__7Q6zk\",\"Invalid\":\"MenuItem_Invalid__vbVHW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Feedback\":\"Feedback_Feedback__OO24w\",\"Link\":\"Feedback_Link__2Kk4p\"};","module.exports = __webpack_public_path__ + \"static/media/TrashOpen.72dbd9cc.svg\";","module.exports = __webpack_public_path__ + \"static/media/TrashClosed.031e471e.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AuthorPic\":\"AuthorPic_AuthorPic__1aedT\",\"NeuMorphism\":\"AuthorPic_NeuMorphism__2A3xt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__3j6VK\"};","module.exports = __webpack_public_path__ + \"static/media/RiverWhite.be3b1447.svg\";","module.exports = __webpack_public_path__ + \"static/media/river.8e9135cd.svg\";","module.exports = __webpack_public_path__ + \"static/media/RiverGlow.af772977.svg\";","module.exports = __webpack_public_path__ + \"static/media/Connector.40fb2d2c.svg\";","module.exports = __webpack_public_path__ + \"static/media/stupidfuckingface.68ec9ee5.jpeg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SelectionFrame\":\"SelectionFrame_SelectionFrame__1CYUc\"};","module.exports = __webpack_public_path__ + \"static/media/Washington.85b39daf.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/Washington_Monument.e6445e71.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/taktaktak.ef08bdad.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ProfilePicPlaceholder.571b6741.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout.1120a8e8.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"draggingOverlay\":\"ImageDragNDrop_draggingOverlay__1-Q8_\"};","module.exports = __webpack_public_path__ + \"static/media/ChrisDrunk.7d51e42e.jpg\";","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowBack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 20,\n    viewBox: \"0 0 12 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.835 1.87001L10.055 0.100006L0.165039 10L10.065 19.9L11.835 18.13L3.70504 10L11.835 1.87001Z\",\n    fill: \"#ffffff\",\n    fillOpacity: 0.44\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowBack);\nexport default __webpack_public_path__ + \"static/media/arrow_back.eaea21b2.svg\";\nexport { ForwardRef as ReactComponent };","import * as actionTypes from './actionTypes';\n\nexport const goDark = () => {\n    return {\n        type: actionTypes.GO_DARK\n    }\n}\n\nexport const goLight = () => {\n    return {\n        type: actionTypes.GO_LIGHT\n    }\n}\n\nexport const switchTab = (tab) => {\n    return {\n        type: actionTypes.SWITCH_TAB,\n        tab: tab\n    }\n}\n\nexport const openDropModal = () => {\n    return {\n        type: actionTypes.OPEN_DROP_MODAL\n    }\n}\n\nexport const closeDropModal = () => {\n    return {\n        type: actionTypes.CLOSE_DROP_MODAL\n    }\n}\n\nexport const openMenu = () => {\n    return {\n        type: actionTypes.OPEN_MENU\n    }\n}\n\nexport const closeMenu = () => {\n    return {\n        type: actionTypes.CLOSE_MENU\n    }\n}\n\nexport const openBackdrop = (zIndex) => {\n    return {\n        type: actionTypes.OPEN_BACKDROP,\n        zIndex: zIndex\n    }\n}\n\nexport const closeBackdrop = () => {\n    return {\n        type: actionTypes.CLOSE_BACKDROP\n    }\n}\n\nexport const closeNewChatModal = () => {\n    return {\n        type: actionTypes.CLOSE_NEW_CHAT_MODAL\n    }\n}\n\nexport const openNewChatModal = () => {\n    return {\n        type: actionTypes.OPEN_NEW_CHAT_MODAL\n    }\n}\n\nexport const setWindowWidth = (width) => {\n    return {\n        type: actionTypes.SET_WINDOW_WIDTH,\n        width\n    }\n}\n\nexport const openSignup = () => {\n    return {\n        type: actionTypes.OPEN_SIGNUP\n    }\n}\n\nexport const openLogin = () => {\n    return {\n        type: actionTypes.OPEN_LOGIN\n    }\n}\n\nexport const setUIStateonLogin = () => {\n    return {\n        type: actionTypes.SET_UI_STATE_ON_LOGIN\n    }\n}\n\nexport const setUIStateonLogout = () => {\n    return {\n        type: actionTypes.SET_UI_STATE_ON_LOGOUT\n    }\n}\n\nexport const addToMenuStack = (next) => {\n    return {\n        type: actionTypes.ADD_TO_MENU_STACK, \n        next\n    }\n}\n\nexport const popFromMenuStack = () => {\n    return {\n        type: actionTypes.POP_FROM_MENU_STACK\n    }\n}\n\nexport const moveRight = () => {\n    return {\n        type: actionTypes.MOVE_MENU_RIGHT\n    }\n}","\n// UI \n    export const GO_DARK = 'GO_DARK';\n    export const GO_LIGHT = 'GO_LIGHT';\n\n    export const SWITCH_TAB = 'SWITCH_TAB';\n\n    export const OPEN_DROP_MODAL = 'OPEN_DROP_MODAL';\n    export const CLOSE_DROP_MODAL = 'CLOSE_DROP_MODAL';\n\n    export const OPEN_MENU = 'OPEN_MENU';\n    export const CLOSE_MENU = 'CLOSE_MENU';\n\n    export const OPEN_AUTH = 'OPEN_AUTH';\n    export const CLOSE_AUTH = 'CLOSE_AUTH';\n\n    export const OPEN_BACKDROP = 'OPEN_BACKDROP';\n    export const CLOSE_BACKDROP = 'CLOSE_BACKDROP';\n\n    export const OPEN_NEW_CHAT_MODAL = 'OPEN_NEW_CHAT_MODAL';\n    export const CLOSE_NEW_CHAT_MODAL = 'CLOSE_NEW_CHAT_MODAL';\n\n    export const SET_WINDOW_WIDTH = 'SET_WINDOW_WIDTH';\n\n    export const OPEN_SIGNUP = 'OPEN_SIGNUP';\n    export const OPEN_LOGIN = 'OPEN_LOGIN';\n\n    export const SET_UI_STATE_ON_LOGIN = 'SET_UI_STATE_ON_LOGIN';\n    export const SET_UI_STATE_ON_LOGOUT = 'SET_UI_STATE_ON_LOGOUT';\n\n    export const ADD_TO_MENU_STACK = 'ADD_TO_MENU_STACK';\n    export const POP_FROM_MENU_STACK = 'POP_FROM_MENU_STACK'; \n    export const MOVE_MENU_RIGHT = 'MOVE_MENU_RIGHT';\n\n// USER\n\n    export const SET_ANONYMOUS_ID = 'SET_ANONYMOUS_ID'; \n\n    export const MESSAGES_READ_START = 'MESSAGES_READ_START';\n    export const MESSAGES_READ_SUCCESS = 'MESSAGES_READ_SUCCESS'; \n    export const MESSAGES_READ_FAILED = 'MESSAGES_READ_FAILED';\n\n    export const LOGIN_START = 'LOGIN_START';\n    export const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\n    export const LOGIN_FAIL = 'AUTH_FAIL';\n\n    export const SIGNUP_START = 'SIGNUP_START';\n    export const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS';\n    export const SIGNUP_FAIL ='SIGNUP_FAIL';\n\n    export const CHECK_EMAIL_TAKEN_START = 'CHECK_EMAIL_TAKEN_START';\n    export const CHECK_EMAIL_TAKEN_SUCCESS = 'CHECK_EMAIL_TAKEN_SUCCESS';\n    export const CHECK_EMAIL_TAKEN_FAILED = 'CHECK_EMAIL_TAKEN_FAILED';\n    export const EMAIL_ALREADY_TAKEN = 'EMAIL_ALREADY_TAKEN'; \n\n    export const CHECK_HANDLE_TAKEN_START = 'CHECK_HANDLE_TAKEN_START';\n    export const CHECK_HANDLE_TAKEN_SUCCESS = 'CHECK_HANDLE_TAKEN_SUCCESS';\n    export const CHECK_HANDLE_TAKEN_FAILED = 'CHECK_HANDLE_TAKEN_FAILED';\n    export const HANDLE_ALREADY_TAKEN = 'HANDLE_ALREADY_TAKEN';\n\n    export const SIGNUP = 'SIGNUP';\n    export const LOGOUT = 'LOGOUT';\n    export const CHECK_EMAIL = 'CHECK_EMAIL';\n    export const CHECK_HANDLE = 'CHECK_HANDLE';\n\n    export const REMOVE_CHAT_NOTIFICATIONS = 'REMOVE_CHAT_NOTIFICATIONS';\n    export const UPDATE_NOTIFICATIONS = 'UPDATE_NOTIFICATIONS';\n\n    export const SUBSCRIBE_EMAIL_LIST_START = 'SUBSCRIBE_EMAIL_LIST_SUCCESS';\n    export const SUBSCRIBE_EMAIL_LIST_SUCCESS = 'SUBSCRIBE_EMAIL_LIST_SUCCESS';\n    export const SUBSCRIBE_EMAIL_LIST_FAILED = 'SUBSCRIBE_EMAIL_LIST_FAILED'; \n\n    export const DELETE_NOTIFICATION_START = 'DELETE_NOTIFICATION_START';\n    export const DELETE_NOTIFICATION_SUCCESS = 'DELETE_NOTIFICATION_SUCCESS';\n    export const DELETE_NOTIFICATION_FAILED = 'DELETE_NOTIFICATION_FAILED';\n\n    export const ADD_MESSAGE_TO_BUFFER = 'ADD_MESSAGE_TO_BUFFER';\n\n    export const SEND_MESSAGE_FROM_BUFFER_START = 'SEND_MESSAGE_FROM_BUFFER_START';\n    export const SEND_MESSAGE_FROM_BUFFER_SUCCESS = 'SEND_MESSAGE_FROM_BUFFER_SUCCESS';\n    export const SEND_MESSAGE_FROM_BUFFER_FAILED = 'SEND_MESSAGE_FROM_BUFFER_FAILED';\n\n\n// STREAM\n    export const SCROLL_START = 'SCROLL_START';\n    export const SCROLL_SUCCESS = 'SCROLL_SUCCESS';\n    export const SCROLL_FAILED = 'SCROLL_FAILED';\n    \n    export const SELECT_DROPTARGET = 'SELECT_DROPTARGET';\n    export const UNSELECT_DROPTARGET = 'UNSELECT_DROPTARGET';\n    export const RESET_DROP_TARGETS = 'RESET_DROP_TARGETS';\n\n    export const SEND_COMMENT_START = 'SEND_COMMENT_START';\n    export const SEND_COMMENT_SUCCESS = 'SEND_COMMENT_SUCCESS';\n    export const SEND_COMMENT_FAILED = 'SEND_COMMENT_FAILED';\n\n    export const SEND_SUBCOMMENT_START = 'SEND_SUBCOMMENT_START'; \n    export const SEND_SUBCOMMENT_SUCCESS = 'SEND_SUBCOMMENT_SUCCESS'; \n    export const SEND_SUBCOMMENT_FAILED = 'SEND_SUBCOMMENT_FAILED';\n\n    export const ADD_SUBCOMMENT = 'ADD_SUBCOMMENT';\n    export const DELETE_COMMENT = 'DELETE_COMMENT';\n    export const SELECT_COMMENT = 'SELECT_COMMENT';\n    export const UNSELECT_COMMENT = 'UNSELECT_COMMENT';\n\n    export const FETCH_IDS_START = 'FETCH_IDS_START';\n    export const SET_IDS = 'SET_IDS';\n    export const FETCH_IDS_FAILED = 'FETCH_IDS_FAILED';\n\n    export const FETCH_DROP_START = 'FETCH_DROP_START';\n    export const FETCH_DROP_SUCCESS = 'FETCH_DROP_SUCCESS';\n    export const FETCH_DROP_FAILED = 'FETCH_DROP_FAILED';\n    \n    export const FETCH_DROPS_START = 'FETCH_DROPS_START';\n    export const FETCH_DROPS_FAILED = 'FETCH_DROPS_FAILED';\n    export const SET_DROPS = 'SET_DROPS';\n    export const SET_DROP = 'SET_DROP';\n\n    // export const SET_COMMENTS = 'SET_COMMENTS';\n    // export const FETCH_COMMENTS_FAILED = 'FETCH_COMMENTS_FAILED';\n    export const MEME_LOADED = 'MEME_LOADED';\n    export const COMMENT_SAVED ='COMMENT_SAVED';\n    export const POST_COMMENT_FAILED = 'POST_COMMENT_FAILED';\n    export const SELECT_SUBCOMMENT = 'SELECT_SUBCOMMENT';\n    export const UNSELECT_SUBCOMMENT = 'UNSELECT_SUBCOMMENT';\n    export const SET_DROPS_NOT_LOADED = 'SET_DROPS_NOT_LOADED';\n\n    export const DELETE_COMMENT_START = 'DELETE_COMMENT_START';\n    export const DELETE_COMMENT_SUCCESS = 'DELETE_COMMENT_SUCCESS';\n    export const DELETE_COMMENT_FAILED = 'DELTE_COMMENT_FAILED';\n\n    export const FETCH_MEME_START = 'FETCH_MEME_START';\n    export const FETCH_MEME_SUCCESS = 'FETCH_MEME_SUCCESS';\n    export const FETCH_MEME_FAILED = 'FETCH_MEME_FAILED';\n\n    export const SET_MOUSE_OVER_COMMENTS = 'MOUSE_OVER_COMMENTS';\n\n\n// CHAT\n    export const ADD_NEW_USERS = 'ADD_NEW_USERS';\n    export const SET_CHAT_STATE_ON_LOGIN ='SET_CHAT_STATE_ON_LOGIN';\n    export const CHANGE_CHAT = 'CHANGE_CHAT';\n    export const SET_CHAT_FORM_HEIGHT = 'SET_CHAT_FORM_HEIGHT';\n    export const SET_CHAT_INPUT = 'SET_CHAT_INPUT';\n    export const SAVE_CHAT_INPUT = 'SAVE_CHAT_INPUT'; \n    export const FETCH_ALL_USERS_START = 'FETCH_ALL_USERS_START';\n    export const FETCH_ALL_USERS_FAILED = 'FETCH_ALL_USERS_FALIED';\n    export const FETCH_ALL_USERS_SUCCESS = 'FETCH_ALL_USERS_SUCCESS';\n    export const CHANGE_FORM_HEIGHT = 'CHANGE_FORM_HEIGHT';\n    export const CREATE_DUMMY_CHAT = 'CREATE_DUMMY_CHAT';\n    export const CHANGE_CHAT_INPUT = 'CHANGE_CHAT_INPUT';\n    export const OPEN_CHRIS_CHAT = 'OPEN_CHRIS_CHAT'; \n\n    export const SEND_NEW_CHAT_START = 'SEND_NEW_CHAT_START';\n    export const SEND_NEW_CHAT_SUCCESS = 'SEND_NEW_CHAT_SUCCESS'\n    export const SEND_NEW_CHAT_FAILED = 'SEND_NEW_CHAT_FAILED';\n\n    export const SEND_MESSAGE_START = 'SEND_MESSAGE_START';\n    export const SEND_MESSAGE_SUCCESS = 'SEND_MESSAGE_SUCCESS';\n    export const SEND_MESSAGE_FAILED = 'SEND_MESSAGE_FAILED';\n\n    export const SEND_DROP_START = 'SEND_DROP_START';\n    export const SEND_DROP_SUCCESS = 'SEND_DROP_SUCCESS';\n    export const SEND_DROP_FAILED = 'SEND_DROP_FAILED';\n\n    export const FETCH_FRIENDS_START = 'FETCH_FRIENDS_START';\n    export const FETCH_FRIENDS_SUCCESS = 'FETCH_FRIENDS_SUCCESS';\n    export const FETCH_FRIENDS_FAILED = 'FETCH_FRIENDS_FAILED'; \n\n    export const FETCH_FIREND_REQUESTS_START = 'FETCH_FRIEND_REQUESTS_START';    \n    export const FETCH_FIREND_REQUESTS_SUCCESS = 'FETCH_FRIEND_REQUESTS_SUCCESS';    \n    export const FETCH_FIREND_REQUESTS_FAILED = 'FETCH_FRIEND_REQUESTS_FAILED';    \n\n    export const SEND_FRIEND_REQUEST_START = 'SEND_FRIEND_REQUEST_START';\n    export const SEND_FRIEND_REQUEST_SUCCESS = 'SEND_FRIEND_REQUEST_SUCCESS';\n    export const SEND_FRIEND_REQUEST_FAILED = 'SEND_FRIEND_REQUEST_FAILED';\n\n    export const ACCEPT_FRIEND_REQUEST_START = 'ACCEPT_FRIEND_REQUEST_START';\n    export const ACCEPT_FRIEND_REQUEST_SUCCESS = 'ACCEPT_FRIEND_REQUEST_SUCCESS';\n    export const ACCEPT_FRIEND_REQUEST_FAILED = 'ACCEPT_FRIEND_REQUEST_FAILED';\n\n    export const FETCH_CHAT_START = 'FETCH_CHAT_START';\n    export const FETCH_CHAT_SUCCESS = 'FETCH_CHAT_SUCCESS';\n    export const FETCH_CHAT_FAILED = 'FETCH_CHAT_FALIED';\n\n    export const FETCH_CHATS_START = 'FETCH_CHATS_START';\n    export const FETCH_CHATS_SUCCESS = 'FETCH_CHATS_SUCCESS';\n    export const FETCH_CHATS_FAILED = 'FETCH_CHATS_FAILED';\n\n    export const FETCH_NEW_MESSAGES_START = 'FETCH_NEW_MESSAGES_START';\n    export const FETCH_NEW_MESSAGES_SUCCESS = 'FETCH_NEW_MESSAGES_SUCCESS';\n    export const FETCH_NEW_MESSAGES_FAILED = 'FETCH_NEW_MESSAGES_FAILED';\n\n    export const SEND_FIRST_MESSAGE_NEW_CHAT_START = 'SEND_FIRST_MESSAGE_NEW_CHAT_START'; \n    export const SEND_FIRST_MESSAGE_NEW_CHAT_SUCCESS = 'SEND_FIRST_MESSAGE_NEW_CHAT_SUCCESS'; \n    export const SEND_FIRST_MESSAGE_NEW_CHAT_FAILED = 'SEND_FIRST_MESSAGE_NEW_CHAT_FAILED'; \n    \n    export const CHANGE_SHOULD_DELETE_INPUT = 'CHANGE_SHOULD_DELETE_INPUT';\n    export const CHECK_AND_ADD_NEW_MESSAGES = 'CHECK_AND_ADD_NEW_MESSAGES';\n\n    export const FETCH_NEW_CHAT_START = 'FETCH_NEW_CHAT_START';\n    export const FETCH_NEW_CHAT_SUCCESS = 'FETCH_NEW_CHAT_SUCCESS';\n    export const FETCH_NEW_CHAT_FAILED = 'FETCH_NEW_CHAT_FAILED';\n","import axios from 'axios';\n\nimport { closeNewChatModal } from './UIActions'\n\n\nimport * as actionTypes from '../actions/actionTypes';\n\nexport const setChatStateOnLogin = (userdata) => {\n    return {\n        type: actionTypes.SET_CHAT_STATE_ON_LOGIN,\n        userdata\n    }\n}\n\n//--------- FETCH CHAT -----------------------------------------\n\nexport const fetchChat = (chatId, token) => {\n    return dispatch => {\n        dispatch(fetchChatStart())\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.get(`/api/chat/${chatId}`, headers)\n        .then(response => {\n            console.log(response);\n            dispatch(fetchChatSuccess(response.data.chat))\n        }).catch(err => {\n            console.log(err)\n            dispatch(fetchChatFailed())\n        })\n    }\n}\n\nexport const fetchChatStart = () => {\n    return {\n        type: actionTypes.FETCH_CHAT_START,\n    }\n}\n\nexport const fetchChatSuccess = () => {\n    return {\n        type: actionTypes.FETCH_CHAT_SUCCESS,\n    }\n}\n\nexport const fetchChatFailed = () => {\n    return {\n        type: actionTypes.FETCH_CHAT_FAILED,\n    }\n}\n\n//--------- FETCH CHATS -----------------------------------------\n\nexport const fetchChats = (token, userId) => {\n    return dispatch => {\n        dispatch(fetchChatsStart())\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.get(`/api/chat/chats`, headers)\n        .then(response => {\n            dispatch(fetchChatsSuccess(response.data, userId))\n        }).catch(err => {\n            console.log(err)\n            dispatch(fetchChatsFailed())\n        })\n    }\n}\n\nexport const fetchChatsStart = () => {\n    return {\n        type: actionTypes.FETCH_CHATS_START,\n    }\n}\n\nexport const fetchChatsSuccess = (chats, userId) => {\n    return {\n        type: actionTypes.FETCH_CHATS_SUCCESS,\n        chats, \n        userId\n    }\n}\n\nexport const fetchChatsFailed = () => {\n    return {\n        type: actionTypes.FETCH_CHATS_FAILED,\n    }\n}\n\n//--------- FETCH FRIENDS ----------------------------------------------------------\n\nexport const fetchFriends = (ids, token) => {\n    return dispatch => {\n        dispatch(fetchFriendsStart());\n        const body = { userIds: ids }\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.post('/api/users/userdata', body, headers)\n        .then(response => {\n            dispatch(addNewUsers(response.data));\n            dispatch(fetchFriendsSuccess(response.data));\n        }).catch(err => {\n            dispatch(fetchFriendsFailed(err))\n        })\n    }\n}\n\nexport const fetchFriendsStart = () => {\n    return {\n        type: actionTypes.FETCH_FRIENDS_START,\n    }\n}\n\nexport const fetchFriendsSuccess = (friends) => {\n    return {\n        type: actionTypes.FETCH_FRIENDS_SUCCESS,\n        friends\n    }\n}\n\nexport const fetchFriendsFailed = () => {\n    return {\n        type: actionTypes.FETCH_IDS_FAILED\n    }\n}\n\n//--------- FETCH ALL USERS ---------------------------------------------------\n\nexport const fetchAllUsers = () => {\n    return dispatch => {\n        dispatch(fetchAllUsersStart());\n        axios.get('/api/users')\n        .then(response => {\n            dispatch(addNewUsers(response.data));\n            dispatch(fetchAllUsersSuccess(response.data))\n        }).catch(err => {\n            console.log(err);\n            dispatch(fetchAllUsersFailed())\n        })\n    }\n}\n\nexport const fetchAllUsersStart = () => {\n    return {\n        type: actionTypes.FETCH_ALL_USERS_START,\n    }\n}\n\nexport const fetchAllUsersSuccess = (users) => {\n    return {\n        type: actionTypes.FETCH_ALL_USERS_SUCCESS,\n        users, \n    }\n}\n\nexport const fetchAllUsersFailed = () => {\n    return {\n        type: actionTypes.FETCH_ALL_USERS_FAILED\n    }\n}\n\n//--------- SEND MESSAGE -------------------------------------------------------\n\nexport const sendTextMessage = (chatId, text, userId) => {\n    return dispatch => {\n        const randId = `${Date.now()}`;\n        dispatch(sendMessageStart(chatId, text, randId, userId));\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const url = `/api/chat/${chatId}/textMessage`;\n        const body = { \n            type: 'text',\n            message: { text }\n        };\n        axios.post(url, body, headers)\n        .then(response => {\n            dispatch(sendMessageSuccess(chatId, response.data, randId));\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch(sendMessageFailed(chatId, randId))\n        })\n    }\n}\n\nexport const sendMessageStart = (chatId, text, randId, userId) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_START,\n        chatId, \n        text, \n        randId,\n        userId\n    }\n}\n\nexport const sendMessageSuccess = (chatId, message, randId) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_SUCCESS,\n        chatId,\n        message, \n        randId\n    }\n}\n\nexport const sendMessageFailed = (chatId, randId) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_FAILED,\n        chatId,\n        randId\n    }\n}\n\nexport const addMessageToBuffer = (dummyChatId, text, userId) => {\n    return {\n        type: actionTypes.ADD_MESSAGE_TO_BUFFER, \n        dummyChatId, \n        dummyMessageId: `${Date.now()}`,\n        text, \n        userId,\n    }\n}\n\nexport const sendMessageFromBuffer = (id, chatId, dummyMessageId, text) => {\n    return dispatch => {    \n        dispatch(sendMessageFromBufferStart(id));\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const url = `/api/chat/${chatId}/textMessage`;\n        const body = { \n            type: 'text',\n            message: { text }\n        };\n        axios.post(url, body, headers)\n        .then(response => {\n            dispatch(sendMessageFromBufferSuccess(id, response.data));\n        }).catch(err => {\n            dispatch(sendMessageFromBufferFailed(id))\n        })\n    }\n}\n\nexport const sendMessageFromBufferStart = (id) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_FROM_BUFFER_START,\n        id\n    }\n}\n\nexport const sendMessageFromBufferSuccess = (id, response) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_FROM_BUFFER_SUCCESS,\n        id, \n        response\n    }\n}\n\nexport const sendMessageFromBufferFailed = (id) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_FROM_BUFFER_FAILED,\n        id\n    }\n}\n\n//--------- SEND MESSAGES -------------------------------------------------\n\nexport const sendDropStart = (chatIds, message) => {\n    return {\n        type: actionTypes.SEND_DROP_START,\n        chatIds, \n        message\n    }\n}\n\nexport const sendDropSuccess = (messageReplacements, chatReplacements, randId) => {\n    return {\n        type: actionTypes.SEND_DROP_SUCCESS,\n        messageReplacements,\n        chatReplacements,\n        randId\n    }\n}\n\nexport const sendDropFailed = () => {\n    return {\n        type: actionTypes.SEND_DROP_FAILED, \n\n    }\n}\n\n\n//--------- SEND FIRST MESSAGE IN NEW CHAT --------------------------------\n\nexport const sendFirstMessageNewChat = (dummyChatId, self, chatPartner, text) => {\n    return dispatch => {\n        const randId = Date.now();\n        dispatch(sendFirstMessageNewChatStart(dummyChatId, randId, text, self));\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const body = {\n             members: [self.userId, chatPartner.userId],\n            message: text\n        }\n        axios.post('/api/chat', body, headers)\n        .then(res => {\n            console.log(res.data);\n            dispatch(sendFirstMessageNewChatSuccess(dummyChatId, randId, res.data, self, chatPartner))\n        }).catch(err => {\n            console.log(\"FIRST MESSAGE NEW CAHT ERROR\");\n            console.log(err);\n            dispatch(sendFirstMessageNewChatFailed())\n        })\n    }\n}\n\nexport const sendFirstMessageNewChatStart = (dummyChatId, randId, message, self) => {\n    return {\n        type: actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_START,\n        dummyChatId,\n        randId,\n        message,\n        self,\n    }\n}\n\nexport const sendFirstMessageNewChatSuccess = (dummyChatId, randId, createdChat, self, chatPartner) => {\n    return {\n        type: actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_SUCCESS,\n        dummyChatId,\n        randId,\n        createdChat,\n        self,\n        chatPartner\n    }\n}\n\nexport const sendFirstMessageNewChatFailed = () => {\n    return {\n        type: actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_FAILED,\n    }\n}\n\n\n//--------- SEND FRIEND REQUEST -------------------------------------------\n\nexport const sendFriendRequest = (user) => {\n    return dispatch => {\n        console.log(\"Sending Friend Request\");\n        dispatch(sendFriendRequestStart(user))\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.post('/api/users/addFriend', { friendId: user.userId }, headers)\n        .then(res => {\n            dispatch(sendFriendRequestSuccess(user, res.data.chat));\n        }).catch(err => {\n            console.log(err)\n            dispatch(sendFriendRequestFailed(user))\n        })\n    }\n}\n\nexport const sendFriendRequestStart = (user) => {\n    return {\n        type: actionTypes.SEND_FRIEND_REQUEST_START,\n        user\n    }\n}\n\nexport const sendFriendRequestSuccess = (user, chat) => {\n    return {\n        type: actionTypes.SEND_FRIEND_REQUEST_SUCCESS,\n        user,\n        chat\n    }\n}\n\nexport const sendFriendRequestFailed = (user) => {\n    return {\n        type: actionTypes.SEND_FRIEND_REQUEST_FAILED,\n        user\n    }\n}\n\n//--------- ACCEPT FIREND REQUEST -----------------------------------------\n\nexport const acceptFriendRequest = (user, existingChatId) => {\n    return dispatch => {\n        dispatch(acceptFriendRequestStart(user));\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const body = { \n            friendId: user.userId,\n            existingChatId\n        };\n        axios.post('/api/users/acceptFriendRequest', body, headers)\n        .then(res => {\n            dispatch(acceptFriendRequestSuccess(res.data.friend, res.data.chat, existingChatId))\n        }).catch(err => {\n            console.log(err)\n            dispatch(acceptFriendRequestFailed(user))\n        })\n    }\n}\n\nexport const acceptFriendRequestStart = (user) => {\n    return {\n        type: actionTypes.ACCEPT_FRIEND_REQUEST_START,\n        user\n    }\n}\n\nexport const acceptFriendRequestSuccess = (friend, chat) => {\n    return {\n        type: actionTypes.ACCEPT_FRIEND_REQUEST_SUCCESS,\n        friend, \n        chat\n    }\n}\n\nexport const acceptFriendRequestFailed = (user) => {\n    return {\n        type: actionTypes.ACCEPT_FRIEND_REQUEST_FAILED,\n        user\n    }\n}\n\n//---- CHAT FORM INPUT ----------------------------------------------------\n\nexport const saveChatInput = (chatId, value) => {\n    return {\n        type: actionTypes.SAVE_CHAT_INPUT,\n        chatId,\n        value\n    }\n}\n\nexport const setChatFormHeight = (height) => {\n    return {\n        type: actionTypes.SET_CHAT_FORM_HEIGHT,\n        height\n    }\n}\n\nexport const setChatInput = (value) => {\n    return {\n        type: actionTypes.SET_CHAT_INPUT,\n        value\n    }\n}\n\nexport const changeFormHeight = (height) => {\n    return {\n        type: actionTypes.CHANGE_FORM_HEIGHT,\n        height\n    }\n}\n\nexport const chatInputChangeHandler = (value) => {\n    return {\n        type: actionTypes.CHANGE_CHAT_INPUT,\n        value\n    }\n}\n\n\n//--------- NEW CHAT -----------------------------------------------------------\n\n// export const sendNewChat = (friendId, message) => {\n//     return dispatch => {\n//         dispatch(sendNewChatStart());\n//         const body = {\n//             group: false,\n//             members: [friendId],\n//             message: message\n//         };\n//         const token = localStorage.getItem('token');\n//         const headers = { headers: { authorization: `Bearer ${token}` } }  \n//         axios.post('api/chat', body, headers)\n//         .then(res => {\n//             dispatch(sendNewChatSuccess());\n//         }).catch(err => {\n//             dispatch(sendNewChatFailed());\n//             console.log(err)\n//         })\n//     }\n// }\n\n// export const sendNewChatStart = () => {\n//     return {\n//         type: actionTypes.SEND_NEW_CHAT_START,\n//     }\n// }\n\n// export const sendNewChatSuccess = () => {\n//     return {\n//         type: actionTypes.SEND_MESSAGE_SUCCESS,\n//     }\n// }\n\n// export const sendNewChatFailed = () => {\n//     return {\n//         type: actionTypes.SEND_NEW_CHAT_FAILED,\n//     }\n// }\n\n//--------- ADD DUMMY CAHT -----------------------------------------------------\n\nexport const newChat = (chatId, chatPartner, self) => {\n    return dispatch => {\n        if(chatId){\n            dispatch(changeChat(chatId));\n            document.getElementById('chatForm').focus();\n        } else {\n            dispatch(createDummyChat(chatPartner, self));\n        }\n        dispatch(closeNewChatModal())\n    }\n}\n\nexport const changeChat = (chatId) => {\n    localStorage.setItem('currentChatId', chatId);\n    return {\n        type: actionTypes.CHANGE_CHAT,\n        chatId, \n    }\n}\n\nexport const createDummyChat = (chatPartner, self) => {\n    const dummyChatId = 'dummy' + chatPartner.userId\n    localStorage.setItem('currentChatId', dummyChatId);\n    return {\n        type: actionTypes.CREATE_DUMMY_CHAT,\n        chatPartner, \n        self\n    }\n}\n\n\n\n//--------- RESET CHAT -----------------------------------------------------\n\n\nexport const addNewUsers = (users) => {\n    return {\n        type: actionTypes.ADD_NEW_USERS,\n        users\n    }\n}\n\n\n//--------- FETCH NEW MESSAGES -----------------------------------------------------\n\nexport const fetchNewMessages = () => {\n    return dispatch => {\n        dispatch(fetchNewMessagesStart());\n        axios.get()\n        .then(res => {\n            dispatch(fetchNewMessagesSuccess());\n        }).catch(err => {\n            dispatch(fetchNewMessagesFailed());\n        })\n    }\n}\n\nexport const fetchNewMessagesStart = () => {\n    return {\n        type: actionTypes.FETCH_NEW_MESSAGES_START,\n    }\n}\n\nexport const fetchNewMessagesSuccess = () => {\n    return {\n        type: actionTypes.FETCH_NEW_MESSAGES_SUCCESS,\n    }\n}\n\nexport const fetchNewMessagesFailed = () => {\n    return {\n        type: actionTypes.FETCH_NEW_MESSAGES_FAILED,\n    }\n}\n\n\nexport const checkAndAddNewMessages = (notifications) => {\n    return {\n        type: actionTypes.CHECK_AND_ADD_NEW_MESSAGES, \n        notifications\n    }\n}\n\nexport const fetchNewChatStart = () => {\n    return {\n        type: actionTypes.FETCH_NEW_CHAT_START,\n    }\n}\n\nexport const fetchNewChatSuccess = (chat) => {\n    return {\n        type: actionTypes.FETCH_NEW_CHAT_SUCCESS,\n        chat\n    }\n}\n\nexport const fetchNewChatFailed = () => {\n    return {\n        type: actionTypes.FETCH_NEW_CHAT_FAILED,\n    }\n}\n\nexport const openChrisChat = (self) => {\n    return {\n        type: actionTypes.OPEN_CHRIS_CHAT,\n        self\n    }\n}\n\n","import axios from 'axios';\n\nimport { closeDropModal, switchTab } from './UIActions';\nimport { sendDropStart, sendDropSuccess, sendDropFailed} from './chatActions';\n\nimport * as actionTypes from './actionTypes';\n\n//-------- SWIPE  -----------------------------------------------------------------\n\nexport const scroll = (dropId, anonymousId ) => {\n    return dispatch => {\n        dispatch(scrollStart()); \n        if(!dropId.startsWith('no more')){\n            const url = `/api/drop/${dropId}/swipe`;\n            const token = localStorage.getItem('token');\n            const body = { like: true, anonymousId };\n            const headers = token ? { headers: { authorisation : `Bearer ${token}` } } : null;\n            axios.post(url, body, headers )\n            .then(res => {\n                console.log(res);\n                dispatch(scrollSuccess()); \n            })\n            .catch(err => {\n                console.log(err);\n                dispatch(scrollFailed());\n            })\n        }\n\n    }\n}\n\nexport const scrollStart = () => {\n    return {\n        type: actionTypes.SCROLL_START,\n    }\n}\n\nexport const scrollSuccess = () => {\n    return {\n        type: actionTypes.SCROLL_SUCCESS\n    }\n}\n\nexport const scrollFailed = () => {\n    return {\n        type: actionTypes.SCROLL_FAILED\n    }\n}\n\n//-------- FETCH IDS -----------------------------------------------------------------\n\nexport const fetchIds = (token) => {\n    return dispatch => {\n        dispatch(fetchIdsStart())\n        const headers = token ? { authorization: 'Bearer ' + token } : null\n        axios.get('/api/drop/ids', headers )\n        .then(res => {\n            dispatch(setIds(res.data))\n            dispatch(fetchDrops(res.data))\n        })\n        .catch(err => {\n            dispatch(fetchIdsFailed())\n        })\n    }\n}\n\nexport const fetchIdsStart = () => {\n    return {\n        type: actionTypes.FETCH_IDS_START\n    }\n}\n\nexport const setIds = (ids) => {\n    return {\n        type: actionTypes.SET_IDS,\n        ids: ids\n    }\n}\n\nexport const fetchIdsFailed = () => {\n    return {\n        type: actionTypes.FETCH_IDS_FAILED\n    }\n}\n\n//-------- FETCH DROPS -----------------------------------------------------------------\n\nexport const fetchDrops = (ids) => {\n    return dispatch => {\n        dispatch(fetchDropsStart())\n        const headers = {};\n        const body = { ids: ids }\n        axios.post('/api/drop/drops', body, headers)\n        .then(res => {\n            dispatch(setDrops(res.data))\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch(fetchDropsFailed())\n        })\n    }\n}\n\nexport const fetchDropsStart  = () => {\n    return {\n        type: actionTypes.FETCH_DROPS_START\n    }\n}\n\nexport const setDrops  = (drops) => {\n    return {\n        type: actionTypes.SET_DROPS,\n        drops\n    }\n}\n\nexport const fetchDropsFailed  = (drops) => {\n    return {\n        type: actionTypes.FETCH_DROP_FAILED\n    }\n}\n\n//-------- SELECT COMMENT -------------------------------------------------------------------\n\nexport const selectComment = (commentId, path) => {\n    return {\n        type: actionTypes.SELECT_COMMENT,\n        commentId,\n        path\n    }\n}\n\nexport const unSelectComment = () => {\n    return {\n        type: actionTypes.UNSELECT_COMMENT\n    }\n}\n\nexport const selectSubComment = (commentId, path) => {\n    return {\n        type: actionTypes.SELECT_SUBCOMMENT,\n        commentId,\n        path\n    }\n}\n\nexport const unSelectSubComment = () => {\n    return {\n        type: actionTypes.UNSELECT_SUBCOMMENT,\n    }\n}\n \n//-------- SEND COMMENT -----------------------------------------------------------------\n\nexport const sendComment = ( dropId, comment ) => {\n    return dispatch => {\n        dispatch(sendCommentStart(dropId, comment))\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const url = `/api/drop/${dropId}/comment`;\n        const body = { comment: comment.comment };\n        axios.post(url, body, headers)\n        .then(res => {\n            dispatch(sendCommentSuccess(dropId, comment.id, res.data))\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch(sendCommentFailed(dropId, err))\n        })\n    }\n}\n\nexport const sendCommentStart = (dropId, comment) => {\n    return {\n        type: actionTypes.SEND_COMMENT_START,\n        dropId,\n        comment\n    }\n}\n\nexport const sendCommentSuccess = (dropId, randId, comment) => {\n    return {\n        type: actionTypes.SEND_COMMENT_SUCCESS,\n        dropId, \n        randId,\n        comment\n    }\n}\n\nexport const sendCommentFailed = (dropId, err) => {\n    return {\n        type: actionTypes.SEND_COMMENT_FAILED,\n        dropId, \n        err\n    }\n}   \n\n//-------- SEND SUBCOMMENT -----------------------------------------------------------------\n\n\nexport const sendSubComment = ( dropId, subComment, token ) => {\n    return dispatch => {\n        const commentId = subComment.parentPath.split('/')[0];\n        const randPath = subComment.parentPath + '/' + subComment.id;\n        dispatch(sendSubCommentStart(dropId, subComment));\n        const url = `/api/comment/${commentId}/sub`;\n        const headers = { headers: { authorization: `Bearer ${token}` } };\n        const body = { \n            actualComment: subComment.comment,\n            parentPath: subComment.parentPath\n        };\n        axios.post(url, body, headers)\n        .then(res => {\n            dispatch(sendSubCommentSuccess(dropId, randPath, res.data))\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch(sendSubCommentFailed(dropId, err))\n        })\n    }\n}\n\nexport const sendSubCommentStart = (dropId, subComment) => {\n    return {\n        type: actionTypes.SEND_SUBCOMMENT_START,\n        dropId,\n        subComment\n    }\n}\n\nexport const sendSubCommentSuccess = (dropId, randPath, subComment) => {\n    return {\n        type: actionTypes.SEND_SUBCOMMENT_SUCCESS,\n        dropId,\n        randPath, \n        subComment\n    }\n}\n\nexport const sendSubCommentFailed = (dropId, err) => {\n    return {\n        type: actionTypes.SEND_SUBCOMMENT_FAILED,\n        dropId, \n        err\n    }\n}   \n\n//---------------------------------------------------------------------------------------\n\nexport const setDropsNotLoaded = () => {\n    return {\n        type: actionTypes.SET_DROPS_NOT_LOADED\n    }\n}\n\n//-------- DELETE COMMENT -------------------------------------------------------------------\n\nexport const deleteComment = (dropId, commentId) => {\n    return dispatch => {\n        dispatch(deleteCommentStart(dropId, commentId))\n        const url = `api/comment/${commentId}`\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.delete(url, headers)\n        .then(() => {\n            dispatch(deleteCommentSuccess())\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch(deleteCommentFailed())\n        });\n    }\n}\n\nexport const deleteCommentStart = (dropId, commentId) => {\n    return {\n        type: actionTypes.DELETE_COMMENT_START,\n        dropId,\n        commentId,\n    }\n}\n\nexport const deleteCommentSuccess = () => {\n    return {\n        type: actionTypes.DELETE_COMMENT_SUCCESS,\n    }\n}\n\nexport const deleteCommentFailed = () => {\n    return {\n        type: actionTypes.DELETE_COMMENT_FAILED\n    }\n}\n\n\n// -------- FETCH DROP ----------------------------------------------------------\n\nexport const fetchDrop = (dropId, token) => {\n    return dispatch => {\n        dispatch(fetchDropStart(dropId))\n        if(dropId.startsWith('no')){\n            dispatch(fetchDropSuccess(dropId, { dropId, title: \"\", creatorId: \"6022396f28d69d22509a5d46\", comments: []}))\n        }else{\n            const url = dropId.startsWith('no more') ? 'apidrop/nomore' : `/api/drop/${dropId}`;\n            const headers = token ? { headers: { authorization: `Bearer ${token}` } } : null \n            axios.get(url, headers)\n            .then(res => {\n                dispatch(fetchDropSuccess(dropId, res.data))\n            }).catch(err => {\n                dispatch(fetchDropFailed(dropId))\n            })\n        }\n\n    }\n}\n\nexport const fetchDropStart = (dropId) => {\n    return {\n        type: actionTypes.FETCH_DROP_START,\n        dropId\n    }\n}\n\nexport const fetchDropSuccess = (dropId, drop) => {\n    return {\n        type: actionTypes.FETCH_DROP_SUCCESS,\n        dropId, \n        drop\n    }\n}\n\nexport const fetchDropFailed = (dropId) => {\n    return {\n        type: actionTypes.FETCH_DROP_FAILED, \n        dropId\n    }\n}\n\n//-------- FETCH MEME -----------------------------------------------------------------\n\n\nexport const fetchMemeStart = (dropId) => {\n    return {\n        type: actionTypes.FETCH_MEME_START,\n        dropId\n    }\n}\n\nexport const fetchMemeSuccess = (dropId) => {\n    return {\n        type: actionTypes.FETCH_MEME_SUCCESS,\n        dropId, \n    }\n}\n\n//--------- SELECT DROP TARGET -------------------------------------------------------\n\n\nexport const selectDropTarget = (chatId) => {\n    return {\n        type: actionTypes.SELECT_DROPTARGET,\n        chatId\n    }\n}\n\nexport const unSelectDropTarget = (chatId) => {\n    return {\n        type: actionTypes.UNSELECT_DROPTARGET,\n        chatId\n    }\n}\n\n//--------- SEND DROP ----------------------------------------------------------------\n\nexport const sendDrop = (targets, dropId, title, userId) => {\n    return dispatch => {\n        const randId = `${Date.now()}`;\n        const message = {\n            id: randId, \n            type: 'drop',\n            sender: userId,\n            sentTime: Date.now(),  \n            liked: [],\n            title,\n            dropId\n        }   \n        dispatch(closeDropModal());\n        dispatch(switchTab('chat'));\n        dispatch(resetDropTargets());\n        dispatch(sendDropStart(targets, message)); \n        const url = `/api/chat/dropMessage`;\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } };\n        const body = { \n            chatIds: targets,\n            dropId\n        };\n        axios.post(url, body, headers)\n        .then(res => {\n            console.log(res.data);\n            dispatch(sendDropSuccess(res.data.messageReplacements, res.data.chatReplacements, randId));\n        }).catch(err => {\n            console.log(err);\n            dispatch(sendDropFailed());\n        })\n    }\n}\n\nexport const resetDropTargets = () => {\n    return {\n        type: actionTypes.RESET_DROP_TARGETS, \n    }\n}\n\nexport const setMouseOverComments = (value) => {\n    return {\n        type: actionTypes.SET_MOUSE_OVER_COMMENTS, \n        value\n    }\n}","import axios from 'axios';\n\nimport * as actionTypes from './actionTypes';\nimport { setDropsNotLoaded } from './streamActions';\nimport { \n    closeMenu, \n    setUIStateonLogin,\n    setUIStateonLogout,\n    addToMenuStack\n} from './UIActions';\nimport { \n    setChatStateOnLogin,\n    checkAndAddNewMessages,\n    fetchNewChatSuccess,\n    fetchNewChatFailed,\n} from './chatActions';\n\nexport const logout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    localStorage.removeItem('expirationDate');\n    return {\n        type: actionTypes.LOGOUT\n    }\n}\n\nexport const checkAuthTimeout = (expirationTime) => {\n    return dispatch => {\n    }\n}\n\nexport const setAnonymousId = (anonymousId) => {\n    return {\n        type: actionTypes.SET_ANONYMOUS_ID,\n        anonymousId\n    }\n}\n\n\n//------ LOGIN -----------------------------------------------------------------------\n\n\nexport const login = (identifier, password) => {\n    return dispatch => {\n        dispatch(loginStart())\n        axios.post(\n            '/api/users/login', \n            JSON.stringify({\n                identification: identifier,\n                password: password\n            }), \n            { headers: { 'Content-Type': 'application/json' } }\n        ).then(res => {\n            const expirationDate = new Date(new Date().getTime() + res.data.expiresIn * 1000);\n            localStorage.setItem('token', res.data.token);\n            localStorage.setItem('expirationDate', expirationDate);\n            localStorage.setItem('user', JSON.stringify(res.data));\n            dispatch(loginSuccess(res.data));\n            dispatch(setDropsNotLoaded());\n            dispatch(setUIStateonLogin())\n            dispatch(setChatStateOnLogin(res.data))\n            dispatch(closeMenu());\n        }).catch(err => {\n            if(err.toJSON().message === 'Network Error'){\n                dispatch(loginFail(\"Check your connection, bro\"))\n            }else if(err.response && err.response.data && err.response.data.message){\n                dispatch(loginFail(err.response.data.message));\n            }else {\n                dispatch(loginFail(\"Something went wrong\"))\n            }\n        })\n    }\n}\n\nexport const loginStart = () => {\n    return {\n        type: actionTypes.LOGIN_START\n    };\n};\n\nexport const loginSuccess = (responseData) => {\n    return {\n        type: actionTypes.LOGIN_SUCCESS,\n        ...responseData\n    }\n}\n\nexport const loginFail = (message) => {\n    return {\n        type: actionTypes.LOGIN_FAIL,\n        error: message ? message : 'Something went wrong'\n    }\n}\n\n//------ SIGNUP ----------------------------------------------------------------------\n\nexport const signup = (name, email, handle, password, profilePic, src, newsletter) => {\n    return dispatch => {\n        dispatch(signupStart())\n        const url = '/api/users/signup';\n        const anonymousId = localStorage.getItem('anonymousId');\n        const formData = new FormData();\n        formData.append('name', name);\n        formData.append('email', email);\n        formData.append('handle', handle);\n        formData.append('password', password);\n        formData.append('profilePic', profilePic);\n        formData.append('newsletter', newsletter);\n        formData.append('anonymousId', anonymousId);\n        axios({\n            method: 'post',\n            url: url, \n            data: formData,\n            headers: { 'Content-Type': 'multipart/form-data' }\n        })\n        .then(res => {\n            console.log(res.data);\n            const expirationDate = new Date(new Date().getTime() + res.data.expiresIn * 1000);\n            localStorage.setItem('token', res.data.token);\n            localStorage.setItem('expirationDate', expirationDate);\n            localStorage.setItem('user', JSON.stringify(res.data));                \n            dispatch(signupSuccess(res.data, src));\n            dispatch(setDropsNotLoaded());\n            dispatch(setUIStateonLogin())\n            dispatch(setChatStateOnLogin(res.data))\n            dispatch(closeMenu());\n        }).catch(err => {\n            console.log(err)\n            dispatch(signupFail(err.response));\n        })\n    }\n}\n\nexport const signupStart = () => {\n    return {\n        type: actionTypes.SIGNUP_START\n    }\n}\n\nexport const signupSuccess = (responseData, profilePicSrc) => {\n    return {\n        type: actionTypes.SIGNUP_SUCCESS,\n        profilePicSrc,\n        ...responseData\n    }\n}\n\nexport const signupFail = (response) => {\n    return {\n        type: actionTypes.SIGNUP_FAIL,\n        error: response && response.data && response.data.message ? response.data.message : 'Something went wrong'\n    }\n}\n\n//------ CHECK EMAIL TAKEN ------------------------------------------------------------------\n\nexport const checkEmailTaken = (email) => {\n    return dispatch => {\n        dispatch(checkEmailTakenStart())\n        const url = '/api/users/checkEmail';\n        const body = { email }\n        axios.post(url, body)\n        .then(res => {\n            if(res.data && res.data.exists){\n                dispatch(emailAlreadyTaken(email));\n            } else {\n                dispatch(checkEmailTakenSuccess(res.data));\n                dispatch(addToMenuStack('CHOOSE_HANDLE'));\n            }\n        }).catch(err => {\n            dispatch(checkEmailTakenFailed(err))\n            console.log(err);\n        })\n        \n    }\n}\n\nexport const emailAlreadyTaken = (email) => {\n    return {\n        type: actionTypes.EMAIL_ALREADY_TAKEN,\n        email\n    }\n}\n\nexport const checkEmailTakenStart = () => {\n    return {\n        type: actionTypes.CHECK_EMAIL_TAKEN_START\n    }\n}\n\nexport const checkEmailTakenSuccess = (res) => {\n    console.log(res);\n    return {\n        type: actionTypes.CHECK_EMAIL_TAKEN_SUCCESS\n    }\n}\n\nexport const checkEmailTakenFailed = (err) => {\n    console.log(err);\n    return {\n        type: actionTypes.CHECK_EMAIL_TAKEN_FAILED\n    }\n}\n\n//------ CHECK HANDLE TAKEN ------------------------------------------------------------------\n\nexport const checkHandleTaken = (handle) => {\n    return dispatch => {\n        dispatch(checkHandleTakenStart())\n        const url = '/api/users/checkHandle';\n        const body = { handle }\n        axios.post(url, body)\n        .then(res => {\n            if(res.data && res.data.exists){\n                dispatch(handleAlreadyTaken(handle));\n            } else {\n                dispatch(checkHandleTakenSuccess(res.data));\n                dispatch(addToMenuStack('CHOOSE_PROFILE_PIC'));\n                console.log(document.getElementById('handle'))\n                document.getElementById('handle').focus(); \n            }\n        }).catch(err => {\n            dispatch(checkHandleTakenFailed(err))\n            console.log(err);\n        })\n        \n    }\n}\n\nexport const handleAlreadyTaken = (handle) => {\n    return {\n        type: actionTypes.HANDLE_ALREADY_TAKEN,\n        handle\n    }\n}\n\nexport const checkHandleTakenStart = () => {\n    return {\n        type: actionTypes.CHECK_HANDLE_TAKEN_START\n    }\n}\n\nexport const checkHandleTakenSuccess = (res) => {\n    console.log(res);\n    return {\n        type: actionTypes.CHECK_HANDLE_TAKEN_SUCCESS\n    }\n}\n\nexport const checkHandleTakenFailed = (err) => {\n    console.log(err);\n    return {\n        type: actionTypes.CHECK_HANDLE_TAKEN_FAILED\n    }\n}\n\n//------ CHECK AUTH STATE ----------------------------------------------------------------------\n\n\n\nexport const authCheckState = () => {\n    return dispatch => {\n        const token = localStorage.getItem('token');\n        if (!token) {\n            dispatch(setUIStateonLogout())\n            dispatch(logout());\n        } else {\n            const expirationDate = new Date(localStorage.getItem('expirationDate'));\n            if (expirationDate <= new Date()) {\n                dispatch(setUIStateonLogout())\n                dispatch(logout());\n            } else {\n                const user = JSON.parse(localStorage.getItem('user'));\n                dispatch(loginSuccess(user));\n                // dispatch(setDropsNotLoaded());\n                dispatch(setChatStateOnLogin(user));\n                dispatch(setUIStateonLogin())\n                dispatch(checkAuthTimeout((expirationDate.getTime() - new Date().getTime()) / 1000 ));\n                const url = '/api/users/refresh';\n                const headers =  { headers: {authorization: 'Bearer ' + token }};\n                axios.get(url, headers)\n                .then(res => {\n                    dispatch(loginSuccess(res.data));\n                    // dispatch(setDropsNotLoaded());\n                    dispatch(setChatStateOnLogin(res.data))\n                    const expirationDate = new Date(new Date().getTime() + res.data.expiresIn * 1000);\n                    localStorage.setItem('token', res.data.token);\n                    localStorage.setItem('expirationDate', expirationDate);\n                    localStorage.setItem('user', JSON.stringify(res.data)); \n                }).catch(err => {\n                    console.log(err);\n                })\n            }\n        }\n    };\n};\n\n\n\n//--------- SEND MESSAGES READ ---------------------------------------------\n\nexport const sendMessagesRead = (chatId, messageIds) => {\n    return dispatch => {\n        dispatch(sendMessagesReadStart(chatId))\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const url = `/api/chat/${chatId}/read`;\n        const body = {\n            messageIds\n        }\n        axios.post(url, body, headers)\n        .then(res => {\n            console.log(res);\n            dispatch(sendMessagesReadSuccess())\n        }).catch(err => {\n            console.log(err); \n            dispatch(sendMessagesReadFailed())\n        })\n    }\n}\n\nexport const sendMessagesReadStart = (chatId) => {\n    return {\n        type: actionTypes.MESSAGES_READ_START,\n        chatId\n    }\n}\n\nexport const sendMessagesReadSuccess = () => {\n    return {\n        type: actionTypes.MESSAGES_READ_SUCCESS,\n    }\n}\n\nexport const sendMessagesReadFailed = () => {\n    return {\n        type: actionTypes.MESSAGES_READ_FAILED,\n    }\n}\n\n\n//---- REFRESH NOTIFICATIONS ----------------------------------------------------\n\n\nexport const refreshNotifications = (notifications) => {\n    console.log(notifications);\n    return dispatch => {\n        dispatch(updateNotifications(notifications));\n        const messageNotifications = notifications.filter(n => n.type.startsWith('NEW_MESSAGE'));\n        if(messageNotifications.length > 0){\n            dispatch(checkAndAddNewMessages(messageNotifications))\n        }\n        const newChatNotifications = notifications.filter(n => n.type.startsWith('NEW_CHAT'));\n        if(newChatNotifications.length > 0 ){\n            newChatNotifications.forEach(n => {\n                const token = localStorage.getItem('token');\n                const headers = { headers: { authorization : `Bearer ${token}` } }\n                const url = `/api/chat/${n.chatId}`;\n                axios.get(url, headers)\n                .then(res => {\n                    console.log(res.data);\n                    dispatch(fetchNewChatSuccess(res.data));\n                }).catch(err => {\n                    console.log(err); \n                    dispatch(fetchNewChatFailed())\n                })\n\n            })\n        }\n    }\n}\n\nexport const updateNotifications = (notifications) => {\n    return {\n        type: actionTypes.UPDATE_NOTIFICATIONS,\n        notifications\n    }\n}\n\n//---- DELETE NOTIFICATION -------------------------------------------------------\n\nexport const deleteNotification = (notificationId) => {\n    return dispatch => {\n        dispatch(deleteNotificationStart(notificationId));\n        const url = `/api/users/notification/${notificationId}`;\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.delete(url, headers)\n        .then(res => {\n            console.log(res.data);\n            dispatch(deleteNotificationSuccess());\n        }).catch(err => {\n            console.log(err);\n            dispatch(deleteNotificationFailed());\n        })\n    }\n}\n\nexport const deleteNotificationStart = (notificationId) => {\n    return {\n        type: actionTypes.DELETE_NOTIFICATION_START,\n        notificationId\n    }\n}\n\nexport const deleteNotificationSuccess = (notificationId) => {\n    return {\n        type: actionTypes.DELETE_NOTIFICATION_SUCCESS,\n        notificationId\n    }\n}\n\nexport const deleteNotificationFailed = (notificationId) => {\n    return {\n        type: actionTypes.DELETE_NOTIFICATION_FAILED,\n        notificationId,\n    }\n}\n\n\n//---- SUBSCRIBE EMAIL LIST ------------------------------------------------------\n\nexport const subscribeEmailList = (email) => {\n    return dispatch => {\n        console.log(\"subscribeEmailListStart\");\n        dispatch(subscribeEmailListStart())\n        const url = '/api/users/emaillist'\n        const body = {email: email};\n        const headers = { }\n        axios.post(url, body, headers)\n        .then(res => {\n            dispatch(subscribeEmailListSuccess());\n        }).catch(err => {\n            console.log(err);\n            const message = err.response ? err.response.data ? err.response.data.message ? err.response.data.message : null : null : null;\n            dispatch(subscribeEmailListFailed(message));\n        })\n    }\n}\n\nexport const subscribeEmailListStart = () => {\n    return {\n        type:actionTypes.SUBSCRIBE_EMAIL_LIST_START\n    }\n}\n\nexport const subscribeEmailListSuccess = () => {\n    return {\n        type:actionTypes.SUBSCRIBE_EMAIL_LIST_SUCCESS\n    }\n}\n\nexport const subscribeEmailListFailed = (message) => {\n    return {\n        type:actionTypes.SUBSCRIBE_EMAIL_LIST_FAILED,\n        message\n    }\n}","import React, { Component } from 'react';\nimport classes from './Source.module.css';\n\nclass Source extends Component {\n\n\n    render(){\n        return(\n            <div className={classes.Source}>\n                <p className={classes.Header}>Source:</p>\n                <a  className={classes.Link} \n                    href={this.props.sourceURL}\n                    >\n                    {this.props.sourceURL}\n                </a>\n            </div>\n        )\n    }\n}\n\nexport default Source;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loader from 'react-loader-spinner'\n\nimport * as actions from '../../../../store/actions';\nimport Source from './Source/Source';\nimport classes from './Content.module.css';\n\n\nclass Content extends Component {\n\n    getLoader = () => {\n        if(this.props.position > 2) return null;\n        if(this.props.memeStatus !== 'loaded'){\n            return <Loader className={classes.Spinner} type=\"Puff\" color=\"#00BFFF\" height={50} width={50}/>\n        }\n    }\n \n    render() {\n        const src = this.props.dropId.startsWith('no') \n                    ? `${process.env.REACT_APP_MEME_SOURCE_URL}6022a6fec54847291bdee46c`\n                    : `${process.env.REACT_APP_MEME_SOURCE_URL}${this.props.dropId}`\n        return(\n            <div className={classes.Content}>\n                <div className={classes.ContentContainer}>\n                    {\n                        (this.props.memeStatus === 'loaded' || this.props.currentlyLoadingMemeId === this.props.dropId) && this.props.position < 10 \n                        ? <img \n                            alt={`Meme ${this.props.id}`} \n                            className={classes.Meme} \n                            src={src}\n                            onLoad={() => this.props.onFetchMemeSuccess(this.props.dropId)}/>\n                        : null\n                    }\n                    {this.getLoader()} \n                    {\n                        this.props.source ? \n                        <Source sourceURL={this.props.source} /> \n                        : null\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentlyLoadingMemeId: state.stream.currentlyLoadingMemeId\n    }\n  }\n  \n  const mapDispatchToProps = dispatch => {\n    return {\n        onFetchMemeSuccess: (dropId) => dispatch(actions.fetchMemeSuccess(dropId)),\n    }\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(Content);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport classes from './CommentMenu.module.css';\nimport TrashOpen from './TrashOpen.svg';\nimport TrashClosed from './TrashClosed.svg';\n\nimport * as actions from '../../../../../../store/actions/index';\n\nclass CommentMenu extends Component {\n\n    state ={\n        trashOpen: false,\n        deleteCommentOpen: false\n    }\n\n\n    render() {\n        return(\n            <div className={classes.CommentMenu}>\n                {/* <div className={classes.MenuItem}>screenshot mode </div> */}\n                {/* <div className={classes.Seperator}>|</div>  */}\n                { !this.props.userComment && this.props.token ? <div className={classes.MenuItem}>report</div> : null}\n                { !this.state.deleteCommentOpen \n                    ? this.props.userComment && this.props.token\n                        ? <img \n                            src={this.state.trashOpen ? TrashOpen : TrashClosed} \n                            alt='' \n                            className={classes.Trash}\n                            onMouseOver={() => this.setState({trashOpen: true})} \n                            onMouseOut={() => this.setState({trashOpen: false})}\n                            onClick={() => this.setState({deleteCommentOpen: true})}/>\n                        : null\n                    : null }\n                { this.state.deleteCommentOpen \n                    ? <div className={classes.DeleteDialog}>Delete Comment? \n                        <button className={classes.YesButton} onClick={() => this.props.onDeleteComment(this.props.dropId, this.props.commentId)}>yes</button>\n                        <button className={classes.NoButton} onClick={() => this.setState({deleteCommentOpen: false})}>no</button>\n                      </div>\n                    : null }\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.user.token,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onDeleteComment: (dropId, commentId) => dispatch(actions.deleteComment(dropId, commentId)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentMenu);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nimport classes from './Voting.module.css';\nimport * as actions from '../../../../../../store/actions/index';\n\n\nclass Voting extends Component {\n\n    constructor(props) {\n        super();\n        this.state = {\n            didUpvote: props.upvoted,\n            didDownvote: props.downvoted,\n            points: props.points\n        }\n    }\n\n    getArrow = (up, glow) => {\n        return(\n            <svg \n                className={`${up ? classes.up : classes.down} ${glow ? classes.glow : null}`} \n                onClick={up ? this.upvote : this.downvote} \n                width=\"60\" height=\"14\" viewBox=\"0 0 60 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M28.036 1.70084C29.1634 0.724555 30.8366 0.724556 31.964 1.70084L58.5583 24.7322C60.658 26.5506 59.372 30 56.5943 30H3.40566C0.628007 30 -0.658012 26.5506 1.4417 24.7322L28.036 1.70084Z\" \n                    fill={`${glow ? '#ffffff' : '#bbbbbb'}`}/>\n            </svg>\n        )\n    }\n\n\n    upvote = (event) => {\n        event.stopPropagation();\n        if(this.props.token){\n            if(!this.state.didUpvote){\n                let newState;\n                const route = this.props.path ? `/api/comment/${this.props.commentId}/voteSub` : `/api/comment/${this.props.commentId}/vote`\n                const body = this.props.path ? {vote: 'up', voterId: this.props.userId, path: this.props.path } : { vote: 'up' }\n                const headers = this.props.token ? { headers: { authorization: `Bearer ${this.props.token}` } } : null \n                axios.post(\n                    route, \n                    body,\n                    headers\n                ).then().catch(console.log);\n                if(this.state.didDownvote){ // Up:0 down:1\n                    newState = { didUpvote:true, didDownvote:false, points:this.state.points+2 }\n                } else {                    // Up:0 down:0\n                    newState = { didUpvote:true, didDownvote:false, points:this.state.points+1 }\n                }\n                this.setState(newState);\n            } \n        } else {\n            this.props.onOpenMenu(\"Create an Account to upvote Comments\");\n        }\n\n        // nothing should happen otherwise; either already upvoted or both are true (should not happen)\n    }\n\n    downvote = (event) => {\n        event.stopPropagation();\n        if(this.props.token){\n            if(!this.state.didDownvote){\n                const route = this.props.path ? `/api/comment/${this.props.commentId}/voteSub` : `/api/comment/${this.props.commentId}/vote`\n                const body = this.props.path ? {vote: 'down', voterId: this.props.userId, path: this.props.path } : { vote: 'down'}\n                const headers = this.props.token ? { headers: { authorization: `Bearer ${this.props.token}` } } : null \n                axios.post(\n                    route, \n                    body,\n                    headers\n                ).then().catch(console.log);\n                if(this.state.didUpvote){ // Up:1 down:0\n                    this.setState({ didDownvote:true, didUpvote:false, points:this.state.points-2 });\n                } else {                    // Up:0 down:0\n                    this.setState({ didDownvote:true, didUpvote:false, points:this.state.points-1 }); \n                }\n            }\n        } else {\n            this.props.onOpenMenu();\n        }\n        // nothing should happen otherwise; either already downvoted or both are true (should not happen)\n    }\n\n    unvote = (event) => {\n        event.stopPropagation();\n        if(!this.props.token){\n            this.props.onOpenMenu();\n        } else if(this.state.didDownvote || this.state.didUpvote){\n            const route = this.props.path ? `/api/comment/${this.props.commentId}/voteSub` : `/api/comment/${this.props.commentId}/vote`\n            const body = this.props.path ? {vote: 'neutral', voterId: this.props.userId, path: this.props.path } : { vote: 'neutral' }\n            const headers = this.props.token ? { headers: { authorization: `Bearer ${this.props.token}` } } : null \n            axios.post(\n                route, \n                body,\n                headers\n            ).then().catch(console.log);\n\n            if(this.state.didDownvote){\n                this.setState({ didDownvote:false, didUpvote:false, points:this.state.points+1})\n            } else if(this.state.didUpvote){\n                this.setState({ didDownvote:false, didUpvote:false, points:this.state.points-1});\n            } \n        }\n    }\n    \n    //transforms the exact number of up/downvotes to a more presentable String \n    getCountString = number => {\n        if(number >= 100000000){\n            return `${Math.floor(number/1000000)}M`\n        } else if(number >= 1000000){\n            const firstDigit = Math.floor(number/1000000);\n            const secondDigit = Math.floor((number-firstDigit*1000000)/100000);\n            return `${firstDigit}.${secondDigit}M`;\n        } else if(number >=100000) {\n            return `${Math.floor(number/1000)}K`;\n        } else if(number >= 1000){\n            const firstDigit = Math.floor(number/1000);\n            const secondDigit = Math.floor((number-firstDigit*1000)/100);\n            return `${firstDigit}.${secondDigit}K`;\n        }\n        return `${number}`\n    }\n\n    render(){\n        \n\n        return(\n            <div className={classes.voting}>\n                {this.getArrow(true, this.state.didUpvote)}\n                <div \n                    className={classes.points}\n                    title={`${this.state.points} points`}\n                    onClick={this.unvote}\n                >\n                    {this.getCountString(this.state.points)}\n                </div>\n                {this.getArrow(false, this.state.didDownvote)}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      darkmode: state.ui.darkmode,\n      token: state.user.token,\n      userId: state.user.userId\n    }\n  }\n  \n  const mapDispatchToProps = dispatch => {\n    return {\n        onOpenMenu: () => dispatch(actions.openMenu()),\n    }\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(Voting);","import React, { Component } from 'react';\nimport { connect } from 'react-redux'; \nimport classes from './AuthorPic.module.css';\nimport DefaultPic from '../../../../../media/DefaultProfilePic.png';\n\nclass AuthorPic extends Component {\n\n\n    render(){\n        let profilePicSrc = DefaultPic;\n        if(this.props.authorId && this.props.authorId === this.props.selfId){\n            if(this.props.profilePicSrc){\n                profilePicSrc = this.props.profilePicSrc;\n            }else {\n                if(this.props.token && this.props.hasProfilePic){\n                    profilePicSrc = `${process.env.REACT_APP_PROFILE_PICTURES_SOURCE_URL}` + this.props.selfId; \n                }\n            }\n        }\n        return (\n            <img \n                src={profilePicSrc} \n                className={classes.AuthorPic} \n                style={{left: `${this.props.depth*this.props.indent}px`}}\n                alt=' '/>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        hasProfilePic: state.user.hasProfilePic,\n        selfId: state.user.userId,\n        token: state.user.token,\n\n    }\n}\n\nexport default connect(mapStateToProps, null)(AuthorPic);","import React from 'react';\n\nimport classes from './Backdrop.module.css';\n\nconst backdrop = (props) => (\n        <div \n            style={props.zIndex ? {zIndex: `${props.zIndex}`} : null }\n            className={classes.Backdrop} \n            onClick={props.clicked}\n        ></div> \n);\n\nexport default backdrop;","import React, { Component } from 'react';\n\nimport classes from './Branches.module.css';\n\nconst INDENT = 17;\n\nconst HIDDENCOLOR = '#333333';\n\n\nclass Branches extends Component {\n\n\n    getRoot = (i) => {\n        let styles = { left: `${11 + this.props.treeString.length * INDENT}px` }\n        return(\n        <svg className={classes.Root} style={styles} width={\"2px\"} height={`${this.props.height}px`} viewBox={`0 0 2 ${this.props.height}`} fill=\"#abcdef\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d={`M0 0H2V${this.props.height}H0V0Z`} fill={`${i >= this.props.hideBranches ? HIDDENCOLOR : '#ffffff'}`} />\n        </svg>\n        )\n    }\n\n    getL = (i) => {\n        return(\n            <svg style={this.generateBoneStyles(i + 1, \"L\")} key={`${i}L`} width=\"6\" height=\"4\" viewBox=\"0 0 6 4\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M0 0H2V1V1C2 1.55228 2.44772 2 3 2V2H6V4H2C0.89543 4 0 3.10457 0 2V0Z\" fill={`${i >= this.props.hideBranches ? '#ffffff' : HIDDENCOLOR}`}/>\n            </svg>\n        )\n    }\n\n    getC = (i) => {\n        return(\n            <svg style={this.generateBoneStyles(i + 1, \"connector\")} key={`${i}-connector`} width=\"4\" height=\"2\" viewBox=\"0 0 4 2\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M0 0H4V2H0V0Z\" fill={`${i >= this.props.hideBranches ? '#ffffff' : HIDDENCOLOR}`}/>\n            </svg>\n        )\n        \n    }\n\n    generateLine = (depth, type) => {\n        let height = 0;\n        switch (type) {\n            case \"I\": height = this.props.height + 22; break;\n            case \"IL\": height = 53; break;\n            case \"start\": height = this.props.height; break;\n            default: console.log(\"DIESE NACHRICHT SOLLE NIE KOMMEN\");\n        }\n        return (\n            <svg\n            key={depth}\n            style={this.generateBoneStyles(depth, type)}\n            width={\"2px\"}\n            height={`${height}px`}\n            viewBox={`0 0 2 ${height}`}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            >\n                <path d={`M0 0H2V${height}H0V0Z`} fill={`${depth >= this.props.hideBranches ? '#ffffff' : HIDDENCOLOR}`} />\n            </svg>\n        );\n    };\n\n\n    generateBones = boneComponents => {\n        let bones = [];\n        //Generate Bone Components\n        for (let i = 0; i < boneComponents.length; i++) {\n            switch (boneComponents[i]) {\n            case \" \": break;\n            case \"I\": bones.push(this.generateLine(i, \"I\")); break;\n            case \"T\": bones.push(this.generateLine(i, \"I\"));\n                      bones.push(this.getC(i));break;\n            case \"L\": bones.push(this.generateLine(i, \"IL\"));\n                      bones.push(this.getL(i));\n                      let pathArr = this.props.path.split(\"/\");\n                      pathArr.pop();\n                      break;\n            default: console.log(\"ERROR: unwanted Character in BuildBone\");\n            }\n        }\n        return bones;\n    };\n\n\n\n    generateBoneStyles = (depth, type) => {\n        let styles = {\n            top: \"-42px\",\n            position: \"absolute\",\n        };\n        switch (type) {\n            case \"start\": styles.top = \"25px\";\n                        styles.left = `${11 + INDENT * depth}px`;break;\n            case \"I\":\n            case \"IL\": styles.left = `${11 + INDENT * depth}px`; break;\n            case \"L\": styles.left = `${INDENT * depth - 6}px`; styles.top = \"9px\"; break;\n            case \"connector\": styles.left = `${INDENT * depth - 4}px`; styles.top = \"12px\"; break;\n            default: console.log(\"Switch case ERROR\");\n        }\n        return styles;\n    };\n\n\n\n\n    render() {\n        return (\n            <div className={classes.branches}>\n                {this.generateBones(this.props.treeString)}\n                {this.props.root ? this.getRoot(this.props.depth) : null}\n            </div>\n        )\n    }\n}\n\nexport default Branches;","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport CommentMenu from '../../CommentMenu/CommentMenu';\nimport Voting from \"../../Voting/Voting\";\nimport AuthorPic from \"../../../AuthorPic/AuthorPic\";\nimport Backdrop from '../../../../../../UI/Backdrop/Backdrop';\nimport Branches from '../../Branches/Branches';\nimport * as streamActions from '../../../../../../../store/actions/index';\n\nimport classes from \"./SubComment.module.css\";\n\nconst INDENT = 17;\nconst COLOR_COMMENT_BACKGROUND = 'rgba(0, 2, 10, 0.6)';\nconst COLOR_COMMENT_SELECTED = 'rgba(87, 122, 161, 0.6)'\n\n\nclass SubComment extends Component {\n  \n  state = {\n    height: 0\n  }\n\n  componentDidMount() {\n    const height = this.divElement.clientHeight;\n    this.setState({ height });\n  }\n  \n  componentDidUpdate() {\n    const height = this.divElement.clientHeight;\n    if(this.state.height !== height){\n      this.setState({ height });\n    }\n  }\n\n  getRoot = () => {\n    if (this.props.comment.subComments && this.props.comment.subComments.length > 0)\n    return(\n    <svg\n      key={1001}\n      className={classes.Root}\n      width={\"2px\"}\n      height={`${this.state.height}px`}\n      viewBox={`0 0 2 ${this.state.height}`}\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d={`M0 0H20V${this.state.height}H0V0Z`} fill=\"green\" />\n    </svg>\n    )\n  };\n\n  getSpeechBubbleArrow = (selected, parentSelected, sending) => {\n    const color = selected || parentSelected ? COLOR_COMMENT_SELECTED : sending ? 'rgba(255,255,255,0.5)' : COLOR_COMMENT_BACKGROUND\n    return (\n      <svg className={classes.SpeechBubbleArrow} width=\"18\" height=\"28\" viewBox=\"0 0 18 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M17.1946 1.09753C15.127 2.89687 11.5635 5.9083 8 8.49986C5.64212 10.2146 7.62939e-06 9.99998 7.62939e-06 9.99998C7.62939e-06 9.99998 6.54393 10.8743 9.5 13.4999C13.3722 16.9392 13.9978 25.9679 14 25.9998L14 10C14 6.61858 15.1988 3.51715 17.1946 1.09753Z\" \n              fill= {color}/>\n      </svg>\n    )\n  }\n\n  clicked = (sending, selected) => {\n    if(sending){\n      return () => {console.log('Comment still sending; cant select yet')}\n    } else if(selected){\n      return this.props.onUnselectComment\n    } else {\n      return () => this.props.onSelectSubComment(this.props.commentId, this.props.path)\n    }\n  }\n\n\n  render() {\n\n    const selected = this.props.selectedComment === this.props.path;\n    const sending = this.props.sending.some(s => s.dropId === this.props.dropId && s.path === this.props.path)\n    const parentSelected = this.props.path.startsWith(this.props.selectedComment);\n    let backgroundStyleClasses = [classes.CommentBackground]\n    if(sending) backgroundStyleClasses.push(classes.sending);\n    if(selected || parentSelected) backgroundStyleClasses.push() \n\n    const commentStyle = { paddingLeft: `${this.props.depth * INDENT}px` };\n    const contentStyle = { left: `${this.props.depth * INDENT + 40}px`, maxWidth: `${545 - INDENT * this.props.depth}px`};\n\n    const hiddenBranches = parentSelected ? this.props.selectedComment.split('/').length -1 : selected ? this.props.depth : null;\n\n    return (\n      <div className={`${classes.CommentContainer} ${parentSelected || selected ? classes.selected : null}`}>\n        {selected ? <Backdrop clicked={ this.props.onUnselectComment }/> : null }\n        {selected ? <CommentMenu token={this.props.token} userComment={this.props.authorId === this.props.userId}/> : null}\n        <div className={classes.Comment} style={commentStyle}>\n          <AuthorPic depth={this.props.depth} indent={INDENT} authorId={this.props.authorId}/>\n          <div \n            className={backgroundStyleClasses.join(' ')} \n            ref={divElement => (this.divElement = divElement)}\n            onClick={this.clicked(sending, selected)}>\n            <Voting \n              upvoted={this.props.upVoted}\n              downvoted={this.props.downVoted}\n              points={this.props.points} \n              commentId={this.props.commentId}\n              path={this.props.path}/>\n            <div className={classes.SelectClickTarget} onClick={this.select}>\n              <span className={classes.actualComment} style={contentStyle}>\n                {this.props.actualComment}\n              </span>\n              {this.getSpeechBubbleArrow(selected, parentSelected, sending)}\n            </div>\n          </div>\n        </div>\n        <Branches \n          hideBranches={ hiddenBranches }\n          treeString={ this.props.treeString }\n          height={ this.state.height }\n          root={ selected || (this.props.subComments && this.props.subComments.length > 0) }\n          path={ this.props.path }\n          selected={ selected }\n        />\n          {/* {this.createSubComments(nextTreeString, depth)} */}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    selectedComment: state.stream.selectedComment,\n    sending: state.stream.sending,\n    token: state.user.token, \n    userId: state.user.userId\n  }\n}\n\nconst mapDispatchToProps = dispatch => { \n  return {\n    onSelectSubComment: (commentId, path) => dispatch(streamActions.selectSubComment(commentId, path)),\n    onUnselectComment: () => dispatch(streamActions.unSelectComment())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SubComment);\n","import React, { Component } from 'react'\nimport classes from './NeumorphismButton.module.css';\n\nclass NeumorphismButton extends Component {\n\n\n    render(){\n        let styleClasses = [classes.Button];\n        if(this.props.buttonType){\n            switch(this.props.buttonType) {\n                case 'SubmitComment': styleClasses.push(classes.SubmitComment); break;\n                // case 'PrimaryButton': styleClasses.push(classes.PrimaryButton); break;\n                default: console.log('no type given');\n            }\n        }\n        if(this.props.disabled) styleClasses.push(classes.Disabled);\n        if(this.props.colorTheme === 'light') styleClasses.push(classes.Light);\n        if(this.props.colorTheme === 'dark') styleClasses.push(classes.Dark);\n        return(\n            <button \n                onClick={this.props.clicked} \n                className={styleClasses.join(' ')}\n                disabled={this.props.disabled}>\n                {this.props.children}\n            </button>\n        )\n    }\n}\n\nexport default NeumorphismButton;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport * as streamActions from '../../../../../store/actions/index';\nimport classes from './CommentForm.module.css';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport AuthorPic from '../AuthorPic/AuthorPic';\n\nimport NeumorphismButton from '../../../../UI/NeumorphismButton/NeumorphismButton';\nimport Branches from '../Comment/Branches/Branches';\n\nconst INDENT = 17;\n\n\nclass CommentForm extends Component {\n\n    state = {\n        textareaValue: '',\n        disabled: true\n    }\n\n    inputChangedHandler = (event) => {\n        const newValue = event.target.value; \n        const disabled = newValue.trim() === '' || this.props.streamElements[0].id.startsWith(\"no more\");\n        this.setState({textareaValue: newValue, disabled: disabled});\n    }\n\n    submitHandler = (event) => {\n        event.preventDefault();\n        if(!this.props.token){\n            this.props.onOpenMenu();\n        } else {\n            this.setState({textareaValue: '', disabled: true});\n\n            if(!this.props.subComment) {\n                const newComment = {\n                    id: `${Date.now()}`,\n                    comment: this.state.textareaValue, \n                    authorId: this.props.userId, \n                    posted: new Date(), \n                    points: 0,\n                    subComments: [],\n                    path: '0'\n                }\n                this.props.onSendComment(this.props.dropId, newComment, this.props.token);\n            } else {\n                const newSubComment = {\n                    id: `${Date.now()}`,\n                    author: this.props.userId, \n                    points: 0, \n                    subComments: [],\n                    comment: this.state.textareaValue, \n                    parentPath: this.props.selectedComment\n                }\n                this.props.onSendSubComment(this.props.dropId, newSubComment, this.props.token )\n            }\n        }\n    }\n\n    getSpeechBubbleArrow() {\n        return(\n            <svg className={classes.SpeechBubbleArrow} width=\"18\" height=\"28\" viewBox=\"0 0 18 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M17.1946 1.09753C15.127 2.89687 11.5635 5.9083 8 8.49986C5.64212 10.2146 7.62939e-06 9.99998 7.62939e-06 9.99998C7.62939e-06 9.99998 6.54393 10.8743 9.5 13.4999C13.3722 16.9392 13.9978 25.9679 14 25.9998L14 10C14 6.61858 15.1988 3.51715 17.1946 1.09753Z\" fill= '#eeeeee'/>\n            </svg>\n        )\n    }\n\n    getArrowRight(){\n        return(\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g id=\"arrow_forward_24px\">\n                <path id=\"icon/navigation/arrow_forward_24px\" d=\"M12 4L10.59 5.41L16.17 11H4V13H16.17L10.59 18.59L12 20L20 12L12 4Z\" fill={this.state.disabled ? 'grey' : 'black'} fillOpacity=\"0.54\"/>\n                </g>\n            </svg>\n        )\n    }\n\n    getBranches = (depth, treeString) => {\n        if(!this.props.path) return null\n        return <Branches hideBranches={depth-1} treeString={treeString} height={61} path={this.props.path}/>\n    }\n\n    render(){\n        const depth = this.props.path ? this.props.path.split(\"/\").length : 0;\n        const commentInputStyles = { paddingLeft: `${depth * INDENT}px` };\n        const contentStyle = { left: `${(depth+1) * INDENT + 40}px`};\n        const treeString = this.props.treeString ? [...this.props.treeString.slice(1), 'L'] : ['L']\n\n        return(\n            <div className={classes.CommentForm}\n                style={this.props.path ? {zIndex: '200'} : null}>\n                <div className={classes.CommentInput} style={commentInputStyles}>\n                    <AuthorPic depth={depth} indent={INDENT} authorId={this.props.userId}/>\n                    <div className={classes.CommentInputBackground}>\n                        <div className={classes.actualCommentForm} style={contentStyle}>\n                            <TextareaAutosize \n                                className={classes.TextArea}\n                                onChange={this.inputChangedHandler} \n                                value={this.state.textareaValue}\n                                placeholder={this.props.path ? 'Write a response...' : 'Write a comment...'}/>\n                            <NeumorphismButton\n                                className={classes.SubmitButton} \n                                colorTheme='light'\n                                buttonType='SubmitComment'\n                                clicked={this.submitHandler} \n                                disabled={this.state.disabled} \n                                type='submit'>\n                                    {this.getArrowRight()}\n                            </NeumorphismButton>                            \n                            {this.getSpeechBubbleArrow()}\n                        </div>\n                    </div>\n                </div>\n                {this.getBranches(depth, treeString)}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        selectedComment: state.stream.selectedComment,\n        token: state.user.token,\n        userId: state.user.userId, \n        streamElements: state.stream.streamElements, \n    }\n}\n  \nconst mapDispatchToProps = dispatch => {\n    return {\n        onOpenMenu: () => dispatch(streamActions.openMenu()),\n        onSendComment: (dropId, comment, token) => dispatch(streamActions.sendComment(dropId, comment, token)),\n        onSendSubComment: (dropId, subComment, token) => dispatch(streamActions.sendSubComment(dropId, subComment, token)),    \n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentForm);","import React, { Component } from 'react';\n\nimport SubComment from './SubComment/SubComment';\nimport CommentForm from '../../CommentForm/CommentForm';\n\nclass SubCommentWrapper extends Component {\n\n    createSubComments = (nextTreeString, depth, selected) => {\n        const subComments = this.props.subComments.map((s, i) => {\n          const lastProp = selected ? false : i === this.props.subComments.length - 1 ? true : false;\n          return(\n            <SubCommentWrapper\n              {...s}\n              tree={nextTreeString}\n              last={lastProp}\n              depth={depth+1}\n              key={i}\n              dropId={this.props.dropId}\n              selectedCommentPath={this.props.selectedCommentPath}\n              actualComment={s.comment}\n              subComments={s.subComments}\n              commentId={this.props.commentId}\n              selected={selected}\n            />\n          )\n        })\n        return subComments;\n    };\n\n    render(){\n\n        const depth = this.props.path.split(\"/\").length - 1;\n        const selected = this.props.selectedCommentPath === this.props.path;\n        /////////////////////////////  tree algorithm // DO NOT FUCKING TOUCH   /////////////////////////////\n        let inheritance = this.props.tree ? this.props.tree : [];\n        let thisTreeString = this.props.last === true ? [...inheritance, \"L\"].slice(1) : [...inheritance, \"T\"].slice(1);\n        !this.props.selected && this.props.last === true && depth > 1 ? [...inheritance, \"L\"].slice(1) : [...inheritance, \"T\"].slice(1);\n        let nextTreeString = this.props.last === true ? [...inheritance, \" \"] : [...inheritance, \"I\"];\n        /////////////////////////////////////////////////////////////////////////////////////////////////////\n        \n        return (\n            <div className=\"SubCommentWrapper\">\n                <SubComment {...this.props} treeString={thisTreeString}/>\n                { this.createSubComments(nextTreeString, depth, selected)  }\n                {\n                  selected ? \n                  <CommentForm\n                    subComment\n                    dropId={this.props.dropId}\n                    path={this.props.path}\n                    treeString={nextTreeString}/> \n                  : null \n                }\n            </div>\n        )\n    }\n}\n\nexport default SubCommentWrapper;","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport SubCommentWrapper from './SubCommentWrapper/SubCommentWrapper';\nimport Voting from \"./Voting/Voting\";\nimport AuthorPic from \"../AuthorPic/AuthorPic\";\nimport Backdrop from '../../../../UI/Backdrop/Backdrop';\nimport CommentForm from '../CommentForm/CommentForm';\nimport CommentMenu from './CommentMenu/CommentMenu';\nimport * as streamActions from '../../../../../store/actions/index';\n\nimport classes from \"./Comment.module.css\";\n\n//import content from './Comment.js';\n\nexport const COLOR_COMMENT_BACKGROUND = 'rgba(0, 2, 10, 0.6)';\nexport const COLOR_COMMENT_BACKGORUND_HIGHLIGHTED = 'rgba(100, 0, 0, 0.6)';\nconst COLOR_COMMENT_SELECTED = 'rgba(87, 122, 161, 0.6)'\n\n\nclass Comment extends Component {\n  \n  state = {\n    height: 0\n  }\n\n  componentDidMount() {\n    const height = this.divElement.clientHeight;\n    this.setState({ height });\n  }\n  \n  componentDidUpdate() {\n    const height = this.divElement.clientHeight;\n    if(this.state.height !== height){\n      this.setState({ height });\n    }\n  }\n\n  getRoot(selected) {\n      if((this.props.comment.subComments && this.props.comment.subComments.length > 0) || selected){\n        return (\n          <svg \n            key={1000} \n            className={classes.Root} \n            width={\"2px\"} \n            height={`${this.state.height}px`} \n            viewBox={`0 0 2 ${this.state.height}`} \n            fill=\"none\" \n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path d={`M0 0H2V${this.state.height}H0V0Z`} fill=\"#ffffff\" />\n          </svg>\n        )\n       } else {\n         return null\n       } \n  }\n\n  createSubComments = (selected) => {\n      const subComments = this.props.comment.subComments.map((s, i) => {\n        const lastProp = i === this.props.comment.subComments.length - 1 && !selected ? true : false;\n        return(\n          <SubCommentWrapper\n            {...s}\n            parentSelected={selected}\n            tree={['I']}\n            last={lastProp}\n            depth={1}\n            key={i}\n            dropId={this.props.dropId}\n            selectedCommentPath={this.props.selectedComment}\n            commentId={this.props.comment.id}\n            actualComment={s.comment}\n            subComments={s.subComments}\n          />\n        )\n      })\n    return subComments;\n  };\n\n  getSpeechBubbleArrow = (selected, sending) => {\n    const color = selected ? COLOR_COMMENT_SELECTED : sending ? 'rgba(255,255,255,0.5)' : COLOR_COMMENT_BACKGROUND\n    return (\n      <svg className={classes.SpeechBubbleArrow} width=\"18\" height=\"28\" viewBox=\"0 0 18 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M17.1946 1.09753C15.127 2.89687 11.5635 5.9083 8 8.49986C5.64212 10.2146 7.62939e-06 9.99998 7.62939e-06 9.99998C7.62939e-06 9.99998 6.54393 10.8743 9.5 13.4999C13.3722 16.9392 13.9978 25.9679 14 25.9998L14 10C14 6.61858 15.1988 3.51715 17.1946 1.09753Z\" \n              fill= {color}/>\n      </svg>\n    )\n  }\n\n  clicked = (sending, selected) => {\n    if(sending){\n      return () => {console.log('Comment still sending; cant select yet')}\n    } else if(selected){\n      return this.props.onUnselectComment\n    }else if(!sending){\n      return () => this.props.onSelectComment(this.props.id, '/')\n    }\n  }\n\n\n  render() {\n    let backgroundStyleClasses = [classes.CommentBackground]\n    const selected = this.props.selectedComment === this.props.id\n    const sending = this.props.sending.some(c => c.randId === this.props.id); \n    if(sending) backgroundStyleClasses.push(classes.sending);\n    if(selected) backgroundStyleClasses.push(classes.selected);\n      return (\n      <div className={classes.CommentContainer}>\n        {selected ? <Backdrop zIndex={100} clicked={this.props.onUnselectComment}/> : null}\n        {selected ? <CommentMenu dropId={this.props.dropId} commentId={this.props.id} userComment={this.props.authorId === this.props.userId}/> : null}\n        <div className={`${classes.Comment} ${selected ? classes.selected : null}`}>\n          <AuthorPic depth={0} indent={0} neuMorphism={this.props.neuMorphism} authorId={this.props.authorId}/>\n          <div \n            className={backgroundStyleClasses.join(' ')}\n            onClick={this.clicked(sending, selected)}\n            ref={divElement => (this.divElement = divElement)}>\n            <Voting \n              upvoted={this.props.upVoted}\n              downvoted={this.props.downVoted}\n              commentId={this.props.id}\n              points={this.props.points} />\n            <div className={classes.SelectClickTarget}>\n              <span className={classes.actualComment}>\n                {this.props.comment.comment}\n              </span>\n              {this.getSpeechBubbleArrow(selected, sending)}\n            </div>\n          </div>\n          {this.getRoot(selected)}\n        </div>\n\n        {this.props.comment.subComments ? this.createSubComments(selected) : null}\n        {selected ? \n          <CommentForm \n            dropId={this.props.dropId}\n            subComment={true}\n            path={this.props.id}\n            treeString={this.props.subComments.length > 0 ? [] : null}/> \n          : null\n        }\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    selectedComment: state.stream.selectedComment,\n    sending: state.stream.sending,\n    userId: state.user.userId,\n    token: state.user.token\n  }\n}\n\nconst mapDispatchToProps = dispatch => { \n  return {\n    onSelectComment: (commentId, path) => dispatch(streamActions.selectComment(commentId, path)),\n    onUnselectComment: () => dispatch(streamActions.unSelectComment())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Comment);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loader from 'react-loader-spinner'\n\nimport * as actions from '../../../../store/actions/index';\n\nimport classes from './CommentSection.module.css';\nimport Comment from './Comment/Comment';\nimport CommentForm from './CommentForm/CommentForm';\n\n\n\n\nclass CommentSection extends Component {\n\n\n    componentDidUpdate = () => {\n    }\n\n    getComments = () => {\n        return this.props.comments.map(x => {\n            return(\n                <Comment \n                    {...x}\n                    key={x.id} \n                    comment={x} \n                    dropId={this.props.dropId} \n                />\n            )\n        })\n    }\n\n    getLoader = () => {\n        return(\n            <Loader \n                className={classes.Spinner} \n                type=\"ThreeDots\" \n                color=\"#00BFFF\" \n                height={30} \n                width={30}\n            />\n        )\n    }\n\n    render(){\n        if(this.props.position !== 1) return <div className={classes.hidden}></div>\n        return(\n            <div \n                style={{width: this.props.windowWidth/2 - 350}}\n                className={classes.CommentSection} \n                onMouseEnter={() => this.props.onSetMouseOverComments(true)} \n                onMouseLeave={() => this.props.onSetMouseOverComments(false)}\n                tabIndex='0'>\n                <CommentForm dropId={this.props.dropId} />\n                <div className={classes.comments}>\n                    { this.props.commentStatus === 'not loaded' ? this.getLoader() : this.getComments()}\n                </div>\n            </div>    \n        )\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onSetMouseOverComments: (overComments) => dispatch(actions.setMouseOverComments(overComments)),\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      darkmode: state.ui.darkmode, \n      windowWidth: state.ui.windowWidth,\n    }\n}\n  \n  \nexport default connect(mapStateToProps, mapDispatchToProps)(CommentSection);","import React, { Component } from \"react\";\nimport classes from \"./PrimaryButton.module.css\";\n\nclass PrimaryButton extends Component {\n  render() {\n    let buttonClasses = [classes.PrimaryButton];\n    if (this.props.theme) {\n      buttonClasses.push(classes.PrimaryButtonNeumorphism);\n    } else {\n      buttonClasses.push(classes.PrimaryButtonFlat);\n    }\n    if(this.props.disabled){\n      buttonClasses.push(classes.Disabled);\n    }\n\n    return (\n      <button className={buttonClasses.join(\" \")} onClick={this.props.disabled ? null : this.props.clicked}>\n        {this.props.children}\n      </button>\n    );\n  }\n}\nexport default PrimaryButton;\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../../store/actions/index';\nimport classes from \"./StreamElement.module.css\";\n\nimport Content from \"./Content/Content\";\nimport CommentSection from \"./CommentSection/CommentSection\";\nimport PrimaryButton from \"../../UI/PrimaryButton/PrimaryButton\";\n\n// import LogoForButton from '../../../media/LogoForButton.png';\n\nconst NEUMORPHISM = false;\n\n// const R = 200; //Distance eye to projection\n// const Y = 150; //vertical position of th object\n// const B = 1100; //width of the object\n// const X = 100; //Distance projection to element\n\nclass StreamElement extends Component {\n\n  componentDidUpdate = () => {\n    if(this.props.streamStatus === 'drops loaded' && this.props.dropStatus === 'not loaded' && this.props.id.length > 2){\n      this.props.onFetchDrop(this.props.id);\n    }\n  }\n\n  calcStyles2(pos) {\n    const transY = (pos - 1) * -2;\n    const transZ = (pos - 1) * -4;\n    const styles = {};\n    if (this.props.show === \"hidden\") {\n      styles.transform = `translate3d(0,100vh,0)`;\n    } else {\n      styles.transform = `translate3d( 0, ${transY}px, ${transZ}px)`;\n      styles.WebkitTransform = `translate3d( 0, ${transY}px, ${transZ}px)`;\n    }\n    return styles;\n  }\n\n  PrimaryButtonClicked = () => {\n    if(!this.props.token){\n      this.props.onOpenMenu('Create an Account and directly share Memes with friends here!');\n    } else {\n      this.props.onOpenDropModal();\n    }\n  }\n\n  render() {\n    let droppedToYouBy = [];\n\n    let cssClasses = [classes.StreamElement];\n\n    if (this.props.show === \"show\") cssClasses.push(classes.ShowDrop);\n    if (this.props.show === \"right\") cssClasses.push(classes.FadedRight);\n    if (this.props.show === \"left\")  cssClasses.push(classes.FadedLeft);\n    if (this.props.position === 1) {\n      if(this.props.halfLeft) cssClasses.push(classes.HalfLeft);\n      if(this.props.halfRight) cssClasses.push(classes.HalfRight);\n    }\n    cssClasses.push(this.props.darkmode ? classes.Dark : classes.Light)\n    \n    return (\n      <div\n        tabIndex=\"0\"\n        className={cssClasses.join(\" \")}\n        style={this.calcStyles2(this.props.position)}>\n        {droppedToYouBy}\n        {this.props.title ? <h3 className={classes.title}>{this.props.title}</h3>: null }\n        <CommentSection \n          position={this.props.position}\n          dropId={this.props.id} \n          comments={this.props.comments} \n          dropLoaded={this.props.status === 'drop loaded'}\n          commentStatus={this.props.dropStatus}/>  \n        <div className={classes.contentContainer}>\n          <Content \n            data={this.props.data}\n            position={this.props.position} \n            dropId={this.props.id} \n            status={this.props.status} \n            source={this.props.source}\n            memeStatus={this.props.memeStatus}/>\n          <PrimaryButton theme={NEUMORPHISM} clicked={this.PrimaryButtonClicked} disabled={this.props.id.length < 4 || this.props.id.startsWith('no more')}>\n            <h3 className={classes.DROP}>Drop</h3>\n          </PrimaryButton>\n        </div>    \n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    darkmode: state.ui.darkmode,\n    token: state.user.token,\n    streamStatus: state.stream.streamStatus\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onOpenMenu: (authReason) => dispatch(actions.openMenu(authReason)),\n    onOpenDropModal: () => dispatch(actions.openDropModal()),\n    onFetchDrop: (dropId, token) => dispatch(actions.fetchDrop(dropId, token)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StreamElement);\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as streamActions from '../../store/actions/index';\n\nimport StreamElement from \"./StreamElement/StreamElement\";\nimport classes from \"./Stream.module.css\";\nimport RiverWhite from \"../../SVGs/RiverWhite.svg\";\nimport River from \"../../SVGs/river.svg\"\nimport RiverGlow from \"../../SVGs/RiverGlow.svg\";\nimport Boat from \"../../media/Boat.png\";\n\nclass Stream extends Component {\n\n  state = {\n    deltaYLastWheelEvent: 0,\n    wtfOpen: false,\n    \n  }\n\n  componentDidMount() {\n    //document.addEventListener(\"keyup\", this.keyboardSwipeHandler, false);\n    document.addEventListener(\"keydown\", this.keypressHandler, false);\n    document.addEventListener(\"wheel\", this.scrollHandler)\n  }\n\n  componentDidUpdate() {\n    if(this.props.streamStatus === 'nothing loaded'){\n      this.props.onFetchIds();\n    }\n  }\n\n  drop = (msg) => {\n    this.props.send(msg);\n    this.setState({\n      currentlyDropping: false,\n    });\n  };\n\n\n  // onKeyDown\n  keypressHandler = (event) => {\n    if(!this.props.menuOpen && this.props.currentTab === 'stream'){\n      // if (event.keyCode === 37) {\n      //   this.onLightUp(true, false);\n      // } else if (event.keyCode === 39) {\n      //   this.onLightUp(false, true);\n      // }\n    }\n  }\n\n  // onKeyUp\n  // keyboardSwipeHandler = (event) => {\n  //   if (event.keyCode === 37) {\n  //       this.scrollHandler(true);\n  //   } \n  //   if (event.keyCode === 39) {\n  //     this.scrollHandler(true);\n  //   }\n  // };\n\n  scrollHandler = (event) => {\n    if(// this.props.streamElements[1].memeStatus === 'loaded' &&\n       // this.props.streamElements[1].status === 'id loaded' && \n       !this.props.mouseOverComments &&\n       this.props.currentTab === 'stream' &&\n       !this.props.menuOpen){\n        if(event.deltaY < 0){ \n          // detect if user actually scrolled again or just scroll acceleration \n          // deltaY gets closer to 0 while decelerating (but with small hickups here and there -> tolerance of 20)\n          // when the last scroll event was longer than 0.2s ago and the delta is bigger, a new scroll must have happened\n          if(this.state.deltaYLastWheelEvent - 20 > event.deltaY \n             && Date.now() - this.props.timeStampLastScroll > 200){\n            this.props.onScroll(this.props.streamElements[1].id, this.props.anonymousId);\n          }\n        }\n      this.setState({deltaYLastWheelEvent: event.deltaY});\n    }\n  }\n\n  getRiver = () => {\n    return(\n      this.props.darkmode \n      ? <img src={RiverWhite} alt=\"\" className={classes.River} /> \n      : <img src={River} alt=\"\" className={classes.River} />\n    )\n  }\n\n  getRiverGlow = () => {\n    return (\n      this.props.darkmode \n      ? <img src={RiverGlow} alt=\"\" className={classes.RiverGlow} /> \n      : null\n    )\n  }\n\n  getStreamElements = () => {\n    let streamElements = [];\n    this.props.streamElements.forEach((element) => {\n      streamElements.unshift(\n        <StreamElement\n          key={element.id}\n          {...element}\n          dropping={this.droppingHandler}\n        />\n      );\n    });\n    return streamElements;\n  }\n\n  render = () => {\n    const styleClasses = [classes.Stream];\n    if (this.props.currentTab !== 'stream') {\n      styleClasses.push(classes.OutRight);\n    }\n    return (\n      <div className={styleClasses.join(\" \")}>\n        {this.getRiver()}\n        {this.getRiverGlow()}\n        <img src={Boat} alt=\"\" className={classes.Boat1} />\n        <img src={Boat} alt=\"\" className={classes.Boat2} />\n        {this.getStreamElements()}\n      </div>\n    );\n  };\n}\n\nconst mapStateToProps = state => {\n  return {\n    timeStampLastScroll: state.stream.timeStampLastScroll,\n    streamElements: state.stream.streamElements,\n    initialStreamLoad: state.stream.initialStreamLoad,\n    streamStatus: state.stream.streamStatus,\n    mouseOverComments: state.stream.mouseOverComments, \n\n    currentTab: state.ui.currentTab,\n    modalOpen: state.ui.modalOpen,\n    menuOpen: state.ui.menu.open,\n    darkmode: state.ui.darkmode,\n\n    anonymousId: state.user.anonymousId,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFetchIds: () => dispatch(streamActions.fetchIds()),\n    onScroll: (dropId, anonymousId) => dispatch(streamActions.scroll(dropId, anonymousId)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Stream);\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner'; \n\nimport classes from './AddButton.module.css';\n\nclass AddButton extends Component {\n\n\n    getAddIcon = (inverted) => {\n        return (\n            <svg className={classes.AddIcon} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g id=\"person_add_24px\">\n                    <path id=\"icon/social/person_add_24px\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M15 12C17.21 12 19 10.21 19 8C19 5.78998 17.21 4 15 4C12.79 4 11 5.78998 11 8C11 10.21 12.79 12 15 12ZM15 6C16.1 6 17 6.90002 17 8C17 9.09998 16.1 10 15 10C13.9 10 13 9.09998 13 8C13 6.90002 13.9 6 15 6ZM7 18C7 15.34 12.33 14 15 14C17.67 14 23 15.34 23 18V20H7V18ZM9 18C9.21997 17.28 12.3101 16 15 16C17.7 16 20.8 17.29 21 18H9ZM6 12V15H4V12H1V10H4V7H6V10H9V12H6Z\" fill={inverted ? \"#444444\" : \"#abcdef\" } />\n                </g>\n            </svg>\n        )\n    }\n\n    getCheckMark = () => {\n        return(\n            <svg className={classes.AddIcon} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <g id=\"check_24px\">\n            <path id=\"icon/navigation/check_24px\" d=\"M8.79496 15.875L4.62496 11.705L3.20496 13.115L8.79496 18.705L20.795 6.70501L19.385 5.29501L8.79496 15.875Z\" fill=\"#abcdef\"/>\n            </g>\n            </svg>\n        )\n    }\n\n    render() {\n\n        let styleClasses = [classes.AddButton]\n        let button;\n        let title;\n        if(this.props.type==='sending'){\n            button = <Loader className={classes.Spinner} type=\"TailSpin\" color={this.props.inverted ? '#000000' : '#abcdef'} height={18} width={18}/>; \n            styleClasses.push(classes.Loading)\n            title = 'sending friend request...'\n        }\n        if(this.props.type==='accepting'){\n            button = <Loader className={classes.Spinner} type=\"TailSpin\" color={this.props.inverted ? '#000000' : '#abcdef'} height={18} width={18}/>; \n            styleClasses.push(classes.Loading)\n            title = 'accepting friend request...'\n        }\n        if(this.props.type === 'add'){\n            button = this.getAddIcon(this.props.inverted); \n            title = 'send friend request';\n            styleClasses.push(classes.GlowOnHover);\n            styleClasses.push(classes.Clickable);\n        }\n        if(this.props.type === 'received'){\n            button = <span className={classes.TextButton}>accept</span>;\n            title = 'accept friend request';\n            styleClasses.push(classes.AcceptButton);\n            styleClasses.push(classes.GlowOnHover);\n            styleClasses.push(classes.Clickable);\n        }\n        if(this.props.type === 'sent'){\n            button = <span className={classes.TextButton}>requested</span>;\n            title = 'friend request sent';\n        }\n        styleClasses.push(this.props.inverted ? classes.Inverted : classes.NotIverted);\n        \n        return(\n            <div \n                title={title} \n                className={styleClasses.join(' ')} \n                onClick={(event) => {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    this.props.clicked()\n                }}\n                >\n                {button}\n            </div>\n        )\n    }\n}\n\nexport default AddButton;","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport classes from \"./ChatPrev.module.css\";\nimport DefaultProfilePic from \"../../../../media/DefaultProfilePic.png\";\nimport AddButton from './AddButton/AddButton';\nimport Connector from './Connector.svg';\nimport * as actions from '../../../../store/actions/index';\n\n\nclass ChatPrev extends Component {\n\n  state={\n    connectorsOut: false\n  }\n\n  getConnector = (up) => {\n    return <img \n      src={Connector} \n      alt='' \n      className={`${up ? classes.ConnectorUp : classes.ConnectorDown}`}/>\n  }\n\n  getButton = (chatPartner, active) => {\n    let buttonType;\n    let buttonClick = () => console.log('Nothing should happen');\n    if(!this.props.friends.some(friend => friend.userId === chatPartner.userId)){\n      buttonType = 'add';\n      buttonClick = () => this.props.onSendFriendRequest(chatPartner, this.props.chatId.startsWith('request') ? this.props.chatId : null);\n    }\n    if(this.props.sentFriendRequests.some(user => user.userId === chatPartner.userId)){\n      buttonType= 'sent';\n    }\n    if(this.props.sendingFriendRequests.some(user => user.userId === chatPartner.userId)){\n      buttonType='sending';\n    }\n    if(this.props.acceptingFriendRequests.some(user => user.userId === chatPartner.userId)){\n      buttonType='accepting';\n    }\n    if(this.props.receivedFriendRequests.some(user => user.userId === chatPartner.userId)){\n      buttonType='received';\n      buttonClick = () => this.props.onAcceptFriendRequest(chatPartner);\n    }\n    return buttonType ? <AddButton type={buttonType} clicked={buttonClick} inverted={active}/> : null;\n  }\n\n  render() {\n    const unreadMessages = this.props.notifiaction\n      .filter(n => (n.type.startsWith('NEW_MESSAGE') && n.chatId === this.props.chatId)\n        || (n.type.startsWith('NEW_CHAT') && n.chatId === this.props.chatId)); \n    const notifiactionStype = unreadMessages.length > 99 \n      ? classes.TrippleDigit : unreadMessages.length > 9 \n        ? classes.DoubleDigit : classes.SingleDigit\n    const chatPartner = this.props.members.filter(m => m.userId !== this.props.userId)[0];\n    if(!chatPartner) console.log(this.props.members, this.props.userId);\n    const name = chatPartner.name;\n    const preview = this.props.messages.length > 0 ? this.props.messages[this.props.messages.length-1].text : '@' + chatPartner.handle;\n    const profilePicSrc = chatPartner.profilePic ? `${process.env.REACT_APP_PROFILE_PICTURES_SOURCE_URL}` + chatPartner.userId : DefaultProfilePic;\n\n    const active = this.props.chatId === this.props.currentChatId;\n    let styleClasses = [classes.ChatPrev];\n    if(active) styleClasses.push(classes.Active);\n\n    return (\n      <div onClick={this.props.clicked} className={styleClasses.join(\" \")}>\n        {active ? this.getConnector(true) : null } \n        {active ? this.getConnector(false) : null } \n        <img src={profilePicSrc} alt=\" \" className={classes.ProfilePic}/>\n        <div className={classes.Info}>\n          <h3 className={classes.Name}>{name}</h3>\n          <p className={classes.Preview}>{preview}</p>\n        </div>\n        { \n          unreadMessages.length > 0\n          ? <div className={notifiactionStype}>\n                  <span className={classes.NotificationCount}>{unreadMessages.length}</span>\n            </div> \n          : null \n        }\n    {this.getButton(chatPartner, active)}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    darkmode: state.ui.darkmode,\n\n    currentChatId: state.chat.currentChatId,\n    unreadMessages: state.chat.unreadMessages, \n    seenUpdatesChats: state.chat.seenUpdatesChats,\n    chats: state.chat.chats,\n    allUsers: state.chat.allUsers,\n    friends: state.chat.friends,\n    acceptingFriendRequests: state.chat.acceptingFriendRequests,\n    sendingFriendRequests: state.chat.sendingFriendRequests,\n    sentFriendRequests: state.chat.sentFriendRequests, \n    receivedFriendRequests: state.chat.receivedFriendRequests,\n\n    notifiaction: state.user.notifications,\n    token: state.user.token,\n    userId: state.user.userId,\n\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onChangeChat: (chatId) => dispatch(actions.changeChat(chatId)),\n    onSendFriendRequest: (user) => dispatch(actions.sendFriendRequest(user)),\n    onAcceptFriendRequest: (user) => dispatch(actions.acceptFriendRequest(user)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatPrev);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loader from 'react-loader-spinner';\n\nimport ChatPrev from './ChatPrev/ChatPrev';\nimport classes from './ChatPreviews.module.css';\nimport * as actions from '../../../store/actions/index';\n\n\nclass ChatPreviews extends Component {\n\n    state = {\n      searching: false,\n      searchInput: ''\n    }\n\n    componentDidUpdate = () => {\n      if(this.searchInput) this.searchInput.focus();\n    }\n\n    clicked = (chatId) => {\n      this.props.onChangeChat(chatId);\n      document.getElementById('chatForm').focus();\n    }\n\n    getChats = () => {\n      let chats = [];\n      if(this.props.chatsStatus === 'loading'){\n        chats = \n        <div className={classes.LoaderContainer}>\n          <Loader \n            className={classes.Spinner} \n            type=\"ThreeDots\" \n            color=\"#00BFFF\" \n            height={30} \n            width={30}/> \n        </div>\n      }else {\n        chats = this.props.chats\n        .sort((chatA, chatB) => chatB.lastInteraction - chatA.lastInteraction)\n        .map(chat => {\n            return (\n              <ChatPrev \n                {...chat}\n                key={chat.chatId}\n                clicked={() => this.clicked(chat.chatId)}\n              /> \n            )\n          })\n        \n      }\n      return chats\n    }\n\n    getSearchIcon() {\n      return (\n        <svg className={classes.SearchIcon} onClick={this.state.searching ? () => this.closeSearch() : () => this.openSearch()} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <g id=\"search_24px\">\n          <path id=\"icon/action/search_24px\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M14.965 14.255H15.755L20.745 19.255L19.255 20.745L14.255 15.755V14.965L13.985 14.685C12.845 15.665 11.365 16.255 9.755 16.255C6.16504 16.255 3.255 13.345 3.255 9.755C3.255 6.16501 6.16504 3.255 9.755 3.255C13.345 3.255 16.255 6.16501 16.255 9.755C16.255 11.365 15.665 12.845 14.6851 13.985L14.965 14.255ZM5.255 9.755C5.255 12.245 7.26501 14.255 9.755 14.255C12.245 14.255 14.255 12.245 14.255 9.755C14.255 7.26501 12.245 5.255 9.755 5.255C7.26501 5.255 5.255 7.26501 5.255 9.755Z\" fill={'#ffffff'}/>\n          </g>\n        </svg>\n      )\n    }\n\n    getSearchInput = () => {\n      if(this.state.searching){\n        return (\n          <input \n          placeholder={\"Search by username or @handle\"}\n          ref={(input) => { this.searchInput = input; }} \n          type=\"text\" \n          value={this.state.searchInput} \n          onChange={this.onSearchInput}\n          className={classes.SearchInput}/> \n        )\n      }\n      return null;\n    }\n\n    openSearch = () => {\n      this.setState({searching: true})\n    }\n\n    closeSearch = () => {\n      this.setState({searching: false, searchInput: ''})\n    }\n\n    onSearchInput = (event) => {\n      this.setState({searchInput: event.target.value});\n    }\n\n    getNewChatIcon = () => {\n      return(\n        <svg className={classes.AddChatIcon} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <g id=\"chat_bubble_outline_24px\">\n          <path id=\"icon/communication/chat_bubble_outline_24px\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M4 2H20C21.1 2 22 2.89999 22 4V16C22 17.1 21.1 18 20 18H6L2 22V4C2 2.89999 2.90002 2 4 2ZM6 16H20V4H4V18L6 16Z\" fill=\"#ffffff\"/>\n          <rect id=\"Rectangle 6\" x=\"7\" y=\"9\" width=\"10\" height=\"2\" fill=\"#ffffff\"/>\n          <rect id=\"Rectangle 7\" x=\"11\" y=\"5\" width=\"2\" height=\"10\" fill=\"#ffffff\"/>\n          </g>\n        </svg>\n      )\n    }\n\n    getNewChatButton = () => {\n      if(!this.state.searching){\n        return(\n          <div className={classes.NewChatContainer} onClick={this.props.token ? this.props.onOpenNewChatModal : null}>\n            {this.getNewChatIcon()}\n            <h3 className={classes.NewChatMessage}>new chat</h3>\n          </div>\n        )\n      }\n      return null;\n    }\n\n    render(){\n        return(\n            <div className={classes.ChatPreviews}>\n                <div className={classes.Header}>\n                  {/* <div className={classes.SearchContainer}>\n                    {this.getSearchIcon()}\n                      {this.getSearchInput()}\n                  </div> */}\n                </div> \n                {this.getNewChatButton()}\n                <div className={classes.ScrollContainer}>\n                  {this.getChats()}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      userId: state.user.userId,\n      token: state.user.token,\n      notifications: state.user.notifications,\n\n      chats: state.chat.chats,\n      chatsStatus: state.chat.chatsStatus,\n      currentChatId: state.chat.currentChatId,\n      height: state.chat.formHeight,\n      \n      receivedFriendRequests: state.chat.receivedFriendRequests,\n      acceptingFriendRequests: state.chat.acceptingFriendRequests,\n\n      friends: state.chat.friends,\n      friendsStatus: state.chat.friendsStatus,\n\n      allUsers: state.chat.allUsers,\n      allUsersStatus: state.chat.allUsersStatus,\n\n      currentTab: state.ui.currentTab,\n      darkmode: state.ui.currentTab,\n\n    }\n  }\n  \n  const mapDispatchToProps = dispatch => {\n    return {\n      onFetchAllUsers: () => dispatch(actions.fetchAllUsers()),\n      onChangeChat: (chatId, user, self, inputRef) => dispatch(actions.changeChat(chatId, user, self, inputRef)), \n      onOpenNewChatModal: () => dispatch(actions.openNewChatModal()),\n    }\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(ChatPreviews);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport classes from './ChatForm.module.css';\n\nimport NeumorphismButton from '../../../UI/NeumorphismButton/NeumorphismButton';\n\nimport * as actions from '../../../../store/actions/index';\n\n\nclass ChatForm extends Component { \n    \n    state = {\n        inputValue: ''\n    }\n\n    componentDidMount(){\n        window.addEventListener('keypress', this.enterHandler);\n    }\n\n\n    onInput = event => {\n        this.setState({inputValue: event.target.value});\n    }\n\n    enterHandler = (event) => {\n        if(event.keyCode === 13 && !event.shiftKey && this.state.inputValue.length > 0 ){\n            event.preventDefault();\n            this.submitHandler();\n        }\n    }\n\n    submitHandler = () => {\n        if(this.props.currentChatId.startsWith('dummy')){\n            const currentChat = this.props.chats.find(c => c.chatId === this.props.currentChatId);\n            const self = currentChat.members.find(m => m.userId === this.props.userId);\n            const chatPartner = currentChat.members.find(m => m.userId !== this.props.userId);\n            if(this.props.creatingChats.some(id => id === this.props.currentChatId)){\n                this.props.onAddMessageToBuffer(this.props.currentChatId, this.state.inputValue, this.props.userId);\n            }else {\n                this.props.onSendFirstMessageNewChat(this.props.currentChatId, self, chatPartner, this.state.inputValue);\n\n            }\n        }else {\n            this.props.onSendTextMessage(this.props.currentChatId, this.state.inputValue, this.props.userId);\n        }\n        this.setState({inputValue: ''});\n    }\n\n    getArrowRight = () => {\n        return(\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g id=\"arrow_forward_24px\">\n                <path id=\"icon/navigation/arrow_forward_24px\" d=\"M12 4L10.59 5.41L16.17 11H4V13H16.17L10.59 18.59L12 20L20 12L12 4Z\" fill={this.state.inputValue.length === 0 ? 'grey' : 'black'} fillOpacity=\"0.54\"/>\n                </g>\n            </svg>\n        )\n    }  \n\n    render() {\n        return(\n            <div className={classes.ChatInput}>\n                <div className={classes.TextareaContainer}\n                    // onDragEnter={() => setDragging(true)}\n                    // onDragLeave={() => setDragging(false)}>\n                >\n                    <textarea \n                        id=\"chatForm\"\n                        className={classes.Textarea} \n                        style={{height: `${this.props.formHeight+5}px`}}\n                        value={this.state.inputValue}\n                        rows={1}\n                        onChange={this.onInput}\n                    />                \n                    <NeumorphismButton\n                        colorTheme='light'\n                        buttonType='SubmitComment'\n                        clicked={this.submitHandler} \n                        className={classes.SubmitButton} \n                        type='submit'>\n                            {this.getArrowRight()}\n                    </NeumorphismButton>\n                </div> \n            </div>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentChatLoaded: state.chat.currentChatLoaded,\n        formHeight: state.chat.formHeight,\n        chats: state.chat.chats,\n        currentChatId: state.chat.currentChatId,\n        chatInput: state.chat.chatInput,\n        creatingChats: state.chat.creatingChats,\n\n        userId: state.user.userId,\n        handle: state.user.handle,\n        profilePic: state.user.hasProfilePic, \n        name: state.user.name,\n\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onChangeFormHeight: (height) => dispatch(actions.changeFormHeight(height)),\n        onSendTextMessage: (chatId, text, userId) => dispatch(actions.sendTextMessage(chatId, text, userId)), \n        onSendFirstMessageNewChat: (dummyChatId, self, chatPartner, text) => dispatch(actions.sendFirstMessageNewChat(dummyChatId, self, chatPartner, text)),\n        onAddMessageToBuffer: (dummyChatId, text, userId) => dispatch(actions.addMessageToBuffer(dummyChatId, text, userId)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatForm);","import React, { Component } from \"react\";\n\nimport classes from \"./Message.module.css\";\n\nimport StupidFuckingFace from '../../../../media/stupidfuckingface.jpeg';\n\nclass Message extends Component {\n\n  \n\n  getMessage = () => {\n    switch(this.props.type){\n      case 'text': return <p className={classes.Text}>{this.props.text}</p>\n      case 'image': return ([\n        <img className={classes.Image} /*src={this.props.src}*/ src={StupidFuckingFace} alt='' key='image' />,\n        this.props.text ? <p className={classes.Text} key='description'>{this.props.text}</p> : null\n      ])\n      case 'drop': \n        return ( \n          <div>\n            {this.props.title ? <p className={classes.Text}>{this.props.title}</p> : null }\n            <img className={classes.Drop} src={`https://storage.googleapis.com/drop-meme-bucket/meme-${this.props.dropId}`} key='drop' alt='could not load meme. Refresh motherfucker.'/>\n          </div>\n        )\n      default: return null\n    }\n  }\n\n  render() {\n    const containerStyleclasses = [classes.MessageContainer];\n    if(this.props.sent){\n      containerStyleclasses.push(classes.Sent);\n    }else{\n      containerStyleclasses.push(classes.Received);\n    }\n    if(this.props.sending){\n      containerStyleclasses.push(classes.Sending);\n    }\n    if(this.props.messageNew){\n      containerStyleclasses.push(classes.New);\n    } \n    return (\n      <div className={containerStyleclasses.join(' ')}>\n        {/* <Sender sender={this.props.sender}/> */}\n        <div className={classes.Message}>\n          {this.getMessage()}\n          {/* <span className={classes.Time}>{new Date(this.props.time).getHours()}</span> */}\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\nexport default Message;\n","import React, { useEffect, createRef } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../store/actions/index';\n\nimport classes from './ChatWindow.module.css';\nimport ChatForm from './ChatForm/ChatForm';\nimport Message from './Message/Message';\n\nconst ChatWindow = props => {\n\n\n  useEffect(() => {\n    scrollToBottom();\n    if(props.currentTab === 'chat'){\n      const currentMessageNotificatios = props.notifications.filter(n => n.type.startsWith('NEW_MESSAGE') && n.chatId === props.currentChatId);\n      if(currentMessageNotificatios.length > 0){\n        const messageIds = currentMessageNotificatios.map(n => n.message.id);\n        props.onSendMessagesRead(props.currentChatId, messageIds);\n      }\n      const currentNewChatNotifications = props.notifications.find(n => {\n        if(n.type.startsWith('NEW_CHAT')){\n          console.log('FOUND NEW CHAT NOTIFICATON');\n          console.log(props.currentChatId);\n          console.log(n.chatId);\n          if(n.chatId === props.currentChatId) return true;\n        }\n        return false;\n      })\n      if(currentNewChatNotifications){\n        console.log('Found new Chat Notification')\n        console.log(currentNewChatNotifications);\n        props.onDeleteNotification(currentNewChatNotifications.id);\n      }\n    }\n\n  })\n\n  const scrollToBottom = (smooth) => {\n    bottomRef.current.scrollIntoView({behavior: smooth ? 'smooth' : 'auto', block: \"start\", inline: \"nearest\"});\n  }\n\n  const bottomRef = createRef()\n\n\n  let messages = [];\n  let foundAllOldMessages = false;\n  const currentChat = props.chats.find((x) => x.chatId === props.currentChatId);\n  if(currentChat){\n    currentChat.messages.forEach(message => {\n      if(!message.new){\n        messages.push(\n          <Message           \n            {...message} \n            key={message.id}\n            sent={props.userId === message.sender}\n          />\n        )\n      } else {\n        if(!foundAllOldMessages){\n          messages.push(\n            <div key='separator' className={classes.NewMessageSeparator}>new messages</div>\n          )\n          foundAllOldMessages = true;\n        }\n        messages.push(\n          <Message           \n            {...message} \n            new\n            key={message.id}\n            sent={props.userId === message.sender}\n          />\n        )\n      }\n    })\n  }\n  let styleClasses = [classes.ChatWindow];\n  styleClasses.push(props.windowWidth < 1277 ? classes.SmallChatWindow : classes.BigChatWindow);\n  return (\n    <div className={styleClasses.join(' ')}>\n      <div\n        className={classes.Messages} \n        style={{height: `calc(80vh-${props.formHeight}px)`}}>\n        <p className={classes.NotEncryptedMessage}>\n          This Chat is not yet end-to-end encrypted. <br/>\n          Or encrypted. But it is end-to-end, lol. <br/>\n          What I mean is maybe don't send nudes here just yet. <br/>\n        </p>\n        {/* {oldMessages}\n        {newMessages.length > 0 ? <div className={classes.NewMessageSeparator}>new messages</div> : null }\n        {newMessages} */}\n        {messages}\n        <div style={{ height: \"90px\"}} ref={bottomRef}></div>\n      </div>\n      <ChatForm inputRef={props.inputRef}/>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => {\n    return {\n      windowWidth: state.ui.windowWidth,\n\n      height: state.chat.formHeight,\n      currentTab: state.ui.currentTab,\n\n      chatsStatus: state.chat.chatsStatus,\n      currentChatId: state.chat.currentChatId,\n      chats: state.chat.chats,\n      unreadMessages: state.chat.unreadMessages,\n\n      userId: state.user.userId, \n      notifications: state.user.notifications,\n    }\n  }\n  \n  const mapDispatchToProps = dispatch => {\n    return {\n      onSendMessagesRead: (chatId, messageIds) => dispatch(actions.sendMessagesRead(chatId, messageIds)),\n      onDeleteNotification: (notificationId) => dispatch(actions.deleteNotification(notificationId)),\n    }\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(ChatWindow);","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../store/actions/index'; \n\nimport classes from \"./Chat.module.css\";\nimport ChatPrevs from './ChatPreviews/ChatPreviews';\nimport ChatWindow from './ChatWindow/ChatWindow';\nimport PrimaryButton from '../UI/PrimaryButton/PrimaryButton';\n\nclass Chat extends Component {\n\n  state = {\n    textInput: 'placeholder'\n  }\n  \n  componentDidUpdate = () => {\n    const unbufferMessage = this.props.messageBuffer.find(m => !m.dummyChatId.startsWith('dummy') && !m.sending); \n    if(unbufferMessage){\n      console.log('Sending Message');\n      console.log(unbufferMessage); \n      this.props.onSendMessageFromBuffer(\n        unbufferMessage.id, \n        unbufferMessage.dummyChatId, \n        unbufferMessage.dummyMessageId,\n        unbufferMessage.text\n      );\n    }\n  }\n\n  setChatFormInputValue = (event) => {\n    this.setState({textInput: event.target.value})\n  }\n\n  changeChat = (chatId) => {\n    this.props.onChangeChat(chatId, null, null, this.state.textInput);\n    this.props.onChangeShouldDeleteInput(true);\n  }\n\n  getNotLoggedInMessage = () => {\n    return(\n      <div className={classes.NotLoggedInContainer}>\n        <div className={classes.NotLoggedInMessage}>\n          <div className={classes.InnerContainer}>\n            <PrimaryButton clicked={this.props.onOpenMenu}><h3>Log in</h3></PrimaryButton>\n            or\n            <PrimaryButton clicked={this.props.onOpenMenu}><h3>Create Account</h3></PrimaryButton> \n            to chat with friends!\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    const styleClasses = [classes.Chat];\n    if (this.props.currentTab === 'stream') styleClasses.push(classes.OutLeft);\n    if (this.props.currentTab === 'creator') styleClasses.push(classes.OutRight);\n    return (\n      <div className={styleClasses.join(\" \")}>\n        { !this.props.token ? this.getNotLoggedInMessage() : null }\n        <ChatPrevs/>\n        <ChatWindow/>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentTab: state.ui.currentTab,\n    token: state.user.token,\n    chats: state.stream.chats,\n    messageBuffer: state.chat.messageBuffer,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onOpenMenu: () => dispatch(actions.openMenu()),\n    onChangeChat: (chatId, self, user, inputValue) => dispatch(actions.changeChat(chatId, self, user, inputValue)),\n    onSendMessageFromBuffer: (id, dummyChatId, dummyMessageId, text) => dispatch(actions.sendMessageFromBuffer(id, dummyChatId, dummyMessageId, text)), \n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Chat);\n","import React, { Component } from 'react';\nimport classes from './ResizeHandler.module.css';\n\n\nclass ResizeHandler extends Component {\n\n    componentDidMount = () => {\n        let element = document.getElementById(`rsh-${this.props.dir}`);\n        if(element){\n            element.addEventListener('onmousedown', this.handleResizeMouseDown);\n        }\n    }\n\n    componentWillUnmount = () => {\n        let element = document.getElementById(`rsh-${this.props.dir}`);\n        if(element){\n            element.removeEventListener('onmousedown', this.handleResizeMouseDown)\n        }\n    }\n\n    handleResizeMouseDown = e => {\n        e.stopPropagation();\n        this.props.resizeMouseDown(e, this.props.dir, this.props.elementId);\n    }\n\n    getStyleClasses = () => {\n        let styles = [this.props.dir.length > 1 ? classes.Corner : classes.Edge];\n        switch(this.props.dir){ \n            case 'NW': styles.push(classes.NW);break;\n            case 'NE': styles.push(classes.NE);break;\n            case 'SW': styles.push(classes.SW);break;\n            case 'SE': styles.push(classes.SE);break;\n            case 'N': styles.push(classes.N);break;\n            case 'W': styles.push(classes.W);break;\n            case 'S': styles.push(classes.S);break;\n            case 'E': styles.push(classes.E);break;\n        }\n        return styles;\n    } \n\n\n    render() {\n        return(\n            <div \n                id={`rsh-${this.props.dir}`}\n                className={this.getStyleClasses().join(' ')} \n                onMouseDown={e => this.props.resizeMouseDown(e, this.props.dir, this.props.elementId)}>\n            </div>\n        )\n    }\n}\n\nexport default ResizeHandler;","import React from 'react';\nimport useFitText from 'use-fit-text'; \n\nimport classes from './TextElement.module.css'; \n\nconst AutoResizeTextElement = (props) => {\n\n    const { fontSize, ref } = useFitText(); \n\n    const {font, height, width, fontWeight, verticalAlign, elementId } = props.element;\n\n    const verticalAlignClass = \n    verticalAlign === 'top' ? classes.topAlign \n    : verticalAlign === 'bottom' ? classes.bottomAlign \n    : classes.middleAlign;\n\n    return(\n        <div\n            contentEditable={props.editing}\n            suppressContentEditableWarning\n            type='text' \n            id={`${elementId}-input`}\n            className={`${classes.TextInput} ${verticalAlignClass}`} \n            // onDoubleClick={this.onTextFocus}\n            style={{\n                fontFamily: font,\n                fontWeight: fontWeight,\n                height,\n                width\n            }}\n            onInput={(e) => props.onTextInput(e, elementId)}>\n                <div \n                    ref={ref}\n                    style={{ fontSize, height, width }}\n                >\n                    {props.text}\n                </div>\n        </div>\n    )\n}\n\nexport default AutoResizeTextElement; ","import React from 'react';\nimport useFitText from 'use-fit-text'; \nimport AutoResizeTextElement from './AutoResizeTextElement';\n\nimport classes from './TextElement.module.css'; \n\nconst TextElement = (props) => {\n\n    const { fontSize, ref } = useFitText(); \n\n    const {font, height, width, fixedDimensions, fontWeight, verticalAlign, elementId } = props.element;\n\n    const verticalAlignClass = \n    verticalAlign === 'top' ? classes.topAlign \n    : verticalAlign === 'bottom' ? classes.bottomAlign \n    : classes.middleAlign;\n\n    if(fixedDimensions) return <AutoResizeTextElement {...props} />\n\n    return(\n        <div\n            contentEditable={props.editing}\n            suppressContentEditableWarning\n            type='text' \n            id={`${elementId}-input`}\n            className={`${classes.TextInput} ${verticalAlignClass}`} \n            // onDoubleClick={this.onTextFocus}\n            style={{\n                fontFamily: font,\n                fontWeight: fontWeight\n            }}\n            onInput={(e) => props.onTextInput(e, elementId)}>\n\n                    {props.text}\n        </div>\n    )\n}\n\nexport default TextElement; ","import React, { Component } from 'react';\n\nimport * as classes from './Element.module.css';\nimport ResizeHandler from './ResizeHandler/ResizeHandler';\nimport TextElement from './TextElement/TextElement';\n\n\n\nclass Element extends Component {\n\n    getStyles = () => {\n        const { height, width, posX, posY, font, fontSize, textAlign, fontWeight, underline, italic, color, textStroke, elementId } = this.props.element;\n        return {\n            height: `${height}px`, \n            width: `${width}px`,\n            left: `${posX}px`,\n            top: `${posY}px`,\n            fontFamily: `${font},Oswald,Impact`,\n            fontSize: `${fontSize}pt`,\n            textAlign: textAlign, \n            fontWeight: fontWeight,\n            fontStyle: italic ? 'italic' : 'normal',\n            backgroundColor: color,\n            textDecoration: underline ? 'underline' : 'none',\n            WebkitTextStrokeColor: textStroke ? \"black\" : null,\n            WebkitTextStrokeWidth: textStroke ? \"0.06rem\": null,\n            textShadow: textStroke ? \"0px 0px 0.1rem  #000\" : null,\n            cursor: this.props.editingId === elementId || this.props.inPreview ? null : 'grab', \n        }\n    }\n\n    getContent = () => {\n        const {color, elementId, imgSrc, text } = this.props.element;\n        switch(this.props.type){\n            case 'text': \n                return(\n                    <TextElement\n                        element={this.props.element}\n                        onInput={this.props.onTextInput}\n                        text={text}\n                        editing={this.props.editingId == elementId}\n                        onTextInput={this.props.onTextInput}\n                    />\n                )\n            case 'image': \n                return(\n                    <img\n                        src={imgSrc}\n                        className={classes.Image}\n                        id={`${elementId}-image`}\n                        onLoad={this.props.onImageLoad}\n                    />\n                )\n            case 'rect':\n                return (\n                    <div \n                        className={classes.Rect}\n                        style={{backgroundColor: color}}\n                    >\n                    </div>\n                )\n            default: return null;\n        }\n    }\n\n    highlighed = () => {\n        if(this.props.selected || !this.props.selectedLines) return false;\n        let Hlines = [];\n        let Vlines = [];\n        Hlines.push(this.props.element.posY)\n        Hlines.push((2* this.props.element.posY + this.props.element.height)/2)\n        Hlines.push(this.props.element.posY + this.props.element.height)\n        Vlines.push(this.props.element.posX)\n        Vlines.push((2* this.props.element.posX + this.props.element.width)/2)\n        Vlines.push(this.props.element.posX + this.props.element.width)\n        return Vlines.includes(this.props.selectedLines.v) || Hlines.includes(this.props.selectedLines.h);\n    }\n\n    mouseDown = (e) => {\n        e.stopPropagation(); \n        if(this.props.editingId !== this.props.element.elementId && !this.props.inPreview){\n            this.props.elementMouseDown(e, this.props.element.elementId);\n        }\n    }\n\n    mouseUp = (e) => {\n        e.stopPropagation();\n        if(this.props.editingId !== this.props.element.elementId && !this.props.inPreview){\n            this.props.select(e, this.props.element.elementId);\n        }\n    }\n\n    doubleClick = (e) => {\n        if(!this.props.inPreview){\n            if(this.props.element.type === 'text'){\n                this.props.selectAndEdit(e, this.props.element.elementId);\n            } else {\n                this.props.select(e, this.props.element.elementId);\n            }\n        }\n    }\n\n    render() {  \n        let styleClasses = [classes.Element];\n        if(this.highlighed()) styleClasses.push(classes.highlight);\n        return(\n            <div className={styleClasses.join(' ')}\n                onDoubleClick={this.doubleClick}\n                onMouseDown={this.mouseDown}\n                onMouseUp={this.mouseUp}\n                style={this.getStyles()}\n                id={`element-${this.props.element.elementId}`}\n            >\n                {this.getContent()}\n                {/* {this.getResizeHandlers()} */}\n            </div>\n        )\n    }\n}\n\nexport default Element;","import React, { Component } from 'react';\nimport classes from './Line.module.css';\n\n\nclass Line extends Component {\n\n\n    render() {\n        return(\n            <div \n                className={this.props.left === 0 ? classes.HL : classes.VL}\n                style={{\n                    top: `${this.props.top}px`,\n                    left: `${this.props.left}px`\n                }}>    \n            </div>\n        )\n    }\n}\n\nexport default Line;","import React, { useRef } from 'react';\nimport classes from './TopMenu.module.css';\n\nconst TopMenu = props => {\n\n    const inputFile = useRef(null) \n\n    const getRectangleIcon = () => {\n        return(\n            <svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect width=\"26\" height=\"26\" rx=\"3\" fill=\"white\"/>\n            </svg>\n\n        )\n    }\n\n    const getNewCircleIcon = () => {\n        return(\n            <svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M26 13C26 20.1797 20.1797 26 13 26C5.8203 26 0 20.1797 0 13C0 5.8203 5.8203 0 13 0C20.1797 0 26 5.8203 26 13Z\" fill=\"white\"/>\n            </svg>\n        )\n    }\n\n    const getNewTextElementIcon = () => {\n        return(\n            <svg width=\"23\" height=\"26\" viewBox=\"0 0 23 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M0 0H22.5V3H0V0Z\" fill=\"white\"/>\n                <path d=\"M0 3H3V7H0V3Z\" fill=\"white\"/>\n                <path d=\"M20 3H22.5V7H20V3Z\" fill=\"white\"/>\n                <path d=\"M7 23H16V26H7V23Z\" fill=\"white\"/>\n                <path d=\"M10 3H13V26H10V3Z\" fill=\"white\"/>\n            </svg>\n        )\n    }\n\n    const getNewImageIcon = () => {\n        return(\n            <svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M0.411133 20.9529L7.36393 14.0001L8.77815 15.4143L1.82535 22.3671L0.411133 20.9529Z\" fill=\"white\"/>\n                <path d=\"M10.0928 19.2714L19.3641 10.0001L20.7783 11.4143L11.507 20.6856L10.0928 19.2714Z\" fill=\"white\"/>\n                <path d=\"M7.41406 14L12.8181 19.404L11.4039 20.8182L5.99985 15.4142L7.41406 14Z\" fill=\"white\"/>\n                <path d=\"M19.4141 10L25.778 16.364L24.3638 17.7782L17.9998 11.4142L19.4141 10Z\" fill=\"white\"/>\n                <circle cx=\"9.5\" cy=\"8.5\" r=\"2.5\" stroke=\"white\" strokeWidth=\"2\"/>\n                <rect x=\"1\" y=\"1\" width=\"24\" height=\"24\" rx=\"1\" stroke=\"white\" strokeWidth=\"2\"/>\n            </svg>\n\n        )\n    }\n\n    const getShareIcon = () => {\n        return(\n            <svg \n                className={classes.shareIcon}\n                width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <line x1=\"10.4472\" y1=\"17.1056\" x2=\"20.4472\" y2=\"22.1056\" stroke=\"#fff\" strokeWidth=\"2\"/>\n                <line x1=\"9.55279\" y1=\"13.1056\" x2=\"19.5528\" y2=\"8.10557\" stroke=\"#fff\" strokeWidth=\"2\"/>\n                <circle cx=\"6\" cy=\"15\" r=\"5\" stroke=\"#fff\" strokeWidth=\"2\"/>\n                <circle cx=\"24\" cy=\"24\" r=\"5\" stroke=\"#fff\" strokeWidth=\"2\"/>\n                <circle cx=\"24\" cy=\"6\" r=\"5\" stroke=\"#fff\" strokeWidth=\"2\"/>\n            </svg>\n\n        )\n    }\n\n    const getDownLoadIcon = () => {\n        return(\n            <svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M1 26H6V33H34V26H39V35C39 36.6569 37.6569 38 36 38H4C2.34315 38 1 36.6569 1 35V26Z\" fill=\"#ffffff\"/>\n                <path d=\"M16 1C16 0.447716 16.4477 0 17 0H23C23.5523 0 24 0.447715 24 1V18H28.8439C29.6953 18 30.1572 18.996 29.6073 19.6459L20.7634 30.0978C20.3639 30.5699 19.6361 30.5699 19.2366 30.0978L10.3927 19.6459C9.84279 18.996 10.3047 18 11.1561 18H16V1Z\" fill=\"#ffffff\"/>\n            </svg>\n        )\n    }\n\n    const onFileInput =  (event) => {\n        console.log(\"FILE INPUT\")\n        let posX = 100;\n        let posY = 100;  \n        for(let i=0; i<event.target.files.length;i++){\n            let fr = new FileReader; \n            fr.onload = () => {\n                let image = new Image; \n                image.src = fr.result; \n                image.onload = () => {\n                    props.addElements([{\n                        type: 'image', \n                        elementId: `${Date.now()}${i}`, \n                        height: image.height,\n                        width: image.width,\n                        posX, \n                        posY,\n                        imgSrc: image.src\n                    }])\n                }\n            }\n            fr.readAsDataURL(event.target.files[i]); \n            posX += 20; \n            posY += 20; \n        }\n    }\n\n    const addImageClickHandler = () => {\n        inputFile.current.click();\n    }\n\n    return(\n        <div className={classes.TopMenu}>\n            <div className={classes.LeftAlign}>\n                <div \n                    className={classes.MenuItem}\n                    onClick={() => props.addElements([{\n                        type: 'rect', \n                        elementId: `${Date.now()}`,\n                        posX: 100,\n                        posY: 100,\n                        height: 400,\n                        width: 400,\n                        color: '#FF8592',\n                    }])}\n                >\n                    {getRectangleIcon()}\n                </div>\n                <div \n                    className={classes.MenuItem}\n                    onClick={() => props.addElements([{\n                        type: 'text', \n                        elementId: `${Date.now()}`,\n                        height: 60,\n                        width: 400, \n                        posX: 100,\n                        posY: 300,\n                        text: 'Text Element 3',\n                        font: 'Oswald',\n                        fontSize: '30',\n                        fontWeight: '700',\n                        textAlign: 'center',\n                        fixedWidth: true,\n                        underline: false, \n                        italic: false, \n                        textStroke: true\n                }])}>\n                    {getNewTextElementIcon()}\n                </div>\n                <div \n                    className={classes.MenuItem}\n                    onClick={addImageClickHandler}>\n                    {getNewImageIcon()}\n                </div>\n            </div>\n            <div className={classes.RightAlign}>\n                <div \n                    className={classes.MenuItem}\n                    onClick={props.openExportModal}>\n                    {getShareIcon()}\n                </div>\n                <div \n                    className={classes.MenuItem}\n                    onClick={props.openExportModal}>\n                    {getDownLoadIcon()}\n                </div>\n            </div>\n            <input type='file' id='file' multiple ref={inputFile} style={{display: 'none'}} onInput={onFileInput}/>\n        </div>\n    )\n}\n\nexport default TopMenu;"," import React, { Component } from 'react';\n import classes from './SelectionMenu.module.css';\n\n class SelectionMenu extends Component {\n\n    leftAlignIcon = () => {\n        const strokeColor = this.props.selected.textAlign === 'left' ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.selected.textAlign === 'left' ? classes.alignActive : classes.alignInactive} \n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                {/* <rect x=\"1.5\" y=\"1.5\" width=\"37\" height=\"37\" rx=\"3.5\" stroke=\"white\" stroke-width=\"3\"/> */}\n                <line x1=\"7\" y1=\"8\" x2=\"33\" y2=\"8\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"7\" y1=\"20\" x2=\"30\" y2=\"20\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"7\" y1=\"32\" x2=\"27\" y2=\"32\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"7\" y1=\"14\" x2=\"22\" y2=\"14\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"7\" y1=\"26\" x2=\"22\" y2=\"26\" stroke={strokeColor} strokeWidth=\"2\"/>\n            </svg>\n        )\n    }\n\n    centerAlignIcon = () => {\n        const strokeColor = this.props.selected.textAlign === 'center' ? '#11192c' : '#ffffff';\n        return (\n            <svg \n                className={this.props.selected.textAlign === 'center' ? classes.alignActive : classes.alignInactive} \n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                {/* <rect x=\"1.5\" y=\"1.5\" width=\"37\" height=\"37\" rx=\"3.5\" stroke=\"white\" stroke-width=\"3\"/> */}\n                <line x1=\"7\" y1=\"8\" x2=\"33\" y2=\"8\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"9\" y1=\"20\" x2=\"32\" y2=\"20\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"10\" y1=\"32\" x2=\"30\" y2=\"32\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"13\" y1=\"14\" x2=\"28\" y2=\"14\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"13\" y1=\"26\" x2=\"28\" y2=\"26\" stroke={strokeColor} strokeWidth=\"2\"/>\n            </svg>\n        )\n    }\n\n    rightAlignIcon = () => {\n        const strokeColor = this.props.selected.textAlign === 'right' ? '#11192c' : '#ffffff';\n        return (\n            <svg \n                className={this.props.selected.textAlign === 'right' ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                {/* <rect x=\"-1.5\" y=\"1.5\" width=\"37\" height=\"37\" rx=\"3.5\" transform=\"matrix(-1 0 0 1 37 0)\" stroke=\"white\" stroke-width=\"3\"/> */}\n                <line stroke={strokeColor} y1=\"-1\" x2=\"26\" y2=\"-1\" transform=\"matrix(-1 0 0 1 33 9)\" strokeWidth=\"2\"/>\n                <line stroke={strokeColor} y1=\"-1\" x2=\"23\" y2=\"-1\" transform=\"matrix(-1 0 0 1 33 21)\" strokeWidth=\"2\"/>\n                <line stroke={strokeColor} y1=\"-1\" x2=\"20\" y2=\"-1\" transform=\"matrix(-1 0 0 1 33 33)\" strokeWidth=\"2\"/>\n                <line stroke={strokeColor} y1=\"-1\" x2=\"16\" y2=\"-1\" transform=\"matrix(-1 0 0 1 33 15)\" strokeWidth=\"2\"/>\n                <line stroke={strokeColor} y1=\"-1\" x2=\"16\" y2=\"-1\" transform=\"matrix(-1 0 0 1 33 27)\" strokeWidth=\"2\"/>\n            </svg>\n        )\n    }\n\n    topAlignIcon = () => {\n        const strokeColor = this.props.selected.verticalAlign === 'top' ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.selected.verticalAlign === 'top' ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <line stroke={strokeColor} x1=\"6\" y1=\"7\" x2=\"34\" y2=\"7\" strokeWidth=\"2\"/>\n                <path fill={strokeColor} d=\"M20.7071 10.2929C20.3166 9.90237 19.6834 9.90237 19.2929 10.2929L12.9289 16.6569C12.5384 17.0474 12.5384 17.6805 12.9289 18.0711C13.3195 18.4616 13.9526 18.4616 14.3431 18.0711L20 12.4142L25.6569 18.0711C26.0474 18.4616 26.6805 18.4616 27.0711 18.0711C27.4616 17.6805 27.4616 17.0474 27.0711 16.6569L20.7071 10.2929ZM21 33V11H19V33H21Z\"/>\n            </svg>\n        )\n    }\n\n    middleAlignIcon = () => {\n        const strokeColor = this.props.selected.verticalAlign === 'middle' ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.selected.verticalAlign === 'middle' ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <line stroke={strokeColor} x1=\"6\" y1=\"20\" x2=\"34\" y2=\"20\" strokeWidth=\"2\"/>\n                <path fill={strokeColor} d=\"M20.7071 23.2929C20.3166 22.9024 19.6834 22.9024 19.2929 23.2929L12.9289 29.6569C12.5384 30.0474 12.5384 30.6805 12.9289 31.0711C13.3195 31.4616 13.9526 31.4616 14.3431 31.0711L20 25.4142L25.6569 31.0711C26.0474 31.4616 26.6805 31.4616 27.0711 31.0711C27.4616 30.6805 27.4616 30.0474 27.0711 29.6569L20.7071 23.2929ZM21 34L21 24H19V34H21Z\"/>\n                <path fill={strokeColor} d=\"M19.2929 16.7071C19.6834 17.0976 20.3166 17.0976 20.7071 16.7071L27.0711 10.3431C27.4616 9.95262 27.4616 9.31946 27.0711 8.92893C26.6805 8.53841 26.0474 8.53841 25.6569 8.92893L20 14.5858L14.3431 8.92893C13.9526 8.53841 13.3195 8.53841 12.9289 8.92893C12.5384 9.31946 12.5384 9.95262 12.9289 10.3431L19.2929 16.7071ZM19 6V16H21V6H19Z\"/>\n                </svg>\n        )\n    }\n\n    bottomAlignIcon = () => {\n        const strokeColor = this.props.selected.verticalAlign === 'bottom' ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.selected.verticalAlign === 'bottom' ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <line stroke={strokeColor} x1=\"34\" y1=\"33\" x2=\"6\" y2=\"33\" strokeWidth=\"2\"/>\n                <path fill={strokeColor} d=\"M19.2929 29.7071C19.6834 30.0976 20.3166 30.0976 20.7071 29.7071L27.0711 23.3431C27.4616 22.9526 27.4616 22.3195 27.0711 21.9289C26.6805 21.5384 26.0474 21.5384 25.6569 21.9289L20 27.5858L14.3431 21.9289C13.9526 21.5384 13.3195 21.5384 12.9289 21.9289C12.5384 22.3195 12.5384 22.9526 12.9289 23.3431L19.2929 29.7071ZM19 7V29H21V7H19Z\" fill={strokeColor}/>\n            </svg>\n        )\n    }\n\n    italicIcon = () => {\n        const strokeColor = this.props.selected.italic ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.selected.italic ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M16 8C16 7.44772 16.4477 7 17 7H28C28.5523 7 29 7.44772 29 8V9C29 9.55228 28.5523 10 28 10H24.7899C24.3268 10 23.9243 10.3179 23.8171 10.7684L19.2932 29.7684C19.1436 30.3968 19.6201 31 20.266 31H23C23.5523 31 24 31.4477 24 32V33C24 33.5523 23.5523 34 23 34H12C11.4477 34 11 33.5523 11 33V32C11 31.4477 11.4477 31 12 31H15.2101C15.6732 31 16.0757 30.6821 16.1829 30.2316L20.7068 11.2316C20.8564 10.6032 20.3799 10 19.734 10H17C16.4477 10 16 9.55228 16 9V8Z\" fill={strokeColor}/>\n            </svg>\n        )\n    }\n\n    underlineIcon = () => {\n        const strokeColor = this.props.selected.underline ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.selected.underline ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M11 32C11 31.4477 11.4477 31 12 31H28C28.5523 31 29 31.4477 29 32V33C29 33.5523 28.5523 34 28 34H12C11.4477 34 11 33.5523 11 33V32Z\" fill={strokeColor}/>\n                <path d=\"M12 8C12 7.44772 12.4477 7 13 7H15C15.5523 7 16 7.44772 16 8V22C16 22.5523 15.5523 23 15 23H13C12.4477 23 12 22.5523 12 22V8Z\" fill={strokeColor}/>\n                <path d=\"M24 8C24 7.44772 24.4477 7 25 7H27C27.5523 7 28 7.44772 28 8V22C28 22.5523 27.5523 23 27 23H25C24.4477 23 24 22.5523 24 22V8Z\" fill={strokeColor}/>\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M16 17.7358C13.6088 18.6868 12 20.4643 12 22.5C12 26 15.5817 28 20 28C24.4183 28 28 26 28 22.5C28 20.4643 26.3912 18.6868 24 17.7358V21C24 25 20 25 20 25C20 25 16 25 16 21V17.7358Z\" fill={strokeColor}/>\n            </svg>\n        )\n    }\n\n    stopPropagation = (e) => {\n        //e.stopPropagation();\n    }\n\n    editHeight = (e) => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            height: e.target.value,\n        });\n    }\n\n    editWidth = (e) => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            width: e.target.value,\n        });\n    }\n\n    editX = (e) => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            posX: e.target.value,\n        });\n    }\n\n    editY = (e) => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            posY: e.target.value,\n        });\n    }\n\n    editFont = (e) => {\n        console.log(e.target.value);\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            font: e.target.value,\n        });\n    }\n\n    editFontSize = (e) => {\n        console.log(e.target.value);\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            fontSize: e.target.value,\n        });\n    }\n\n    editTextAlign = (value) => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            textAlign: value,\n        });\n    }\n\n    editFontWeight = (e) => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            fontWeight: e.target.value,\n        });\n    }\n\n    editFixedDimensions = (value) => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            fixedDimensions: value,\n        });\n    }\n\n    editUnderline = () => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            underline: !this.props.selected.underline,\n        });\n    }\n\n    editItalic = () => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            italic: !this.props.selected.italic,\n        });\n    }\n\n    editVerticalAlign = (value) => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            verticalAlign: value\n        });\n    }\n\n    editColor = (e) => {\n        console.log(\"Editing color: \", e.target.value)\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            color: e.target.value\n        })\n    }\n\n    render(){\n        if(!this.props.selected) return null;\n        const { type, color, elementId, posX, posY, height, width, fontSize, font, fontWeight, fixedDimensions } = this.props.selected;\n\n        return (\n            <div className={classes.SelectionMenu} onClick={this.stopPropagation} onMouseUp={this.stopPropagation}>\n                <div>\n                    <div className={classes.flex}>\n                        <div className={classes.inputWrapper}>\n                            <span>Height:</span>\n                            <input className={classes.input} onChange={this.editHeight} type='number' value={height}/>\n                        </div>\n                        <div className={classes.inputWrapper}>\n                            <span>Width:</span>\n                            <input className={classes.input} onChange={this.editWidth} type='number' value={width}/>\n                        </div>\n                    </div>\n                    <div className={classes.flex}>\n                        <div className={classes.inputWrapper}>\n                            <span>X:</span>\n                            <input className={classes.input}  onChange={this.editX} type='number' value={posX}/>\n                        </div>\n                        <div className={classes.inputWrapper}>\n                            <span>Y:</span>\n                            <input className={classes.input} onChange={this.editY} type='number' value={posY}/>\n                        </div>\n                    </div>\n                </div>\n                { type === \"text\" ? \n                    <div className={classes.textOptions}>\n                        <div className={classes.flex}>\n                            <div className={classes.fontSelector}> \n                                <select onChange={this.editFont} value={font}>\n                                    <option value=\"Impact\">Impact</option>\n                                    <option value=\"Arial\">Arial</option>\n                                    <option value=\"Times\">Times</option>\n                                    <option value=\"Verdana\">Verdana</option>\n                                </select>\n                            </div>\n                            <div className={classes.inputWrapper}>\n                                <input className={classes.input} onChange={this.editFontSize} type='number' value={fontSize}/>\n                            </div>\n                        </div>\n                        <div className={classes.flexSpaceBetween}>\n                            <div className={classes.flex}>\n                                <div className={classes.alignIcon} onClick={() => this.editTextAlign(\"left\")}>\n                                    {this.leftAlignIcon()}\n                                </div>\n                                <div className={classes.alignIcon} onClick={() => this.editTextAlign(\"center\")}>\n                                    {this.centerAlignIcon()}\n                                </div>\n                                <div className={classes.alignIcon} onClick={() => this.editTextAlign(\"right\")}>\n                                    {this.rightAlignIcon()}\n                                </div>\n                            </div>\n                            <div className={classes.flex}>\n                                <div className={classes.alignIcon} onClick={() => this.editVerticalAlign(\"top\")}>\n                                {this.topAlignIcon()}\n                                </div>\n                                <div className={classes.alignIcon} onClick={() => this.editVerticalAlign(\"middle\")}>\n                                {this.middleAlignIcon()}\n                                </div>\n                                <div className={classes.alignIcon} onClick={() => this.editVerticalAlign(\"bottom\")}>\n                                {this.bottomAlignIcon()}\n                                </div>\n                            </div>\n                        </div>\n                        <div className={classes.flex}>\n                            <div className={classes.fontWeight}>\n                                <select onChange={this.editFontWeight} value={fontWeight}>\n                                    {/* <option value=\"900\">Black</option>\n                                    <option value=\"800\">ExtraBold</option> */}\n                                    <option value=\"700\">Bold</option>\n                                    {/* <option value=\"600\">SemiBold</option>\n                                    <option value=\"500\">Medium</option> */}\n                                    <option value=\"400\">Regular</option>\n                                    {/* <option value=\"300\">Light</option>\n                                    <option value=\"200\">ExtraLight</option>\n                                    <option value=\"100\">Thin</option> */}\n                                </select>\n                            </div>\n                            <div className={classes.alignIcon} onClick={this.editItalic}>\n                                {this.italicIcon()}\n                            </div>\n                            <div className={classes.alignIcon} onClick={this.editUnderline}>\n                                {this.underlineIcon()}\n                            </div>\n                        </div>\n\n\n                        <div className={classes.textBoxTypeOptions}>\n                            <div onClick={() => this.editFixedDimensions(false)}>\n                                <input type=\"checkbox\" onChange={() => this.editFixedDimensions(false)} checked={!fixedDimensions}/> fixed width & font size\n                            </div>\n                            <div onClick={() => this.editFixedDimensions(true)}>\n                                <input type=\"checkbox\" onChange={() => this.editFixedDimensions(true)} checked={fixedDimensions}/> fixed textbox size\n                            </div>\n                        </div>\n                    </div>\n                : null }\n                { type === \"rect\" ? \n                    <div className={classes.textOptions}>\n                        <input type='color' onChange={this.editColor} value={color}/>\n                        \n                    </div>\n                : null }\n            </div>\n        )\n    }\n }\n\n export default SelectionMenu;","import React, { Component } from 'react';\nimport ResizeHandler from '../Element/ResizeHandler/ResizeHandler';\nimport classes from './SelectionFrame.module.css';\n\nclass SelectionFrame extends Component {\n\n\n    getResizeHandlers = () => {\n        let resizeHandlers = [];\n        if(this.props.editingId) return null; \n        if(this.props.element.type === 'text' && !this.props.element.fixedDimensions){\n                resizeHandlers.push('W','E');\n        } else {\n            resizeHandlers.push('NW','SW','NE','SE');\n            if(this.props.element.height > 30){\n                resizeHandlers.push('E','W');\n            }\n            if(this.props.element.width > 30){\n                resizeHandlers.push('N','S');\n            }\n        } \n        return resizeHandlers.map(r => {\n            return (\n                <ResizeHandler \n                    key={r} \n                    dir={r} \n                    elementId={this.props.element.elementId} \n                    resizeMouseDown={this.props.resizeMouseDown}\n                />\n            )\n        });\n    }\n\n    doubleClick = e => {\n        if(this.props.element.type === 'text'){\n            this.props.selectAndEdit(e, this.props.element.elementId)\n        }\n    }\n\n    getStyles = () => {\n        const { height, width, posX, posY } = this.props.element;\n        let styles = {\n            height: `${height}px`, \n            width: `${width}px`,\n            left: `${posX}px`,\n            top: `${posY}px`,\n        }\n        if(this.props.editingId){\n            styles.pointerEvents = 'none'; \n        }else {\n            styles.cursor = 'grab';\n        }\n        return styles; \n    }\n\n    onMouseDown = (e) => {\n        if(this.props.editingId !== this.props.element.elementId){\n            this.props.elementMouseDown(e, this.props.element.elementId)\n        }\n    }\n\n    render(){\n        return(\n            <div \n                className={classes.SelectionFrame} \n                style={this.getStyles()}\n                onMouseDown={this.onMouseDown}\n                onMouseUp={this.mouseUp}\n                onDoubleClick={this.doubleClick}\n                >\n                {this.getResizeHandlers()}\n            </div>           \n        );\n    }\n}\n\nexport default SelectionFrame;","import React, { Component } from 'react';\n\nimport classes from './ExportModal.module.css';\n\nimport * as htmlToImage from 'html-to-image';\n\nimport Element from '../Element/Element';\nimport PrimaryButton from '../../UI/PrimaryButton/PrimaryButton';\nimport Loader from 'react-loader-spinner'; \nimport { Link } from 'react-router-dom';\n\n\nclass ExportModal extends Component {\n\n    state={\n        height: 0,\n        width: 0, \n        downloadFormat: 'jpg', // jpg, png, svg\n        linkRef: React.createRef(), \n        imagesLoaded: 0, \n        imageCreationStarted: false, \n        downloadLoading: false,\n    }\n\n    componentDidMount = () => {\n        const height = this.divElement.clientHeight;\n        const width = this.divElement.clientWidth;\n        console.log(height, width);\n        this.setState({ height, width });\n    }\n\n    componentDidUpdate = () => {\n        const height = this.divElement.clientHeight;\n        const width = this.divElement.clientWidth;\n        if(height !== this.state.height || width !== this.state.width){\n            this.setState({ height, width });\n        }\n    }\n\n    calcContentMetrics = () => {\n        let leftBorder = 10000000000;\n        let rightBorder = -10000000000;\n        let topBorder = 10000000000;\n        let bottomBorder = -10000000000;\n        \n        this.props.elements.forEach(element => {\n            if(element.posX < leftBorder) leftBorder =  element.posX;\n            if(element.posX + element.width > rightBorder) rightBorder =  element.posX + element.width;\n            if(element.posY < topBorder) topBorder =  element.posY;\n            if(element.posY + element.height > bottomBorder) bottomBorder =  element.posY + element.height;\n        })\n        return {\n            leftBorder,\n            rightBorder,\n            topBorder, \n            bottomBorder,\n            contentWidth: rightBorder-leftBorder,\n            contentHeight: bottomBorder-topBorder,\n        };\n    }\n\n    setDownloadFormat = (e) => {\n        console.log(e.target.value);\n        this.setState({downloadFormat: e.target.value});\n    }\n\n    onDownLoad = () => {\n            const node = document.getElementById('preview');\n            this.setState({downloadStarted: true}); \n            //png\n            if(this.state.downloadFormat === \"png\"){\n                htmlToImage.toPng(node)\n                .then(dataUrl => {\n                    const link = document.createElement('a');\n                    link.setAttribute('download',`FileName.${this.state.downloadFormat}`);\n                    link.href = dataUrl;\n                    document.body.appendChild(link);\n                    link.click();\n                    if(link && link.parentNode){\n                        link.parentNode.removeChild(link);\n                    }\n                    this.props.closeExportModal(); \n                }).catch(err => {\n                    console.log(\"png downloadError\")\n                    console.log(err);\n                })\n            }\n    \n            // jpg\n            if(this.state.downloadFormat === \"jpg\"){\n                htmlToImage.toJpeg(node)\n                .then(dataUrl => {\n                    const link = document.createElement('a');\n                    link.setAttribute('download',`FileName.${this.state.downloadFormat}`);\n                    link.href = dataUrl;\n                    document.body.appendChild(link);\n                    link.click();\n                    if(link && link.parentNode){\n                        link.parentNode.removeChild(link);\n                    }\n                    this.props.closeExportModal(); \n                }).catch(err => {\n                    console.log(\"SETTING URL ERROR\")\n                    console.log(err);\n                })\n            }\n    \n            // svg\n            if(this.state.downloadFormat === \"png\"){\n                htmlToImage.toSvg(node)\n                .then(dataUrl => {\n                    const link = document.createElement('a');\n                    link.setAttribute('download',`FileName.${this.state.downloadFormat}`);\n                    link.href = dataUrl;\n                    document.body.appendChild(link);\n                    link.click();\n                    if(link && link.parentNode){\n                        link.parentNode.removeChild(link);\n                    }\n                    this.props.closeExportModal(); \n                }).catch(err => {\n                    console.log(\"SETTING URL ERROR\")\n                })\n            }\n    }\n\n    getElements = (elements) => {\n\n        // TODO: redo/replace this with real orders and z-index\n        const orderedElements = [\n          ...elements.filter(e => e.type !== 'text'),\n          ...elements.filter(e => e.type === 'text')\n        ]\n    \n        return orderedElements.map(e => {\n          // const highlight = this.state.dragging && this.state.\n            switch(e.type){\n                case 'text': \n                    return(\n                        <Element \n                        inPreview\n                        type='text'\n                        key={`prev-${e.elementId}`}\n                        element={e}\n                        />\n                    ) \n                case 'rect': \n                    return(\n                        <Element \n                            inPreview\n                            type='rect'\n                            key={`prev-${e.elementId}`}\n                            element={e}\n                        />\n                    )\n                case 'image': \n                    return(\n                        <Element \n                        inPreview\n                        type='image'\n                        key={`prev-${e.elementId}`}\n                        element={e}\n                        />\n                    )\n                default: console.log('Invalid Element Type!'); return null; \n            }\n        })\n    }\n\n    render(){\n        const {\n            leftBorder,\n            rightBorder,\n            topBorder, \n            bottomBorder,\n            contentWidth,\n            contentHeight\n        } = this.calcContentMetrics();\n\n        const aspectRatioContainer = this.state.width/this.state.height;\n        const aspectRatioContent = contentWidth/contentHeight; \n\n        let previewStyles = {\n            height: contentHeight,\n            width: contentWidth\n        };\n        \n        if(aspectRatioContent < aspectRatioContainer) {\n            const scaleFactorY = this.state.height / contentHeight; \n            if(contentHeight > this.state.height){\n                previewStyles.zoom = scaleFactorY; \n            }\n        } else {\n            const scaleFactorX =  this.state.width / contentWidth \n            if(contentWidth > this.state.width){\n                previewStyles.zoom = scaleFactorX; \n            }\n        }\n\n        const transformedElements = this.props.elements.map(element => {\n            return {\n                ...element,\n                posX: element.posX - leftBorder,\n                posY: element.posY - topBorder,\n            }\n        })\n\n\n        return(\n            <div className={classes.ExportModal}>\n                <div className={classes.Background} onClick={this.props.closeExportModal}></div>\n                <div className={classes.Modal}>\n                    <div id=\"previewContainer\" className={classes.PreviewContainer} ref={ (divElement) => { this.divElement = divElement } }>\n                        <div \n                            className={classes.Preveiw} \n                            style={previewStyles}\n                            >\n                                <div id=\"preview\" className={classes.DownloadWrapper}>\n                                    {\n                                        this.getElements(transformedElements)\n                                    }\n                                </div>\n                        </div>\n                    </div>\n                    <div className={classes.DownloadOptions}>\n                        <div className={classes.DownloadContainer}>\n                            <select onChange={this.setDownloadFormat} value={this.state.downloadFormat}>\n                                <option value=\"png\" label=\"png\"/>\n                                <option value=\"jpg\" label=\"jpg\"/>\n                                <option value=\"svg\" label=\"svg\"/>\n                            </select>\n                            <PrimaryButton clicked={this.onDownLoad} disabled={this.state.downloadLoading}>\n                                {\n                                    !this.state.downloadLoading\n                                    ? <h3>Download</h3> \n                                    :  <Loader \n                                        className={classes.Spinner} \n                                        type=\"ThreeDots\" \n                                        color=\"#FFFFFF\" \n                                        height={30} \n                                        width={30}/>\n                                }\n                            </PrimaryButton>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ExportModal;","import React, { Component } from 'react'\nimport classes from './ImageDragNDrop.module.css'; \n\nclass ImageDragNDrop extends Component {\n  state = {\n    drag: false\n  }\n  dropRef = React.createRef()\n\n  handleDragIn = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    console.log(\"drag in\"); \n    this.dragCounter++\n    if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\n      this.setState({drag: true})\n    }\n  }\n  handleDragOut = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    console.log(\"drag out\"); \n    this.dragCounter--\n    if (this.dragCounter === 0) {\n      this.setState({drag: false})\n    }\n  }\n  handleDrop = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    this.setState({drag: false})\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      this.props.handleDrop(e.dataTransfer.files)\n      e.dataTransfer.clearData()\n      this.dragCounter = 0;     \n    }\n  }\n  componentDidMount() {\n    let div = this.dropRef.current\n    div.addEventListener('dragenter', this.handleDragIn)\n    div.addEventListener('dragleave', this.handleDragOut)\n    div.addEventListener('drop', this.handleDrop)\n  }\n  componentWillUnmount() {\n    let div = this.dropRef.current\n    div.removeEventListener('dragenter', this.handleDragIn)\n    div.removeEventListener('dragleave', this.handleDragOut)\n    div.removeEventListener('drop', this.handleDrop)\n  }\n  render() {\n    return (\n      <div\n        style={{display: 'inline-block', position: 'relative', height: \"100%\", width: \"100%\"}}\n        ref={this.dropRef}\n      >\n        {this.state.dragging &&\n          <div \n            style={{\n              border: 'dashed grey 4px',\n              backgroundColor: 'rgba(255,255,255,.8)',\n              zIndex: 9999, \n              height: \"100%\", \n              width: \"100%\",\n            }}\n          >\n            <div \n              style={{\n                position: 'absolute',\n                top: '50%',\n                right: 0,\n                left: 0,\n                textAlign: 'center',\n                color: 'grey',\n                fontSize: 36\n              }}\n            >\n              <div>drop here :)</div>\n            </div>\n          </div>\n        }\n        {this.props.children}\n      </div>\n    )\n  }\n}\nexport default ImageDragNDrop","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../store/actions/index';\nimport classes from \"./Creator.module.css\";\nimport Element from \"./Element/Element\";\nimport Line from \"./Line/Line\";\nimport TopMenu from \"./TopMenu/TopMenu\";\nimport SelectionMenu from \"./SelectionMenu/SelectionMenu\";\nimport SelectionFrame from \"./SelectionFrame/SelectionFrame\";\nimport ExportModal from \"./ExportModal/ExportModal\";\nimport ImageDragNDrop from \"./ImageDragNDrop/ImageDragNDrop\";\nimport ChrisDrunk from './ChrisDrunk.jpg'; \nimport Washington from './Washington.jpeg';\nimport Monument from './Washington_Monument.jpeg';\n\nconst JUMP_TO_LINE_TOLERANZ = 4;\n\nclass Creator extends Component {\n\n  state = {\n    dragging: false, \n    draggingFile: false, \n    selectedId: null,\n    editingId: null, \n    selectedHline: null,\n    selectedVline: null,\n    exportModalOpen: false,\n    files: [], \n    elements: [\n      {\n        type: 'text', \n        elementId: '5',\n        height: 170,\n        width: 570, \n        posX: 115,\n        posY: 65,\n        text: 'Y\\'all ever notice that the Washington monument looks absolutely NOTHING like George Washington?',\n        font: 'Oswald',\n        fontSize: '28.5',\n        fontWeight: '700',\n        textAlign: 'center',\n        verticalAlign: 'top', \n        fixedDimensions: true,\n        underline: false, \n        italic: false, \n        textStroke: true,\n      },\n      {\n        type: 'rect',\n        elementId: '8',\n        posX: 100,\n        posY: 50,\n        height: 555,\n        width: 600,\n        color: '#000000',\n      },\n      {\n        type: 'image',\n        elementId: '11',\n        imgSrc: Washington,\n        posX: 100,\n        posY: 250,\n        height: 365,\n        width: 300,\n      },\n      {\n        type: 'image',\n        elementId: '12',\n        imgSrc: Monument,\n        posX: 400,\n        posY: 250,\n        height: 365,\n        width: 300,\n      }\n    ],\n  }\n\n\n  /// SELECT /////////////////////////////////////////////////\n\n  select = (e, elementId) => {\n    e.stopPropagation();\n    e.preventDefault();\n    if(this.state.editingId){\n      const element = document.getElementById(`${this.state.editingId}-input`);\n      element.blur();\n    }\n    this.setState({\n      selectedId: elementId, \n      editingId: null\n    })\n  }\n\n  selectAndEdit = (e, elementId) => {\n    e.stopPropagation();\n    e.preventDefault();\n    this.setState({\n      selectedId: elementId,\n      editingId: elementId\n    })\n    const element = document.getElementById(`${elementId}-input`);\n    setTimeout(() => {\n      console.log(\"focusing\")\n      element.focus();\n    }, 0); \n  }\n\n  backgroundMouseUp = (e) => {\n    if(!this.state.dragging){\n      if(this.state.editingId){\n        const element = document.getElementById(`${this.state.editingId}-input`);\n        element.blur();\n        this.setState({ editingId: null, draggingFile: false })\n      }else{\n        this.setState({\n          selectedId: null, draggingFile: false \n        });\n      }\n    }\n  }\n\n  /// REPOSITION /////////////////////////////////////////////////\n\n  elementMouseDown = (e, elementId) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const element = this.state.elements.find(e => e.elementId === elementId);\n    const prevX = element.posX;\n    const prevY = element.posY;\n    const prevMouseX = e.clientX;\n    const prevMouseY = e.clientY;\n    const { Hlines, Vlines } = this.getLines(elementId);\n    const mousemove = (e) => {\n      let  newX = prevX - prevMouseX + e.clientX;\n      let newY = prevY - prevMouseY + e.clientY;\n      let selectedHline = null;\n      let selectedVline = null; \n      Hlines.forEach(l => {\n        if(Math.abs(l-newY) < JUMP_TO_LINE_TOLERANZ){\n           newY = l;\n           selectedHline = l;\n        } \n        if(Math.abs(l-(newY+element.height)) < JUMP_TO_LINE_TOLERANZ){\n          newY = l - element.height;\n          selectedHline = l;\n        }\n        if(Math.abs(l-(2*newY+element.height)/2) < JUMP_TO_LINE_TOLERANZ){\n          newY = l - 0.5 * element.height;\n          selectedHline = l;\n        }\n      })\n      Vlines.forEach(l => {\n        if(Math.abs(l-newX) < JUMP_TO_LINE_TOLERANZ){\n           newX = l;\n           selectedVline = l;\n        } \n        if(Math.abs(l-(newX+element.width)) < JUMP_TO_LINE_TOLERANZ){\n          newX = l - element.width\n          selectedVline = l;\n        }\n        if(Math.abs(l-(2*newX+element.width)/2) < JUMP_TO_LINE_TOLERANZ){\n          newX = l - 0.5 * element.width\n          selectedVline = l;\n        }\n      })\n      let elementsNew = this.state.elements.map(e => {\n        if(e.elementId !== elementId){\n          return e;\n        }else{\n          return ({\n            ...element,\n            posX: newX,\n            posY: newY,\n          })\n        }\n      });\n      this.setState({\n        selectedId: elementId, \n        selectedHline: selectedHline,\n        selectedVline: selectedVline,\n        elements: elementsNew,\n      });\n    } \n\n    const mouseup = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      window.removeEventListener('mousemove', mousemove);\n      window.removeEventListener('mouseup', mouseup);\n      this.setState({\n        selectedHline: null, \n        selectedVline: null,\n        dragging: false\n      })\n    }\n\n    window.addEventListener('mousemove', mousemove);\n    window.addEventListener('mouseup', mouseup);\n    this.setState({\n      selectedId: elementId,\n      dragging: true, \n    })\n  }\n\n  onTextInput = (e, elementId) => {\n    const selectionOffsetBefore = window.getSelection().focusOffset;\n    let elementsNew = this.state.elements.filter(e => e.elementId !== elementId);\n    const element = this.state.elements.find(e => e.elementId === elementId);\n    let elem = document.getElementById(`${elementId}-input`);\n    console.log(elem.offsetHeight, element.height)\n    let newHeight = element.fixedDimensions ? element.height : elem.offsetHeight; \n    this.setState({\n      elements: [\n        ...elementsNew,\n        {\n          ...element,\n          height: newHeight,\n          text: e.target.textContent\n        }\n      ]\n    }, () => {\n      let range = document.createRange(); \n      let selection = window.getSelection();\n      if(!element.fixedDimensions){\n        if(elem.childNodes.length > 0){\n          range.setStart(elem.childNodes[0], selectionOffsetBefore); \n          range.collapse(true); \n          selection.removeAllRanges(); \n          selection.addRange(range); \n          elem.focus(); \n        }\n      } else {\n        if(elem.childNodes.length > 0 && elem.childNodes[0].childNodes.length > 0){\n          range.setStart(elem.childNodes[0].childNodes[0], selectionOffsetBefore); \n          range.collapse(true); \n          selection.removeAllRanges(); \n          selection.addRange(range); \n          elem.focus(); \n        }\n      }\n    });\n  }\n\n  adjustTextElementHeight = (elementId) => {\n    let elementsNew = this.state.elements.filter(e => e.elementId !== elementId);\n    const element = this.state.elements.find(e => e.elementId === elementId);\n    const elem = document.getElementById(`${elementId}-input`);\n    elem.innerHTML = element.text;\n    console.log(elem.offsetHeight, element.height) \n    console.log(elementsNew); \n    this.setState({\n      elements: [\n        ...elementsNew,\n        {\n          ...element,\n          height: elem.offsetHeight,\n        }\n      ]\n    });\n  }\n\n  /// ADD //////////////////////////////////////////////////\n\n  addElements = (elements) => {\n    this.setState({\n      elements: [...this.state.elements, ...elements],\n      selectedId: elements[elements.length-1].elementId,\n    })\n  }\n\n  handleImageDrop = (files) => {\n    let fileList = this.state.files\n    for (var i = 0; i < files.length; i++) {\n      if (!files[i].name) return\n      fileList.push(files[i].name)\n      console.log(files[i]); \n    }\n    this.setState({files: fileList})\n  }\n\n  ///  RESIZE  /////////////////////////////////////////////////\n\n  resizeMouseDown = (e, dir, elementId) => {\n    console.log('RESIZE MOUSE DOWN');\n    e.preventDefault();\n    e.stopPropagation(); \n    const element = this.state.elements.find(e => e.elementId === elementId);\n    const aspectRatio = element.width / element.height;\n    const prevWidth = element.width;\n    const prevHeight = element.height;\n    const prevX = element.posX;\n    const prevY = element.posY;\n    const mouseStartX = e.clientX;\n    const mouseStartY = e.clientY;\n\n    const resizeMouseMouve = (e) => {\n        let newWidth = prevWidth;\n        let newHeight = prevHeight;\n        let newX = prevX;\n        let newY = prevY;\n        let newFontSize = element.fontSize;\n\n        const diffWidth = e.clientX - mouseStartX;\n        const diffHeight = e.clientY - mouseStartY;\n\n        const { Hlines, Vlines } = this.getLines(elementId);\n        let selectedHline = null;\n        let selectedVline = null; \n\n        let fixedAspectRatio = element.type === 'image'; \n        if(e.shiftKey) fixedAspectRatio = !fixedAspectRatio; \n\n        switch(dir) {\n            case 'E': \n                newWidth += diffWidth;\n                Vlines.forEach(l => {\n                  if(Math.abs(newX + newWidth - l) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = l - prevX;\n                    selectedVline = l;\n                  }  \n                });\n                break;\n            case 'S': \n                newHeight += diffHeight; \n                Hlines.forEach(l => {\n                  if(Math.abs(newY + newHeight - l) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = l - prevY;\n                    selectedHline = l;\n                  }  \n                });\n                break; \n            case 'W': \n                newWidth -= diffWidth;\n                newX += diffWidth;\n                Vlines.forEach(l => {\n                  if(Math.abs(l-newX) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = prevX + prevWidth - l;\n                    newX = l;\n                    selectedVline = l;\n                  }  \n                });\n                break;    \n            case 'N': \n                newHeight -= diffHeight;\n                newY += diffHeight;\n                Hlines.forEach(l => {\n                  if(Math.abs(l-newY) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = prevY + prevHeight - l;\n                    newY = l;\n                    selectedHline = l;\n                  }  \n                });\n                break;                 \n            case 'SE':\n                newWidth += diffWidth; \n                newHeight = fixedAspectRatio ? newWidth / aspectRatio : newHeight + diffHeight; \n                Vlines.forEach(l => {\n                  if(Math.abs(newX + newWidth - l) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = l - prevX;\n                    selectedVline = l;\n                  }  \n                });\n                Hlines.forEach(l => {\n                  if(Math.abs(newY + newHeight - l) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = l - prevY;\n                    selectedHline = l;\n                  }  \n                });\n                break; \n            case 'NE':\n                newWidth += diffWidth; \n                newHeight = fixedAspectRatio ? newWidth / aspectRatio : newHeight - diffHeight;\n                newY += prevHeight - newHeight; \n                Hlines.forEach(l => {\n                  if(Math.abs(l-newY) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = prevY + prevHeight - l;\n                    newY = l;\n                    selectedHline = l;\n                  }  \n                });\n                Vlines.forEach(l => {\n                  if(Math.abs(newX + newWidth - l) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = l - prevX;\n                    selectedVline = l;\n                  }  \n                });\n                break; \n            case 'SW':\n                newWidth -= diffWidth; \n                newHeight = fixedAspectRatio ? newWidth / aspectRatio : newHeight + diffHeight; \n                newX += prevWidth - newWidth; \n                Hlines.forEach(l => {\n                  if(Math.abs(newY + newHeight - l) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = l - prevY;\n                    selectedHline = l;\n                  }  \n                });\n                Vlines.forEach(l => {\n                  if(Math.abs(l-newX) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = prevX + prevWidth - l;\n                    newX = l;\n                    selectedVline = l;\n                  }  \n                });\n                break;\n            case 'NW':\n                newWidth -= diffWidth; \n                newHeight = fixedAspectRatio ? newWidth / aspectRatio : newHeight - diffHeight;\n                newX += prevWidth - newWidth; \n                newY += prevHeight - newHeight; \n                Hlines.forEach(l => {\n                  if(Math.abs(l-newY) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = prevY + prevHeight - l;\n                    newY = l;\n                    selectedHline = l;\n                  }  \n                });\n                Vlines.forEach(l => {\n                  if(Math.abs(l-newX) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = prevX + prevWidth - l;\n                    newX = l;\n                    selectedVline = l;\n                  }  \n                });\n                break; \n            default: console.log('Invalid dir', dir)\n        }\n\n        if(element.type === 'text'){\n          const elem = document.getElementById(`${elementId}-input`);\n          if(!element.fixedDimensions){\n            newHeight = elem.offsetHeight;\n          } else {\n            if(elem.offsetHeight > newHeight){\n              newFontSize = element.fontSize - 2; \n            }\n          }\n        }\n\n        let elementsNew = this.state.elements.map(E => {\n          if(E.elementId === elementId){\n            return {\n              ...element,\n                width: newWidth, \n                height: newHeight,\n                posX: newX,\n                posY: newY,\n                fontSize: newFontSize\n            }\n          }else{\n            return E\n          }\n        });\n        this.setState({\n          dragging: true,\n          elements: elementsNew,\n          selectedHline: selectedHline,\n          selectedVline: selectedVline,\n        });\n    }\n    const mouseup = (e) => {\n      console.log(\"RESIZE MOUSE UP\");\n      e.preventDefault();\n      e.stopPropagation(); \n      window.removeEventListener('mousemove', resizeMouseMouve);\n      window.removeEventListener('mouseup', mouseup);\n      this.setState({\n        selectedHline: null, \n        selectedVline: null,\n        dragging: false\n      })\n    }\n    window.addEventListener('mousemove', resizeMouseMouve);\n    window.addEventListener('mouseup', mouseup);\n  }\n\n  edit = (elementId, newElement) => {\n    const newElements = this.state.elements.map(e => {\n      if(e.elementId === elementId){\n        return newElement\n      }else{\n        return e;\n      }\n    })\n    this.setState({ elements: newElements, editingId: null })\n  }\n\n  /// EXPORT /////////////////////////////////////// \n\n  closeExportModal = () => {\n    this.setState({exportModalOpen: false})\n  }\n\n  openExportModal = () => {\n    this.setState({exportModalOpen: true})\n  }\n  \n  /// RENDER /////////////////////////////////////////////////\n\n  getElements = (elements, inPreview, onImgeLoad) => {\n\n    // TODO: redo/replace this with real orders and z-index\n    const orderedElements = [\n      ...elements.filter(e => e.type !== 'text'),\n      ...elements.filter(e => e.type === 'text')\n    ]\n\n    return orderedElements.map(e => {\n      // const highlight = this.state.dragging && this.state.\n      switch(e.type){\n        case 'text': \n          return(\n            <Element \n              inPreview={inPreview}\n              currentlyEditing={this.state.editingId === e.elementId}\n              type='text'\n              key={`${inPreview ? 'prev' : ''}-${e.elementId}`}\n              element={e}\n              editingId={this.state.editingId}\n              selected={e.elementId === this.state.selectedId}\n              edit={this.edit}\n              select={this.select}\n              selectAndEdit={this.selectAndEdit}\n              elementMouseDown={this.elementMouseDown}\n              onTextInput={this.onTextInput}\n              selectedLines={{h: this.state.selectedHline, v: this.state.selectedVline}}\n            />\n          ) \n        case 'rect': \n            return(\n              <Element \n                inPreview={inPreview}\n                currentlyEditing={this.state.editingId === e.elementId}\n                type='rect'\n                key={`${inPreview ? 'prev' : ''}-${e.elementId}`}\n                element={e}\n                selected={e.elementId === this.state.selectedId}\n                select={this.select}\n                elementMouseDown={this.elementMouseDown}\n                selectedLines={{h: this.state.selectedHline, v: this.state.selectedVline}}\n              />\n            )\n        case 'image': \n          return(\n            <Element \n              inPreview={inPreview}\n              currentlyEditing={this.state.editingId === e.elementId}\n              type='image'\n              key={`${inPreview ? 'prev' : ''}-${e.elementId}`}\n              element={e}\n              selected={e.elementId === this.state.selectedId}\n              select={this.select}\n              elementMouseDown={this.elementMouseDown}\n              onImageLoad={onImgeLoad}\n              selectedLines={{h: this.state.selectedHline, v: this.state.selectedVline}}\n            />\n          )\n        default: console.log('Invalid Element Type!'); return null; \n      }\n    })\n  }\n\n  getLines = (excludeId) => {\n    let Hlines = [];\n    let Vlines = [];\n    this.state.elements.forEach(element => {\n      if(excludeId !== element.elementId){\n        Hlines.push(element.posY)\n        Hlines.push((2* element.posY + element.height)/2)\n        Hlines.push(element.posY + element.height)\n        Vlines.push(element.posX)\n        Vlines.push((2* element.posX + element.width)/2)\n        Vlines.push(element.posX + element.width)\n      } \n    });\n    const lines = {\n      Hlines: [...new Set(Hlines)],\n      Vlines: [...new Set(Vlines)]\n    }\n    return lines; \n  }\n\n  shouldElementHighlight = (elementId) => {\n    if(!this.state.selectedHline && !this.state.selectedHline) return false;\n    if(elementId === this.state.selectedId) return false;\n    const element = this.state.elements.find(e => e.elementId === elementId);\n    let Hlines = [];\n    let Vlines = [];\n    Hlines.push(element.posY)\n    Hlines.push(element.posY + element.height)\n    Hlines.push((2* element.posY + element.height)/2)\n    Vlines.push(element.posX)\n    Vlines.push(element.posX + element.width)\n    Vlines.push((2* element.posX + element.width)/2)\n    console.log(element);\n    console.log(Hlines);\n    console.log(Vlines);\n    console.log(this.state.selectedVline);\n    console.log(Vlines.includes(this.state.selectedVline))\n    if(Hlines.includes(this.state.selectedHline)) return true; \n    if(Vlines.includes(this.state.selectedVline)) return true; \n    return false;\n  }\n\n  renderLines = () => {\n    let lines = [];\n    if(this.state.selectedHline){\n      lines.push(<Line key={`HL-${this.state.selectedHline}`} top={this.state.selectedHline} left={0}/>)\n    }\n    if(this.state.selectedVline){\n      lines.push(<Line key={`VL-${this.state.selectedVline}`} top={0} left={this.state.selectedVline}/>)\n    }\n    return lines; \n  }\n\n  wheel = (e) => {\n    e.stopPropagation()\n    e.preventDefault()\n    if(e.ctrlKey && e.deltaY !== 0){\n      console.log(\"ZOOM\", e.deltaY < 0 ? \"IN\":\"OUT\", \"DETECTED\", e.deltaY)\n    } else {\n      console.log(\"MOVE DETECTED X:\", e.deltaX, \"Y:\", e.deltaY)\n    }\n  }\n\n\n  render() {\n    const styleClasses = [classes.Creator];\n    if (this.props.currentTab === 'stream') styleClasses.push(classes.OutLeftLeft);\n    if (this.props.currentTab === 'chat') styleClasses.push(classes.OutLeft);\n    const selected = this.state.elements.find(e => e.elementId === this.state.selectedId);\n    return (\n      <div \n        className={styleClasses.join(\" \")}\n        onMouseUp={this.backgroundMouseUp}\n        onTouchStart={e => console.log(\"TOUCH START\")}\n        onTouchEnd={e => console.log(\"TOUCH END\")}\n        \n        onWheel={this.wheel}\n      >\n        <ImageDragNDrop handleDrop={this.handleImageDrop}>\n          <SelectionMenu\n            edit={this.edit}\n            selected={selected}\n          /> \n          {\n            selected && \n              <SelectionFrame \n                element={selected}\n                editingId={this.state.editingId}\n                resizeMouseDown={this.resizeMouseDown}\n                elementMouseDown={this.elementMouseDown}\n                selectAndEdit={this.selectAndEdit}\n              /> \n          }\n          { this.getElements(this.state.elements) }\n          <TopMenu \n            addElements={this.addElements}\n            openExportModal={this.openExportModal}\n          />\n          { this.renderLines() }\n          {/* {\n            this.state.draggingFile && \n            <div className={classes.draggingOverlay}>Drop Images Here</div>\n          } */}\n          { \n            this.state.exportModalOpen && \n              <ExportModal \n                closeExportModal={this.closeExportModal}\n                getElements={this.getElements}\n                elements={this.state.elements}\n              /> \n          }\n        </ImageDragNDrop>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentTab: state.ui.currentTab,\n    darkmode: state.ui.currentTab,\n    sending: state.user.sendingSubscribeEmailList, \n    sent: state.user.sentSubscribeEmailList, \n    emailListError: state.user.emailListError,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSubscribeEmailList: (email) => dispatch(actions.subscribeEmailList(email)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Creator);\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport { NavLink } from \"react-router-dom\";\n\n\nimport classes from \"./Navigation.module.css\";\n\nimport * as UIActions from '../../store/actions/index';\n\nclass Navigation extends Component {\n  render() {\n    const chatNotifications = this.props.notifications.filter(n => {\n      if(n.type.startsWith('NEW_MESSAGE')) return true;\n      if(n.type.startsWith('NEW_CHAT')) return true;\n      return false;\n    })\n    const notifiactionStyle = chatNotifications.length > 99 \n    ? classes.TrippleDigit : chatNotifications.length > 9 \n      ? classes.DoubleDigit : classes.SingleDigit\n    return (\n      <div className={classes.Navigation}>\n        <nav>\n          <ul>\n          <li>\n              <NavLink style={{ textDecoration: \"none\" }} to=\"/creator\">\n                <span\n                  className={this.props.currentTab === \"creator\" ? classes.active : classes.inactive}\n                  onClick={() => this.props.onSwitchTab(\"creator\")}\n                >\n                  Creator\n                </span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink style={{ textDecoration: \"none\", position: 'relative' }} to=\"/chat\">\n                {\n                  chatNotifications.length > 0 \n                    ? <div className={notifiactionStyle}>\n                        <span className={classes.NotificationCount}>\n                          {chatNotifications.length}\n                        </span>\n                      </div> \n                    : null \n                }\n                <span\n                  className={this.props.currentTab === \"chat\" ? classes.active : classes.inactive}\n                  onClick={() => {\n                    this.props.onSwitchTab(\"chat\");\n                    document.getElementById('chatForm').focus();\n                  }}\n                >\n                  Chat\n                </span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink style={{ textDecoration: \"none\" }} to=\"/stream\">\n                <span\n                  className={this.props.currentTab === \"stream\" ? classes.active : classes.inactive }\n                  onClick={() => this.props.onSwitchTab(\"stream\")}\n                >\n                  Stream\n                </span>\n              </NavLink>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentTab: state.ui.currentTab,\n    darkmode: state.ui.darkmode,\n    allUsersStatus: state.chat.allUsersStatus,\n\n    notifications: state.user.notifications\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSwitchTab: (tab) => dispatch(UIActions.switchTab(tab)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Navigation);\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport classes from \"./UserPrev.module.css\";\nimport DefaultProfilePic from \"../../../media/DefaultProfilePic.png\";\nimport AddButton from '../../Chat/ChatPreviews/ChatPrev/AddButton/AddButton';\nimport * as actions from '../../../store/actions/index';\n\n\nclass UserPrev extends Component {\n\n  getButton = () => {\n    let buttonType;\n    let buttonClick = () => console.log('Nothing should happen');\n\n    // ADD BUTTON\n    if(!this.props.friends.some(friend => friend.userId === this.props.userId)){\n      buttonType = 'add';\n      buttonClick = () => this.props.onSendFriendRequest(this.props.user);\n    } \n\n    // LOADING BUTTON\n    if(this.props.sendingFriendRequests.some(user => user.userId === this.props.userId) || \n       this.props.acceptingFriendRequests.some(user => user.userId === this.props.userId)){\n         buttonType='loading';\n    }\n\n    // CHECK BUTTON\n    if(this.props.sentFriendRequests.some(user => user.userId === this.props.userId)){\n      buttonType = 'sent';\n    } \n\n    //ACCEPT BUTTON\n    if(this.props.receivedFriendRequests.some(user => user.userId === this.props.userId)){\n      buttonType='received';\n      buttonClick = () => this.props.onAcceptFriendRequest(this.props.user);\n    } \n    if(!buttonType){\n      return null;\n    }else {\n      return <AddButton type={buttonType} clicked={buttonClick} />\n    }\n  }\n\n  clicked = () => {\n    const existingChat = this.props.chats.find(chat => chat.members.some(user => user.userId === this.props.userId));\n    if(existingChat){\n      this.props.onChangeChat(existingChat.chatId); \n      this.props.onCloseNewChatModal();\n    }else{\n      const self = {\n        name: this.props.selfName,\n        handle: this.props.selfHandle,\n        userId: this.props.selfId,\n        profilePic: this.props.selfHasPfilePic,\n      }\n      const chatPartner = this.props.user;\n      this.props.onCreateDummyChat(chatPartner, self);\n      this.props.onCloseNewChatModal();\n    }\n  }\n\n  render() {\n    const profilePicSrc = this.props.profilePic ? `${process.env.REACT_APP_PROFILE_PICTURES_SOURCE_URL}` + this.props.userId : DefaultProfilePic;\n    return (\n      <div onClick={this.clicked} className={classes.ChatPrev}>\n        <img src={profilePicSrc} alt=\" \" className={classes.ProfilePic}/>\n        <div className={classes.Info}>\n          <h3 className={classes.Name}>{this.props.name}</h3>\n          <p className={classes.Preview}>@{this.props.handle}</p>\n        </div>\n        {this.getButton()}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    darkmode: state.ui.darkmode,\n    currentChatId: state.chat.currentChatId,\n    currentUserId: state.user.userId,\n    unreadMessages: state.chat.unreadMessages, \n    seenUpdatesChats: state.chat.seenUpdatesChats,\n    token: state.user.token,\n    chats: state.chat.chats,\n    allUsers: state.chat.allUsers,\n\n    selfId: state.user.userId,\n    selfName: state.user.name,\n    selfHandle: state.user.handle,\n    selfHasPfilePic: state.user.hasProfilePic,\n\n    friends: state.chat.friends,\n    acceptingFriendRequests: state.chat.acceptingFriendRequests,\n    sendingFriendRequests: state.chat.sendingFriendRequests,\n    sentFriendRequests: state.chat.sentFriendRequests, \n    receivedFriendRequests: state.chat.receivedFriendRequests,\n\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onCreateDummyChat: (chatPartner, self) => dispatch(actions.createDummyChat(chatPartner, self)),\n    onChangeChat: (chatId) => dispatch(actions.changeChat(chatId)),\n\n    onSendFriendRequest: (user) => dispatch(actions.sendFriendRequest(user)),\n    onAcceptFriendRequest: (user) => dispatch(actions.acceptFriendRequest(user)),\n\n    onCloseNewChatModal: () => dispatch(actions.closeNewChatModal()),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserPrev);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'; \nimport * as actions from '../../store/actions/index';\nimport UserPrev from './UserPrev/UserPrev';\n\nimport classes from './NewChatModal.module.css';\nimport Backdrop from '../UI/Backdrop/Backdrop';\nimport Loader from 'react-loader-spinner';\n\nclass NewChatModal extends Component {\n\n    state = {\n      searchInput: '',\n      searching: true\n    }\n\n    componentDidMount = () => {\n      if(this.props.allUsersStatus === 'not loaded'){\n        this.props.onFetchAllUsers();\n      }\n    }\n\n    componentDidUpdate = () => {\n      console.log()\n    }\n\n    getAllUsers = () => {\n      let allUsers = null;\n      if(this.props.allUsersStatus === 'loading'){\n        allUsers = \n        <div className={classes.LoaderContainer}>\n          <Loader \n            className={classes.Spinner} \n            type=\"ThreeDots\" \n            color=\"#00BFFF\" \n            height={30} \n            width={30}/> \n        </div>\n      }\n      if(this.props.allUsersStatus === 'loaded'){ \n        allUsers = \n        <div>\n          {\n            this.props.allUsers\n            .filter(user => {\n              return user.name.toLowerCase().includes(this.state.searchInput.toLowerCase()) \n                      && user.userId !== this.props.logedinUserId\n                      && !this.props.friends.some(f => f.userId === user.userId)\n            })\n            .map(user => {\n              return (\n                <UserPrev \n                  user={user}\n                  {...user}\n                  inputRef={this.props.inputRef} \n                  key={'s' + user.userId}\n                  preview={user.handle}\n                />\n              )\n            })\n          }\n        </div>\n      }\n      return allUsers\n    }\n\n    getFriends = () => {\n      const friends = this.props.friends\n      .filter(friend => friend.name.toLowerCase().includes(this.state.searchInput.toLowerCase()) \n      )\n      .map(friend => {\n        return (\n          <UserPrev \n            user={friend}\n            {...friend}\n            inputRef={this.props.inputRef} \n            key={'f' + friend.userId}\n            preview={friend.handle}\n          />\n        )\n      })\n      return friends;\n    }\n\n    onSearchInput = (event) => {\n      this.setState({searchInput: event.target.value});\n    }\n\n    getSearchIcon() {\n      return (\n        <svg className={classes.SearchIcon} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <g id=\"search_24px\">\n          <path id=\"icon/action/search_24px\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M14.965 14.255H15.755L20.745 19.255L19.255 20.745L14.255 15.755V14.965L13.985 14.685C12.845 15.665 11.365 16.255 9.755 16.255C6.16504 16.255 3.255 13.345 3.255 9.755C3.255 6.16501 6.16504 3.255 9.755 3.255C13.345 3.255 16.255 6.16501 16.255 9.755C16.255 11.365 15.665 12.845 14.6851 13.985L14.965 14.255ZM5.255 9.755C5.255 12.245 7.26501 14.255 9.755 14.255C12.245 14.255 14.255 12.245 14.255 9.755C14.255 7.26501 12.245 5.255 9.755 5.255C7.26501 5.255 5.255 7.26501 5.255 9.755Z\" fill={'#ffffff'}/>\n          </g>\n        </svg>\n      )\n    }\n\n    getSearchInput = () => {\n      if(this.state.searching){\n        return (\n          <input \n          spellCheck='false'\n          placeholder={\"Search by username or @handle\"}\n          ref={(input) => { this.searchInput = input; }} \n          type=\"text\" \n          value={this.state.searchInput} \n          onChange={this.onSearchInput}\n          className={classes.SearchInput}/> \n        )\n      }\n      return null;\n    }\n\n    render() {\n        return(\n            <div>\n              <Backdrop show={this.props.modalOpen} clicked={this.props.onCloseNewChatMenu} />\n              <div className={classes.Modal}>\n                <h2>New Chat</h2>\n                <div className={classes.SearchContainer}>\n                  {this.getSearchIcon()}\n                  {this.getSearchInput()}\n                </div>\n                <div className={classes.ScrollContainer}>\n                  {this.getFriends()}\n                  {this.getAllUsers()} \n                </div>\n              </div>\n            </div>\n\n           )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        logedinUserId: state.user.userId, \n\n        allUsersStatus: state.chat.allUsersStatus,\n        allUsers: state.chat.allUsers,\n\n        friends: state.chat.friends,\n        chats: state.chat.chats,\n\n        sendingFriendRequests: state.chat.sendingFriendRequests, \n        sentFriendRequests: state.chat.sentFriendRequests, \n        failedFriendRequest: state.chat.failedFriendRequest,\n\n        receivedFriendRequests: state.chat.receivedFriendRequests,\n\n        token: state.user.token, \n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFetchAllUsers: () => dispatch(actions.fetchAllUsers()),\n    onCloseNewChatMenu: () => dispatch(actions.closeNewChatModal()),\n    onSendFriendRequest: (userId, token) => dispatch(actions.sendFriendRequest(userId, token)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewChatModal);\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport classes from \"./ChatPrev.module.css\";\nimport DefaultProfilePic from \"../../../media/DefaultProfilePic.png\";\nimport * as actions from '../../../store/actions/index';\n\n\nclass ChatPrev extends Component {\n\n  clicked = () => {\n    if(this.props.dropTargets.some(id => id === this.props.chatId)){\n      this.props.onUnSelectDropTarget(this.props.chatId)\n    } else {\n      this.props.onSelectDropTarget(this.props.chatId)\n\n    }\n  }\n\n  render() {\n    const profilePicSrc = this.props.profilePic ? `${process.env.REACT_APP_PROFILE_PICTURES_SOURCE_URL}` + this.props.userId : DefaultProfilePic;\n    const selected = this.props.dropTargets.some(id => id === this.props.chatId);\n    return (\n      <div onClick={this.clicked} className={`${classes.ChatPrev} ${selected ? classes.selected : ''}`}>\n        <img src={profilePicSrc} alt=\" \" className={classes.ProfilePic}/>\n        <div className={classes.Info}>\n          <h3 className={classes.Name}>{this.props.name}</h3>\n          <p className={classes.Preview}>@{this.props.handle}</p>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    darkmode: state.ui.darkmode,\n    dropTargets: state.stream.dropTargets\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSelectDropTarget: (chatId) => dispatch(actions.selectDropTarget(chatId)),\n    onUnSelectDropTarget: (chatId) => dispatch(actions.unSelectDropTarget(chatId)),\n    onCloseNewChatModal: () => dispatch(actions.closeNewChatModal()),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatPrev);\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'; \nimport * as actions from '../../store/actions/index';\n\n\nimport classes from './DropModal.module.css';\nimport Backdrop from '../UI/Backdrop/Backdrop';\nimport ChatPrev from './ChatPrev/ChatPrev';\nimport PrimaryButton from '../UI/PrimaryButton/PrimaryButton';\n\nclass DropModal extends Component {\n\n    state = {\n      searchInput: '',\n      searching: true\n    }\n\n    componentDidMount = () => {\n      if(this.props.allUsersStatus === 'not loaded'){\n        this.props.onFetchAllUsers();\n      }\n    }\n\n    getFriends = () => {\n      const friends = this.props.friends\n      .filter(friend => friend.name.toLowerCase().includes(this.state.searchInput.toLowerCase()) \n      )\n      .map(friend => {\n        return (\n          <ChatPrev \n            user={friend}\n            {...friend}\n            key={'f' + friend.userId}\n            preview={friend.handle}\n          />\n        )\n      })\n      return friends;\n    }\n\n    getChats = () => {\n      return this.props.chats.map(chat => {\n        const chatPartner = chat.members.find(m => m.userId !== this.props.userId);\n        return(\n          <ChatPrev\n            chatId={chat.chatId}\n            user={chatPartner}\n            {...chatPartner}\n            key={chat.chatId}/>\n        )\n      })\n    }\n\n    onSearchInput = (event) => {\n      this.setState({searchInput: event.target.value});\n    }\n\n    getSearchIcon = () => {\n      return (\n        <svg className={classes.SearchIcon} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <g id=\"search_24px\">\n          <path id=\"icon/action/search_24px\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M14.965 14.255H15.755L20.745 19.255L19.255 20.745L14.255 15.755V14.965L13.985 14.685C12.845 15.665 11.365 16.255 9.755 16.255C6.16504 16.255 3.255 13.345 3.255 9.755C3.255 6.16501 6.16504 3.255 9.755 3.255C13.345 3.255 16.255 6.16501 16.255 9.755C16.255 11.365 15.665 12.845 14.6851 13.985L14.965 14.255ZM5.255 9.755C5.255 12.245 7.26501 14.255 9.755 14.255C12.245 14.255 14.255 12.245 14.255 9.755C14.255 7.26501 12.245 5.255 9.755 5.255C7.26501 5.255 5.255 7.26501 5.255 9.755Z\" fill={'#ffffff'}/>\n          </g>\n        </svg>\n      )\n    }\n\n    send = () => {\n      this.props.onSendDrop(this.props.dropTargets, this.props.streamElements[1].id, this.props.title, this.props.userId);\n      document.getElementById('chatForm').focus();\n    }\n\n    render() {\n        const targetNames = this.props.dropTargets\n          .map(targetId => {\n            return this.props.chats.find(chat => chat.chatId === targetId).name;\n          })\n          .map(name => name.split(' ')[0]);\n\n        return(\n            <div>\n              <Backdrop show={this.props.modalOpen} clicked={this.props.onCloseDropModal} />\n              <div className={classes.Modal}>\n                <h2>Select Chat</h2>\n                <div className={classes.SearchContainer}>\n                  {this.getSearchIcon()}\n                  <input \n                    placeholder={\"Search by username or @handle\"}\n                    ref={(input) => { this.searchInput = input; }} \n                    type=\"text\" \n                    value={this.state.searchInput} \n                    onChange={this.onSearchInput}\n                    className={classes.SearchInput}/>\n                  </div>\n                <div className={classes.ScrollContainer}>\n                  {this.getChats()}\n                </div>\n                <PrimaryButton \n                  theme={false} \n                  clicked={() => this.send(this.props.streamElements[0].id)} \n                  disabled={this.props.dropTargets.length === 0}>\n                  {\n                    this.props.dropTargets.length > 0 \n                    ? <h3>Drop to {targetNames.join(', ')}</h3>\n                    : <h3>Drop</h3>\n                  }\n                </PrimaryButton>\n              </div>\n            </div>\n\n           )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        chats: state.chat.chats,\n\n        userId: state.user.userId,\n        token: state.user.token,\n\n        streamElements: state.stream.streamElements,\n        dropTargets: state.stream.dropTargets,\n\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSendDrop: (targets, dropId, title, selfId) => dispatch(actions.sendDrop(targets, dropId, title, selfId)),\n    onFetchAllUsers: () => dispatch(actions.fetchAllUsers()),\n    onCloseDropModal: () => dispatch(actions.closeDropModal()),\n    onSendFriendRequest: (userId, token) => dispatch(actions.sendFriendRequest(userId, token)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DropModal);\n","import React, { Component } from 'react';\n\nimport classes from './Footer.module.css';\n\nclass Footer extends Component {\n\n    getInstagramIcon = () => {\n        return(\n            <svg className={classes.Icon} viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect width=\"26\" height=\"26\" rx=\"3\" fill=\"#121218\"/>\n                <g clipPath=\"url(#clip0)\">\n                <g filter=\"url(#filter0_dd)\">\n                <path d=\"M13 4.80184C15.6701 4.80184 15.9864 4.812 17.0408 4.86011C18.0158 4.90461 18.5453 5.06752 18.8977 5.20443C19.3644 5.38583 19.6976 5.60257 20.0475 5.95248C20.3974 6.30239 20.6142 6.63555 20.7955 7.10229C20.9325 7.4547 21.0954 7.98419 21.1399 8.95914C21.188 10.0136 21.1982 10.3299 21.1982 13C21.1982 15.6701 21.188 15.9864 21.1399 17.0409C21.0954 18.0158 20.9325 18.5453 20.7955 18.8978C20.6142 19.3645 20.3974 19.6976 20.0475 20.0476C19.6976 20.3975 19.3644 20.6142 18.8977 20.7956C18.5453 20.9325 18.0158 21.0954 17.0408 21.1399C15.9865 21.188 15.6703 21.1982 13 21.1982C10.3297 21.1982 10.0134 21.188 8.95914 21.1399C7.98415 21.0954 7.45466 20.9325 7.10229 20.7956C6.63551 20.6142 6.30235 20.3975 5.95244 20.0476C5.60253 19.6976 5.38579 19.3645 5.20443 18.8978C5.06748 18.5453 4.90457 18.0158 4.86007 17.0409C4.81196 15.9864 4.8018 15.6701 4.8018 13C4.8018 10.3299 4.81196 10.0136 4.86007 8.95918C4.90457 7.98419 5.06748 7.4547 5.20443 7.10229C5.38579 6.63555 5.60253 6.30239 5.95244 5.95248C6.30235 5.60257 6.63551 5.38583 7.10229 5.20443C7.45466 5.06752 7.98415 4.90461 8.9591 4.86011C10.0136 4.812 10.3299 4.80184 13 4.80184ZM13 3C10.2841 3 9.94362 3.01151 8.87701 3.06018C7.81259 3.10876 7.08569 3.27779 6.44958 3.52501C5.79199 3.78056 5.23432 4.1225 4.67839 4.67843C4.12246 5.23436 3.78052 5.79203 3.52497 6.44962C3.27775 7.08573 3.10872 7.81263 3.06014 8.87705C3.01147 9.94362 3 10.2842 3 13C3 15.7159 3.01147 16.0564 3.06014 17.123C3.10872 18.1874 3.27775 18.9143 3.52497 19.5504C3.78052 20.208 4.12246 20.7657 4.67839 21.3216C5.23432 21.8775 5.79199 22.2195 6.44958 22.475C7.08569 22.7223 7.81259 22.8913 8.87701 22.9399C9.94362 22.9885 10.2841 23 13 23C15.7158 23 16.0564 22.9885 17.1229 22.9399C18.1874 22.8913 18.9143 22.7223 19.5504 22.475C20.208 22.2195 20.7656 21.8775 21.3216 21.3216C21.8775 20.7657 22.2194 20.208 22.475 19.5504C22.7222 18.9143 22.8912 18.1874 22.9398 17.123C22.9885 16.0564 23 15.7159 23 13C23 10.2842 22.9885 9.94362 22.9398 8.87705C22.8912 7.81263 22.7222 7.08573 22.475 6.44962C22.2194 5.79203 21.8775 5.23436 21.3216 4.67843C20.7656 4.1225 20.208 3.78056 19.5504 3.52501C18.9143 3.27779 18.1874 3.10876 17.1229 3.06018C16.0564 3.01151 15.7158 3 13 3ZM13 7.86487C10.1639 7.86487 7.86483 10.164 7.86483 13C7.86483 15.8361 10.1639 18.1352 13 18.1352C15.836 18.1352 18.1351 15.8361 18.1351 13C18.1351 10.164 15.836 7.86487 13 7.86487ZM13 16.3334C11.159 16.3334 9.66663 14.841 9.66663 13C9.66663 11.1591 11.159 9.66667 13 9.66667C14.8409 9.66667 16.3333 11.1591 16.3333 13C16.3333 14.841 14.8409 16.3334 13 16.3334ZM19.538 7.66199C19.538 8.32474 19.0008 8.86201 18.338 8.86201C17.6753 8.86201 17.138 8.32474 17.138 7.66199C17.138 6.99924 17.6753 6.462 18.338 6.462C19.0008 6.462 19.538 6.99924 19.538 7.66199Z\" fill=\"white\"/>\n                </g>\n                </g>\n                <defs>\n                <filter id=\"filter0_dd\" x=\"-7\" y=\"-7\" width=\"40\" height=\"40\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n                <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"2.5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0\"/>\n                <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n                </filter>\n                <clipPath id=\"clip0\">\n                <rect width=\"26\" height=\"26\" fill=\"white\"/>\n                </clipPath>\n                </defs>\n            </svg>\n        )\n    }\n\n    getTwitterIcon = () => {\n        return(\n            <svg className={classes.Icon} viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g clipPath=\"url(#clip0)\">\n                <rect width=\"26\" height=\"26\" rx=\"3\" fill=\"#121218\"/>\n                <g filter=\"url(#filter0_dd)\">\n                <path d=\"M10.1025 19.208C16.232 19.208 19.586 14.125 19.586 9.7245C19.586 9.5815 19.586 9.4385 19.5795 9.2955C20.2295 8.8275 20.795 8.236 21.2435 7.5665C20.6455 7.833 20.002 8.0085 19.326 8.093C20.015 7.6835 20.5415 7.027 20.795 6.247C20.1515 6.6305 19.4365 6.9035 18.676 7.053C18.065 6.403 17.2005 6 16.245 6C14.4055 6 12.9105 7.495 12.9105 9.3345C12.9105 9.5945 12.943 9.848 12.995 10.095C10.226 9.9585 7.769 8.626 6.1245 6.611C5.8385 7.105 5.676 7.677 5.676 8.288C5.676 9.445 6.2675 10.4655 7.158 11.0635C6.612 11.044 6.0985 10.8945 5.65 10.6475C5.65 10.6605 5.65 10.6735 5.65 10.693C5.65 12.305 6.8005 13.657 8.3215 13.9625C8.042 14.0405 7.7495 14.0795 7.444 14.0795C7.2295 14.0795 7.0215 14.06 6.82 14.021C7.2425 15.347 8.4775 16.309 9.9335 16.335C8.7895 17.232 7.353 17.765 5.793 17.765C5.5265 17.765 5.26 17.752 5 17.7195C6.469 18.6555 8.224 19.208 10.1025 19.208Z\" fill=\"white\"/>\n                </g>\n                </g>\n                <defs>\n                <filter id=\"filter0_dd\" x=\"-5\" y=\"-4\" width=\"36.2435\" height=\"33.208\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n                <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"2.5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0\"/>\n                <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n                </filter>\n                <clipPath id=\"clip0\">\n                <rect width=\"26\" height=\"26\" fill=\"white\"/>\n                </clipPath>\n                </defs>\n            </svg>\n        )\n    }\n\n    getFacebookIcon = () => {\n        return (\n            <svg className={classes.Icon} width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g clipPath=\"url(#clip0)\">\n                <path d=\"M22.75 26H3.25C1.456 26 0 24.544 0 22.75V3.25C0 1.456 1.456 0 3.25 0H22.75C24.544 0 26 1.456 26 3.25V22.75C26 24.544 24.544 26 22.75 26Z\" fill=\"#121218\"/>\n                <g filter=\"url(#filter0_dd)\">\n                <path d=\"M20.2137 15.9373L20.8356 11.7748H16.9452V9.07489C16.9452 7.93585 17.4877 6.82493 19.2301 6.82493H21V3.28124C21 3.28124 19.3945 3 17.8603 3C14.6548 3 12.5616 4.99403 12.5616 8.6024V11.7748H9V15.9373H12.5616V26.1746C12.5616 26.1746 12.5616 26.1746 14.5714 26.1746C16.9286 26.1746 16.9286 26.1746 16.9286 26.1746L16.9452 15.9373H20.2137Z\" fill=\"white\"/>\n                </g>\n                </g>\n                <defs>\n                <filter id=\"filter0_dd\" x=\"-1\" y=\"-7\" width=\"32\" height=\"43.1746\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n                <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"2.5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0\"/>\n                <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n                </filter>\n                <clipPath id=\"clip0\">\n                <rect width=\"26\" height=\"26\" fill=\"white\"/>\n                </clipPath>\n                </defs>\n            </svg>\n        )\n    }\n\n    getTumblrIcon = () => {\n        return (\n            <svg className={classes.Icon} viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g clipPath=\"url(#clip0)\">\n                <rect width=\"26\" height=\"26\" rx=\"3\" fill=\"#121218\"/>\n                <g filter=\"url(#filter0_dd)\">\n                <path d=\"M14.3459 22C11.9512 22 10.1752 20.6102 10.1752 17.2768V11.9435H8V9.05085C10.3947 8.35028 11.3925 6.0226 11.5022 4H13.9867V8.58757H16.8803V11.9435H13.9867V16.5876C13.9867 17.9774 14.6053 18.4633 15.5931 18.4633H17V22H14.3459Z\" fill=\"white\"/>\n                </g>\n                </g>\n                <defs>\n                <filter id=\"filter0_dd\" x=\"-2\" y=\"-6\" width=\"29\" height=\"38\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n                <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"2.5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0\"/>\n                <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n                </filter>\n                <clipPath id=\"clip0\">\n                <rect width=\"26\" height=\"26\" fill=\"white\"/>\n                </clipPath>\n                </defs>\n            </svg>\n\n        )\n    }\n\n    getPinterestIcon = () => {\n        return ( \n            <svg className={classes.Icon} width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g clipPath=\"url(#clip0)\">\n                <rect width=\"26\" height=\"26\" rx=\"3\" fill=\"#121218\"/>\n                <g filter=\"url(#filter0_dd)\">\n                <path d=\"M11.5352 4.06354C8.33129 4.416 5.13873 6.97042 5.00696 10.6193C4.92413 12.8473 5.56603 14.5187 7.71763 14.988C8.6513 13.3648 7.41644 13.0068 7.22444 11.8325C6.43571 7.02051 12.8566 3.7389 16.2167 7.09842C18.5415 9.42467 17.0111 16.5815 13.2613 15.8376C9.66969 15.1271 15.0195 9.43023 12.1526 8.31163C9.82216 7.40265 8.58354 11.0924 9.68851 12.9252C9.04096 16.0769 7.6461 19.0469 8.21082 23C10.0424 21.6903 10.6598 19.1823 11.1662 16.5667C12.0867 17.1176 12.578 17.6908 13.7526 17.7799C18.0841 18.1101 20.503 13.5188 19.9119 9.28368C19.3867 5.52904 15.5842 3.61833 11.5352 4.06354Z\" fill=\"white\"/>\n                </g>\n                </g>\n                <defs>\n                <filter id=\"filter0_dd\" x=\"-5\" y=\"-6\" width=\"35\" height=\"39\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n                <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"2.5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0\"/>\n                <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n                </filter>\n                <clipPath id=\"clip0\">\n                <rect width=\"26\" height=\"26\" fill=\"white\"/>\n                </clipPath>\n                </defs>\n            </svg>\n\n        )\n    }\n\n\n    getSocialButtons = () => {\n        return(\n            <div className={classes.SocialButtons}>\n                <a href='https://twitter.com/drops_meme' className={classes.Link} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {this.getTwitterIcon()}  \n                </a>\n                <a href='https://www.instagram.com/meme_drops/' className={classes.Link}  target=\"_blank\" rel=\"noopener noreferrer\">\n                    {this.getInstagramIcon()}\n                </a>\n                <a href='https://www.facebook.com/mememedrop' className={classes.Link} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {this.getFacebookIcon()} \n                </a>\n                <a href='https://www.tumblr.com/blog/memedrops' className={classes.Link} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {this.getTumblrIcon()}  \n                </a>\n                <a href='https://www.pinterest.de/memedrops/' className={classes.Link} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {this.getPinterestIcon()} \n                </a>\n            </div>\n        )\n    }\n\n    render() {\n        return (\n            <div className={classes.Footer}>\n                {this.getSocialButtons()}\n            </div>\n        )\n    }\n}\n\nexport default Footer;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport classes from './MenuScreen.module.css';\n\nimport { ReactComponent as ArrowBack } from './arrow_back.svg'\n\nimport * as actions from '../../../store/actions/index';\n\n\n\nclass MenuScreen extends Component {\n\n    getArrowBack = () => {\n          return (\n            <div className={classes.BackButton}>\n                <ArrowBack className={classes.ArrowBack} onClick={this.props.onPopFromMenuStack}/>\n            </div>\n          )\n      }\n\n    render() {\n        return(\n            <div className={`${classes.MenuScreen} ${this.props.pos === -1 ? classes.left : this.props.pos === 1 ? classes.right : null}`}>\n                {this.props.currentDepth !== 0 ? this.getArrowBack() : null}\n                {this.props.children}\n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = state => {\n    return {\n        authReason: state.user.authReason, \n        loginOrSignup: state.ui.loginOrSignup,\n        currentDepth: state.ui.menu.currentDepth, \n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onPopFromMenuStack: () => dispatch(actions.popFromMenuStack()), \n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuScreen);","import React, { Component } from 'react';\n\nimport classes from './MenuItem.module.css';\n\nclass MenuItem extends Component {\n    render() {\n        return(\n            <div className={`${classes.MenuItem} ${this.props.invalid ? classes.Invalid : ''}`}>\n                {this.props.children}\n            </div>\n        )\n    }\n}\n\nexport default MenuItem;","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport Dropzone from 'react-dropzone';\nimport * as actions from '../../../store/actions/index';\n\n\n\nimport MenuScreen from '../MenuScreen/MenuScreen';\nimport PrimaryButton from '../../UI/PrimaryButton/PrimaryButton'; \nimport MenuItem from \"../MenuItem/MenuItem\";\nimport Loader from \"react-loader-spinner\";\n\nimport classes from \"./AuthMenu.module.css\";\nimport ProfilePicPlaceholder from './ProfilePicPlaceholder.svg'; \n\nconst UNACCEPTABLE_PASSWORDS = ['12345', '123456', '1234567', '12345678', '123456789', '1234567890']\n\n\nclass AuthMenu extends Component { \n\n  state = {\n    loginEmail: {\n        value: '',\n        touched: false,\n        valid: false,\n    },\n    loginPassword: {\n        value: '',\n        touched: false,\n        valid: false,\n    },\n    name: {\n        value: '',\n        touched: false,\n        valid: false,\n    },\n    password: {\n        value: '',\n        touched: false,\n        valid: false,\n        errorMessage: 'Min 5 Characters'\n    },\n    secondPassword: {\n        value: '', \n        touched: false,\n        valid: false,\n    },\n    email: {\n        value: '',\n        touched: false,\n        valid: false,\n    },\n    handle: {\n        value: '',\n        touched: false,\n        valid: false,\n    },\n    profilePic: {\n        tooUgly: true,\n        src: null,\n        file: null, \n    },\n    userConditions: {\n        value: true,\n        touched: false,\n    }, \n    newsletter: true,\n}\n\n//--------- LOGIN EMAIL --------------------------------------------------------\n\nonInputLoginEmail = (event) => {\n    const email = event.target.value;\n    const valid = email ? /^\\S+@\\S+\\.\\S+$/.test(email) : false;\n    this.setState({ \n        loginEmail: {\n            ...this.state.loginEmail,\n            value: event.target.value,\n            errorMessage: valid ? null : 'Please enter valid email.',\n            valid: valid\n        }\n    })  \n}\n\nonLeaveLoginEmailFocus = () => {\n    this.setState({\n        loginEmail: {\n            ...this.state.loginEmail, \n            touched: true\n        }\n    })\n}\n\n//--------- LOGIN PASSWORD -----------------------------------------------------\n\n\nonInputLoginPassword = (event) => {\n    const password = event.target.value;\n    this.setState({ \n        loginPassword: {\n            ...this.state.loginPassword, \n            value: password\n        }\n    })\n}\n\nonLeaveLoginPasswordFocus = () => {\n    this.setState({\n        loginPassword: {\n            ...this.state.loginPassword,\n            touched: true\n        }\n    })\n}\n\n//--------- NAME ---------------------------------------------------------\n\nonInputName = (event) => {\n    const name = event.target.value;\n    const valid =  name ? name.length > 3 && name.length < 20  : false\n    this.setState({ \n        name: {\n            ...this.state.name, \n            value: event.target.value,\n            errorMessage: valid ? null : '4-20 characters',\n            valid: valid\n        }\n    })\n}\n\nonLeaveNameFocus = () => {\n    this.setState({\n        name: {\n            ...this.state.name, \n            touched: true\n        }\n    })\n}\n\n//--------- PROFILE PIC --------------------------------------------------\n\n\nonUploadprofilePic = (acceptedFiles) => {\n    if(acceptedFiles && acceptedFiles.length > 0){\n        const file = Array.from(acceptedFiles)[0];\n        const src = window.URL.createObjectURL(file)\n        this.setState({\n            profilePic :{ \n                file, \n                src,\n                tooUgly: false\n            }\n        });\n    }\n}\n\nonRemoveProfilePic = (event) => {\n    this.setState({\n        profilePic: {\n            tooUgly: true,\n            src: null,\n            file: null, \n        },\n    })\n}\n\n\n\n//--------- EMAIL --------------------------------------------------------\n\nonInputEmail = (event) => {\n    const email = event.target.value;\n    const valid = email ? /^\\S+@\\S+\\.\\S+$/.test(email) : false;\n    this.setState({ \n        email: {\n            value: event.target.value,\n            errorMessage: valid ? null : 'Please enter valid email.',\n            valid: valid\n        }\n    })  \n}\n\nonLeaveEmailFocus = () => {\n    this.setState({\n        email: {\n            ...this.state.email, \n            touched: true\n        }\n    })\n}\n\n//--------- HANDLE -------------------------------------------------------\n\nonInputHandle = (event) => {\n    const handle = event.target.value.startsWith('@') ? event.target.value.substring(1) : event.target.value;\n    let errorMessage = '';\n    if(handle.length < 4 || handle.length > 14) errorMessage = '4-14 characters.'; \n    if(!/^[a-zA-Z]+$/.test(handle)) errorMessage = 'letters only!';\n    this.setState({ \n        handle: {\n            ...this.state.handle, \n            value: handle,\n            errorMessage,\n            valid: errorMessage === '',\n        }\n    })  \n}\n\nonLeaveHandleFocus = () => {\n    this.setState({\n        handle: {\n            ...this.state.handle, \n            touched: true\n        }\n    })\n}\n\n//--------- PASSWORD -----------------------------------------------------\n\n\nonInputPassword = (event) => {\n    const password = event.target.value;\n    let valid = true; \n    let errorMessage;\n    if(!password || password.length < 5){\n        valid = false;\n        errorMessage = 'Min 5 Characters';\n    } else if(UNACCEPTABLE_PASSWORDS.includes(password)){\n        valid = false;\n        errorMessage = 'Really? Can u please chose another password?';\n    } else if(password.length > 30){\n        valid = false;\n        errorMessage = 'Max 30 characters'\n    }\n    this.setState({ \n        password: {\n            ...this.state.password,\n            value: event.target.value,\n            errorMessage,\n            valid: valid\n        }\n    })\n}\n\n\nonLeavePasswordFocus = () => {\n    this.setState({\n        password: {\n            ...this.state.password,\n            touched: true\n        }\n    })\n}\n\n//--------- SECOND PASSWORD  ---------------------------------------------\n\nonInputSecondPassword = (event) => {\n    const password = event.target.value;\n    const valid = password === this.state.password.value;\n    const errorMessage = valid ? null : 'Passwords do not match.';\n\n    this.setState({ \n        secondPassword: {\n            ...this.state.secondPassword,\n            value: event.target.value,\n            errorMessage,\n            valid: valid\n        }\n    })\n}\n\nonLeaveSecondPasswordFocus = () => {\n    this.setState({\n        secondPassword: {\n            ...this.state.secondPassword,\n            touched: true\n        }\n    })\n}\n\n//--------- USER CONDITIONS & NEWSLETTER  --------------------------------\n\nonChangeUserconditions = (event) => {\n    this.setState(prevState => {\n        return { \n            userConditions: {\n                ...prevState.userConditions,\n                value: !prevState.userConditions.value \n            }\n        }\n    })\n}\n\nonChangeNewsletter = (event) => {\n    this.setState(prevState => {\n        return { \n            newsletter: !prevState.newsletter \n        }\n    })\n}\n\n  componentDidUpdate = () => {\n    if(this.props.shouldMoveRight) {\n      this.props.onMoveRight()\n    }; \n    if(this.props.menuStack[this.props.menuStack.length-1] === 'CHOOSE_HANDLE'){\n        document.getElementById('handle').focus(); \n    }\n  }\n\n  createAccount = () => {\n    console.log(`\n        src:      ${this.state.profilePic.src}\n        name:     ${this.state.name.value}\n        password: ${this.state.password.value}\n        handle:   ${this.state.handle.value}\n        email:    ${this.state.email.value}\n        file:     ${this.state.profilePic.file}\n    `)\n    this.props.onSignup(\n        this.state.name.value, \n        this.state.email.value, \n        this.state.handle.value, \n        this.state.password.value, \n        this.state.profilePic.file,\n        this.state.profilePic.src, \n        this.state.newsletter\n    );\n  }\n\n  login = (event) => {\n    event.preventDefault();\n    this.props.onLogin(this.state.loginEmail.value, this.state.loginPassword.value)\n  }\n\n  signup = (event) => {\n    event.preventDefault();\n    if(this.state.email.valid && this.state.password.valid && this.state.secondPassword.valid && this.state.name.valid){\n        this.props.checkEmailTaken(this.state.email.value);\n    }else {\n        this.setState({\n            email: { ...this.state.email, touched: true },\n            password: { ...this.state.password, touched: true },\n            secondPassword: { ...this.state.secondPassword, touched: true },\n            name: { ...this.state.name, touched: true },\n        })\n    }\n  }\n\n  chooseHandle = (event) => {\n      event.preventDefault(); \n      if(this.state.handle.valid){\n        this.props.checkHandleTaken(this.state.handle.value);\n      }else{\n          this.setState({\n              handle: { ...this.state.handle, touched: true }\n          })\n      }\n  }\n\n\n  getMenuScreens = () => {\n    return this.props.menuStack.map((s,i) => {\n        const pos = this.props.menuStack[this.props.currentDepth] === s ? 0 : i < this.props.currentDepth ? -1 : 1\n        let content = []; \n        switch(s){\n            case 'AUTH': \n                const loginErrorMessage = !this.state.loginEmail.valid & this.state.loginEmail.touched ? 'Not a valid email' : this.props.loginError;\n                let emailErrorMessage, \n                    passwordErrorMessage, \n                    secondPasswordErrorMessage;\n                if(!this.state.email.valid && this.state.email.touched) emailErrorMessage = 'Not a valid email';\n                if(this.props.takenEmails.some(e => e === this.state.email.value)) emailErrorMessage = 'There already exists an account with that email.';\n                if(!this.state.password.valid && this.state.password.touched) passwordErrorMessage = this.state.password.errorMessage;\n                if(!this.state.secondPassword.valid && this.state.secondPassword.touched) secondPasswordErrorMessage = this.state.secondPassword.errorMessage;\n            \n                content.push(\n                    <MenuItem key={s + 'login'}>\n                        <form onSubmit={this.login}>\n                            <input\n                                onAnimationStart={this.onInputEmail}\n                                className={classes.TextInput}\n                                element=\"input\"\n                                id=\"emailLogin\"\n                                type=\"email\"\n                                placeholder='email'\n                                spellCheck='false'\n                                value={this.state.loginEmail.value}\n                                onChange={this.onInputLoginEmail}\n                                onBlur={this.onLeaveLoginEmailFocus}\n                            />\n                            <input\n                                onAnimationStart={this.onInputLoginPassword}\n                                className={classes.TextInput}\n                                element=\"input\"\n                                type=\"password\"\n                                placeholder='password'\n                                value={this.state.loginPassword.value}\n                                onChange={this.onInputLoginPassword}\n                                onBlur={this.onLeaveLoginPasswordFocus}\n                            />\n                            {\n                                loginErrorMessage ? \n                                <div className={classes.ErrorMessage}>\n                                    {loginErrorMessage}\n                                </div>\n                                :null\n                            }\n\n                            <PrimaryButton clicked={this.login}>\n                                { this.props.loginLoading \n                                ? <Loader \n                                    className={classes.Spinner} \n                                    type=\"ThreeDots\" \n                                    color=\"#FFFFFF\" \n                                    height={30} \n                                    width={30}/> \n                                : <h3>Login</h3> }\n                            </PrimaryButton>\n                        </form>\n                    </MenuItem>)\n                content.push(\n                    <MenuItem key={s + 'signup'}>\n                        <form onSubmit={this.signup}>\n                            <input\n                                className={classes.TextInput}\n                                element=\"input\"\n                                id=\"emailSignup\"\n                                type=\"email\"\n                                placeholder='email'\n                                value={this.state.email.value}\n                                onChange={this.onInputEmail}\n                                onAnimationStart={this.onInputEmail}\n                                onBlur={this.onLeaveEmailFocus}\n                            />\n                            {\n                                emailErrorMessage ? \n                                <div className={classes.ErrorMessage}>\n                                    {emailErrorMessage}\n                                </div>\n                                : null\n                            }\n                            <input\n                                className={classes.TextInput}\n                                element=\"input\"\n                                type=\"password\"\n                                placeholder='password'\n                                value={this.state.password.value}\n                                onChange={this.onInputPassword}\n                                onAnimationStart={this.onInputPassword}\n                                onBlur={this.onLeavePasswordFocus}\n                            />\n                            {\n                                passwordErrorMessage ? \n                                <div className={classes.ErrorMessage}>\n                                    {passwordErrorMessage}\n                                </div>\n                                :null\n                            }\n                            <input\n                                className={classes.TextInput}\n                                element=\"input\"\n                                type=\"password\"\n                                placeholder='repeat password'\n                                value={this.state.secondPassword.value}\n                                onChange={this.onInputSecondPassword}\n                                onAnimationStart={this.onInputSecondPassword}\n                                onBlur={this.onLeaveSecondPasswordFocus}\n                            />\n                            {\n                                secondPasswordErrorMessage ? \n                                <div className={classes.ErrorMessage}>\n                                    {secondPasswordErrorMessage}\n                                </div>:null\n                            }\n                            <input \n                                className={classes.TextInput}\n                                id=\"name\" \n                                placeholder=\"Your Name\"\n                                type=\"text\"\n                                value={this.state.name.value}\n                                onChange={this.onInputName}\n                                onAnimationStart={this.onInputName}\n                            />\n                            <div className={classes.CheckboxContainer}>\n                                <input \n                                    type='checkbox' \n                                    onChange={this.onChangeUserconditions} \n                                    checked={this.state.userConditions.value}/>\n                                <p onClick={this.onChangeUserconditions} className={classes.CheckboxText}>\n                                    accept user conditions & shit\n                                </p>\n                            </div>\n                            <div className={classes.CheckboxContainer}>\n                                <input \n                                    type='checkbox' \n                                    onChange={this.onChangeNewsletter} \n                                    checked={this.state.newsletter}/>\n                                <p onClick={this.onChangeNewsletter} className={classes.CheckboxText}>\n                                    Receive an email for every big new feature\n                                </p>\n                            </div>\n                            <PrimaryButton type=\"submit\" clicked={(event) => this.signup(event)}>\n                                { \n                                    this.props.checkEmailLoading \n                                    ? <Loader \n                                        className={classes.Spinner} \n                                        type=\"ThreeDots\" \n                                        color=\"#FFFFFF\" \n                                        height={30} \n                                        width={30}/> \n                                    : <h3>Create Account</h3>\n                                }\n                            </PrimaryButton>\n                        </form>\n                    </MenuItem>\n                );\n                break; \n            case 'CHOOSE_HANDLE': \n                let handleErrorMessage;\n                if(!this.state.handle.valid && this.state.handle.touched) handleErrorMessage = this.state.handle.errorMessage;\n                if(this.props.takenHandles.some(h => h === this.state.handle.value)) handleErrorMessage = 'Handle already taken'\n                content.push(\n                    <MenuItem  key={s}>\n                        <form onSubmit={this.chooseHandle}>\n                            <h3>Enter @ Handle:</h3>            \n                            <input\n                                className={classes.TextInput}\n                                element=\"input\"\n                                id=\"handle\"\n                                type=\"text\"\n                                placeholder=\"@elon\"\n                                value={'@' + this.state.handle.value}\n                                onChange={this.onInputHandle}\n                                onAnimationStart={this.onInputHandle}\n                                onBlur={this.onLeaveHandleFocus}\n                            />\n                            {\n                                handleErrorMessage ? \n                                <div className={classes.ErrorMessage}>\n                                    {handleErrorMessage}\n                                </div>:null\n                            }\n                            <PrimaryButton type=\"submit\" clicked={(event) => this.chooseHandle(event)}>\n                            { \n                                this.props.checkHandleLoading \n                                ? <Loader \n                                    className={classes.Spinner} \n                                    type=\"ThreeDots\" \n                                    color=\"#FFFFFF\" \n                                    height={30} \n                                    width={30}/> \n                                : <h3>Choose {this.state.handle.value}</h3>\n                            }\n                            </PrimaryButton>\n                        </form>\n                    </MenuItem>\n                ); \n                break; \n            case 'CHOOSE_PROFILE_PIC':\n                content.push(\n                    <MenuItem  key={s}>\n                        <h3>Profile Picture</h3>\n                        <input type='checkbox' onChange={this.onRemoveProfilePic} checked={this.state.profilePic.tooUgly}/> I'm too ugly<br/>\n                        <input type='checkbox' onChange={() => console.log('Upload Pic!')} checked={!this.state.profilePic.tooUgly}/> Upload picture\n                        <Dropzone onDrop={this.onUploadprofilePic}>\n                            {({getRootProps, getInputProps}) => (\n                                <section>\n                                <div {...getRootProps()}>\n                                    <input {...getInputProps()} />\n                                        <div className={classes.Dropzone}>\n                                        { \n                                            this.state.profilePic.src \n                                            ? <img \n                                                className={classes.ProfilePic}\n                                                src={this.state.profilePic.src} \n                                                alt='profilePic'/> \n                                            : <img \n                                                className={classes.ProfilePicPlaceholder} \n                                                src={ProfilePicPlaceholder} \n                                                alt='drag & drop profile Pic here'/>\n                                        }\n                                        </div> \n                                    </div>\n                                </section>\n                            )}\n                        </Dropzone>\n                        <PrimaryButton clicked={this.createAccount}>\n                        { \n                                this.props.signupLoading \n                                ? <Loader \n                                    className={classes.Spinner} \n                                    type=\"ThreeDots\" \n                                    color=\"#FFFFFF\" \n                                    height={30} \n                                    width={30}/> \n                                : <h3>Finish</h3>\n                            }\n                        </PrimaryButton>\n                    </MenuItem>\n                );\n                break; \n            default: console.log('INVALID ELEMENT ON MENU STACK');\n        }\n        return (\n            <MenuScreen screen={s} pos={pos} goBack={this.goBack} addToMenuStack={this.addToMenuStack}  key={s}>\n                {content}\n            </MenuScreen>\n        )\n    })\n  }\n\n\n  render() {\n    return (\n        <div className={classes.MenuItems}>\n          { this.getMenuScreens() }\n        </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n\n  return {\n    menuStack: state.ui.menu.menuStack, \n    loginLoading: state.user.loginLoading,\n    checkEmailLoading: state.user.checkEmailLoading,\n    signupLoading: state.user.signupLoading,\n    checkHandleLoading: state.user.checkHandleLoading,\n    shouldMoveRight: state.ui.menu.shouldMoveRight, \n\n    darkmode: state.ui.darkmode,\n    currentDepth: state.ui.menu.currentDepth, \n\n    name: state.user.name, \n    handle: state.user.handle,\n    token: state.user.token,\n\n    loginError: state.user.loginError, \n    signupError: state.user.signupError,\n    takenEmails: state.user.takenEmails,\n    takenHandles: state.user.takenHandles,\n\n    \n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onMoveRight: () => dispatch(actions.moveRight()),\n    onAddToMenuStack: (next) => dispatch(actions.addToMenuStack(next)), \n\n    checkEmailTaken: (email) => dispatch(actions.checkEmailTaken(email)),\n    checkHandleTaken: (handle) => dispatch(actions.checkHandleTaken(handle)),\n    onLogin: (email, password) => dispatch(actions.login(email, password)),\n    onSignup: (name, email, handle, password, file, src, newsletter) => dispatch(actions.signup(name, email, handle, password, file, src, newsletter)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthMenu);\n\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport * as actions from '../../../store/actions/index';\n\nimport MenuScreen from '../MenuScreen/MenuScreen';\nimport MenuItem from \"../MenuItem/MenuItem\";\n\nimport classes from \"./UserMenu.module.css\";\nimport LogoutIcon from './logout.svg';\n\n\n\nclass UserMenu extends Component { \n\n  state = {\n\n}\n\n  componentDidUpdate = () => {\n    if(this.props.shouldMoveRight) {\n      this.props.onMoveRight()\n    }; \n  }\n\n\n  getMenuScreens = () => {\n\n\n    return this.props.menuStack.map((s,i) => {\n        console.log(classes.LogoutContainer);\n        console.log('########################')\n        const pos = this.props.menuStack[this.props.currentDepth] === s ? 0 : i < this.props.currentDepth ? -1 : 1\n        let content = []; \n        switch(s){\n            case 'USER_MENU': \n                content.push(\n                    <MenuItem  key={s}>\n                        <div className={classes.LogoutContainer} onClick={this.props.onLogout}>\n                          <img className={classes.LogoutIcon} src={LogoutIcon} alt='logoutIcon'/>\n                          <p className={classes.LogoutText}>logout</p>\n                        </div>\n                    </MenuItem>\n                );\n                break; \n            default: console.log('INVALID ELEMENT ON MENU STACK');\n        }\n        return (\n            <MenuScreen screen={s} pos={pos} goBack={this.goBack} addToMenuStack={this.addToMenuStack}  key={s}>\n                {content}\n            </MenuScreen>\n        )\n    })\n  }\n\n\n  render() {\n    let menuClasses = [classes.Menu];\n    let lightButtonClasses = [classes.LightButton];\n    let darkButtonClasses = [classes.DarkButton];\n    if(this.props.darkmode){\n      menuClasses.push(classes.DarkMenu); \n      darkButtonClasses.push(classes.Active);\n      lightButtonClasses.push(classes.Inactive);\n    } else {\n      menuClasses.push(classes.LightMenu); \n      lightButtonClasses.push(classes.Active);\n      darkButtonClasses.push(classes.Inactive);\n    }\n    return (\n      <div className={classes.MenuItems}>\n        { this.getMenuScreens() }\n      </div>\n      \n    );\n  }\n}\n\nconst mapStateToProps = state => {\n\n  return {\n    menuStack: state.ui.menu.menuStack, \n    darkmode: state.ui.darkmode,\n    currentDepth: state.ui.menu.currentDepth, \n    shouldMoveRight: state.ui.menu.shouldMoveRight, \n\n    token: state.user.token,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onMoveRight: () => dispatch(actions.moveRight()),\n    onLogout: () => dispatch(actions.logout()), \n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\n\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../store/actions/index';\nimport classes from \"./SidePanel.module.css\";\nimport DefaultProfilePic from '../../media/DefaultProfilePic.png';\n\nimport AuthMenu from \"./AuthMenu/AuthMenu\";\nimport UserMenu from \"./UserMenu/UserMenu\";\n\n\n\nclass SidePanel extends Component {\n\n\n\n    getProfilePic = () => {\n        let profilePicSrc = DefaultProfilePic;\n        const token = localStorage.getItem('token');\n        if(this.props.profilePicSrc){\n            profilePicSrc = this.props.profilePicSrc;\n        }else {\n            if(token && this.props.hasProfilePic){\n                profilePicSrc = `${process.env.REACT_APP_PROFILE_PICTURES_SOURCE_URL}` + this.props.userId; \n            }\n        }\n        return(\n            <img \n                alt=''\n                className={`${classes.ProfilePic} ${this.props.menuOpen ? classes.MenuOpen : ''}`} \n                src={profilePicSrc}/>\n        )\n    }\n\n    render() {\n        let menuClasses = [classes.Menu, classes.DarkMode];\n        return (\n            <div className={classes.Container}>\n                { this.props.menuOpen ? <div className={classes.Overlay} onClick={this.props.onCloseMenu}></div> : null }\n                <div \n                    onClick={this.props.menuOpen ? this.props.onCloseMenu : this.props.onOpenMenu} \n                    className={classes.Assistant}>\n                    { this.getProfilePic() }\n                </div>\n                {\n                    this.props.menuOpen \n                    ? <div className={menuClasses.join(' ')}>\n                        <div className={classes.NameArea}>\n                        <h2 className={classes.Name}>{this.props.name}</h2>\n                        {\n                            this.props.token \n                            ? <p className={classes.Handle}>@{this.props.handle}</p>\n                            : null \n                        }\n                        </div>\n                        <hr/>\n                        { \n                            this.props.menuOpen \n                            ? this.props.token \n                                ? <UserMenu/> \n                                : <AuthMenu/> \n                            : null\n                        }\n                    </div>\n                    : null\n                }\n \n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        darkmode: state.ui.darkmode, \n        menuOpen: state.ui.menu.open,\n\n        token: state.user.token,\n        userId: state.user.userId,\n        handle: state.user.handle,\n        name: state.user.name, \n\n        hasProfilePic: state.user.hasProfilePic,\n        profilePicSrc: state.user.profilePicSrc,\n\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n      onOpenMenu: () => dispatch(actions.openMenu()),\n      onCloseMenu: () => dispatch(actions.closeMenu())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SidePanel);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions/index';\n\nimport classes from './Feedback.module.css';\n\nclass Feedback extends Component {\n\n    handleClicked = () => {\n        if(this.props.token && this.props.userId !== '6022396f28d69d22509a5d46'){\n            const self = {\n                handle: this.props.handle,\n                name: this.props.name, \n                profilePic: this.props.profilePic, \n                userId: this.props.userId\n            }\n            this.props.onSwitchTab('chat');\n            this.props.onOpenChrisChat(self);\n        }\n    }\n\n    render(){\n        return(\n            <div className={classes.Feedback}>\n                <h2>Got some feedback?<br/> Found a bug? <br/>Confused?</h2>\n                Send a screenshot or text me!<br/><br/>\n                +49 17682625207<br/>\n                on here: <span onClick={this.handleClicked} className={this.props.token ? classes.Link : null}>@chris</span><br/>\n                cloy202@gmail.com<br/>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.user.token,\n        userId: state.user.userId, \n        profilePic: state.user.profilePic, \n        handle: state.user.handle\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onOpenChrisChat: (self) => dispatch(actions.openChrisChat(self)),\n        onSwitchTab: (tab) => dispatch(actions.switchTab(tab)), \n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Feedback); ","import React, { Component } from \"react\";\nimport { Route, withRouter, Redirect } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nimport Stream from \"./components/Stream/Stream\";\nimport Chat from \"./components/Chat/Chat\";\nimport Creator from './components/Creator/Creator';\nimport Navigation from \"./components/Navigation/Navigation\";\nimport NewChatModal from './components/NewChatModal/NewChatModal';\nimport DropModal from './components/DropModal/DropModal';\nimport taktaktak from './media/taktaktak.jpg'; \n\nimport * as actions from './store/actions/index';\nimport Footer from \"./components/Footer/Footer\";\nimport SidePanel from \"./components/SidePanel/SidePanel\";\nimport Feedback from \"./components/Feedback/Feedback\";\n\nclass App extends Component {\n\n  componentDidMount = () => {\n    let anonymousId = localStorage.getItem('anonymousId');\n    if(!anonymousId) {\n      localStorage.setItem('anonymousId', 'anonymous'+Date.now());\n    }\n    this.props.onSetAnonymousId(anonymousId);\n    this.props.onTryAutoSignup();\n    this.props.onSetWindowWidth(window.innerWidth);\n    window.addEventListener('resize', () => this.props.onSetWindowWidth(window.innerWidth));\n      setInterval(() => {\n        if(this.props.token){\n          const token = localStorage.getItem('token');\n          const headers = { headers: { authorization : `Bearer ${token}` } }\n          const url = `/api/users/notifications`;\n          axios.get(url, headers)\n          .then(res => {\n              if(this.props.notifications.length !== res.data.length){\n                this.props.onRefreshNotifications(res.data);\n              }else {\n                const inComingIds = res.data.map(n => n.id);\n                this.props.notifications.map(n => n.id)\n                .forEach(id => {\n                  if(!inComingIds.some(iid => iid === id)){\n                    this.props.onRefreshNotifications(res.data);\n                  }\n                })\n              }\n          })\n          .catch(err => {\n            console.log(err);\n          })\n        }\n      }, 5000);\n  } \n\n  componentDidUpdate(){\n    if(this.props.anonymousId === ''){\n      let anonymousId = localStorage.getItem('anonymousId');\n      if(!anonymousId) {\n        localStorage.setItem('anonymousId', 'anonymous'+Date.now());\n      }\n      this.props.onSetAnonymousId(anonymousId);\n    }\n    if(this.props.windowWidth !== window.innerWidth){\n      this.props.onSetWindowWidth(window.innerWidth);\n    }\n  }\n\n  render() {\n\n    if(this.props.windowWidth < 600){\n      return (\n        <div className='DesktopOnlyMessage'>\n          Desktop only for now, sry. <br/>\n          ¯\\_(ツ)_/¯<br/>\n          App is coming soon though.<br/>\n          Working all day and night.<br/><br/>\n          <img src={taktaktak} alt='chris working' className='taktaktak'/>\n        </div>\n      )\n    }\n\n    return (\n        <div className='App'>\n          <div className={`Background ${this.props.darkmode ? 'Dark' : 'Light'}`}></div>\n          <Route path={['/stream', '/chat', '/creator']} component={Stream}/>\n          <Route path={['/stream', '/chat', '/creator']} component={Chat}/>\n          <Route path={['/stream', '/chat', '/creator']} component={Creator}/>\n          <Redirect to='/stream'/>\n          {this.props.newChatModalOpen ? <NewChatModal/> : null}\n          {this.props.dropModalOpen ? <DropModal/> : null}\n          <Navigation/>\n          <SidePanel/> \n          <Footer/>\n          <Feedback/>\n        </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    dropModalOpen: state.ui.dropModalOpen,\n    windowWidth: state.ui.windowWidth,\n    darkmode: state.ui.darkmode,\n    authOpen: state.user.authOpen,\n    newChatModalOpen: state.ui.newChatModalOpen,\n    notifications: state.user.notifications,\n    token: state.user.token,\n    anonymousId: state.user.anonymousId,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSetWindowWidth: (width) => dispatch(actions.setWindowWidth(width)),\n    onTryAutoSignup: () => dispatch(actions.authCheckState()),\n    onRefreshNotifications: (notifications) => dispatch(actions.refreshNotifications(notifications)),\n    onSetAnonymousId: (anonymousId) => dispatch(actions.setAnonymousId(anonymousId)),\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as actionTypes from '../actions/actionTypes';\n\n\nconst initialState = {\n    dropTargets: [],\n    selectedTargets: [],\n    dropIds: [],\n    streamStatus: 'nothing loaded',\n    streamElements: [\n        { position: -4, show: \"hidden\", id: \"-4\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded' },\n        { position: -3, show: \"hidden\", id: \"-3\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded' },\n        { position: -2, show: \"hidden\", id: \"-2\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded' },\n        { position: -1, show: \"hidden\", id: \"-1\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded' },\n        { position: 0, show: \"hidden\", id: \"0\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded' },\n        { position: 1, show: \"show\", id: \"1\", dropStatus: 'loaded', \n            comments: [\n                {\"id\":\"6299e12bbe4e51241f85b9ac\",\"comment\":\"fipw efojpw e\",\"author\":{\"userId\":\"602627eac021720012a01948\"},\"posted\":\"2022-06-03T10:23:39.669Z\",\"points\":0,\"subComments\":[\n                    {\"id\":\"629a004ebb58d226aba80031\",\"path\":\"6299e12bbe4e51241f85b9ac/0\",\"points\":0,\"comment\":\"grw\",\"subComments\":[\n                        {\"id\":\"629a0051bb58d226aba80033\",\"path\":\"6299e12bbe4e51241f85b9ac/0/0\",\"points\":0,\"comment\":\"reg\",\"subComments\":[]},\n                        {\"id\":\"629a0054bb58d226aba80035\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1\",\"points\":0,\"comment\":\"erger\",\"subComments\":[\n                            {\"id\":\"629a0058bb58d226aba80037\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0\",\"points\":0,\"comment\":\"gerger\",\"subComments\":[\n                                {\"id\":\"629a005cbb58d226aba80039\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0\",\"points\":0,\"comment\":\"gregerger\",\"subComments\":[\n                                    {\"id\":\"629a005fbb58d226aba8003b\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0\",\"points\":0,\"comment\":\"ergergerg\",\"subComments\":[\n                                        {\"id\":\"629a0062bb58d226aba8003d\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0\",\"points\":0,\"comment\":\"egrergerg\",\"subComments\":[\n                                            {\"id\":\"629a0065bb58d226aba8003f\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0\",\"points\":0,\"comment\":\"gegerg\",\"subComments\":[\n                                                {\"id\":\"629a0067bb58d226aba80041\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0\",\"points\":0,\"comment\":\"ergerge\",\"subComments\":[\n                                                    {\"id\":\"629a006bbb58d226aba80043\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"gergeger\",\"subComments\":[\n                                                        {\"id\":\"629a006ebb58d226aba80045\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"gerger\",\"subComments\":[\n                                                            {\"id\":\"629a0071bb58d226aba80047\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"ergergerg\",\"subComments\":[\n                                                                {\"id\":\"629a0074bb58d226aba80049\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"ergerg\",\"subComments\":[\n                                                                    {\"id\":\"629a0077bb58d226aba8004b\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"rgerg\",\"subComments\":[\n                                                                        {\"id\":\"629a007abb58d226aba8004d\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"greger\",\"subComments\":[\n                                                                            {\"id\":\"629a007ebb58d226aba8004f\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"ererg\",\"subComments\":[\n                                                                                {\"id\":\"629a0081bb58d226aba80051\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"gre\",\"subComments\":[\n                                                                                    {\"id\":\"629a0084bb58d226aba80053\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"erergerg\",\"subComments\":[\n                                                                                        {\"id\":\"629a0089bb58d226aba80055\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"regerg\",\"subComments\":[\n                                                                                            {\"id\":\"629a008fbb58d226aba80057\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"ergerg\",\"subComments\":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},\n        {\"id\":\"6299e12fbe4e51241f85b9ad\",\"comment\":\" fwlejkn f\",\"author\":{\"userId\":\"602627eac021720012a01948\"},\"posted\":\"2022-06-03T10:23:43.861Z\",\"points\":0,\"subComments\":[]},\n        {\"id\":\"629a0f82bb58d226aba8010c\",\"comment\":\"qd qiwo \",\"author\":{\"userId\":\"602627eac021720012a01948\"},\"posted\":\"2022-06-03T13:41:22.145Z\",\"points\":0,\"subComments\":[]},\n        {\"id\":\"629a1495bb58d226aba8010d\",\"comment\":\"oiwef eiowjfoi wje\",\"author\":{\"userId\":\"602627eac021720012a01948\"},\"posted\":\"2022-06-03T14:03:01.953Z\",\"points\":0,\"subComments\":[]}\n            ], \n            memeStatus: 'not loaded'\n        },\n        { position: 2, show: \"show\", id: \"2\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 3, show: \"show\", id: \"3\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 4, show: \"show\", id: \"4\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 5, show: \"show\", id: \"5\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 6, show: \"show\", id: \"6\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 7, show: \"show\", id: \"7\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 8, show: \"show\", id: \"8\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 9, show: \"show\", id: \"9\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 10, show: \"show\", id: \"10\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 11, show: \"show\", id: \"11\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 12, show: \"show\", id: \"12\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 13, show: \"show\", id: \"13\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 14, show: \"show\", id: \"14\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 15, show: \"show\", id: \"15\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 16, show: \"show\", id: \"16\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 17, show: \"show\", id: \"17\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 18, show: \"show\", id: \"18\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 19, show: \"show\", id: \"19\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 20, show: \"show\", id: \"20\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 21, show: \"show\", id: \"21\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n    ],\n    timeStampLastScroll: 0,\n    currentlyLoadingMemeId: '', \n    selectedComment: null,\n    sending: [],\n    timeStampLastScroll: 0,\n    mouseOverComments: false,\n}\n\n// ----- UTIL --------------------------------------------------------------------\n\nconst insertSubComment = (parentPath, subComments, comment) => {\n    return subComments.map(s => {\n        if(s.path === parentPath) return { ...s, subComments: [...s.subComments, comment] } \n        if(parentPath.startsWith(s.path)) return {...s, subComments: insertSubComment(parentPath, s.subComments, comment) }\n        else return s \n    })\n}\n\nconst replaceSubCommentId = (subComments, randPath, subComment) => {\n    return subComments.map(s => {\n        if(s.path === randPath){ \n            console.log(\"Reached SubComment\")\n            return { ...s, path: subComment.path} \n        }\n        else{\n            console.log('Going Deepa') \n            return {...s, subComments: replaceSubCommentId(s.subComments, randPath, subComment)}\n        }\n    })\n}\n\nconst scrollToTop = () => {\n    const c = document.documentElement.scrollTop || document.body.scrollTop;\n    if (c > 0) {\n      window.requestAnimationFrame(scrollToTop);\n      window.scrollTo(0, c - c / 10);\n    }\n};\n\nconst setDropsNotLoaded = (state, action) => {\n    const streamElementsNew = state.streamElements.map((s,i) => {\n        return {\n            ...s, \n            // show: i === 0 ? 'hidden' : 'show', \n            id: `${i}-${Date.now()}`, \n            status: 'not loaded', \n            dropStatus: 'not loaded', \n            comments: [], \n            memeStatus: 'not loaded'\n        }\n    })\n    return {\n        ...state, \n        streamElements: streamElementsNew,\n        streamStatus: 'nothing loaded'\n    }\n}\n\n// ----- FETCH IDS -----------------------------------------------------------\n\nconst fetchIdsStart = (state, action) => {\n    return {\n        ...state,\n        streamStatus: 'loading ids'\n    }\n}\n\nconst setIds = (state, action) => {\n    let activeIds = action.ids.slice(0, 21);\n    const ids = action.ids.slice(21, action.ids.length)\n    const streamElementsNew = state.streamElements.map((s, i) => {\n        if(s.position < 1){\n            return s\n        }else if(activeIds.length === 0){\n            return {...s, id: 'no more' + Math.random(), status: 'no more', memeStatus: 'not loaded'} \n        } else {\n            return { ...s, id: activeIds.pop(), status:'id loaded', memeStatus: 'not loaded'}\n        }\n    })\n    return {\n        ...state,\n        dropIds: ids,\n        currentlyLoadingMemeId: streamElementsNew[5].id,\n        streamElements: streamElementsNew,\n        streamStatus: 'ids loaded'\n    }\n}\n\nconst fetchIdsFailed = (state, action) => {\n    return { ...state, streamStatus: 'ids failed' }\n}\n\n\n// ----- FETCH DROPS ----------------------------------------------------------\n\nconst fetchDropsStart = (state, action) => {\n    return state;\n}\n\nconst setDrops = (state, action) => {\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.position === 0){\n            return { position: 0, show: \"hidden\", id: \"0\", dropStatus: 'loaded', comments: [], memeStatus: 'loading'}\n        }\n        const drop = action.drops.find(d => d.dropId === s.id); \n        if(drop){\n            return {\n                ...s,\n                comments: drop.comments.map(c => {return {...c, path:'0'}}),\n                title: drop.title ? drop.title : null,\n                source: drop.source ? drop.source : null,\n                dropStatus: 'loaded',\n            }\n        }else {\n            return s\n        }\n    })\n    \n    return {\n        ...state,\n        streamElements: streamElementsNew,\n        streamStatus: 'drops loaded'\n    }\n}\n\nconst fetchDropsFailed = (state, action) => {\n    return state;\n}\n\n// ----- FETCH MEME ----------------------------------------------------------\n\n\nconst fetchMemeSuccess = (state, action) => {\n    let nextPos; \n    let nextId = 'no more';\n    const streamElementsNew = state.streamElements.map(s => {\n        if(action.dropId === s.id){\n            nextPos = s.position + 1 \n            return {\n                ...s, \n                memeStatus: 'loaded'\n            }\n        } else if(s.position === nextPos) {\n            nextId = s.id\n            return s\n        } else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        streamElements: streamElementsNew,\n        currentlyLoadingMemeId: nextId\n    }\n}\n\nconst fetchMemeFailed = (state, action) => {\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            return {\n                ...s,\n                memeStatus: 'failed'\n            }\n        } else { return s }\n    })\n    return {\n        ...state, \n        streamElements: streamElementsNew\n    }\n}\n\n// ----- FETCH DROP ----------------------------------------------------------\n\nconst fetchDropStart = (state, action) => {\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            return {\n                ...s,\n                dropStatus: 'loading',\n            }\n        }else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        streamElements: streamElementsNew\n    }\n}\n\nconst fetchDropSuccess = (state, action) => {\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            return {\n                ...s,\n                ...action.drop,\n                comments: action.drop.comments ? action.drop.comments.map(c => {return {...c, path:'0'}}) : [],\n                title: action.drop.title ? action.drop.title : null,\n                source: action.drop.source ? action.drop.source : null,\n                dropStatus: 'loaded'\n            }\n        }else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        streamElements: streamElementsNew\n    }\n}\n\nconst fetchDropFailed = (state, action) => {\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            return {\n                ...s,\n                dropStatus: 'failed',\n            }\n        }else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        streamElements: streamElementsNew\n    }\n}\n\n\n// ----- SEND COMMENT ---------------------------------------------------------------------\n\nconst sendCommentStart = (state, action) => {\n    const sendingObject = { dropId: action.dropId, randId: action.comment.id }\n    const sendingNew = [...state.sending, sendingObject];\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            const commentsNew = [action.comment, ...s.comments];\n            return {\n                ...s,\n                comments: commentsNew\n            }\n        }else {\n            return s \n        }\n    })\n    return {\n        ...state,\n        sending: sendingNew, \n        streamElements: streamElementsNew,\n    }\n}\n\nconst sendCommentSuccess = (state, action) => {\n    console.log(action);\n    const sendingNew = state.sending.filter(c => c.randId !== action.randId);\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            const commentsNew = s.comments.map(c => {\n                if(c.id === action.comment.randId){\n                    return action.comment\n                }else {\n                    return c \n                }\n            })\n            return {\n                ...s, \n                comments: commentsNew\n            }\n        }else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        streamElements: streamElementsNew,\n        sending: sendingNew,\n    }\n}\n\nconst sendCommentFailed = (state, action) => {\n    console.log(action.err);\n    return {\n        ...state\n    }\n}\n\n// ----- SELECT DROP TARGET ------------------------------------------------------\n\nconst selectDropTarget = (state, action) => {\n    const dropTargetsNew = [...state.dropTargets, action.chatId]\n    return {\n        ...state,\n        dropTargets: dropTargetsNew\n    }\n}\n\nconst unselectDropTarget = (state, action) => {\n    const dropTargetsNew = state.dropTargets.filter(id => id !== action.chatId)\n    return {\n        ...state, \n        dropTargets: dropTargetsNew\n    }\n}\n\nconst resetDropTargets = (state, action) => {\n    return {\n        ...state,\n        dropTargets: []\n    }\n}\n\n// ----- SCROLL -----------------------------------------------------------------------\n\nconst scrollStart = (state, action) => {\n    //scrollToTop();\n    if(state.selectedComment){\n        return {\n            ...state,\n        selectedComment: null\n        }\n    } else {\n        if(state.dropIds.length > 0) console.log('##################');\n        const nextId = state.dropIds.length !== 0 ? state.dropIds[0] : 'no more' + Date.now();\n        const dropIdsNew = state.dropIds.slice(1, state.dropIds.length); \n        const streamElementsNew = [\n            ...state.streamElements.map(s => {\n                return {\n                    ...s, \n                    position: s.position - 1,\n                    show: s.position-1 < 1 ? 'hidden' : 'show'\n                }\n            })\n            .filter(s => {\n                return s.position >= -4\n            }),\n            {\n                position: 21,\n                show: 'show',\n                id: nextId,\n                status: 'id loaded',\n                dropStatus: 'not loaded',\n                comments: []\n            }\n        ]\n        return {\n            ...state,\n            streamElements: streamElementsNew,\n            dropIds: dropIdsNew, \n            dropTargets: [],\n            timeStampLastScroll: Date.now()\n        }\n    }\n}\n\nconst scrollSuccess = (state, action) => {\n    return {\n        ...state,\n    }\n}\n\nconst scrollFailed = (state, action) => {\n    return {\n        ...state,\n    }\n}\n\n// ----- SELECT COMMENT ---------------------------------------------------------------------\n\n\nconst selectComment = (state, action) => {\n    return { ...state, selectedComment: action.commentId }\n}\n\nconst unselectComment = (state, action) => {\n    return { ...state, selectedComment: null }\n}\n\nconst selectSubComment = (state, action) => {\n    return { ...state, selectedComment: action.path }\n}\n\nconst unselectSubComment = (state) => {\n    return { ...state, selectedComment: null }\n}\n\n// ----- SEND SUBCOMMENT -------------------------------------------------------------------------\n\nconst sendSubCommentStart = (state, action) => {\n    const { dropId, subComment } = action; \n    const newPath = `${state.selectedComment}/${subComment.id}`;\n    const sendingNew = [...state.sending, {dropId: dropId, path: newPath}]\n    const newSubComment = {\n        id: subComment.id,\n        comment: subComment.comment,\n        path: newPath,\n        points: 0,\n        subComments: []\n    }\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === dropId){\n            const comments = s.comments.map(c => {\n                if(state.selectedComment.split('/')[0] === c.id){\n                    if(state.selectedComment.split('/').length > 1){\n                        return {...c, subComments: insertSubComment(state.selectedComment, c.subComments, newSubComment)}\n                    }else{\n\n                        return {...c, subComments: [...c.subComments, newSubComment]}\n                    }\n                }else {\n                    return c;\n                }\n            });\n            return {\n                ...s,\n                comments: comments\n            }\n        } else {\n            return s\n        }\n    })\n    return {\n        ...state, \n        streamElements: streamElementsNew, \n        sending: sendingNew,\n        selectedComment: null,\n    }\n}\n\nconst sendSubCommentSuccess = (state, action) => {\n    const { dropId, randPath, subComment } = action;\n    const sendingNew = state.sending.filter(s => {\n        return !(s.dropId === dropId && s.path === randPath)\n    })\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === dropId){\n            const commentsNew = s.comments.map(c => {\n                if(randPath.startsWith(c.id)){\n                    return {\n                        ...c, \n                        subComments: replaceSubCommentId(c.subComments, randPath, subComment)\n                    }\n                }else {\n                    return c\n                }\n            })\n            return {\n                ...s,\n                comments: commentsNew\n            }\n        }else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        sending: sendingNew,\n        streamElements: streamElementsNew\n    }\n}\n\nconst sendSubCommentFailed = (state, action) => {\n    return {\n        ...state\n    }\n}\n\nconst deleteCommentStart = (state, action) => {\n    const { dropId, commentId } = action;\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === dropId){\n            const commentsNew = s.comments.filter(c => c.id !== commentId);\n            return {\n                ...s,\n                comments: commentsNew\n            }\n        } else {\n            return s\n        }\n    })\n    return {\n        ...state, \n        streamElements: streamElementsNew, \n        selectedComment: null,\n    }\n}\n\nconst deleteCommentSuccess = (state, action) => {\n    return state\n}\n\nconst deleteCommentFailed = (state, action) => {\n    return state\n}\n\nconst setMouseOverComments = (state, action) => {\n    return {\n        ...state,\n        mouseOverComments: action.value\n    }\n}\n\nconst reducer = (state = initialState, action ) => {\n    switch( action.type ) {\n        case actionTypes.SELECT_DROPTARGET: return selectDropTarget(state, action);\n        case actionTypes.UNSELECT_DROPTARGET: return unselectDropTarget(state, action);\n        case actionTypes.RESET_DROP_TARGETS: return resetDropTargets(state, action);\n\n        case actionTypes.SCROLL_START: return scrollStart(state, action);\n        case actionTypes.SCROLL_SUCCESS: return scrollSuccess(state, action);\n        case actionTypes.SCROLL_FAILED: return scrollFailed(state, action);\n\n        case actionTypes.FETCH_IDS_START: return fetchIdsStart(state, action);\n        case actionTypes.SET_IDS: return setIds(state, action);\n        case actionTypes.FETCH_IDS_FAILED: return fetchIdsFailed(state, action);\n\n        case actionTypes.SELECT_COMMENT: return selectComment(state, action);\n        case actionTypes.UNSELECT_COMMENT: return unselectComment(state, action);\n        case actionTypes.SELECT_SUBCOMMENT: return selectSubComment(state, action);\n        case actionTypes.UNSELECT_SUBCOMMENT: return unselectSubComment(state);\n\n        case actionTypes.SET_DROPS_NOT_LOADED: return setDropsNotLoaded(state, action);\n\n        case actionTypes.FETCH_DROPS_START: return fetchDropsStart(state, action);\n        case actionTypes.SET_DROPS: return setDrops(state, action);\n        case actionTypes.FETCH_DROPS_FAILED: return fetchDropsFailed(state, action);\n\n        case actionTypes.FETCH_DROP_START: return fetchDropStart(state, action);\n        case actionTypes.FETCH_DROP_SUCCESS: return fetchDropSuccess(state, action);\n        case actionTypes.FETCH_DROP_FAILED: return fetchDropFailed(state, action);\n\n        case actionTypes.FETCH_MEME_SUCCESS: return fetchMemeSuccess(state, action);\n        case actionTypes.FETCH_MEME_FAILED: return fetchMemeFailed(state, action);\n \n        case actionTypes.SEND_COMMENT_START: return sendCommentStart(state, action);\n        case actionTypes.SEND_COMMENT_SUCCESS: return sendCommentSuccess(state, action);\n        case actionTypes.SEND_COMMENT_FAILED: return sendCommentFailed(state, action);\n\n        case actionTypes.DELETE_COMMENT_START: return deleteCommentStart(state, action);\n        case actionTypes.DELETE_COMMENT_SUCCESS: return deleteCommentSuccess(state, action);\n        case actionTypes.DELETE_COMMENT_FAILED: return deleteCommentFailed(state, action);\n\n        case actionTypes.SEND_SUBCOMMENT_START: return sendSubCommentStart(state, action);\n        case actionTypes.SEND_SUBCOMMENT_SUCCESS: return sendSubCommentSuccess(state, action);\n        case actionTypes.SEND_SUBCOMMENT_FAILED: return sendSubCommentFailed(state, action);\n\n        case actionTypes.SET_MOUSE_OVER_COMMENTS: return setMouseOverComments(state, action);\n    \n        default: return state;\n    }\n}\n\n\n\n\n\n\n\n\nexport default reducer; ","import * as actionTypes from '../actions/actionTypes';\n\nconst initialState = {\n    currentChatId: '1',\n    formHeight: 53,\n    chatInput: '',  \n    allUsers: [],\n    allUsersStatus: 'not loaded',\n\n    sendingFriendRequests: [],\n    sentFriendRequests: [],\n    failedFriendRequests: [],\n\n    receivedFriendRequests: [],\n    acceptingFriendRequests: [],\n    creatingChats: [],\n    messageBuffer: [],\n\n    friends: [\n        { userId: '42069',  name: 'Elon Musk',        handle: 'elon',    profilePic: false},\n        { userId: '12',     name: 'Tonald Drump',     handle: 'donald',  profilePic: false},\n        { userId: '12345',  name: 'Shrek',            handle: 'shrek',   profilePic: false},\n        { userId: '42069',  name: 'Rick Astley',      handle: 'rick',    profilePic: false},\n        { userId: '123456', name: 'Keano Reeeeeeeee', handle: 'Keano',   profilePic: false},\n        { userId: '122',    name: 'Michael Jordan',   handle: 'michael', profilePic: false},\n\n\n    ],\n    friendsStatus: 'not loaded',\n    chats: [\n        {\n            group: false,\n            chatId: '1',\n            members: [\n                { userId: '1', name: 'Username' }, \n                { userId: '42069', name: 'Elon Musk', handle: 'elon', profilePic: false }\n            ],\n            inputValue: '',\n            lastInteraction: 1611673082511,\n            messages: [ \n                {\n                    text: 'Whats poppin\\' Elon?',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '1',\n                    id: '1',\n                },\n                {\n                    text: 'Rocket goes brrrrrt',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '5',\n                    id: '2',\n                    new: true\n                },\n            ]\n        },\n        {\n            chatId: '2',\n            group: false,\n            members: [\n                { userId: '1'}, \n                { userId: '12', name: 'Tonald Drump', handle: 'donald', profilePic: false}\n            ],            \n            inputValue: '', \n            lastInteraction: 1611673082510,\n            messages: [\n                {\n                    text: 'I won. By a lot.',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '12',\n                    id: '1',\n                    new: true,\n                }\n            ],        \n        },\n        {\n            chatId: '3',\n            members: [\n                { userId: '1'}, \n                { userId: '12345', name: 'Shrek', profilePic: false}\n            ],             \n            inputValue: '', \n            lastInteraction: 1611673082509,\n            messages: [\n                {\n                    text: 'Get out of my swamp!',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '12345',\n                    id: '1',\n                    new: true\n                }\n            ],        \n        },\n        {\n            chatId: '4',\n            members: [\n                { userId: '1'}, \n                { userId: '123456', name: 'Keano Reeeeeeeee', profilePic: false}\n            ], \n            inputValue: '', \n            lastInteraction: 1611673082508,\n\n            messages: [\n                {\n                    text: 'I can do total sellout and they still love me lol',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '123456',\n                    id: '1',\n                }\n            ],\n        },\n        {\n            chatId: '5',\n            name: 'Rick Astley',\n            members: [\n                { userId: '1'}, \n                { userId: '42069', name: 'Rick Astley', profilePic: false}\n            ],            inputValue: '', \n            messages: [\n                {\n                    text: 'Never gonna give you up!',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '12345',\n                    id: '1',\n                },\n            ],        \n        },\n        {\n            chatId: '6',\n            members: [\n                { userId: '1'}, \n                { userId: '122', name: 'Michael Jordan', handle: 'michael', profilePic: false},\n            ],\n            inputValue: '', \n            lastInteraction: 1611673082507,\n            messages: [\n                {\n                    text: 'And I took that personally.',\n                    time: '14:32', \n                    sender: 'chris',\n                    id: 1,\n                    sent: true \n                }\n            ],        \n        },\n    ], \n    seenUpdatesChats: [],\n    users: [],\n    sendingMessages: [],\n    chatsStatus: 'not loaded',\n    currentChatLoaded: false, \n}\n\nconst reducer = (state = initialState, action) => {\n    switch(action.type) {\n        case actionTypes.SET_CHAT_STATE_ON_LOGIN: return setChatStateOnLogin(state, action);\n        case actionTypes.ADD_NEW_USERS: return addNewUsers(state, action);\n\n        case actionTypes.SEND_MESSAGE_START: return sendMessageStart(state, action);\n        case actionTypes.SEND_MESSAGE_SUCCESS: return sendMessageSuccess(state, action);\n        case actionTypes.SEND_MESSAGE_FAILED: return sendMessageFailed(state, action);\n\n        case actionTypes.SEND_DROP_START: return sendDropStart(state, action);\n        case actionTypes.SEND_DROP_SUCCESS: return sendDropSuccess(state, action);\n        case actionTypes.SEND_DROP_FAILED: return sendDropFailed(state, action);\n\n        case actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_START: return sendFirstMessageNewChatStart(state, action);\n        case actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_SUCCESS: return sendFirstMessageNewChatSuccess(state, action);\n        case actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_FAILED: return sendFirstMessageNewChatFailed(state, action);\n\n        case actionTypes.ADD_MESSAGE_TO_BUFFER: return addMessageToBuffer(state, action);\n        case actionTypes.SEND_MESSAGE_FROM_BUFFER_START: return sendMessageFromBufferStart(state, action);\n        case actionTypes.SEND_MESSAGE_FROM_BUFFER_SUCCESS: return sendMessageFromBufferSuccess(state, action);\n        case actionTypes.SEND_MESSAGE_FROM_BUFFER_FAILED: return sendMessageFromBufferFailed(state, action);\n         \n\n        case actionTypes.CHANGE_CHAT: return changeChat(state, action);\n        case actionTypes.CHANGE_CHAT_INPUT: return chatInputChangeHandler(state, action);\n        \n        case actionTypes.FETCH_ALL_USERS_START: return fetchAllUsersStart(state, action);\n        case actionTypes.FETCH_ALL_USERS_SUCCESS: return fetchAllUsersSuccess(state, action);\n        case actionTypes.FETCH_ALL_USERS_FAILED: return fetchAllUsersFailed(state, action);\n\n        case actionTypes.SEND_FRIEND_REQUEST_START: return sendFriendRequestStart(state, action);\n        case actionTypes.SEND_FRIEND_REQUEST_SUCCESS: return sendFriendRequestSuccess(state, action);\n        case actionTypes.SEND_FRIEND_REQUEST_FAILED: return sendFriendRequestFailed(state, action);\n\n        case actionTypes.ACCEPT_FRIEND_REQUEST_START: return acceptFriendRequestStart(state, action);\n        case actionTypes.ACCEPT_FRIEND_REQUEST_SUCCESS: return acceptFriendRequestSuccess(state, action);\n        case actionTypes.ACCEPT_FRIEND_REQUEST_FAILED: return acceptFriendRequestFailed(state, action);\n\n        case actionTypes.FETCH_CHATS_START: return fetchChatsStart(state, action);\n        case actionTypes.FETCH_CHATS_SUCCESS: return fetchChatsSuccess(state, action);\n        case actionTypes.FETCH_CHATS_FAILED: return fetchChatsFailed(state, action);\n\n        case actionTypes.FETCH_NEW_CHAT_START: return fetchNewChatStart(state, action);\n        case actionTypes.FETCH_NEW_CHAT_SUCCESS: return fetchNewChatSuccess(state, action);\n        case actionTypes.FETCH_NEW_CHAT_FAILED: return fetchNewChatFailed(state, action);\n\n        case actionTypes.CREATE_DUMMY_CHAT: return createDummyChat(state, action);\n        case actionTypes.CHECK_AND_ADD_NEW_MESSAGES: return checkAndAddNewMessages(state, action);\n        case actionTypes.OPEN_CHRIS_CHAT: return openChrisChat(state, action);\n\n\n        default: return state;\n    }\n}\n\n\n//----- LOG IN / OUT -----------------------------------------------------\n\nconst setChatStateOnLogin = (state, action) => {\n    console.log(action.userdata.receivedFriendRequests);\n    const newTextMessagesNotifications = action.userdata.notifications.filter(n => n.type.startsWith('NEW_MESSAGE'));\n    const dummyChatsFromRequests = action.userdata.receivedFriendRequests\n    .filter(user => !action.userdata.chats.some(c => c.members.some(m => m.userId === user.userId)))\n    .map(user => {\n        console.log(user);\n        const self = {\n            userId: action.userdata.userId,\n            name: action.userdata.name,\n            handle: action.userdata.handle,\n            profilePic: action.userdata.profilePic,\n        }\n        const dummyChatId = `dummy${user.userId}`\n        return {\n            group: false,\n            messages: [],\n            chatId: dummyChatId,\n            members: [self, user],\n            name: user.name,\n            lastInteraction: Date.now(),\n        }\n    })\n    console.log(dummyChatsFromRequests);\n    const chatsNew = [\n        ...action.userdata.chats.map(chat => {\n            const messages = chat.messages.map(message => {\n                if(newTextMessagesNotifications.some(n => n.chatId === chat.chatId && n.messageId === message.id)){\n                    return {\n                        ...message,\n                        new: true\n                    }\n                }else {\n                    return message\n                }\n            })\n            return {\n                ...chat,\n                messages\n            }\n        }),\n        ...dummyChatsFromRequests\n    ]\n    return {\n        ...state, \n        receivedFriendRequests: action.userdata.receivedFriendRequests, \n        sentFriendRequests: action.userdata.sentFriendRequests,\n        friends: action.userdata.friends,\n        chats: chatsNew,\n        currentChatId: action.userdata.chats.length > 0 ? action.userdata.chats[0].chatId : null,\n    }\n}\n\n\n\n//----- CHANGE CHAT ------------------------------------------------------\n\nconst changeChat = (state, action) => {\n    let chatInputNew;\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === state.currentChatId){\n            const messages = chat.messages.map(message => {\n                if(message.new){\n                    return {\n                        ...message,\n                        new: false\n                    }\n                }else {\n                    return message;\n                }\n            })\n            return {\n                ...chat,\n                messages,\n                inputValue: state.chatInput\n            }\n        } else if(chat.chatId === action.chatId){\n            chatInputNew = chat.inputValue; \n            return chat;\n        } else {\n            return chat\n        }\n    })\n    const seenUpdatesChatsNew = [...state.seenUpdatesChats, action.chatId]\n\n    return {\n        ...state,\n        chats: chatsNew, \n        inputValue: chatInputNew, \n        currentChatId: action.chatId,\n        seenUpdatesChats: seenUpdatesChatsNew, \n    }\n}\n\nconst chatInputChangeHandler = (state, action) => {\n    const chatInputNew = action.value;\n    return {\n        ...state,\n        chatInput: chatInputNew,\n    }\n}\n\n//----- SEND MESSAGE  -------------------------------------------------\n\nconst sendMessageStart = (state, action) => {\n    const { randId, text, userId } = action;\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === state.currentChatId){\n            return {\n                ...chat, \n                messages: [\n                    ...chat.messages,\n                    {\n                        received: [],\n                        seen: [],\n                        liked: [],\n                        text: text, \n                        sender: userId,\n                        time: new Date(),\n                        id: randId,\n                        type: 'text', \n                        sending: true\n                    }\n                ]\n            }\n        }\n        else {\n            return chat\n        }\n    })\n    const sendingMessagesNew = [...state.sendingMessages, {chatId: state.currentChatId, randId: action.randId}]\n    return {\n        ...state,\n        chats: chatsNew,\n        sendingMessages: sendingMessagesNew,\n        chatInput: '',\n        shouldDeleteInput: true\n    }\n}\n\nconst sendMessageSuccess = (state, action) => {\n    const sendingMessage = state.sendingMessages.find(m => m.randId === action.randId);\n    const sendingMessagesNew = state.sendingMessages.filter(m => m.randId !== action.randId);\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === sendingMessage.chatId){\n            const messagesNew = chat.messages.map(message => {\n                if(message.id === sendingMessage.randId){\n                    return action.message;\n                }else{\n                    return message\n                }\n            })\n            return {\n                ...chat,\n                messages: messagesNew\n            }\n        }else {\n            return chat\n        }\n    })\n    return {\n        ...state,\n        chats: chatsNew,\n        sendingMessages: sendingMessagesNew,\n    }\n}\n\nconst sendMessageFailed = (state, action) => {\n    return {\n        ...state\n    }\n}\n\n//----- SEND FIRST MESSAGE NEW CHAT -------------------------------------\n\nconst sendDropStart = (state, action) => {\n    const chatsNew = state.chats.map(chat => {\n        if(action.chatIds.some(id => id === chat.chatId)){\n            const messagesNew = [...chat.messages, action.message]\n            return {\n                ...chat,\n                messages: messagesNew\n            } \n        }else {\n            return chat\n        }\n    })\n    const sendingM = action.chatIds.map(chatId => { return { randId: action.message.id, chatId}})\n    const sendingMessagesNew = [...state.sendingMessages, ...sendingM]\n    return {\n        ...state,\n        chats: chatsNew,\n        sendingMessages: sendingMessagesNew,\n        currentChatId: action.chatIds[0],\n    }\n}\n\nconst sendDropSuccess = (state, action) => {\n    \n    const { messageReplacements, chatReplacements, randId } = action;\n    let currentChatIdNew = state.currentChatLoaded;\n    console.log(action)\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId.startsWith('dummy')){\n            console.log('FOUND DUMMY CHAT');\n            const chatReplacement = chatReplacements.find(r => `dummy${r.userId}` === chat.chatId); \n            if(chatReplacement){\n                console.log('FOUND A MATCHING REPLACEMENT');\n                currentChatIdNew = chatReplacement.chat.chatId;\n                return chatReplacement.chat;\n            }\n        }\n        const messageReplacement = messageReplacements.find(r => r.chatId === chat.chatId);\n        if(messageReplacement){\n            const messagesNew = chat.messages.map(message => {\n                if(message.id === randId){\n                    return messageReplacement.message\n                }else {\n                    return message\n                }\n            })\n            return {\n                ...chat,\n                messages: messagesNew\n            }\n        } else {\n            return chat\n        }\n    })\n    return {\n        ...state,\n        chats: chatsNew,\n        currentChatId: currentChatIdNew, \n    }\n}\n\nconst sendDropFailed = (state, action) => {\n    return {\n        ...state\n    }\n}\n\n//----- SEND FIRST MESSAGE NEW CHAT -------------------------------------\n\nconst sendFirstMessageNewChatStart = (state, action) => {\n    const { dummyChatId, randId, message, self } = action;\n    console.log(action);\n    const newMessage = {\n        received: [],\n        seen: [],\n        liked: [],\n        text: message, \n        sender: self.userId,\n        time: new Date(),\n        id: randId,\n        type: 'text', \n        sent: true, \n        sending: true\n    }\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === dummyChatId){\n            return {\n                ...chat,\n                messages: [newMessage],\n            }\n        }else{\n            return chat\n        }\n    });\n    const creatingChatsNew = [...state.creatingChats, dummyChatId];\n    return {\n        ...state,\n        chats: chatsNew,\n        creatingChats: creatingChatsNew\n    }\n}\n\nconst sendFirstMessageNewChatSuccess = (state, action) => {\n    const { dummyChatId, createdChat, self, chatPartner } = action;\n    const currentChatIdNew = state.currentChatId === dummyChatId ? createdChat.chatId : state.currentChatId;\n    const dummyChatMessages = state.chats.find(c => c.chatId === dummyChatId).messages;\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === dummyChatId){\n            console.log('FOUND DUMMY CHAT');\n            return {\n                ...createdChat, \n                messages: [...createdChat.messages, ...dummyChatMessages.slice(1, dummyChatMessages.length)],\n                members: [self, chatPartner],\n            }\n        } else {\n            return chat\n        }\n    })\n    const messageBufferNew = state.messageBuffer.map(message => {\n        if(message.dummyChatId === dummyChatId){\n            return {\n                ...message, \n                dummyChatId: createdChat.chatId\n            }\n        }else {\n            return message\n        }\n    })\n    const creatingChatsNew = state.creatingChats.filter(id => id !== dummyChatId);\n    return {\n        ...state, \n        chats: chatsNew,\n        currentChatId: currentChatIdNew,\n        messageBuffer: messageBufferNew, \n        creatingChats: creatingChatsNew,\n    }\n}\n\nconst sendFirstMessageNewChatFailed = (state, action) => {\n    return {\n        ...state, \n    }\n}\n\n//----- ADD_MESSAGE_TO_BUFFER ------------------------------------------\n\nconst addMessageToBuffer = (state, action) => {\n    const { dummyChatId, dummyMessageId, text, userId } = action; \n    const messageBufferNew = [...state.messageBuffer, {\n        dummyChatId,\n        dummyMessageId, \n        text, \n        id: `${Date.now()}`\n    }]\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === state.currentChatId){\n            return {\n                ...chat, \n                messages: [\n                    ...chat.messages,\n                    {\n                        received: [],\n                        seen: [],\n                        liked: [],\n                        text: text, \n                        sender: userId,\n                        time: new Date(),\n                        id: dummyMessageId,\n                        type: 'text', \n                        sending: true\n                    }\n                ]\n            }\n        }\n        else {\n            return chat\n        }\n    })\n    return {\n        ...state,\n        messageBuffer: messageBufferNew,\n        chats: chatsNew\n    }\n}\n\nconst sendMessageFromBufferStart = (state, action) => {\n    const { id } = action;\n    const messageBufferNew = state.messageBuffer.map(m => {\n        if(m.id === id){\n            return {\n                ...m, \n                sending: true\n            }\n        }else {\n            return m; \n        }\n    })\n    return {\n        ...state, \n        messageBuffer: messageBufferNew\n    }\n}\n\n//////////////////////////////////////////////////////////////////////\n\nconst sendMessageFromBufferSuccess = (state, action) => {\n    const { id, response } = action;;\n    const bufferMessage = state.messageBuffer.find(m => m.id === id);\n    console.log(bufferMessage);\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === bufferMessage.dummyChatId){\n            const messagesNew = chat.messages.map(m => {\n                if(m.id === bufferMessage.dummyMessageId){\n                    return response\n                }else{\n                    return m\n                }\n            })\n            return {\n                ...chat, \n                messages: messagesNew\n            }\n        }else {\n            return chat\n        }\n    })\n    const messageBufferNew = state.messageBuffer.filter(m => m.id !== id)\n    return {\n        ...state,\n        chats: chatsNew,\n        messageBuffer: messageBufferNew \n    }\n}\n\n///////////////////////////////////////////////////////////////////////\n\nconst sendMessageFromBufferFailed = (state, action) => {\n    const { id } = action;\n    const messageBufferNew = state.messageBuffer.map(m => {\n        if(m.id === id){\n            return {\n                ...m, \n                sending: false\n            }\n        }else {\n            return m; \n        }\n    })\n    return {\n        ...state, \n        messageBuffer: messageBufferNew\n    }\n}\n\n//----- FETCH ALL USERS -------------------------------------------------\n\nconst fetchAllUsersStart = (state, aciton) => {\n    return {\n        ...state,\n        allUsersStatus: 'loading'\n    }\n}\n\nconst fetchAllUsersSuccess = (state, action) => {\n    return {\n        ...state,\n        allUsersStatus: 'loaded',\n        allUsers: action.users, \n    }\n}\n\nconst fetchAllUsersFailed = (state, action) => {\n    return {\n        ...state,\n        allUsersStatus: 'failed'\n    }\n}\n\n//----- SEND FRIEND REQUEST --------------------------------------------------\n\nconst sendFriendRequestStart = (state, action) => {\n    const sendingFriendRequestsNew = [...state.sendingFriendRequests, action.user];\n    return {\n        ...state,\n        sendingFriendRequests: sendingFriendRequestsNew\n    }\n}\n\nconst sendFriendRequestSuccess = (state, action) => {\n    const sendingFriendRequestsNew = state.sendingFriendRequests.filter(user => user.userId !== action.user.userId);\n    const sentFriendRequestsNew = action.chat ? state.sentFriendRequests : [...state.sentFriendRequests, action.user];\n    let chatsNew = state.chats;\n    let currentChatIdNew = state.currentChatId;\n    let friendsNew = state.friends;\n    if(action.chat){\n        chatsNew = [\n            ...state.chats.filter(chat => chat.chatId !== action.chat.chatId && chat.chatId !== `dummy${action.user.userId}`),\n            action.chat\n        ]\n        currentChatIdNew = action.chat.chatId;\n        friendsNew = [...state.friends, action.user]\n    }\n    return {\n        ...state,\n        sentFriendRequests: sentFriendRequestsNew,\n        sendingFriendRequests: sendingFriendRequestsNew, \n        chats: chatsNew,\n        currentChatId: currentChatIdNew,\n        friends: friendsNew,\n    }\n}\n\nconst sendFriendRequestFailed = (state, action) => {\n    const sendingFriendRequestsNew = state.sendingFriendRequests.filter(user => user.userId !== action.user.userId);\n    const failedFriendRequestsNew = [...state.failedFriendRequests, action.user];\n\n    return {\n        ...state, \n        sendingFriendRequests: sendingFriendRequestsNew, \n        failedFriendRequests: failedFriendRequestsNew, \n    }\n}\n\n//----- ACCEPT FRIEND REQUEST --------------------------------------------------\n\n\nconst acceptFriendRequestStart = (state, action) => {\n    console.log('USER', action.user);\n    const receivedFriendRequestsNew = state.receivedFriendRequests.filter(user => user.userId !== action.user.userId);\n    const acceptingFriendRequestsNew = [...state.acceptingFriendRequests, action.user]; \n    return {\n        ...state, \n        receivedFriendRequests: receivedFriendRequestsNew,\n        acceptingFriendRequests: acceptingFriendRequestsNew\n    }\n}\n\nconst acceptFriendRequestSuccess = (state, action) => {\n    const { friend, chat } = action;\n    const acceptingFriendRequestsNew = state.acceptingFriendRequests.filter(user => user.userId !== friend.userId);\n    const friendsNew = [...state.friends, friend]; \n    const dummyId = `dummy${friend.userId}`\n    const chatsNew = [\n        ...state.chats.filter(c => c.chatId !== dummyId && c.chatId !== chat.chatId), \n        chat\n    ]\n    const currentChatIdNew = chat.chatId;\n    return {\n        ...state,\n        friends: friendsNew,\n        chats: chatsNew,\n        acceptingFriendRequests: acceptingFriendRequestsNew,\n        currentChatId: currentChatIdNew,\n    }\n}\n\nconst acceptFriendRequestFailed = (state, action) => {\n    const receivedFriendRequestsNew = [...state.receivedFriendRequests, action.user]\n    return {\n        ...state,\n        receivedFriendRequests: receivedFriendRequestsNew,\n    }\n}\n\n//----- FETCH CHATS --------------------------------------------------\n\nconst fetchChatsStart = (state, action) => {\n    return {\n        ...state, \n        chatsStatus: 'loading'\n    }\n}\n\nconst fetchChatsSuccess = (state, action) => {\n    const chatsNew = action.chats.map(chat => {\n        return {\n            ...chat,\n            inputValue: '',\n        }\n    })\n    const currentChatId = chatsNew.length > 0 ? chatsNew[0].chatId : null ;\n    return {\n        ...state,\n        chats: chatsNew,\n        currentChatId: currentChatId,\n        chatsStatus: 'loaded'\n    }\n}\n\nconst fetchChatsFailed = (state, action) => {\n    return {\n        ...state, \n        chatStatus: 'failed'\n    }\n}\n\n\n// ------------------------------------------------------\n\nconst createDummyChat = (state, action) => {\n    const dummyChatId = 'dummy' + action.chatPartner.userId\n    const alreadyExists = state.chats.some(chat => chat.chatId === dummyChatId);\n    const chatsNew = alreadyExists ? state.chats : [\n        {\n            group: false,\n            messages: [],\n            chatId: dummyChatId,\n            members: [action.self, action.chatPartner],\n            name: action.chatPartner.name,\n            lastInteraction: Date.now()\n        }, \n        ...state.chats]\n    return {\n        ...state,\n        chats: chatsNew,\n        currentChatId: dummyChatId\n    }\n}\n\nconst addNewUsers = (state, action) => {\n    const personsNew = [...state.users, ...action.users];\n    return {\n        ...state,\n        users: personsNew\n    }\n}\n\nconst removeDuplicateMessages = (messages) => {\n    let messageSet = [];\n    messages.forEach(message => {\n        if(!messageSet.some(m => m.id === message.id)){\n            messageSet.push(message);\n        }\n    })\n    return messageSet;\n}\n\nconst checkAndAddNewMessages = (state, action) => {\n    const chatsNew = state.chats.map(chat => {\n        const newMessagesThisChat = action.notifications\n            .filter(n => n.chatId === chat.chatId)\n            .map(n => {return {...n.message, new: true}})\n        if(newMessagesThisChat.length > 0){\n            const messagesNew = removeDuplicateMessages([...chat.messages, ...newMessagesThisChat]);\n            return {\n                ...chat,\n                messages: messagesNew\n            }\n        }else {\n            return chat\n        }\n    })\n\n    return {\n        ...state,\n        chats: chatsNew \n    }\n}\n\n//------ FETCH NEW CHAT ------------------------------------------------------------\n\nconst fetchNewChatStart = (state, action) => {\n    return {\n        ...state, \n    }\n}\n\nconst fetchNewChatSuccess = (state, action) => {\n    \n    const chatsNew = [...state.chats.filter(chat => chat.chatId !== action.chat.chatId), action.chat]\n    return {\n        ...state, \n        chats: chatsNew\n    }\n}\n\nconst fetchNewChatFailed = (state, action) => {\n    return {\n        ...state, \n    }\n}\n\n//------ OPEN CHRIS CHAT -----------------------------------------------------------\n\nconst openChrisChat = (state, action) => {\n    console.log('CHRIS CHAT ID', `dummy${process.env.REACT_APP_CHRIS_ID}`)\n    const existingChrisChat = state.chats\n        .find(chat => chat.chatId === `dummy${process.env.REACT_APP_CHRIS_ID}` \n           || chat.members.some(m => m.userId === `${process.env.REACT_APP_CHRIS_ID}`)); \n    const currentChatIdNew = existingChrisChat ? existingChrisChat.chatId : `dummy${process.env.REACT_APP_CHRIS_ID}`;\n    const chatsNew = existingChrisChat ? state.chats : [...state.chats, {\n        group: false,\n        name: 'Chris Loy',\n        messages: [],\n        chatId: `dummy${process.env.REACT_APP_CHRIS_ID}`,\n        members: [action.self, {\n            name: 'Chris Loy',\n            handle: 'chris',\n            userId: `${process.env.REACT_APP_CHRIS_ID}`, \n            profilePic: true\n        }],\n        lastInteraction: Date.now(),\n    }]\n    return {\n        ...state, \n        chats: chatsNew, \n        currentChatId: currentChatIdNew,\n    }\n}\n\n\nexport default reducer;","import * as actionTypes from '../actions/actionTypes';\n\nconst initialState = {\n    anonymousId: '',\n    token: null,\n    name: null,\n    handle: null,\n    userId: '1',\n    error: null,\n    loading: null,\n    checkEmailLoading: false,\n    checkHandleLoading: false,\n    takenEmails: [],\n    takenHandles: [],\n    signupLoading: false,\n    authOpen: false, \n    authReason: null,\n    hasProfilePic: false,\n    profilePicSrc: null,\n    receivedFriendRequests: [],\n    sendingSubscribeEmailList: false,\n    sentSubscribeEmailList: false,\n    notifications: [\n        {\n            type: 'TEXT_MESSAGE',\n            chatId: '2',\n            message:{\n                text: 'I won. By a lot.',\n                time: '14:32', \n                type: 'text',\n                sender: '12',\n                id: '1',\n            }\n        },\n        {\n            type: 'TEXT_MESSAGE',\n            chatId: '3',\n            message: {\n                text: 'Get out of my swamp!',\n                time: '14:32', \n                type: 'text',\n                sender: '12345',\n                id: '1',\n            }\n        },\n    ], \n    deletingNotifications: [],\n}\n\nconst setAnonymousId = (state, action) => {\n    return {\n        ...state,\n        anonymousId: action.anonymousId\n    }\n}\n\n//------ LOGIN ---------------------------------------------------\n\nconst loginStart = (state) => {\n    return { \n        ...state, \n        loginLoading: true \n    }\n}\n\nconst loginSuccess = (state, action) => {\n    return { \n        ...state, \n        loginLoading: false, \n        loginError: null, \n        signupError: null, \n        hasProfilePic: action.profilePic,\n        name: action.name,\n        handle: action.handle,\n        userId: action.userId, \n        token: action.token,\n        email: action.email,\n        friends: action.friends,\n        receivedFriendRequests: action.receivedFriendRequests,\n        notifications: action.notifications\n    }\n}\n\nconst loginFail = (state, action) => {\n    return { \n        ...state, \n        loginLoading: false, \n        loginError: action.error \n    }\n}\n\n//------ SIGNUP --------------------------------------------------\n\n\nconst signupStart = ( state) => {\n    return { \n        ...state, \n        signupLoading: true \n    }\n}\n\nconst signupFail = (state, action) => {\n    return { \n        ...state, \n        signupLoading: false, \n        signupError: action.error \n    }\n}\n\nconst signupSuccess = (state, action) => {\n    return { \n        ...state, \n        signupLoading: false, \n        error: null, \n        hasProfilePic: action.profilePic,\n        name: action.name,\n        handle: action.handle,\n        userId: action.userId, \n        token: action.token,\n        email: action.email,\n        profilePicSrc: action.profilePicSrc,\n        friends: action.friends,\n        receivedFriendRequests: [],\n        notifications: [],\n        sendingSubscribeEmailList: false,\n    }\n}\n\n//------ CHECK EMAIL TAKEN ---------------------------------------\n\nconst checkEmailTakenStart = (state, action) => {\n    return {\n        ...state,\n        checkEmailLoading: true,\n    }\n}\n\nconst checkEmailTakenSuccess = (state, action) => {\n    return {\n        ...state,\n        checkEmailLoading: false,\n    }\n}\n\nconst checkEmailTakenFailed = (state, action) => {\n    return {\n        ...state,\n        checkEmailLoading: false,\n    }\n}\n\nconst emailAlreadyTaken = (state, action) => {\n    return {\n        ...state,\n        checkEmailLoading: false,\n        takenEmails: [\n            ...state.takenEmails,\n            action.email\n        ]\n    }\n}\n\n//------ CHECK HANDLE TAKEN ---------------------------------------\n\nconst checkHandleTakenStart = (state, action) => {\n    return {\n        ...state,\n        checkHandleLoading: true,\n    }\n}\n\nconst checkHandleTakenSuccess = (state, action) => {\n    return {\n        ...state,\n        checkHandleLoading: false,\n    }\n}\n\nconst checkHandleTakenFailed = (state, action) => {\n    return {\n        ...state,\n        checkHandleLoading: false,\n    }\n}\n\nconst handleAlreadyTaken = (state, action) => {\n    return {\n        ...state,\n        checkHandleLoading: false,\n        takenHandles: [\n            ...state.takenHandles,\n            action.handle\n        ]\n    }\n}\n\n//------ MESSAGES READ -------------------------------------------\n\nconst messagesReadStart = (state, action) => {\n    const notificationsNew = state.notifications\n        .filter(n => !(n.type.startsWith('NEW_MESSAGE') && n.chatId === action.chatId))\n    return {\n        ...state,\n        notifications: notificationsNew\n    }\n}\n\nconst messagesReadSuccess = (state, action) => {\n    return state\n}\n\nconst messagesReadFailed = (state, action) => {\n    return state\n}\n\n//------ UPDATE NOTIFICATIONS -------------------------------------\n\n\nconst checkAndAddNewMessages = (state, action) => {\n    return state\n}\n\nconst updateNotifications = (state, action) => {\n    return {\n        ...state,\n        notifications: action.notifications\n    }\n}\n\n//------ SUBSCRIBE EMAIL LIST -------------------------------------\n\nconst subscribeEmailListStart = (state, action) => {\n    return {\n        ...state,\n        sendingSubscribeEmailList: true\n    }\n}\n\nconst subscribeEmailListSuccess = (state, action) => {\n    return {\n        ...state,\n        sendingSubscribeEmailList: false,\n        sentSubscribeEmailList: true\n    }\n}\n\nconst subscribeEmailListFailed = (state, action) => {\n    return {\n        ...state,\n        emailListError: action.message,\n        sendingSubscribeEmailList: false,\n        sentSubscribeEmailList: false\n    }\n}\n\nconst deleteNotificationStart = (state, action) => {\n    const toDelte = state.notifications.find(n => n.id === action.notificationId);\n    console.log(toDelte);\n    const notificationsNew = state.notifications.filter(n => n.id !== action.notificationId);\n    const deletingNotificationsNew = [...state.deletingNotifications, toDelte];\n    return {\n        ...state,\n        notifications: notificationsNew,\n        deletingNotifications: deletingNotificationsNew,\n    }\n}\n\nconst deleteNotificationSuccess = (state, action) => {\n    const deletingNotificationsNew = state.deletingNotifications.filter(n => n.id === action.notificationId)\n    return {\n        ...state,\n        deletingNotifications: deletingNotificationsNew,\n    }\n}\n\nconst deleteNotificationFailed = (state, action) => {\n    return {\n        ...state,\n    }\n}\n\nconst reducer = (state = initialState, action ) => {\n    switch( action.type ) {\n        case actionTypes.SET_ANONYMOUS_ID: return setAnonymousId(state, action);\n\n        case actionTypes.LOGIN_START: return loginStart(state, action);\n        case actionTypes.LOGIN_SUCCESS: return loginSuccess(state, action);\n        case actionTypes.LOGIN_FAIL: return loginFail(state, action);\n\n        case actionTypes.SIGNUP_START: return signupStart(state, action);\n        case actionTypes.SIGNUP_SUCCESS: return signupSuccess(state, action);\n        case actionTypes.SIGNUP_FAIL: return signupFail(state, action);\n\n        case actionTypes.CHECK_EMAIL_TAKEN_START: return checkEmailTakenStart(state, action);\n        case actionTypes.CHECK_EMAIL_TAKEN_SUCCESS: return checkEmailTakenSuccess(state, action);\n        case actionTypes.CHECK_EMAIL_TAKEN_FAILED: return checkEmailTakenFailed(state, action);\n        case actionTypes.EMAIL_ALREADY_TAKEN: return emailAlreadyTaken(state, action);\n\n        case actionTypes.CHECK_HANDLE_TAKEN_START: return checkHandleTakenStart(state, action);\n        case actionTypes.CHECK_HANDLE_TAKEN_SUCCESS: return checkHandleTakenSuccess(state, action);\n        case actionTypes.CHECK_HANDLE_TAKEN_FAILED: return checkHandleTakenFailed(state, action);\n        case actionTypes.HANDLE_ALREADY_TAKEN: return handleAlreadyTaken(state, action);\n\n        case actionTypes.MESSAGES_READ_START: return messagesReadStart(state, action);\n        case actionTypes.MESSAGES_READ_SUCCESS: return messagesReadSuccess(state, action);\n        case actionTypes.MESSAGES_READ_FAILED: return messagesReadFailed(state, action);\n\n        case actionTypes.CHECK_AND_ADD_NEW_MESSAGES: return checkAndAddNewMessages(state, action);\n\n        case actionTypes.UPDATE_NOTIFICATIONS: return updateNotifications(state, action);\n\n        case actionTypes.SUBSCRIBE_EMAIL_LIST_START: return subscribeEmailListStart(state, action);\n        case actionTypes.SUBSCRIBE_EMAIL_LIST_SUCCESS: return subscribeEmailListSuccess(state, action);\n        case actionTypes.SUBSCRIBE_EMAIL_LIST_FAILED: return subscribeEmailListFailed(state, action);\n\n        case actionTypes.DELETE_NOTIFICATION_START: return deleteNotificationStart(state, action);\n        case actionTypes.DELETE_NOTIFICATION_SUCCESS: return deleteNotificationSuccess(state, action);\n        case actionTypes.DELETE_NOTIFICATION_FAILED: return deleteNotificationFailed(state, action);\n\n        default: return state;\n    }\n}\n\nexport default reducer; ","import * as actionTypes from '../actions/actionTypes';\n\nconst initialState = {\n    darkmode: true,\n    dropModalOpen: false,\n    currentTab: 'stream',\n    menu: {\n        open: false,\n        menuStack: ['AUTH'],\n        currentDepth: 0,\n        shouldMoveRight: false,\n    },\n    newChatModalOpen: false,\n    windowWidth: 1080,\n    loginOrSignup: 'login',\n}\n\nconst scrollToTop = () => {\n    const c = document.documentElement.scrollTop || document.body.scrollTop;\n    if (c > 0) {\n      window.requestAnimationFrame(scrollToTop);\n      window.scrollTo(0, c - c / 10);\n    }\n};\n\nconst reducer = (state = initialState, action ) => {\n    switch( action.type ) {\n        case actionTypes.GO_DARK: \n            console.log('Bravo 6 going dark')\n            return {\n                ...state,\n                darkmode: true\n            }\n        case actionTypes.GO_LIGHT: \n            return {\n                ...state,\n                darkmode: false\n            }\n        case actionTypes.SWITCH_TAB: \n            scrollToTop()\n            return {\n                ...state,\n                currentTab: action.tab\n            }\n        case actionTypes.OPEN_DROP_MODAL: \n            return {\n                ...state,\n                dropModalOpen: true\n            }\n        case actionTypes.CLOSE_DROP_MODAL: \n            return {\n                ...state,\n                dropModalOpen: false\n            }\n        case actionTypes.OPEN_MENU: \n            return {\n                ...state,\n                menu: {\n                    ...state.menu,\n                    open: true\n                }\n            }\n        case actionTypes.CLOSE_MENU: \n            return {\n                ...state,\n                menu: {\n                    ...state.menu,\n                    open: false\n                }\n            }\n        case actionTypes.OPEN_NEW_CHAT_MODAL: \n            return {\n                ...state,\n                newChatModalOpen: true\n            }\n        case actionTypes.CLOSE_NEW_CHAT_MODAL: \n            return {\n                ...state,\n                newChatModalOpen: false\n            }\n        case actionTypes.SET_WINDOW_WIDTH: \n            return {\n                ...state, \n                windowWidth: action.width\n            }\n        case actionTypes.SET_UI_STATE_ON_LOGIN: \n            return {\n                ...state, \n                menu: {\n                    open: false,\n                    menuStack: ['USER_MENU'],\n                    currentDepth: 0,\n                },\n            }\n        // case actionTypes.SET_UI_STATE_ON_LOGOUT: \n        //     return {\n        //         ...state, \n        //         menu: {\n        //             open: true,\n        //             menuStack: ['AUTH'],\n        //             currentDepth: 0,\n        //         }\n        //     }\n        case actionTypes.ADD_TO_MENU_STACK: \n            return {\n                ...state,\n                menu: {\n                    ...state.menu,\n                    shouldMoveRight: true, \n                    menuStack: [...state.menu.menuStack, action.next]\n                    \n                }\n            }\n        case actionTypes.POP_FROM_MENU_STACK: \n            return {\n                ...state, \n                menu: {\n                    ...state.menu,\n                    currentDepth: state.menu.currentDepth-1,\n                    menuStack: state.menu.menuStack.slice(0, state.menu.menuStack.length-1)\n                }\n            }\n        case actionTypes.MOVE_MENU_RIGHT: \n            return {\n                ...state, \n                menu: {\n                    ...state.menu,\n                    shouldMoveRight: false, \n                    currentDepth: state.menu.currentDepth + 1 \n                }\n            }\n        default: return state;\n    }\n}\n\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { createStore, combineReducers, compose, applyMiddleware  } from 'redux';\nimport thunk from 'redux-thunk';\nimport axios from 'axios';\n\nimport * as actions from './store/actions/actionTypes';\nimport StreamReducer from './store/reducers/StreamReducer';\nimport ChatReducer from './store/reducers/ChatReducer';\nimport UserReducer from './store/reducers/UserReducer';\nimport UIReducer from './store/reducers/UIReducer'\n\naxios.defaults.baseURL = `${process.env.REACT_APP_BACKEND_URL}`;\n\nconst appReducer = combineReducers({\n    user: UserReducer,\n    chat: ChatReducer,\n    stream: StreamReducer,\n    ui: UIReducer,\n});\n\nconst rootReducer = (state, action) => {\n    if(action.type === actions.LOGOUT){\n        state = undefined;\n    }\n    return appReducer(state, action);\n}\n\nconst composeEnhancers = (process.env.NODE_ENV === 'development' ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : null) || compose;\n\n\nconst store = createStore(\n    rootReducer, /* preloadedState, */\n    composeEnhancers(\n        applyMiddleware(thunk)\n    )\n  );\n\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>\n    , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}