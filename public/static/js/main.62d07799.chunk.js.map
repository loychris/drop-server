{"version":3,"sources":["components/Creator/SelectionMenu/SelectionMenu.module.css","components/SidePanel/AuthMenu/AuthMenu.module.css","components/Chat/ChatPreviews/ChatPrev/AddButton/AddButton.module.css","components/SidePanel/UserMenu/UserMenu.module.css","components/Chat/ChatPreviews/ChatPrev/ChatPrev.module.css","components/Footer/Footer.module.css","components/Stream/StreamElement/StreamElement.module.css","components/Chat/ChatWindow/Message/Message.module.css","components/Navigation/Navigation.module.css","components/Stream/StreamElement/CommentSection/Comment/Comment.module.css","components/Chat/ChatPreviews/ChatPreviews.module.css","components/Creator/Element/ResizeHandler/ResizeHandler.module.css","components/SidePanel/SidePanel.module.css","media/DefaultProfilePic.png","components/Creator/Element/TextElement/TextElement.module.css","components/Stream/StreamElement/CommentSection/Comment/SubCommentWrapper/SubComment/SubComment.module.css","components/Creator/TopMenu/TopMenu.module.css","components/Creator/ExportModal/ExportModal.module.css","components/Stream/StreamElement/CommentSection/CommentForm/CommentForm.module.css","components/Stream/Stream.module.css","components/NewChatModal/NewChatModal.module.css","components/Stream/StreamElement/CommentSection/Comment/CommentMenu/CommentMenu.module.css","components/Chat/Chat.module.css","components/Chat/ChatWindow/ChatWindow.module.css","components/DropModal/ChatPrev/ChatPrev.module.css","components/Stream/StreamElement/CommentSection/Comment/Voting/Voting.module.css","components/UI/NeumorphismButton/NeumorphismButton.module.css","components/Creator/Creator.module.css","components/NewChatModal/UserPrev/UserPrev.module.css","components/DropModal/DropModal.module.css","components/SidePanel/MenuScreen/MenuScreen.module.css","components/Stream/StreamElement/Content/Content.module.css","components/Stream/StreamElement/CommentSection/CommentSection.module.css","components/UI/PrimaryButton/PrimaryButton.module.css","components/Chat/ChatWindow/ChatForm/ChatForm.module.css","components/Creator/Element/Element.module.css","components/Stream/StreamElement/Content/Source/Source.module.css","components/Stream/StreamElement/CommentSection/Comment/Branches/Branches.module.css","media/Boat.png","components/Creator/Line/Line.module.css","components/SidePanel/MenuItem/MenuItem.module.css","components/Feedback/Feedback.module.css","components/Stream/StreamElement/CommentSection/Comment/CommentMenu/TrashOpen.svg","components/Stream/StreamElement/CommentSection/Comment/CommentMenu/TrashClosed.svg","components/Stream/StreamElement/CommentSection/AuthorPic/AuthorPic.module.css","components/UI/Backdrop/Backdrop.module.css","SVGs/RiverWhite.svg","SVGs/river.svg","SVGs/RiverGlow.svg","components/Chat/ChatPreviews/ChatPrev/Connector.svg","media/stupidfuckingface.jpeg","components/Creator/SelectionFrame/SelectionFrame.module.css","components/Creator/Washington.jpeg","components/Creator/Washington_Monument.jpeg","media/taktaktak.jpg","components/SidePanel/AuthMenu/ProfilePicPlaceholder.svg","components/SidePanel/UserMenu/logout.svg","components/SidePanel/MenuScreen/arrow_back.svg","store/actions/UIActions.js","store/actions/actionTypes.js","store/actions/chatActions.js","store/actions/streamActions.js","store/actions/userActions.js","components/Stream/StreamElement/Content/Source/Source.js","components/Stream/StreamElement/Content/Content.js","components/Stream/StreamElement/CommentSection/Comment/CommentMenu/CommentMenu.js","components/Stream/StreamElement/CommentSection/Comment/Voting/Voting.js","components/Stream/StreamElement/CommentSection/AuthorPic/AuthorPic.js","components/UI/Backdrop/Backdrop.js","components/Stream/StreamElement/CommentSection/Comment/Branches/Branches.js","components/Stream/StreamElement/CommentSection/Comment/SubCommentWrapper/SubComment/SubComment.js","components/UI/NeumorphismButton/NeumorphismButton.js","components/Stream/StreamElement/CommentSection/CommentForm/CommentForm.js","components/Stream/StreamElement/CommentSection/Comment/SubCommentWrapper/SubCommentWrapper.js","components/Stream/StreamElement/CommentSection/Comment/Comment.js","components/Stream/StreamElement/CommentSection/CommentSection.js","components/UI/PrimaryButton/PrimaryButton.js","components/Stream/StreamElement/StreamElement.js","components/Stream/Stream.js","components/Chat/ChatPreviews/ChatPrev/AddButton/AddButton.js","components/Chat/ChatPreviews/ChatPrev/ChatPrev.js","components/Chat/ChatPreviews/ChatPreviews.js","components/Chat/ChatWindow/ChatForm/ChatForm.js","components/Chat/ChatWindow/Message/Message.js","components/Chat/ChatWindow/ChatWindow.js","components/Chat/Chat.js","components/Creator/Element/TextElement/AutoResizeTextElement.js","components/Creator/Element/TextElement/TextElement.js","components/Creator/Element/Element.js","components/Creator/Line/Line.js","components/Creator/TopMenu/TopMenu.js","components/Creator/SelectionMenu/SelectionMenu.js","components/Creator/Element/ResizeHandler/ResizeHandler.js","components/Creator/SelectionFrame/SelectionFrame.js","components/Creator/ExportModal/ExportModal.js","components/Creator/ImageDragNDrop/ImageDragNDrop.js","components/Creator/Creator.js","components/Navigation/Navigation.js","components/NewChatModal/UserPrev/UserPrev.js","components/NewChatModal/NewChatModal.js","components/DropModal/ChatPrev/ChatPrev.js","components/DropModal/DropModal.js","components/Footer/Footer.js","components/SidePanel/MenuScreen/MenuScreen.js","components/SidePanel/MenuItem/MenuItem.js","components/SidePanel/AuthMenu/AuthMenu.js","components/SidePanel/UserMenu/UserMenu.js","components/SidePanel/SidePanel.js","components/Feedback/Feedback.js","App.js","serviceWorker.js","store/reducers/StreamReducer.js","store/reducers/ChatReducer.js","store/reducers/UserReducer.js","store/reducers/UIReducer.js","index.js"],"names":["module","exports","_path","switchTab","tab","type","addToMenuStack","next","setChatStateOnLogin","userdata","fetchAllUsers","dispatch","fetchAllUsersStart","axios","get","then","response","addNewUsers","data","fetchAllUsersSuccess","catch","err","console","log","fetchAllUsersFailed","users","sendMessageStart","chatId","text","randId","userId","sendMessageSuccess","message","sendMessageFailed","sendMessageFromBufferStart","id","sendMessageFromBufferSuccess","sendMessageFromBufferFailed","sendFirstMessageNewChatStart","dummyChatId","self","sendFirstMessageNewChatSuccess","createdChat","chatPartner","sendFirstMessageNewChatFailed","sendFriendRequest","user","sendFriendRequestStart","token","localStorage","getItem","headers","authorization","post","friendId","res","sendFriendRequestSuccess","chat","sendFriendRequestFailed","acceptFriendRequest","existingChatId","acceptFriendRequestStart","body","acceptFriendRequestSuccess","friend","acceptFriendRequestFailed","changeChat","setItem","createDummyChat","scrollNextStart","scrollNextSuccess","scrollNextFailed","scrollPrevStart","scrollPrevSuccess","scrollPrevFailed","fetchIdsStart","setIds","ids","fetchIdsFailed","fetchDrops","fetchDropsStart","setDrops","fetchDropsFailed","drops","sendCommentStart","dropId","comment","sendCommentSuccess","sendCommentFailed","sendSubCommentStart","subComment","sendSubCommentSuccess","randPath","sendSubCommentFailed","deleteCommentStart","commentId","deleteCommentSuccess","deleteCommentFailed","fetchDropStart","fetchDropSuccess","drop","fetchDropFailed","resetDropTargets","logout","removeItem","loginStart","loginSuccess","responseData","loginFail","error","signupStart","signupSuccess","profilePicSrc","signupFail","emailAlreadyTaken","email","checkEmailTakenStart","checkEmailTakenSuccess","checkEmailTakenFailed","handleAlreadyTaken","handle","checkHandleTakenStart","checkHandleTakenSuccess","checkHandleTakenFailed","sendMessagesReadStart","sendMessagesReadSuccess","sendMessagesReadFailed","updateNotifications","notifications","deleteNotificationStart","notificationId","deleteNotificationSuccess","deleteNotificationFailed","subscribeEmailListStart","subscribeEmailListSuccess","subscribeEmailListFailed","Source","className","classes","Header","Link","href","this","props","sourceURL","Component","Content","getLoader","position","memeStatus","Spinner","color","height","width","src","startsWith","process","ContentContainer","currentlyLoadingMemeId","alt","Meme","onLoad","onFetchMemeSuccess","source","connect","state","stream","actions","CommentMenu","trashOpen","deleteCommentOpen","userComment","MenuItem","TrashOpen","TrashClosed","Trash","onMouseOver","setState","onMouseOut","onClick","DeleteDialog","YesButton","onDeleteComment","NoButton","url","delete","Voting","getArrow","up","glow","down","upvote","downvote","viewBox","fill","xmlns","d","event","stopPropagation","didUpvote","newState","route","path","vote","voterId","didDownvote","points","onOpenMenu","unvote","getCountString","number","Math","floor","firstDigit","secondDigit","upvoted","downvoted","voting","title","darkmode","ui","AuthorPic","DefaultPic","authorId","selfId","hasProfilePic","style","left","depth","indent","backdrop","zIndex","Backdrop","clicked","Branches","getRoot","i","styles","treeString","length","Root","hideBranches","getL","generateBoneStyles","key","getC","generateLine","generateBones","boneComponents","bones","push","split","pop","top","branches","root","SubComment","subComments","getSpeechBubbleArrow","selected","parentSelected","sending","SpeechBubbleArrow","fillRule","clipRule","onUnselectComment","onSelectSubComment","divElement","clientHeight","selectedComment","some","s","backgroundStyleClasses","CommentBackground","commentStyle","paddingLeft","contentStyle","maxWidth","hiddenBranches","CommentContainer","Comment","join","ref","upVoted","downVoted","SelectClickTarget","select","actualComment","streamActions","NeumorphismButton","styleClasses","Button","buttonType","SubmitComment","disabled","Disabled","colorTheme","Light","Dark","children","CommentForm","textareaValue","inputChangedHandler","newValue","target","value","trim","streamElements","submitHandler","preventDefault","newSubComment","Date","now","author","parentPath","onSendSubComment","newComment","posted","onSendComment","getBranches","fillOpacity","commentInputStyles","slice","CommentInput","CommentInputBackground","actualCommentForm","TextArea","onChange","placeholder","SubmitButton","getArrowRight","SubCommentWrapper","createSubComments","nextTreeString","map","lastProp","tree","last","selectedCommentPath","inheritance","thisTreeString","onSelectComment","c","neuMorphism","CommentSection","componentDidUpdate","getComments","comments","x","hidden","windowWidth","onMouseEnter","onSetMouseOverComments","onMouseLeave","tabIndex","commentStatus","overComments","PrimaryButton","buttonClasses","theme","PrimaryButtonNeumorphism","PrimaryButtonFlat","StreamElement","streamStatus","dropStatus","onFetchDrop","PrimaryButtonClicked","onOpenDropModal","pos","transY","transZ","show","transform","WebkitTransform","droppedToYouBy","cssClasses","ShowDrop","FadedRight","FadedLeft","halfLeft","HalfLeft","halfRight","HalfRight","calcStyles2","dropLoaded","status","contentContainer","DROP","authReason","creatorId","Stream","deltaYLastWheelEvent","wtfOpen","msg","send","currentlyDropping","keyboardSwipeHandler","keyCode","onScrollNext","anonymousId","scrollHandler","mouseOverComments","currentTab","menuOpen","abs","deltaY","timeStampLastScroll","getRiver","RiverWhite","River","getRiverGlow","RiverGlow","getStreamElements","forEach","element","unshift","dropping","droppingHandler","render","OutRight","Boat","Boat1","Boat2","document","addEventListener","onFetchIds","initialStreamLoad","modalOpen","menu","open","onScrollPrev","like","authorisation","AddButton","getAddIcon","inverted","AddIcon","getCheckMark","button","Loading","GlowOnHover","Clickable","TextButton","AcceptButton","Inverted","NotIverted","ChatPrev","connectorsOut","getConnector","Connector","ConnectorUp","ConnectorDown","getButton","active","buttonClick","friends","onSendFriendRequest","sentFriendRequests","sendingFriendRequests","acceptingFriendRequests","receivedFriendRequests","onAcceptFriendRequest","unreadMessages","notifiaction","filter","n","notifiactionStype","TrippleDigit","DoubleDigit","SingleDigit","members","m","name","preview","messages","profilePic","DefaultProfilePic","currentChatId","Active","ProfilePic","Info","Name","Preview","NotificationCount","seenUpdatesChats","chats","allUsers","onChangeChat","ChatPreviews","searching","searchInput","focus","getElementById","getChats","chatsStatus","LoaderContainer","sort","chatA","chatB","lastInteraction","getSearchInput","input","onSearchInput","SearchInput","openSearch","closeSearch","getNewChatIcon","AddChatIcon","y","getNewChatButton","NewChatContainer","onOpenNewChatModal","NewChatMessage","SearchIcon","ScrollContainer","formHeight","friendsStatus","allUsersStatus","onFetchAllUsers","inputRef","ChatForm","inputValue","onInput","enterHandler","shiftKey","currentChat","find","creatingChats","onAddMessageToBuffer","onSendFirstMessageNewChat","onSendTextMessage","window","ChatInput","TextareaContainer","Textarea","rows","currentChatLoaded","chatInput","onChangeFormHeight","dummyMessageId","Message","getMessage","Text","Image","StupidFuckingFace","Drop","containerStyleclasses","MessageContainer","sent","Sent","Received","Sending","messageNew","New","onSendMessagesRead","messageIds","onDeleteNotification","useEffect","scrollToBottom","currentMessageNotificatios","currentNewChatNotifications","smooth","bottomRef","current","scrollIntoView","behavior","block","inline","createRef","foundAllOldMessages","new","NewMessageSeparator","sender","ChatWindow","SmallChatWindow","BigChatWindow","Messages","NotEncryptedMessage","Chat","textInput","unbufferMessage","messageBuffer","onSendMessageFromBuffer","setChatFormInputValue","onChangeShouldDeleteInput","getNotLoggedInMessage","NotLoggedInContainer","NotLoggedInMessage","InnerContainer","OutLeft","AutoResizeTextElement","useFitText","fontSize","font","fontWeight","verticalAlign","elementId","verticalAlignClass","topAlign","bottomAlign","middleAlign","contentEditable","editing","suppressContentEditableWarning","TextInput","fontFamily","e","onTextInput","TextElement","fixedDimensions","Element","getStyles","posX","posY","rotation","textAlign","underline","italic","textStroke","inPreview","perspective","offsetX","offsetY","fontStyle","backgroundColor","textDecoration","WebkitTextStrokeColor","WebkitTextStrokeWidth","textShadow","cursor","editingId","getContent","imgSrc","onImageLoad","highlighed","selectedLines","Hlines","Vlines","includes","v","h","mouseDown","elementMouseDown","mouseUp","doubleClick","selectAndEdit","onDoubleClick","onMouseDown","onMouseUp","Line","horizontal","HL","VL","TopMenu","inputFile","useRef","LeftAlign","addElements","rx","fixedWidth","click","cx","cy","r","stroke","strokeWidth","RightAlign","openExportModal","shareIcon","x1","y1","x2","y2","multiple","display","fr","FileReader","onload","image","result","readAsDataURL","files","SelectionMenu","leftAlignIcon","strokeColor","alignActive","alignInactive","centerAlignIcon","rightAlignIcon","topAlignIcon","middleAlignIcon","bottomAlignIcon","italicIcon","underlineIcon","editHeight","edit","editWidth","editX","Number","editY","editRotation","editFont","editFontSize","editTextAlign","editFontWeight","editFixedDimensions","editUnderline","editItalic","editVerticalAlign","editColor","calcCorners","corners","centerX","centerY","hyp","sqrt","deg1","atan","PI","deltaX1","sin","deltaY1","cos","deg2","deltaX2","deltaY2","getEdges","right","bottom","corner","getPreview","totalHeight","totalWidth","scaleFactor","modifiedElement","zoom","previewContainer","flex","inputWrapper","textOptions","fontSelector","flexSpaceBetween","alignIcon","textBoxTypeOptions","checked","colorOptions","colorInputContainer","colorInputBackground","background","colorInput","ResizeHandler","componentDidMount","dir","handleResizeMouseDown","componentWillUnmount","removeEventListener","resizeMouseDown","getStyleClasses","Corner","Edge","NW","NE","SW","SE","N","W","S","E","SelectionFrame","getResizeHandlers","resizeHandlers","pointerEvents","ExportModal","downloadFormat","linkRef","React","imagesLoaded","imageCreationStarted","downloadLoading","clientWidth","calcContentMetrics","leftBorder","rightBorder","topBorder","bottomBorder","elements","contentWidth","contentHeight","setDownloadFormat","onDownLoad","node","downloadStarted","htmlToImage","dataUrl","link","createElement","setAttribute","appendChild","parentNode","removeChild","closeExportModal","getElements","previewStyles","scaleFactorY","scaleFactorX","transformedElements","Background","Modal","PreviewContainer","Preveiw","DownloadWrapper","DownloadOptions","DownloadContainer","label","ImageDragNDrop","drag","dropRef","handleDragIn","dragCounter","dataTransfer","items","handleDragOut","handleDrop","clearData","div","dragging","border","Creator","draggingFile","selectedId","selectedHline","selectedVline","exportModalOpen","Washington","Monument","blur","setTimeout","backgroundMouseUp","prevX","prevY","prevMouseX","clientX","prevMouseY","clientY","getLines","mousemove","newX","newY","l","elementsNew","mouseup","selectionOffsetBefore","getSelection","focusOffset","elem","offsetHeight","newHeight","textContent","range","createRange","selection","childNodes","setStart","collapse","removeAllRanges","addRange","adjustTextElementHeight","innerHTML","handleImageDrop","fileList","aspectRatio","prevWidth","prevHeight","mouseStartX","mouseStartY","resizeMouseMouve","newWidth","newFontSize","diffWidth","diffHeight","fixedAspectRatio","newElement","newElements","onImgeLoad","currentlyEditing","excludeId","Set","shouldElementHighlight","renderLines","lines","wheel","ctrlKey","offsetXNew","deltaX","offsetYNew","calcOriginStyles","calcGridStyles","OutLeftLeft","onTouchStart","onTouchEnd","onWheel","canvas","grid","sendingSubscribeEmailList","sentSubscribeEmailList","emailListError","onSubscribeEmailList","Navigation","chatNotifications","notifiactionStyle","to","inactive","onSwitchTab","UIActions","UserPrev","existingChat","onCloseNewChatModal","selfName","selfHandle","selfHasPfilePic","onCreateDummyChat","currentUserId","NewChatModal","getAllUsers","toLowerCase","logedinUserId","f","getFriends","spellCheck","onCloseNewChatMenu","SearchContainer","getSearchIcon","failedFriendRequest","dropTargets","onUnSelectDropTarget","onSelectDropTarget","DropModal","onSendDrop","targetNames","targetId","onCloseDropModal","targets","sentTime","liked","chatIds","sendDropStart","messageReplacements","chatReplacements","sendDropSuccess","Footer","getInstagramIcon","Icon","clipPath","filterUnits","colorInterpolationFilters","floodOpacity","in","values","stdDeviation","mode","in2","getTwitterIcon","getFacebookIcon","getTumblrIcon","getPinterestIcon","getSocialButtons","SocialButtons","rel","_excluded","_extends","Object","assign","bind","arguments","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgArrowBack","_ref","svgRef","titleId","ForwardRef","MenuScreen","getArrowBack","BackButton","ArrowBack","onPopFromMenuStack","currentDepth","loginOrSignup","invalid","Invalid","UNACCEPTABLE_PASSWORDS","AuthMenu","loginEmail","touched","valid","loginPassword","password","errorMessage","secondPassword","tooUgly","file","userConditions","newsletter","onInputLoginEmail","test","onLeaveLoginEmailFocus","onInputLoginPassword","onLeaveLoginPasswordFocus","onInputName","onLeaveNameFocus","onUploadprofilePic","acceptedFiles","Array","from","URL","createObjectURL","onRemoveProfilePic","onInputEmail","onLeaveEmailFocus","onInputHandle","substring","onLeaveHandleFocus","onInputPassword","onLeavePasswordFocus","onInputSecondPassword","onLeaveSecondPasswordFocus","onChangeUserconditions","prevState","onChangeNewsletter","shouldMoveRight","onMoveRight","menuStack","createAccount","onSignup","login","onLogin","signup","checkEmailTaken","chooseHandle","checkHandleTaken","getMenuScreens","content","emailErrorMessage","passwordErrorMessage","secondPasswordErrorMessage","loginErrorMessage","loginError","takenEmails","onSubmit","onAnimationStart","onBlur","ErrorMessage","loginLoading","CheckboxContainer","CheckboxText","checkEmailLoading","handleErrorMessage","takenHandles","checkHandleLoading","onDrop","getRootProps","getInputProps","Dropzone","ProfilePicPlaceholder","signupLoading","screen","goBack","MenuItems","signupError","onAddToMenuStack","exists","identifier","JSON","stringify","identification","expirationDate","getTime","expiresIn","toJSON","formData","FormData","append","method","UserMenu","LogoutContainer","onLogout","LogoutIcon","LogoutText","menuClasses","Menu","lightButtonClasses","LightButton","darkButtonClasses","DarkButton","DarkMenu","Inactive","LightMenu","SidePanel","getProfilePic","MenuOpen","DarkMode","Container","Overlay","onCloseMenu","Assistant","NameArea","Handle","Feedback","handleClicked","onOpenChrisChat","App","onSetAnonymousId","onTryAutoSignup","onSetWindowWidth","innerWidth","setInterval","onRefreshNotifications","inComingIds","iid","taktaktak","component","newChatModalOpen","dropModalOpen","withRouter","authOpen","parse","messageNotifications","checkAndAddNewMessages","newChatNotifications","Boolean","location","hostname","match","initialState","selectedTargets","dropIds","insertSubComment","replaceSubCommentId","setDropsNotLoaded","action","streamElementsNew","activeIds","random","fetchMemeSuccess","nextPos","nextId","fetchMemeFailed","sendingObject","sendingNew","commentsNew","selectDropTarget","dropTargetsNew","unselectDropTarget","dropIdsNew","selectComment","unselectComment","selectSubComment","unselectSubComment","newPath","setMouseOverComments","reducer","failedFriendRequests","group","time","sendingMessages","newTextMessagesNotifications","dummyChatsFromRequests","chatsNew","messageId","chatInputNew","seenUpdatesChatsNew","chatInputChangeHandler","received","seen","sendingMessagesNew","shouldDeleteInput","sendingMessage","messagesNew","sendingM","currentChatIdNew","chatReplacement","messageReplacement","sendDropFailed","newMessage","creatingChatsNew","dummyChatMessages","messageBufferNew","addMessageToBuffer","bufferMessage","aciton","sendingFriendRequestsNew","sentFriendRequestsNew","friendsNew","failedFriendRequestsNew","receivedFriendRequestsNew","acceptingFriendRequestsNew","dummyId","fetchChatsStart","fetchChatsSuccess","fetchChatsFailed","chatStatus","personsNew","newMessagesThisChat","messageSet","removeDuplicateMessages","fetchNewChatStart","fetchNewChatSuccess","fetchNewChatFailed","openChrisChat","existingChrisChat","loading","deletingNotifications","setAnonymousId","messagesReadStart","notificationsNew","messagesReadSuccess","messagesReadFailed","toDelte","deletingNotificationsNew","scrollToTop","documentElement","scrollTop","requestAnimationFrame","scrollTo","defaults","baseURL","appReducer","combineReducers","UserReducer","ChatReducer","StreamReducer","UIReducer","composeEnhancers","compose","store","createStore","undefined","applyMiddleware","thunk","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,KAAO,4BAA4B,iBAAmB,wCAAwC,aAAe,oCAAoC,MAAQ,6BAA6B,oBAAsB,2CAA2C,qBAAuB,4CAA4C,WAAa,kCAAkC,aAAe,oCAAoC,WAAa,kCAAkC,UAAY,iCAAiC,YAAc,mCAAmC,cAAgB,qCAAqC,mBAAqB,0CAA0C,aAAe,oCAAoC,iBAAmB,wCAAwC,QAAU,iC,kBCA51BD,EAAOC,QAAU,CAAC,UAAY,4BAA4B,WAAa,6BAA6B,SAAW,2BAA2B,sBAAwB,wCAAwC,WAAa,6BAA6B,UAAY,4BAA4B,OAAS,yBAAyB,gBAAkB,kCAAkC,UAAY,4BAA4B,iBAAmB,mCAAmC,aAAe,+BAA+B,cAAgB,gCAAgC,aAAe,+BAA+B,kBAAoB,sC,mBCAhnBD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,QAAU,2BAA2B,QAAU,2BAA2B,SAAW,4BAA4B,YAAc,+BAA+B,UAAY,6BAA6B,WAAa,gC,iBCA/QD,EAAOC,QAAU,CAAC,gBAAkB,kCAAkC,WAAa,6BAA6B,WAAa,6BAA6B,UAAY,8B,mBCAtKD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,WAAa,6BAA6B,KAAO,uBAAuB,OAAS,yBAAyB,QAAU,0BAA0B,KAAO,uBAAuB,KAAO,uBAAuB,YAAc,8BAA8B,cAAgB,gCAAgC,YAAc,8BAA8B,YAAc,8BAA8B,aAAe,+BAA+B,kBAAoB,sC,gBCAxfD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,cAAgB,8BAA8B,KAAO,qBAAqB,KAAO,uB,gBCAnID,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,MAAQ,6BAA6B,KAAO,4BAA4B,cAAgB,qCAAqC,MAAQ,6BAA6B,mBAAqB,0CAA0C,mBAAqB,0CAA0C,SAAW,kC,gBCAlXD,EAAOC,QAAU,CAAC,iBAAmB,kCAAkC,KAAO,sBAAsB,SAAW,0BAA0B,QAAU,yBAAyB,KAAO,sBAAsB,QAAU,yBAAyB,MAAQ,uBAAuB,KAAO,sBAAsB,KAAO,wB,gBCA/SD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,OAAS,2BAA2B,SAAW,6BAA6B,YAAc,gCAAgC,YAAc,gCAAgC,aAAe,iCAAiC,kBAAoB,wC,gBCA1SD,EAAOC,QAAU,CAAC,iBAAmB,kCAAkC,QAAU,yBAAyB,KAAO,sBAAsB,cAAgB,+BAA+B,kBAAoB,mCAAmC,SAAW,0BAA0B,QAAU,yBAAyB,kBAAoB,qC,gBCAzUD,EAAOC,QAAU,CAAC,aAAe,mCAAmC,gBAAkB,sCAAsC,YAAc,kCAAkC,WAAa,iCAAiC,iBAAmB,uCAAuC,YAAc,kCAAkC,eAAiB,qCAAqC,gBAAkB,sCAAsC,aAAe,mCAAmC,gBAAkB,sCAAsC,QAAU,gC,gBCAtiBD,EAAOC,QAAU,CAAC,OAAS,8BAA8B,KAAO,4BAA4B,GAAK,0BAA0B,GAAK,0BAA0B,GAAK,0BAA0B,GAAK,0BAA0B,EAAI,yBAAyB,EAAI,yBAAyB,EAAI,yBAAyB,EAAI,2B,gBCAnTD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,QAAU,2BAA2B,WAAa,8BAA8B,SAAW,4BAA4B,KAAO,wBAAwB,SAAW,4BAA4B,OAAS,0BAA0B,KAAO,wBAAwB,UAAY,6BAA6B,UAAY,6BAA6B,SAAW,8B,cCDvZD,EAAOC,QAAU,srL,gBCCjBD,EAAOC,QAAU,CAAC,UAAY,+BAA+B,SAAW,8BAA8B,YAAc,iCAAiC,YAAc,mC,gBCAnKD,EAAOC,QAAU,CAAC,iBAAmB,qCAAqC,QAAU,4BAA4B,KAAO,yBAAyB,kBAAoB,sCAAsC,cAAgB,kCAAkC,aAAe,iCAAiC,QAAU,4BAA4B,SAAW,6BAA6B,6BAA+B,iDAAiD,kBAAoB,wC,gBCA9dD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,UAAY,2BAA2B,WAAa,4BAA4B,SAAW,4B,gBCAhJD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,WAAa,gCAAgC,MAAQ,2BAA2B,iBAAmB,sCAAsC,QAAU,6BAA6B,gBAAkB,qCAAqC,gBAAkB,uC,gBCA1TD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,aAAe,kCAAkC,uBAAyB,4CAA4C,kBAAoB,uCAAuC,SAAW,8BAA8B,eAAiB,oCAAoC,SAAW,gC,gBCA3VD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,SAAW,yBAAyB,MAAQ,sBAAsB,UAAY,0BAA0B,MAAQ,sBAAsB,MAAQ,sBAAsB,UAAY,0BAA0B,aAAe,6BAA6B,QAAU,wBAAwB,YAAc,4BAA4B,UAAY,0BAA0B,WAAa,6B,gBCAvaD,EAAOC,QAAU,CAAC,MAAQ,4BAA4B,gBAAkB,sCAAsC,YAAc,kCAAkC,WAAa,iCAAiC,gBAAkB,sCAAsC,gBAAkB,sCAAsC,QAAU,gC,kBCAtUD,EAAOC,QAAU,CAAC,YAAc,iCAAiC,SAAW,8BAA8B,UAAY,+BAA+B,MAAQ,2BAA2B,aAAe,kCAAkC,UAAY,+BAA+B,SAAW,gC,gBCA/RD,EAAOC,QAAU,CAAC,KAAO,mBAAmB,QAAU,sBAAsB,SAAW,uBAAuB,qBAAuB,mCAAmC,mBAAqB,iCAAiC,eAAiB,+B,gBCA/OD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,cAAgB,kCAAkC,gBAAkB,oCAAoC,SAAW,6BAA6B,oBAAsB,wCAAwC,OAAS,2BAA2B,oBAAsB,0C,gBCAtUD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,SAAW,2BAA2B,QAAU,0BAA0B,WAAa,6BAA6B,KAAO,uBAAuB,OAAS,yBAAyB,KAAO,uBAAuB,KAAO,uBAAuB,YAAc,8BAA8B,cAAgB,gCAAgC,aAAe,iC,gBCAnZD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,GAAK,mBAAmB,KAAO,qBAAqB,OAAS,uBAAuB,KAAO,uB,gBCA7ID,EAAOC,QAAU,CAAC,OAAS,kCAAkC,MAAQ,iCAAiC,KAAO,gCAAgC,cAAgB,yCAAyC,SAAW,sC,gBCAjND,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,wBAAwB,KAAO,sBAAsB,QAAU,yBAAyB,SAAW,0BAA0B,QAAU,yBAAyB,QAAU,yBAAyB,YAAc,6BAA6B,eAAiB,gCAAgC,KAAO,sBAAsB,WAAa,4BAA4B,aAAe,8BAA8B,UAAY,2BAA2B,QAAU,yBAAyB,QAAU,yBAAyB,SAAW,0BAA0B,UAAY,6B,gBCA9mBD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,WAAa,6BAA6B,KAAO,uBAAuB,OAAS,yBAAyB,QAAU,0BAA0B,KAAO,uBAAuB,KAAO,uBAAuB,YAAc,8BAA8B,cAAgB,gCAAgC,aAAe,iC,gBCA7WD,EAAOC,QAAU,CAAC,MAAQ,yBAAyB,gBAAkB,mCAAmC,YAAc,+BAA+B,WAAa,8BAA8B,gBAAkB,mCAAmC,gBAAkB,mCAAmC,QAAU,6B,gBCApTD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,KAAO,yBAAyB,MAAQ,0BAA0B,WAAa,+BAA+B,aAAe,iCAAiC,kBAAoB,sCAAsC,SAAW,6BAA6B,sBAAwB,0CAA0C,WAAa,+BAA+B,WAAa,iC,kBCAzbD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,iBAAmB,kCAAkC,QAAU,yBAAyB,KAAO,wB,gBCApJD,EAAOC,QAAU,CAAC,eAAiB,uCAAuC,OAAS,+BAA+B,SAAW,iCAAiC,iBAAmB,yCAAyC,YAAc,oCAAoC,QAAU,kC,gBCAtRD,EAAOC,QAAU,CAAC,cAAgB,qCAAqC,kBAAoB,yCAAyC,yBAA2B,gDAAgD,SAAW,kC,gBCA1ND,EAAOC,QAAU,CAAC,UAAY,4BAA4B,kBAAoB,oCAAoC,SAAW,6B,gBCA7HD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,UAAY,2BAA2B,MAAQ,uBAAuB,KAAO,sBAAsB,KAAO,wB,qBCA/JD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,OAAS,uBAAuB,KAAO,uB,mBCAzFD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,KAAO,yB,gBCD/DD,EAAOC,QAAU,IAA0B,kC,gBCC3CD,EAAOC,QAAU,CAAC,GAAK,iBAAiB,GAAK,mB,iBCA7CD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,QAAU,4B,gBCAlED,EAAOC,QAAU,CAAC,SAAW,2BAA2B,KAAO,yB,4BCD/DD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,yC,gBCC3CD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,YAAc,iC,gBCAzED,EAAOC,QAAU,CAAC,SAAW,6B,iBCD7BD,EAAOC,QAAU,IAA0B,wC,gBCA3CD,EAAOC,QAAU,IAA0B,mC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,gD,iBCC3CD,EAAOC,QAAU,CAAC,eAAiB,yC,gBCDnCD,EAAOC,QAAU,IAA0B,yC,gBCA3CD,EAAOC,QAAU,IAA0B,kD,iBCA3CD,EAAOC,QAAU,IAA0B,uC,gBCA3CD,EAAOC,QAAU,IAA0B,mD,iBCA3CD,EAAOC,QAAU,IAA0B,oC,4ICAvCC,E,sGCcSC,EAAY,SAACC,GACtB,MAAO,CACHC,KCXsB,aDYtBD,IAAKA,IAoFAE,EAAiB,SAACC,GAC3B,MAAO,CACHF,KCzE6B,oBD0E7BE,SEjGKC,EAAsB,SAACC,GAChC,MAAO,CACHJ,KDuIkC,0BCtIlCI,aAiHKC,EAAgB,WACzB,OAAO,SAAAC,GACHA,EAASC,KACTC,IAAMC,IAAI,cACTC,MAAK,SAAAC,GACFL,EAASM,EAAYD,EAASE,OAC9BP,EAASQ,EAAqBH,EAASE,UACxCE,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZV,EAASa,UAKRZ,EAAqB,WAC9B,MAAO,CACHP,KDUiC,0BCN5Bc,EAAuB,SAACM,GACjC,MAAO,CACHpB,KDMmC,0BCLnCoB,UAIKD,EAAsB,WAC/B,MAAO,CACHnB,KDFkC,2BC8B7BqB,EAAmB,SAACC,EAAQC,EAAMC,EAAQC,GACnD,MAAO,CACHzB,KDrB8B,qBCsB9BsB,SACAC,OACAC,SACAC,WAIKC,EAAqB,SAACJ,EAAQK,EAASH,GAChD,MAAO,CACHxB,KD9BgC,uBC+BhCsB,SACAK,UACAH,WAIKI,EAAoB,SAACN,EAAQE,GACtC,MAAO,CACHxB,KDtC+B,sBCuC/BsB,SACAE,WAiCKK,EAA6B,SAACC,GACvC,MAAO,CACH9B,KDhK0C,iCCiK1C8B,OAIKC,EAA+B,SAACD,EAAInB,GAC7C,MAAO,CACHX,KDtK4C,mCCuK5C8B,KACAnB,aAIKqB,EAA8B,SAACF,GACxC,MAAO,CACH9B,KD7K2C,kCC8K3C8B,OAuDKG,EAA+B,SAACC,EAAaV,EAAQG,EAASQ,GACvE,MAAO,CACHnC,KDlH6C,oCCmH7CkC,cACAV,SACAG,UACAQ,SAIKC,EAAiC,SAACF,EAAaV,EAAQa,EAAaF,EAAMG,GACnF,MAAO,CACHtC,KD3H+C,sCC4H/CkC,cACAV,SACAa,cACAF,OACAG,gBAIKC,EAAgC,WACzC,MAAO,CACHvC,KDrI8C,uCC4IzCwC,EAAoB,SAACC,GAC9B,OAAO,SAAAnC,GACHW,QAAQC,IAAI,0BACZZ,EAASoC,EAAuBD,IAChC,IAAME,EAAQC,aAAaC,QAAQ,SAC7BC,EAAU,CAAEA,QAAS,CAAEC,cAAa,iBAAaJ,KACvDnC,IAAMwC,KAAK,uBAAwB,CAAEC,SAAUR,EAAKhB,QAAUqB,GAC7DpC,MAAK,SAAAwC,GACF5C,EAAS6C,EAAyBV,EAAMS,EAAIrC,KAAKuC,UAClDrC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZV,EAAS+C,EAAwBZ,SAKhCC,EAAyB,SAACD,GACnC,MAAO,CACHzC,KDpLqC,4BCqLrCyC,SAIKU,EAA2B,SAACV,EAAMW,GAC3C,MAAO,CACHpD,KD1LuC,8BC2LvCyC,OACAW,SAIKC,EAA0B,SAACZ,GACpC,MAAO,CACHzC,KDjMsC,6BCkMtCyC,SAMKa,EAAsB,SAACb,EAAMc,GACtC,OAAO,SAAAjD,GACHA,EAASkD,EAAyBf,IAClC,IAAME,EAAQC,aAAaC,QAAQ,SAC7BC,EAAU,CAAEA,QAAS,CAAEC,cAAa,iBAAaJ,KACjDc,EAAO,CACTR,SAAUR,EAAKhB,OACf8B,kBAEJ/C,IAAMwC,KAAK,iCAAkCS,EAAMX,GAClDpC,MAAK,SAAAwC,GACF5C,EAASoD,EAA2BR,EAAIrC,KAAK8C,OAAQT,EAAIrC,KAAKuC,KAAMG,OACrExC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZV,EAASsD,EAA0BnB,SAKlCe,EAA2B,SAACf,GACrC,MAAO,CACHzC,KD3NuC,8BC4NvCyC,SAIKiB,EAA6B,SAACC,EAAQP,GAC/C,MAAO,CACHpD,KDjOyC,gCCkOzC2D,SACAP,SAIKQ,EAA4B,SAACnB,GACtC,MAAO,CACHzC,KDxOwC,+BCyOxCyC,SAiGKoB,EAAa,SAACvC,GAEvB,OADAsB,aAAakB,QAAQ,gBAAiBxC,GAC/B,CACHtB,KDnXuB,cCoXvBsB,WAIKyC,EAAkB,SAACzB,EAAaH,GACzC,IAAMD,EAAc,QAAUI,EAAYb,OAE1C,OADAmB,aAAakB,QAAQ,gBAAiB5B,GAC/B,CACHlC,KDpX6B,oBCqX7BsC,cACAH,SASKvB,EAAc,SAACQ,GACxB,MAAO,CACHpB,KD3YyB,gBC4YzBoB,UC5fK4C,EAAkB,WAC3B,MAAO,CACHhE,KFmD6B,sBE/CxBiE,EAAoB,WAC7B,MAAO,CACHjE,KF8C+B,wBE1C1BkE,EAAmB,WAC5B,MAAO,CACHlE,KFyC8B,uBEZzBmE,EAAkB,WAC3B,MAAO,CACHnE,KFY6B,sBERxBoE,EAAoB,WAC7B,MAAO,CACHpE,KFO+B,wBEH1BqE,EAAmB,WAC5B,MAAO,CACHrE,KFE8B,uBEmBzBsE,EAAgB,WACzB,MAAO,CACHtE,KFF2B,oBEMtBuE,EAAS,SAACC,GACnB,MAAO,CACHxE,KFPmB,UEQnBwE,IAAKA,IAIAC,EAAiB,WAC1B,MAAO,CACHzE,KFb4B,qBEmBvB0E,EAAa,SAACF,GACvB,OAAO,SAAAlE,GACHA,EAASqE,KACT,IACMlB,EAAO,CAAEe,IAAKA,GACpBhE,IAAMwC,KAAK,kBAAmBS,EAFd,IAGf/C,MAAK,SAAAwC,GACF5C,EAASsE,GAAS1B,EAAIrC,UAEzBE,OAAM,SAAAC,GACHC,QAAQC,IAAIF,GACZV,EAASuE,WAKRF,EAAmB,WAC5B,MAAO,CACH3E,KF/B6B,sBEmCxB4E,GAAY,SAACE,GACtB,MAAO,CACH9E,KFnCqB,YEoCrB8E,UAIKD,GAAoB,SAACC,GAC9B,MAAO,CACH9E,KF9C6B,sBEoGxB+E,GAAmB,SAACC,EAAQC,GACrC,MAAO,CACHjF,KFzH8B,qBE0H9BgF,SACAC,YAIKC,GAAqB,SAACF,EAAQxD,EAAQyD,GAC/C,MAAO,CACHjF,KFhIgC,uBEiIhCgF,SACAxD,SACAyD,YAIKE,GAAoB,SAACH,EAAQhE,GACtC,MAAO,CACHhB,KFxI+B,sBEyI/BgF,SACAhE,QA6BKoE,GAAsB,SAACJ,EAAQK,GACxC,MAAO,CACHrF,KFvKiC,wBEwKjCgF,SACAK,eAIKC,GAAwB,SAACN,EAAQO,EAAUF,GACpD,MAAO,CACHrF,KF9KmC,0BE+KnCgF,SACAO,WACAF,eAIKG,GAAuB,SAACR,EAAQhE,GACzC,MAAO,CACHhB,KFtLkC,yBEuLlCgF,SACAhE,QA+BKyE,GAAqB,SAACT,EAAQU,GACvC,MAAO,CACH1F,KF5LgC,uBE6LhCgF,SACAU,cAIKC,GAAuB,WAChC,MAAO,CACH3F,KFnMkC,2BEuM7B4F,GAAsB,WAC/B,MAAO,CACH5F,KFxMiC,yBEkO5B6F,GAAiB,SAACb,GAC3B,MAAO,CACHhF,KFxP4B,mBEyP5BgF,WAIKc,GAAmB,SAACd,EAAQe,GACrC,MAAO,CACH/F,KF9P8B,qBE+P9BgF,SACAe,SAIKC,GAAkB,SAAChB,GAC5B,MAAO,CACHhF,KFrQ6B,oBEsQ7BgF,WA0EKiB,GAAmB,WAC5B,MAAO,CACHjG,KFvW8B,uB,QG7EzBkG,GAAS,WAIlB,OAHAtD,aAAauD,WAAW,SACxBvD,aAAauD,WAAW,QACxBvD,aAAauD,WAAW,kBACjB,CACHnG,KHuCkB,WGaboG,GAAa,WACtB,MAAO,CACHpG,KHlCuB,gBGsClBqG,GAAe,SAACC,GACzB,OAAO,cACHtG,KHvCyB,iBGwCtBsG,IAIEC,GAAY,SAAC5E,GACtB,MAAO,CACH3B,KH7CsB,YG8CtBwG,MAAO7E,GAAoB,yBA2CtB8E,GAAc,WACvB,MAAO,CACHzG,KHzFwB,iBG6FnB0G,GAAgB,SAACJ,EAAcK,GACxC,OAAO,cACH3G,KH9F0B,iBG+F1B2G,iBACGL,IAIEM,GAAa,SAACjG,GACvB,MAAO,CACHX,KHrGsB,cGsGtBwG,MAAO7F,GAAYA,EAASE,MAAQF,EAASE,KAAKc,QAAUhB,EAASE,KAAKc,QAAU,yBA2B/EkF,GAAoB,SAACC,GAC9B,MAAO,CACH9G,KH9H+B,sBG+H/B8G,UAIKC,GAAuB,WAChC,MAAO,CACH/G,KHxImC,4BG4I9BgH,GAAyB,SAAC9D,GAEnC,OADAjC,QAAQC,IAAIgC,GACL,CACHlD,KH9IqC,8BGkJhCiH,GAAwB,SAACjG,GAElC,OADAC,QAAQC,IAAIF,GACL,CACHhB,KHpJoC,6BGiL/BkH,GAAqB,SAACC,GAC/B,MAAO,CACHnH,KH7KgC,uBG8KhCmH,WAIKC,GAAwB,WACjC,MAAO,CACHpH,KHvLoC,6BG2L/BqH,GAA0B,SAACnE,GAEpC,OADAjC,QAAQC,IAAIgC,GACL,CACHlD,KH7LsC,+BGiMjCsH,GAAyB,SAACtG,GAEnC,OADAC,QAAQC,IAAIF,GACL,CACHhB,KHnMqC,8BGwQhCuH,GAAwB,SAACjG,GAClC,MAAO,CACHtB,KH7R+B,sBG8R/BsB,WAIKkG,GAA0B,WACnC,MAAO,CACHxH,KHnSiC,0BGuS5ByH,GAAyB,WAClC,MAAO,CACHzH,KHxSgC,yBG4U3B0H,GAAsB,SAACC,GAChC,MAAO,CACH3H,KHpTgC,uBGqThC2H,kBAuBKC,GAA0B,SAACC,GACpC,MAAO,CACH7H,KHxUqC,4BGyUrC6H,mBAIKC,GAA4B,SAACD,GACtC,MAAO,CACH7H,KH9UuC,8BG+UvC6H,mBAIKE,GAA2B,SAACF,GACrC,MAAO,CACH7H,KHpVsC,6BGqVtC6H,mBAyBKG,GAA0B,WACnC,MAAO,CACHhI,KHtXsC,iCG0XjCiI,GAA4B,WACrC,MAAO,CACHjI,KH3XwC,iCG+XnCkI,GAA2B,SAACvG,GACrC,MAAO,CACH3B,KHhYuC,8BGiYvC2B,Y,4DCpcFwG,G,4JAGF,WACI,OACI,yBAAKC,UAAWC,KAAQF,QACpB,uBAAGC,UAAWC,KAAQC,QAAtB,WACA,uBAAIF,UAAWC,KAAQE,KACnBC,KAAMC,KAAKC,MAAMC,WAEhBF,KAAKC,MAAMC,gB,GAVXC,aAiBNT,M,oBCXTU,G,4MAEFC,UAAY,WACR,OAAG,EAAKJ,MAAMK,SAAW,EAAU,KACN,WAA1B,EAAKL,MAAMM,WACH,kBAAC,KAAD,CAAQZ,UAAWC,KAAQY,QAASjJ,KAAK,OAAOkJ,MAAM,UAAUC,OAAQ,GAAIC,MAAO,UAD9F,G,4CAKJ,WAAU,IAAD,OACCC,EAAMZ,KAAKC,MAAM1D,OAAOsE,WAAW,MAA7B,UACKC,wDADL,sCAEKA,yDAFL,OAE6Cd,KAAKC,MAAM1D,QACpE,OACI,yBAAKoD,UAAWC,KAAQQ,SACpB,yBAAKT,UAAWC,KAAQmB,mBAEW,WAA1Bf,KAAKC,MAAMM,YAA2BP,KAAKC,MAAMe,yBAA2BhB,KAAKC,MAAM1D,SAAWyD,KAAKC,MAAMK,SAAW,GACvH,yBACEW,IAAG,eAAUjB,KAAKC,MAAM5G,IACxBsG,UAAWC,KAAQsB,KACnBN,IAAKA,EACLO,OAAQ,kBAAM,EAAKlB,MAAMmB,mBAAmB,EAAKnB,MAAM1D,WACzD,KAELyD,KAAKK,YAEFL,KAAKC,MAAMoB,OACX,kBAAC,GAAD,CAAQnB,UAAWF,KAAKC,MAAMoB,SAC5B,W,GA7BJlB,aAiDLmB,gBAZO,SAAAC,GACpB,MAAO,CACHP,uBAAwBO,EAAMC,OAAOR,2BAIhB,SAAAnJ,GACzB,MAAO,CACHuJ,mBAAoB,SAAC7E,GAAD,OAAY1E,EHiVR,SAAC0E,GAC7B,MAAO,CACHhF,KFjQ8B,qBEkQ9BgF,UGpVyCkF,CAAyBlF,QAIzD+E,CAA6ClB,I,wFCjDxDsB,G,4MAEFH,MAAO,CACHI,WAAW,EACXC,mBAAmB,G,4CAIvB,WAAU,IAAD,OACL,OACI,yBAAKjC,UAAWC,KAAQ8B,cAGjB1B,KAAKC,MAAM4B,aAAe7B,KAAKC,MAAM/F,MAAQ,yBAAKyF,UAAWC,KAAQkC,UAAxB,UAAiD,KAC9F9B,KAAKuB,MAAMK,kBAUR,KATA5B,KAAKC,MAAM4B,aAAe7B,KAAKC,MAAM/F,MACjC,yBACE0G,IAAKZ,KAAKuB,MAAMI,UAAYI,KAAYC,KACxCf,IAAI,GACJtB,UAAWC,KAAQqC,MACnBC,YAAa,kBAAM,EAAKC,SAAS,CAACR,WAAW,KAC7CS,WAAY,kBAAM,EAAKD,SAAS,CAACR,WAAW,KAC5CU,QAAS,kBAAM,EAAKF,SAAS,CAACP,mBAAmB,OACnD,KAER5B,KAAKuB,MAAMK,kBACP,yBAAKjC,UAAWC,KAAQ0C,cAAxB,kBACE,4BAAQ3C,UAAWC,KAAQ2C,UAAWF,QAAS,kBAAM,EAAKpC,MAAMuC,gBAAgB,EAAKvC,MAAM1D,OAAQ,EAAK0D,MAAMhD,aAA9G,OACA,4BAAQ0C,UAAWC,KAAQ6C,SAAUJ,QAAS,kBAAM,EAAKF,SAAS,CAACP,mBAAmB,MAAtF,OAEF,U,GA9BIzB,aAgDXmB,gBAZS,SAAAC,GACpB,MAAO,CACHrH,MAAOqH,EAAMvH,KAAKE,UAIC,SAAArC,GACvB,MAAO,CACH2K,gBAAiB,SAACjG,EAAQU,GAAT,OAAuBpF,EJuPnB,SAAC0E,EAAQU,GAClC,OAAO,SAAApF,GACHA,EAASmF,GAAmBT,EAAQU,IACpC,IAAMyF,EAAG,sBAAkBzF,GACrB/C,EAAQC,aAAaC,QAAQ,SAC7BC,EAAU,CAAEA,QAAS,CAAEC,cAAa,iBAAaJ,KACvDnC,IAAM4K,OAAOD,EAAKrI,GACjBpC,MAAK,WACFJ,EAASqF,SAEZ5E,OAAM,SAAAC,GACHC,QAAQC,IAAIF,GACZV,EAASsF,UInQoCsE,CAAsBlF,EAAQU,QAIxEqE,CAA6CI,I,oBCjDtDkB,G,kDAEF,WAAY3C,GAAQ,IAAD,8BACf,gBAQJ4C,SAAW,SAACC,EAAIC,GACZ,OACI,yBACIpD,UAAS,UAAKmD,EAAKlD,KAAQkD,GAAKlD,KAAQoD,KAA/B,YAAuCD,EAAOnD,KAAQmD,KAAO,MACtEV,QAASS,EAAK,EAAKG,OAAS,EAAKC,SACjCvC,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC7D,0BAAMC,EAAE,4LACJF,KAAI,UAAKL,EAAO,UAAY,eAhBzB,EAsBnBE,OAAS,SAACM,GAEN,GADAA,EAAMC,kBACH,EAAKvD,MAAM/F,OACV,IAAI,EAAKqH,MAAMkC,UAAU,CACrB,IAAIC,EACEC,EAAQ,EAAK1D,MAAM2D,KAAX,uBAAkC,EAAK3D,MAAMhD,UAA7C,mCAAmF,EAAKgD,MAAMhD,UAA9F,SACRjC,EAAO,EAAKiF,MAAM2D,KAAO,CAACC,KAAM,KAAMC,QAAS,EAAK7D,MAAMjH,OAAQ4K,KAAM,EAAK3D,MAAM2D,MAAS,CAAEC,KAAM,MACpGxJ,EAAU,EAAK4F,MAAM/F,MAAQ,CAAEG,QAAS,CAAEC,cAAc,UAAD,OAAY,EAAK2F,MAAM/F,SAAc,KAClGnC,IAAMwC,KACFoJ,EACA3I,EACAX,GACFpC,OAAOK,MAAME,QAAQC,KAEnBiL,EADD,EAAKnC,MAAMwC,YACC,CAAEN,WAAU,EAAMM,aAAY,EAAOC,OAAO,EAAKzC,MAAMyC,OAAO,GAE9D,CAAEP,WAAU,EAAMM,aAAY,EAAOC,OAAO,EAAKzC,MAAMyC,OAAO,GAE7E,EAAK7B,SAASuB,SAGlB,EAAKzD,MAAMgE,WAAW,yCA3CX,EAiDnBf,SAAW,SAACK,GAER,GADAA,EAAMC,kBACH,EAAKvD,MAAM/F,OACV,IAAI,EAAKqH,MAAMwC,YAAY,CACvB,IAAMJ,EAAQ,EAAK1D,MAAM2D,KAAX,uBAAkC,EAAK3D,MAAMhD,UAA7C,mCAAmF,EAAKgD,MAAMhD,UAA9F,SACRjC,EAAO,EAAKiF,MAAM2D,KAAO,CAACC,KAAM,OAAQC,QAAS,EAAK7D,MAAMjH,OAAQ4K,KAAM,EAAK3D,MAAM2D,MAAS,CAAEC,KAAM,QACtGxJ,EAAU,EAAK4F,MAAM/F,MAAQ,CAAEG,QAAS,CAAEC,cAAc,UAAD,OAAY,EAAK2F,MAAM/F,SAAc,KAClGnC,IAAMwC,KACFoJ,EACA3I,EACAX,GACFpC,OAAOK,MAAME,QAAQC,KACpB,EAAK8I,MAAMkC,UACV,EAAKtB,SAAS,CAAE4B,aAAY,EAAMN,WAAU,EAAOO,OAAO,EAAKzC,MAAMyC,OAAO,IAE5E,EAAK7B,SAAS,CAAE4B,aAAY,EAAMN,WAAU,EAAOO,OAAO,EAAKzC,MAAMyC,OAAO,UAIpF,EAAK/D,MAAMgE,cApEA,EAyEnBC,OAAS,SAACX,GAEN,GADAA,EAAMC,kBACF,EAAKvD,MAAM/F,OAER,GAAG,EAAKqH,MAAMwC,aAAe,EAAKxC,MAAMkC,UAAU,CACrD,IAAME,EAAQ,EAAK1D,MAAM2D,KAAX,uBAAkC,EAAK3D,MAAMhD,UAA7C,mCAAmF,EAAKgD,MAAMhD,UAA9F,SACRjC,EAAO,EAAKiF,MAAM2D,KAAO,CAACC,KAAM,UAAWC,QAAS,EAAK7D,MAAMjH,OAAQ4K,KAAM,EAAK3D,MAAM2D,MAAS,CAAEC,KAAM,WACzGxJ,EAAU,EAAK4F,MAAM/F,MAAQ,CAAEG,QAAS,CAAEC,cAAc,UAAD,OAAY,EAAK2F,MAAM/F,SAAc,KAClGnC,IAAMwC,KACFoJ,EACA3I,EACAX,GACFpC,OAAOK,MAAME,QAAQC,KAEpB,EAAK8I,MAAMwC,YACV,EAAK5B,SAAS,CAAE4B,aAAY,EAAON,WAAU,EAAOO,OAAO,EAAKzC,MAAMyC,OAAO,IACvE,EAAKzC,MAAMkC,WACjB,EAAKtB,SAAS,CAAE4B,aAAY,EAAON,WAAU,EAAOO,OAAO,EAAKzC,MAAMyC,OAAO,UAdjF,EAAK/D,MAAMgE,cA5EA,EAgGnBE,eAAiB,SAAAC,GACb,GAAGA,GAAU,IACT,MAAM,GAAN,OAAUC,KAAKC,MAAMF,EAAO,KAA5B,KACG,GAAGA,GAAU,IAAQ,CACxB,IAAMG,EAAaF,KAAKC,MAAMF,EAAO,KAC/BI,EAAcH,KAAKC,OAAOF,EAAkB,IAAXG,GAAoB,KAC3D,MAAM,GAAN,OAAUA,EAAV,YAAwBC,EAAxB,KACG,GAAGJ,GAAS,IACf,MAAM,GAAN,OAAUC,KAAKC,MAAMF,EAAO,KAA5B,KACG,GAAGA,GAAU,IAAK,CACrB,IAAMG,EAAaF,KAAKC,MAAMF,EAAO,KAC/BI,EAAcH,KAAKC,OAAOF,EAAkB,IAAXG,GAAiB,KACxD,MAAM,GAAN,OAAUA,EAAV,YAAwBC,EAAxB,KAEJ,MAAM,GAAN,OAAUJ,IA5GV,EAAK7C,MAAQ,CACTkC,UAAWxD,EAAMwE,QACjBV,YAAa9D,EAAMyE,UACnBV,OAAQ/D,EAAM+D,QALH,E,0CAiHnB,WAGI,OACI,yBAAKrE,UAAWC,KAAQ+E,QACnB3E,KAAK6C,UAAS,EAAM7C,KAAKuB,MAAMkC,WAChC,yBACI9D,UAAWC,KAAQoE,OACnBY,MAAK,UAAK5E,KAAKuB,MAAMyC,OAAhB,WACL3B,QAASrC,KAAKkE,QAEblE,KAAKmE,eAAenE,KAAKuB,MAAMyC,SAEnChE,KAAK6C,UAAS,EAAO7C,KAAKuB,MAAMwC,kB,GAhI5B5D,aAoJJmB,gBAdO,SAAAC,GACpB,MAAO,CACLsD,SAAUtD,EAAMuD,GAAGD,SACnB3K,MAAOqH,EAAMvH,KAAKE,MAClBlB,OAAQuI,EAAMvH,KAAKhB,WAII,SAAAnB,GACzB,MAAO,CACHoM,WAAY,kBAAMpM,ERtHf,CACHN,KCzBqB,kBOkJZ+J,CAA6CsB,I,wCCvJxDmC,G,4JAGF,WACI,IAAI7G,EAAgB8G,KAUpB,OATGhF,KAAKC,MAAMgF,UAAYjF,KAAKC,MAAMgF,WAAajF,KAAKC,MAAMiF,SACtDlF,KAAKC,MAAM/B,cACVA,EAAgB8B,KAAKC,MAAM/B,cAExB8B,KAAKC,MAAM/F,OAAS8F,KAAKC,MAAMkF,gBAC9BjH,EAAgB,UAAG4C,2EAAsDd,KAAKC,MAAMiF,SAK5F,yBACItE,IAAK1C,EACLyB,UAAWC,KAAQmF,UACnBK,MAAO,CAACC,KAAK,GAAD,OAAKrF,KAAKC,MAAMqF,MAAMtF,KAAKC,MAAMsF,OAAjC,OACZtE,IAAI,U,GAnBId,aAiCTmB,gBATS,SAAAC,GACpB,MAAO,CACH4D,cAAe5D,EAAMvH,KAAKmL,cAC1BD,OAAQ3D,EAAMvH,KAAKhB,OACnBkB,MAAOqH,EAAMvH,KAAKE,SAKc,KAAzBoH,CAA+ByD,I,oBC1B/BS,GARE,SAACvF,GAAD,OACT,yBACImF,MAAOnF,EAAMwF,OAAS,CAACA,OAAO,GAAD,OAAKxF,EAAMwF,SAAY,KACpD9F,UAAWC,KAAQ8F,SACnBrD,QAASpC,EAAM0F,W,oBCyGZC,G,4MArGXC,QAAU,SAACC,GACP,IAAIC,EAAS,CAAEV,KAAK,GAAD,OAAK,GATjB,GASsB,EAAKpF,MAAM+F,WAAWC,OAAhC,OACnB,OACA,yBAAKtG,UAAWC,KAAQsG,KAAMd,MAAOW,EAAQpF,MAAO,MAAOD,OAAM,UAAK,EAAKT,MAAMS,OAAhB,MAA4ByC,QAAO,gBAAW,EAAKlD,MAAMS,QAAU0C,KAAK,UAAUC,MAAM,8BACvJ,0BAAMC,EAAC,iBAAY,EAAKrD,MAAMS,OAAvB,SAAsC0C,KAAI,UAAK0C,GAAK,EAAK7F,MAAMkG,aAV5D,UAUyF,e,EAKzGC,KAAO,SAACN,GACJ,OACI,yBAAKV,MAAO,EAAKiB,mBAAmBP,EAAI,EAAG,KAAMQ,IAAG,UAAKR,EAAL,KAAWnF,MAAM,IAAID,OAAO,IAAIyC,QAAQ,UAAUC,KAAK,OAAOC,MAAM,8BACpH,0BAAMC,EAAE,wEAAwEF,KAAI,UAAK0C,GAAK,EAAK7F,MAAMkG,aAAe,UAlBpH,e,EAuBhBI,KAAO,SAACT,GACJ,OACI,yBAAKV,MAAO,EAAKiB,mBAAmBP,EAAI,EAAG,aAAcQ,IAAG,UAAKR,EAAL,cAAoBnF,MAAM,IAAID,OAAO,IAAIyC,QAAQ,UAAUC,KAAK,OAAOC,MAAM,8BACrI,0BAAMC,EAAE,gBAAgBF,KAAI,UAAK0C,GAAK,EAAK7F,MAAMkG,aAAe,UA1B5D,e,EAgChBK,aAAe,SAAClB,EAAO/N,GACnB,IAAImJ,EAAS,EACb,OAAQnJ,GACJ,IAAK,IAAKmJ,EAAS,EAAKT,MAAMS,OAAS,GAAI,MAC3C,IAAK,KAAMA,EAAS,GAAI,MACxB,IAAK,QAASA,EAAS,EAAKT,MAAMS,OAAQ,MAC1C,QAASlI,QAAQC,IAAI,oCAEzB,OACI,yBACA6N,IAAKhB,EACLF,MAAO,EAAKiB,mBAAmBf,EAAO/N,GACtCoJ,MAAO,MACPD,OAAM,UAAKA,EAAL,MACNyC,QAAO,gBAAWzC,GAClB2C,MAAM,8BAEF,0BAAMC,EAAC,iBAAY5C,EAAZ,SAA2B0C,KAAI,UAAKkC,GAAS,EAAKrF,MAAMkG,aAAe,UAjD1E,e,EAuDhBM,cAAgB,SAAAC,GAGZ,IAFA,IAAIC,EAAQ,GAEHb,EAAI,EAAGA,EAAIY,EAAeT,OAAQH,IACvC,OAAQY,EAAeZ,IACvB,IAAK,IAAK,MACV,IAAK,IAAKa,EAAMC,KAAK,EAAKJ,aAAaV,EAAG,MAAO,MACjD,IAAK,IAAKa,EAAMC,KAAK,EAAKJ,aAAaV,EAAG,MAChCa,EAAMC,KAAK,EAAKL,KAAKT,IAAI,MACnC,IAAK,IAAKa,EAAMC,KAAK,EAAKJ,aAAaV,EAAG,OAChCa,EAAMC,KAAK,EAAKR,KAAKN,IACP,EAAK7F,MAAM2D,KAAKiD,MAAM,KAC5BC,MACR,MACV,QAAStO,QAAQC,IAAI,0CAGzB,OAAOkO,G,EAKXN,mBAAqB,SAACf,EAAO/N,GACzB,IAAIwO,EAAS,CACTgB,IAAK,QACLzG,SAAU,YAEd,OAAQ/I,GACJ,IAAK,QAASwO,EAAOgB,IAAM,OACfhB,EAAOV,KAAP,UAAiB,GAtF1B,GAsFwCC,EAA/B,MAAyC,MACrD,IAAK,IACL,IAAK,KAAMS,EAAOV,KAAP,UAAiB,GAxFzB,GAwFuCC,EAA/B,MAA0C,MACrD,IAAK,IAAKS,EAAOV,KAAP,UAzFP,GAyFiCC,EAAQ,EAAlC,MAAyCS,EAAOgB,IAAM,MAAO,MACvE,IAAK,YAAahB,EAAOV,KAAP,UA1Ff,GA0FyCC,EAAQ,EAAlC,MAAyCS,EAAOgB,IAAM,OAAQ,MAChF,QAASvO,QAAQC,IAAI,qBAEzB,OAAOsN,G,4CAMX,WACI,OACI,yBAAKpG,UAAWC,KAAQoH,UACnBhH,KAAKyG,cAAczG,KAAKC,MAAM+F,YAC9BhG,KAAKC,MAAMgH,KAAOjH,KAAK6F,QAAQ7F,KAAKC,MAAMqF,OAAS,U,GAlG7CnF,a,oBCQjB+G,G,4MAEJ3F,MAAQ,CACNb,OAAQ,G,EAeVmF,QAAU,WACR,GAAI,EAAK5F,MAAMzD,QAAQ2K,aAAe,EAAKlH,MAAMzD,QAAQ2K,YAAYlB,OAAS,EAC9E,OACA,yBACEK,IAAK,KACL3G,UAAWC,KAAQsG,KACnBvF,MAAO,MACPD,OAAM,UAAK,EAAKa,MAAMb,OAAhB,MACNyC,QAAO,gBAAW,EAAK5B,MAAMb,QAC7B0C,KAAK,OACLC,MAAM,8BAEN,0BAAMC,EAAC,kBAAa,EAAK/B,MAAMb,OAAxB,SAAuC0C,KAAK,Y,EAKvDgE,qBAAuB,SAACC,EAAUC,EAAgBC,GAChD,IAAM9G,EAAQ4G,GAAYC,EAvCC,0BAuCyCC,EAAU,wBAxCjD,sBAyC7B,OACE,yBAAK5H,UAAWC,KAAQ4H,kBAAmB7G,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BACtG,0BAAMoE,SAAS,UAAUC,SAAS,UAAUpE,EAAE,gQACxCF,KAAO3C,M,EAKnBkF,QAAU,SAAC4B,EAASF,GAClB,OAAGE,EACM,WAAO/O,QAAQC,IAAI,2CAClB4O,EACD,EAAKpH,MAAM0H,kBAEX,kBAAM,EAAK1H,MAAM2H,mBAAmB,EAAK3H,MAAMhD,UAAW,EAAKgD,MAAM2D,Q,uDA7ChF,WACE,IAAMlD,EAASV,KAAK6H,WAAWC,aAC/B9H,KAAKmC,SAAS,CAAEzB,a,gCAGlB,WACE,IAAMA,EAASV,KAAK6H,WAAWC,aAC5B9H,KAAKuB,MAAMb,SAAWA,GACvBV,KAAKmC,SAAS,CAAEzB,a,oBA0CpB,WAAU,IAAD,OAED2G,EAAWrH,KAAKC,MAAM8H,kBAAoB/H,KAAKC,MAAM2D,KACrD2D,EAAUvH,KAAKC,MAAMsH,QAAQS,MAAK,SAAAC,GAAC,OAAIA,EAAE1L,SAAW,EAAK0D,MAAM1D,QAAU0L,EAAErE,OAAS,EAAK3D,MAAM2D,QAC/F0D,EAAiBtH,KAAKC,MAAM2D,KAAK/C,WAAWb,KAAKC,MAAM8H,iBACzDG,EAAyB,CAACtI,KAAQuI,mBACnCZ,GAASW,EAAuBtB,KAAKhH,KAAQ2H,UAC7CF,GAAYC,IAAgBY,EAAuBtB,OAEtD,IAAMwB,EAAe,CAAEC,YAAY,GAAD,OAtEvB,GAsE4BrI,KAAKC,MAAMqF,MAAhB,OAC5BgD,EAAe,CAAEjD,KAAK,GAAD,OAvEhB,GAuEqBrF,KAAKC,MAAMqF,MAAiB,GAAjC,MAAyCiD,SAAS,GAAD,OAAK,IAvEtE,GAuEqFvI,KAAKC,MAAMqF,MAA/B,OAEtEkD,EAAiBlB,EAAiBtH,KAAKC,MAAM8H,gBAAgBlB,MAAM,KAAKZ,OAAQ,EAAIoB,EAAWrH,KAAKC,MAAMqF,MAAQ,KAExH,OACE,yBAAK3F,UAAS,UAAKC,KAAQ6I,iBAAb,YAAiCnB,GAAkBD,EAAWzH,KAAQyH,SAAW,OAC5FA,EAAW,kBAAC3B,GAAD,CAAUC,QAAU3F,KAAKC,MAAM0H,oBAAwB,KAClEN,EAAW,kBAAC,GAAD,CAAanN,MAAO8F,KAAKC,MAAM/F,MAAO2H,YAAa7B,KAAKC,MAAMgF,WAAajF,KAAKC,MAAMjH,SAAY,KAC9G,yBAAK2G,UAAWC,KAAQ8I,QAAStD,MAAOgD,GACtC,kBAAC,GAAD,CAAW9C,MAAOtF,KAAKC,MAAMqF,MAAOC,OAhF/B,GAgF+CN,SAAUjF,KAAKC,MAAMgF,WACzE,yBACEtF,UAAWuI,EAAuBS,KAAK,KACvCC,IAAK,SAAAf,GAAU,OAAK,EAAKA,WAAaA,GACtCxF,QAASrC,KAAK2F,QAAQ4B,EAASF,IAC/B,kBAAC,GAAD,CACE5C,QAASzE,KAAKC,MAAM4I,QACpBnE,UAAW1E,KAAKC,MAAM6I,UACtB9E,OAAQhE,KAAKC,MAAM+D,OACnB/G,UAAW+C,KAAKC,MAAMhD,UACtB2G,KAAM5D,KAAKC,MAAM2D,OACnB,yBAAKjE,UAAWC,KAAQmJ,kBAAmB1G,QAASrC,KAAKgJ,QACvD,0BAAMrJ,UAAWC,KAAQqJ,cAAe7D,MAAOkD,GAC5CtI,KAAKC,MAAMgJ,eAEbjJ,KAAKoH,qBAAqBC,EAAUC,EAAgBC,MAI3D,kBAAC,GAAD,CACEpB,aAAeqC,EACfxC,WAAahG,KAAKC,MAAM+F,WACxBtF,OAASV,KAAKuB,MAAMb,OACpBuG,KAAOI,GAAarH,KAAKC,MAAMkH,aAAenH,KAAKC,MAAMkH,YAAYlB,OAAS,EAC9ErC,KAAO5D,KAAKC,MAAM2D,KAClByD,SAAWA,S,GApGIlH,aA4HVmB,gBAhBS,SAAAC,GACtB,MAAO,CACLwG,gBAAiBxG,EAAMC,OAAOuG,gBAC9BR,QAAShG,EAAMC,OAAO+F,QACtBrN,MAAOqH,EAAMvH,KAAKE,MAClBlB,OAAQuI,EAAMvH,KAAKhB,WAII,SAAAnB,GACzB,MAAO,CACL+P,mBAAoB,SAAC3K,EAAW2G,GAAZ,OAAqB/L,ET6Cb,SAACoF,EAAW2G,GACxC,MAAO,CACHrM,KFxD6B,oBEyD7B0F,YACA2G,QSjD8CsF,CAA+BjM,EAAW2G,KAC5F+D,kBAAmB,kBAAM9P,ETuClB,CACHN,KFtE4B,yBWkCrB+J,CAA6C4F,I,iDChH7CiC,G,4JAvBX,WACI,IAAIC,EAAe,CAACxJ,KAAQyJ,QAC5B,GAAGrJ,KAAKC,MAAMqJ,WACV,OAAOtJ,KAAKC,MAAMqJ,YACd,IAAK,gBAAiBF,EAAaxC,KAAKhH,KAAQ2J,eAAgB,MAEhE,QAAS/Q,QAAQC,IAAI,iBAM7B,OAHGuH,KAAKC,MAAMuJ,UAAUJ,EAAaxC,KAAKhH,KAAQ6J,UACrB,UAA1BzJ,KAAKC,MAAMyJ,YAAwBN,EAAaxC,KAAKhH,KAAQ+J,OACnC,SAA1B3J,KAAKC,MAAMyJ,YAAuBN,EAAaxC,KAAKhH,KAAQgK,MAE3D,4BACIvH,QAASrC,KAAKC,MAAM0F,QACpBhG,UAAWyJ,EAAaT,KAAK,KAC7Ba,SAAUxJ,KAAKC,MAAMuJ,UACpBxJ,KAAKC,MAAM4J,c,GApBI1J,aCW1B2J,G,4MAEFvI,MAAQ,CACJwI,cAAe,GACfP,UAAU,G,EAGdQ,oBAAsB,SAACzG,GACnB,IAAM0G,EAAW1G,EAAM2G,OAAOC,MACxBX,EAA+B,KAApBS,EAASG,QAAiB,EAAKnK,MAAMoK,eAAe,GAAGhR,GAAGwH,WAAW,WACtF,EAAKsB,SAAS,CAAC4H,cAAeE,EAAUT,SAAUA,K,EAGtDc,cAAgB,SAAC/G,GAEb,GADAA,EAAMgH,iBACF,EAAKtK,MAAM/F,MAKX,GAFA,EAAKiI,SAAS,CAAC4H,cAAe,GAAIP,UAAU,IAExC,EAAKvJ,MAAMrD,WAWR,CACH,IAAM4N,EAAgB,CAClBnR,GAAG,GAAD,OAAKoR,KAAKC,OACZC,OAAQ,EAAK1K,MAAMjH,OACnBgL,OAAQ,EACRmD,YAAa,GACb3K,QAAS,EAAK+E,MAAMwI,cACpBa,WAAY,EAAK3K,MAAM8H,iBAE3B,EAAK9H,MAAM4K,iBAAiB,EAAK5K,MAAM1D,OAAQiO,EAAe,EAAKvK,MAAM/F,WApBlD,CACvB,IAAM4Q,EAAa,CACfzR,GAAG,GAAD,OAAKoR,KAAKC,OACZlO,QAAS,EAAK+E,MAAMwI,cACpB9E,SAAU,EAAKhF,MAAMjH,OACrB+R,OAAQ,IAAIN,KACZzG,OAAQ,EACRmD,YAAa,GACbvD,KAAM,KAEV,EAAK3D,MAAM+K,cAAc,EAAK/K,MAAM1D,OAAQuO,EAAY,EAAK7K,MAAM/F,YAdvE,EAAK+F,MAAMgE,c,EA+CnBgH,YAAc,SAAC3F,EAAOU,GAClB,OAAI,EAAK/F,MAAM2D,KACR,kBAAC,GAAD,CAAUuC,aAAcb,EAAM,EAAGU,WAAYA,EAAYtF,OAAQ,GAAIkD,KAAM,EAAK3D,MAAM2D,OADjE,M,0DAnBhC,WACI,OACI,yBAAKjE,UAAWC,KAAQ4H,kBAAmB7G,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BACpG,0BAAMoE,SAAS,UAAUC,SAAS,UAAUpE,EAAE,gQAAgQF,KAAM,e,2BAKhU,WACI,OACI,yBAAKzC,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC9D,uBAAGhK,GAAG,sBACN,0BAAMA,GAAG,qCAAqCiK,EAAE,qEAAqEF,KAAMpD,KAAKuB,MAAMiI,SAAW,OAAS,QAAS0B,YAAY,a,oBAW3L,WACI,IAAM5F,EAAQtF,KAAKC,MAAM2D,KAAO5D,KAAKC,MAAM2D,KAAKiD,MAAM,KAAKZ,OAAS,EAC9DkF,EAAqB,CAAE9C,YAAY,GAAD,OAzEjC,GAyEsC/C,EAAL,OAClCgD,EAAe,CAAEjD,KAAK,GAAD,OA1EpB,IA0E0BC,EAAM,GAAc,GAA1B,OACrBU,EAAahG,KAAKC,MAAM+F,WAAX,uBAA4BhG,KAAKC,MAAM+F,WAAWoF,MAAM,IAAxD,CAA4D,MAAO,CAAC,KAEvF,OACI,yBAAKzL,UAAWC,KAAQkK,YACpB1E,MAAOpF,KAAKC,MAAM2D,KAAO,CAAC6B,OAAQ,OAAS,MAC3C,yBAAK9F,UAAWC,KAAQyL,aAAcjG,MAAO+F,GACzC,kBAAC,GAAD,CAAW7F,MAAOA,EAAOC,OAjF9B,GAiF8CN,SAAUjF,KAAKC,MAAMjH,SAC9D,yBAAK2G,UAAWC,KAAQ0L,wBACpB,yBAAK3L,UAAWC,KAAQ2L,kBAAmBnG,MAAOkD,GAC9C,kBAAC,KAAD,CACI3I,UAAWC,KAAQ4L,SACnBC,SAAUzL,KAAKgK,oBACfG,MAAOnK,KAAKuB,MAAMwI,cAClB2B,YAAa1L,KAAKC,MAAM2D,KAAO,sBAAwB,uBAC3D,kBAAC,GAAD,CACIjE,UAAWC,KAAQ+L,aACnBjC,WAAW,QACXJ,WAAW,gBACX3D,QAAS3F,KAAKsK,cACdd,SAAUxJ,KAAKuB,MAAMiI,SACrBjS,KAAK,UACAyI,KAAK4L,iBAEb5L,KAAKoH,0BAIjBpH,KAAKiL,YAAY3F,EAAOU,Q,GAnGf7F,aA0HXmB,gBAjBS,SAAAC,GACpB,MAAO,CACHwG,gBAAiBxG,EAAMC,OAAOuG,gBAC9B7N,MAAOqH,EAAMvH,KAAKE,MAClBlB,OAAQuI,EAAMvH,KAAKhB,OACnBqR,eAAgB9I,EAAMC,OAAO6I,mBAIV,SAAAxS,GACvB,MAAO,CACHoM,WAAY,kBAAMpM,EdhGf,CACHN,KCzBqB,eayHrByT,cAAe,SAACzO,EAAQC,EAAStC,GAAlB,OAA4BrC,EXkExB,SAAE0E,EAAQC,GACjC,OAAO,SAAA3E,GACHA,EAASyE,GAAiBC,EAAQC,IAClC,IAAMtC,EAAQC,aAAaC,QAAQ,SAC7BC,EAAU,CAAEA,QAAS,CAAEC,cAAa,iBAAaJ,KACjDwI,EAAG,oBAAgBnG,EAAhB,YACHvB,EAAO,CAAEwB,QAASA,EAAQA,SAChCzE,IAAMwC,KAAKmI,EAAK1H,EAAMX,GACrBpC,MAAK,SAAAwC,GACF5C,EAAS4E,GAAmBF,EAAQC,EAAQnD,GAAIoB,EAAIrC,UAEvDE,OAAM,SAAAC,GACHC,QAAQC,IAAIF,GACZV,EAAS6E,GAAkBH,EAAQhE,QW/Ea2Q,CAA0B3M,EAAQC,KACtFqO,iBAAkB,SAACtO,EAAQK,EAAY1C,GAArB,OAA+BrC,EX+G3B,SAAE0E,EAAQK,EAAY1C,GAChD,OAAO,SAAArC,GACH,IAAMoF,EAAYL,EAAWgO,WAAW/D,MAAM,KAAK,GAC7C/J,EAAWF,EAAWgO,WAAa,IAAMhO,EAAWvD,GAC1DxB,EAAS8E,GAAoBJ,EAAQK,IACrC,IAAM8F,EAAG,uBAAmBzF,EAAnB,QACH5C,EAAU,CAAEA,QAAS,CAAEC,cAAc,UAAD,OAAYJ,KAChDc,EAAO,CACTiO,cAAerM,EAAWJ,QAC1BoO,WAAYhO,EAAWgO,YAE3B7S,IAAMwC,KAAKmI,EAAK1H,EAAMX,GACrBpC,MAAK,SAAAwC,GACF5C,EAASgF,GAAsBN,EAAQO,EAAUrC,EAAIrC,UAExDE,OAAM,SAAAC,GACHC,QAAQC,IAAIF,GACZV,EAASkF,GAAqBR,EAAQhE,QWhIgB2Q,CAA6B3M,EAAQK,EAAY1C,QAIpGoH,CAA6CwI,IC9E7C+B,G,4MAnDXC,kBAAoB,SAACC,EAAgBzG,EAAO+B,GAmBxC,OAlBoB,EAAKpH,MAAMkH,YAAY6E,KAAI,SAAC/D,EAAGnC,GACjD,IAAMmG,GAAW5E,GAAmBvB,IAAM,EAAK7F,MAAMkH,YAAYlB,OAAS,EAC1E,OACE,kBAAC4F,EAAD,iBACM5D,EADN,CAEEiE,KAAMH,EACNI,KAAMF,EACN3G,MAAOA,EAAM,EACbgB,IAAKR,EACLvJ,OAAQ,EAAK0D,MAAM1D,OACnB6P,oBAAqB,EAAKnM,MAAMmM,oBAChCnD,cAAehB,EAAEzL,QACjB2K,YAAac,EAAEd,YACflK,UAAW,EAAKgD,MAAMhD,UACtBoK,SAAUA,S,4CAOpB,WAEI,IAAM/B,EAAQtF,KAAKC,MAAM2D,KAAKiD,MAAM,KAAKZ,OAAS,EAC5CoB,EAAWrH,KAAKC,MAAMmM,sBAAwBpM,KAAKC,MAAM2D,KAE3DyI,EAAcrM,KAAKC,MAAMiM,KAAOlM,KAAKC,MAAMiM,KAAO,GAClDI,GAAqC,IAApBtM,KAAKC,MAAMkM,KAAgB,uBAAIE,GAAJ,CAAiB,MAAKjB,MAAM,GAAK,uBAAIiB,GAAJ,CAAiB,MAAKjB,MAAM,IAC5GpL,KAAKC,MAAMoH,WAAgC,IAApBrH,KAAKC,MAAMkM,MAAiB7G,EAAQ,EAAI,uBAAI+G,GAAJ,CAAiB,MAAKjB,MAAM,GAAK,uBAAIiB,GAAJ,CAAiB,MAAKjB,MAAM,GAC7H,IAAIW,GAAqC,IAApB/L,KAAKC,MAAMkM,KAAX,uBAA+BE,GAA/B,CAA4C,MAA5C,uBAAuDA,GAAvD,CAAoE,MAGzF,OACI,yBAAK1M,UAAU,qBACX,kBAAC,GAAD,iBAAgBK,KAAKC,MAArB,CAA4B+F,WAAYsG,KACtCtM,KAAK8L,kBAAkBC,EAAgBzG,EAAO+B,GAE9CA,EACA,kBAAC,GAAD,CACEzK,YAAU,EACVL,OAAQyD,KAAKC,MAAM1D,OACnBqH,KAAM5D,KAAKC,MAAM2D,KACjBoC,WAAY+F,IACZ,U,GA9CY5L,a,oBCe1BuI,G,4MAEJnH,MAAQ,CACNb,OAAQ,G,EAmCVoL,kBAAoB,SAACzE,GAmBnB,OAlBsB,EAAKpH,MAAMzD,QAAQ2K,YAAY6E,KAAI,SAAC/D,EAAGnC,GACzD,IAAMmG,EAAWnG,IAAM,EAAK7F,MAAMzD,QAAQ2K,YAAYlB,OAAS,IAAMoB,EACrE,OACE,kBAAC,GAAD,iBACMY,EADN,CAEEX,eAAgBD,EAChB6E,KAAM,CAAC,KACPC,KAAMF,EACN3G,MAAO,EACPgB,IAAKR,EACLvJ,OAAQ,EAAK0D,MAAM1D,OACnB6P,oBAAqB,EAAKnM,MAAM8H,gBAChC9K,UAAW,EAAKgD,MAAMzD,QAAQnD,GAC9B4P,cAAehB,EAAEzL,QACjB2K,YAAac,EAAEd,mB,EAOzBC,qBAAuB,SAACC,EAAUE,GAChC,IAAM9G,EAAQ4G,EAhEa,0BAgEuBE,EAAU,wBAlExB,sBAmEpC,OACE,yBAAK5H,UAAWC,KAAQ4H,kBAAmB7G,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BACtG,0BAAMoE,SAAS,UAAUC,SAAS,UAAUpE,EAAE,gQACxCF,KAAO3C,M,EAKnBkF,QAAU,SAAC4B,EAASF,GAClB,OAAGE,EACM,WAAO/O,QAAQC,IAAI,2CAClB4O,EACD,EAAKpH,MAAM0H,kBACVJ,OAAJ,EACG,kBAAM,EAAKtH,MAAMsM,gBAAgB,EAAKtM,MAAM5G,GAAI,O,uDAtE3D,WACE,IAAMqH,EAASV,KAAK6H,WAAWC,aAC/B9H,KAAKmC,SAAS,CAAEzB,a,gCAGlB,WACE,IAAMA,EAASV,KAAK6H,WAAWC,aAC5B9H,KAAKuB,MAAMb,SAAWA,GACvBV,KAAKmC,SAAS,CAAEzB,a,qBAIpB,SAAQ2G,GACJ,OAAIrH,KAAKC,MAAMzD,QAAQ2K,aAAenH,KAAKC,MAAMzD,QAAQ2K,YAAYlB,OAAS,GAAMoB,EAEhF,yBACEf,IAAK,IACL3G,UAAWC,KAAQsG,KACnBvF,MAAO,MACPD,OAAM,UAAKV,KAAKuB,MAAMb,OAAhB,MACNyC,QAAO,gBAAWnD,KAAKuB,MAAMb,QAC7B0C,KAAK,OACLC,MAAM,8BAEN,0BAAMC,EAAC,iBAAYtD,KAAKuB,MAAMb,OAAvB,SAAsC0C,KAAK,aAI9C,O,oBA+Cd,WAAU,IAAD,OACH8E,EAAyB,CAACtI,KAAQuI,mBAChCd,EAAWrH,KAAKC,MAAM8H,kBAAoB/H,KAAKC,MAAM5G,GACrDkO,EAAUvH,KAAKC,MAAMsH,QAAQS,MAAK,SAAAwE,GAAC,OAAIA,EAAEzT,SAAW,EAAKkH,MAAM5G,MAGnE,OAFCkO,GAASW,EAAuBtB,KAAKhH,KAAQ2H,SAC7CF,GAAUa,EAAuBtB,KAAKhH,KAAQyH,UAE/C,yBAAK1H,UAAWC,KAAQ6I,kBACrBpB,EAAW,kBAAC3B,GAAD,CAAUD,OAAQ,IAAKE,QAAS3F,KAAKC,MAAM0H,oBAAuB,KAC7EN,EAAW,kBAAC,GAAD,CAAa9K,OAAQyD,KAAKC,MAAM1D,OAAQU,UAAW+C,KAAKC,MAAM5G,GAAIwI,YAAa7B,KAAKC,MAAMgF,WAAajF,KAAKC,MAAMjH,SAAY,KAC1I,yBAAK2G,UAAS,UAAKC,KAAQ8I,QAAb,YAAwBrB,EAAWzH,KAAQyH,SAAW,OAClE,kBAAC,GAAD,CAAW/B,MAAO,EAAGC,OAAQ,EAAGkH,YAAazM,KAAKC,MAAMwM,YAAaxH,SAAUjF,KAAKC,MAAMgF,WAC1F,yBACEtF,UAAWuI,EAAuBS,KAAK,KACvCtG,QAASrC,KAAK2F,QAAQ4B,EAASF,GAC/BuB,IAAK,SAAAf,GAAU,OAAK,EAAKA,WAAaA,IACtC,kBAAC,GAAD,CACEpD,QAASzE,KAAKC,MAAM4I,QACpBnE,UAAW1E,KAAKC,MAAM6I,UACtB7L,UAAW+C,KAAKC,MAAM5G,GACtB2K,OAAQhE,KAAKC,MAAM+D,SACrB,yBAAKrE,UAAWC,KAAQmJ,mBACtB,0BAAMpJ,UAAWC,KAAQqJ,eACtBjJ,KAAKC,MAAMzD,QAAQA,SAErBwD,KAAKoH,qBAAqBC,EAAUE,KAGxCvH,KAAK6F,QAAQwB,IAGfrH,KAAKC,MAAMzD,QAAQ2K,YAAcnH,KAAK8L,kBAAkBzE,GAAY,KACpEA,EACC,kBAAC,GAAD,CACE9K,OAAQyD,KAAKC,MAAM1D,OACnBK,YAAY,EACZgH,KAAM5D,KAAKC,MAAM5G,GACjB2M,WAAYhG,KAAKC,MAAMkH,YAAYlB,OAAS,EAAI,GAAK,OACrD,U,GAvHU9F,aA8IPmB,gBAhBS,SAAAC,GACtB,MAAO,CACLwG,gBAAiBxG,EAAMC,OAAOuG,gBAC9BR,QAAShG,EAAMC,OAAO+F,QACtBvO,OAAQuI,EAAMvH,KAAKhB,OACnBkB,MAAOqH,EAAMvH,KAAKE,UAIK,SAAArC,GACzB,MAAO,CACL0U,gBAAiB,SAACtP,EAAW2G,GAAZ,OAAqB/L,EbUb,SAACoF,EAAW2G,GACrC,MAAO,CACHrM,KF/D0B,iBEgE1B0F,YACA2G,Qad2CsF,CAA4BjM,EAAW2G,KACtF+D,kBAAmB,kBAAM9P,EbkBlB,CACHN,KFtE4B,yBeuDrB+J,CAA6CoH,ICrJtDgE,G,4MAGFC,mBAAqB,a,EAGrBC,YAAc,WACV,OAAO,EAAK3M,MAAM4M,SAASb,KAAI,SAAAc,GAC3B,OACI,kBAAC,GAAD,iBACQA,EADR,CAEIxG,IAAKwG,EAAEzT,GACPmD,QAASsQ,EACTvQ,OAAQ,EAAK0D,MAAM1D,c,EAMnC8D,UAAY,WACR,OACI,kBAAC,KAAD,CACIV,UAAWC,KAAQY,QACnBjJ,KAAK,YACLkJ,MAAM,UACNC,OAAQ,GACRC,MAAO,M,4CAKnB,WAAS,IAAD,OACJ,OAA2B,IAAxBX,KAAKC,MAAMK,SAAuB,yBAAKX,UAAWC,KAAQmN,SAEzD,yBACI3H,MAAO,CAACzE,MAAOX,KAAKC,MAAM+M,YAAY,EAAI,KAC1CrN,UAAWC,KAAQ8M,eACnBO,aAAc,kBAAM,EAAKhN,MAAMiN,wBAAuB,IACtDC,aAAc,kBAAM,EAAKlN,MAAMiN,wBAAuB,IACtDE,SAAS,KACT,kBAAC,GAAD,CAAa7Q,OAAQyD,KAAKC,MAAM1D,SAChC,yBAAKoD,UAAWC,KAAQiN,UACW,eAA7B7M,KAAKC,MAAMoN,cAAiCrN,KAAKK,YAAcL,KAAK4M,oB,GA1C7DzM,aA+DdmB,gBARS,SAAAC,GACpB,MAAO,CACLsD,SAAUtD,EAAMuD,GAAGD,SACnBmI,YAAazL,EAAMuD,GAAGkI,gBATD,SAAAnV,GACvB,MAAO,CACHqV,uBAAwB,SAACI,GAAD,OAAkBzV,Ed0YvC,CACHN,KFhUmC,sBEiUnC4S,Mc5YgFmD,QAYzEhM,CAA6CoL,I,oBCtD7Ca,G,4JAlBb,WACE,IAAIC,EAAgB,CAAC5N,KAAQ2N,eAU7B,OATIvN,KAAKC,MAAMwN,MACbD,EAAc5G,KAAKhH,KAAQ8N,0BAE3BF,EAAc5G,KAAKhH,KAAQ+N,mBAE1B3N,KAAKC,MAAMuJ,UACZgE,EAAc5G,KAAKhH,KAAQ6J,UAI3B,4BAAQ9J,UAAW6N,EAAc7E,KAAK,KAAMtG,QAASrC,KAAKC,MAAMuJ,SAAW,KAAOxJ,KAAKC,MAAM0F,SAC1F3F,KAAKC,MAAM4J,c,GAdQ1J,aCgBtByN,G,4MAEJjB,mBAAqB,WACY,iBAA5B,EAAK1M,MAAM4N,cAA6D,eAA1B,EAAK5N,MAAM6N,YAA+B,EAAK7N,MAAM5G,GAAG4M,OAAS,GAChH,EAAKhG,MAAM8N,YAAY,EAAK9N,MAAM5G,K,EAiBtC2U,qBAAuB,WACjB,EAAK/N,MAAM/F,MAGb,EAAK+F,MAAMgO,kBAFX,EAAKhO,MAAMgE,WAAW,kE,iDAf1B,SAAYiK,GACV,IAAMC,GAAsB,GAAZD,EAAM,GAChBE,GAAsB,GAAZF,EAAM,GAChBnI,EAAS,GAOf,MANwB,WAApB/F,KAAKC,MAAMoO,KACbtI,EAAOuI,UAAP,0BAEAvI,EAAOuI,UAAP,0BAAsCH,EAAtC,eAAmDC,EAAnD,OACArI,EAAOwI,gBAAP,0BAA4CJ,EAA5C,eAAyDC,EAAzD,QAEKrI,I,oBAWT,WACE,IAAIyI,EAAiB,GAEjBC,EAAa,CAAC7O,KAAQgO,eAW1B,MATwB,SAApB5N,KAAKC,MAAMoO,MAAiBI,EAAW7H,KAAKhH,KAAQ8O,UAChC,UAApB1O,KAAKC,MAAMoO,MAAkBI,EAAW7H,KAAKhH,KAAQ+O,YACjC,SAApB3O,KAAKC,MAAMoO,MAAkBI,EAAW7H,KAAKhH,KAAQgP,WAC7B,IAAxB5O,KAAKC,MAAMK,WACVN,KAAKC,MAAM4O,UAAUJ,EAAW7H,KAAKhH,KAAQkP,UAC7C9O,KAAKC,MAAM8O,WAAWN,EAAW7H,KAAKhH,KAAQoP,YAEnDP,EAAW7H,KAAK5G,KAAKC,MAAM4E,SAAWjF,KAAQgK,KAAOhK,KAAQ+J,OAG3D,yBACEyD,SAAS,IACTzN,UAAW8O,EAAW9F,KAAK,KAC3BvD,MAAOpF,KAAKiP,YAAYjP,KAAKC,MAAMK,WAClCkO,EACAxO,KAAKC,MAAM2E,MAAQ,wBAAIjF,UAAWC,KAAQgF,OAAQ5E,KAAKC,MAAM2E,OAAa,KAC3E,kBAAC,GAAD,CACEtE,SAAUN,KAAKC,MAAMK,SACrB/D,OAAQyD,KAAKC,MAAM5G,GACnBwT,SAAU7M,KAAKC,MAAM4M,SACrBqC,WAAkC,gBAAtBlP,KAAKC,MAAMkP,OACvB9B,cAAerN,KAAKC,MAAM6N,aAC5B,yBAAKnO,UAAWC,KAAQwP,kBACtB,kBAAC,GAAD,CACEhX,KAAM4H,KAAKC,MAAM7H,KACjBkI,SAAUN,KAAKC,MAAMK,SACrB/D,OAAQyD,KAAKC,MAAM5G,GACnB8V,OAAQnP,KAAKC,MAAMkP,OACnB9N,OAAQrB,KAAKC,MAAMoB,OACnBd,WAAYP,KAAKC,MAAMM,aACzB,kBAAC,GAAD,CACEkN,OAxEQ,EAyER9H,QAAS3F,KAAKgO,qBACdxE,SAAUxJ,KAAKC,MAAM5G,GAAG4M,OAAS,GAAKjG,KAAKC,MAAM5G,GAAGwH,WAAW,YAC/D,wBAAIlB,UAAWC,KAAQyP,MAAvB,e,GApEgBlP,aA4FbmB,gBAhBS,SAAAC,GACtB,MAAO,CACLsD,SAAUtD,EAAMuD,GAAGD,SACnB3K,MAAOqH,EAAMvH,KAAKE,MAClB2T,aAActM,EAAMC,OAAOqM,iBAIJ,SAAAhW,GACzB,MAAO,CACLoM,WAAY,SAACqL,GAAD,OAAgBzX,EnBvErB,CACHN,KCzBqB,ekBgGzB0W,gBAAiB,kBAAMpW,EnBpFhB,CACHN,KChB2B,qBkBoG/BwW,YAAa,SAACxR,EAAQrC,GAAT,OAAmBrC,EhByOX,SAAC0E,EAAQrC,GAC9B,OAAO,SAAArC,GAEH,GADAA,EAASuF,GAAeb,IACrBA,EAAOsE,WAAW,MACjBhJ,EAASwF,GAAiBd,EAAQ,CAAEA,SAAQqI,MAAO,GAAI2K,UAAW,2BAA4B1C,SAAU,UACvG,CACD,IAAMnK,EAAMnG,EAAOsE,WAAW,WAAa,iBAA/B,oBAA+DtE,GACrElC,EAAUH,EAAQ,CAAEG,QAAS,CAAEC,cAAc,UAAD,OAAYJ,KAAc,KAC5EnC,IAAMC,IAAI0K,EAAKrI,GACdpC,MAAK,SAAAwC,GACF5C,EAASwF,GAAiBd,EAAQ9B,EAAIrC,UACvCE,OAAM,SAAAC,GACLV,EAAS0F,GAAgBhB,SgBrPIkF,CAAkBlF,EAAQrC,QAIxDoH,CAA6CsM,I,oGCnGtD4B,G,4MAEJjO,MAAQ,CACNkO,qBAAsB,EACtBC,SAAS,G,EAeXpS,KAAO,SAACqS,GACN,EAAK1P,MAAM2P,KAAKD,GAChB,EAAKxN,SAAS,CACZ0N,mBAAmB,K,EAKvBC,qBAAuB,SAACvM,GACA,KAAlBA,EAAMwM,SACR,EAAK9P,MAAM+P,aAAa,EAAK/P,MAAMoK,eAAe,GAAGhR,GAAI,EAAK4G,MAAMgQ,aAEhD,KAAlB1M,EAAMwM,SACR,EAAK9P,MAAM+P,aAAa,EAAK/P,MAAMoK,eAAe,GAAGhR,GAAI,EAAK4G,MAAMgQ,c,EAIxEC,cAAgB,SAAC3M,GAGX,EAAKtD,MAAMkQ,mBACc,WAA1B,EAAKlQ,MAAMmQ,YACV,EAAKnQ,MAAMoQ,WAIRhM,KAAKiM,IAAI,EAAK/O,MAAMkO,sBAAwB,GAAKpL,KAAKiM,IAAI/M,EAAMgN,SAC7D9F,KAAKC,MAAQ,EAAKzK,MAAMuQ,oBAAsB,MAChDhY,QAAQC,IAAI,iBAEX8K,EAAMgN,OACP,EAAKtQ,MAAM+P,aAAa,EAAK/P,MAAMoK,eAAe,GAAGhR,GAAI,EAAK4G,MAAMgQ,cAK1E,EAAK9N,SAAS,CAACsN,qBAAsBlM,EAAMgN,W,EAI/CE,SAAW,WACT,OACE,EAAKxQ,MAAM4E,SACT,yBAAKjE,IAAK8P,KAAYzP,IAAI,GAAGtB,UAAWC,KAAQ+Q,QAChD,yBAAK/P,IAAK+P,KAAO1P,IAAI,GAAGtB,UAAWC,KAAQ+Q,S,EAIjDC,aAAe,WACb,OACE,EAAK3Q,MAAM4E,SACT,yBAAKjE,IAAKiQ,KAAW5P,IAAI,GAAGtB,UAAWC,KAAQiR,YAC/C,M,EAINC,kBAAoB,WAClB,IAAIzG,EAAiB,GAUrB,OATA,EAAKpK,MAAMoK,eAAe0G,SAAQ,SAACC,GACjC3G,EAAe4G,QACb,kBAAC,GAAD,eACE3K,IAAK0K,EAAQ3X,IACT2X,EAFN,CAGEE,SAAU,EAAKC,uBAId9G,G,EAGT+G,OAAS,WACP,IAAMhI,EAAe,CAACxJ,KAAQ4P,QAI9B,MAH8B,WAA1B,EAAKvP,MAAMmQ,YACbhH,EAAaxC,KAAKhH,KAAQyR,UAG1B,yBAAK1R,UAAWyJ,EAAaT,KAAK,MAC/B,EAAK8H,WACL,EAAKG,eACN,yBAAKhQ,IAAK0Q,KAAMrQ,IAAI,GAAGtB,UAAWC,KAAQ2R,QAC1C,yBAAK3Q,IAAK0Q,KAAMrQ,IAAI,GAAGtB,UAAWC,KAAQ4R,QACzC,EAAKV,sB,uDA5FZ,WACEW,SAASC,iBAAiB,QAAS1R,KAAK8P,sBAAsB,GAC9D2B,SAASC,iBAAiB,QAAS1R,KAAKkQ,iB,gCAG1C,WACiC,mBAA5BlQ,KAAKC,MAAM4N,cACZ7N,KAAKC,MAAM0R,iB,GAfIxR,aAmINmB,gBAzBS,SAAAC,GACtB,MAAO,CACLiP,oBAAqBjP,EAAMC,OAAOgP,oBAClCnG,eAAgB9I,EAAMC,OAAO6I,eAC7BuH,kBAAmBrQ,EAAMC,OAAOoQ,kBAChC/D,aAActM,EAAMC,OAAOqM,aAC3BsC,kBAAmB5O,EAAMC,OAAO2O,kBAEhCC,WAAY7O,EAAMuD,GAAGsL,WACrByB,UAAWtQ,EAAMuD,GAAG+M,UACpBxB,SAAU9O,EAAMuD,GAAGgN,KAAKC,KACxBlN,SAAUtD,EAAMuD,GAAGD,SAEnBoL,YAAa1O,EAAMvH,KAAKiW,gBAID,SAAApY,GACzB,MAAO,CACL8Z,WAAY,kBAAM9Z,GjB1CX,SAAAA,GACHA,EAASgE,KACT,IAAMxB,EAAUH,EAAQ,CAAEI,cAAe,UAAYJ,GAAU,KAC/DnC,IAAMC,IAAI,gBAAiBqC,GAC1BpC,MAAK,SAAAwC,GACF5C,EAASiE,EAAOrB,EAAIrC,OACpBP,EAASoE,EAAWxB,EAAIrC,UAE3BE,OAAM,SAAAC,GACHV,EAASmE,WAVG,IAAC9B,GiB4CrB8X,aAAc,SAACzV,EAAQ0T,GAAT,OAAyBpY,EjBtFjB,SAAC0E,EAAQ0T,GAC/B,OAAO,SAAApY,GAEH,GADAA,EAAS6D,MACLa,EAAOsE,WAAW,WAAW,CAC7B,IAAM6B,EAAG,oBAAgBnG,EAAhB,UACHrC,EAAQC,aAAaC,QAAQ,SAC7BY,EAAO,CAAEiX,MAAM,EAAMhC,eACrB5V,EAAUH,EAAQ,CAAEG,QAAS,CAAE6X,cAAa,iBAAahY,KAAc,KAC7EnC,IAAMwC,KAAKmI,EAAK1H,EAAMX,GACrBpC,MAAK,SAAAwC,GACFjC,QAAQC,IAAIgC,GACZ5C,EAAS8D,QAEZrD,OAAM,SAAAC,GACHC,QAAQC,IAAIF,GACZV,EAAS+D,UiBuE2BsN,CAAyB3M,EAAQ0T,KACjFD,aAAc,SAACzT,EAAQ0T,GAAT,OAAyBpY,EjBlIjB,SAAC0E,EAAQ0T,GAC/B,OAAO,SAAApY,GAEH,GADAA,EAAS0D,MACLgB,EAAOsE,WAAW,WAAW,CAC7B,IAAM6B,EAAG,oBAAgBnG,EAAhB,UACHrC,EAAQC,aAAaC,QAAQ,SAC7BY,EAAO,CAAEiX,MAAM,EAAMhC,eACrB5V,EAAUH,EAAQ,CAAEG,QAAS,CAAE6X,cAAa,iBAAahY,KAAc,KAC7EnC,IAAMwC,KAAKmI,EAAK1H,EAAMX,GACrBpC,MAAK,SAAAwC,GACFjC,QAAQC,IAAIgC,GACZ5C,EAAS2D,QAEZlD,OAAM,SAAAC,GACHC,QAAQC,IAAIF,GACZV,EAAS4D,UiBmH2ByN,CAAyB3M,EAAQ0T,QAItE3O,CAA6CkO,I,4DCjE7C2C,G,4MAtEXC,WAAa,SAACC,GACV,OACI,yBAAK1S,UAAWC,KAAQ0S,QAAS3R,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC1F,uBAAGhK,GAAG,mBACF,0BAAMA,GAAG,8BAA8BoO,SAAS,UAAUC,SAAS,UAAUpE,EAAE,8WAA8WF,KAAMiP,EAAW,UAAY,e,EAM1eE,aAAe,WACX,OACI,yBAAK5S,UAAWC,KAAQ0S,QAAS3R,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC9F,uBAAGhK,GAAG,cACN,0BAAMA,GAAG,6BAA6BiK,EAAE,6GAA6GF,KAAK,e,4CAMlK,WAAU,IAGFoP,EACA5N,EAJC,OAEDwE,EAAe,CAACxJ,KAAQuS,WAgC5B,MA7BqB,YAAlBnS,KAAKC,MAAM1I,OACVib,EAAS,kBAAC,KAAD,CAAQ7S,UAAWC,KAAQY,QAASjJ,KAAK,WAAWkJ,MAAOT,KAAKC,MAAMoS,SAAW,UAAY,UAAW3R,OAAQ,GAAIC,MAAO,KACpIyI,EAAaxC,KAAKhH,KAAQ6S,SAC1B7N,EAAQ,6BAES,cAAlB5E,KAAKC,MAAM1I,OACVib,EAAS,kBAAC,KAAD,CAAQ7S,UAAWC,KAAQY,QAASjJ,KAAK,WAAWkJ,MAAOT,KAAKC,MAAMoS,SAAW,UAAY,UAAW3R,OAAQ,GAAIC,MAAO,KACpIyI,EAAaxC,KAAKhH,KAAQ6S,SAC1B7N,EAAQ,+BAEW,QAApB5E,KAAKC,MAAM1I,OACVib,EAASxS,KAAKoS,WAAWpS,KAAKC,MAAMoS,UACpCzN,EAAQ,sBACRwE,EAAaxC,KAAKhH,KAAQ8S,aAC1BtJ,EAAaxC,KAAKhH,KAAQ+S,YAEP,aAApB3S,KAAKC,MAAM1I,OACVib,EAAS,0BAAM7S,UAAWC,KAAQgT,YAAzB,UACThO,EAAQ,wBACRwE,EAAaxC,KAAKhH,KAAQiT,cAC1BzJ,EAAaxC,KAAKhH,KAAQ8S,aAC1BtJ,EAAaxC,KAAKhH,KAAQ+S,YAEP,SAApB3S,KAAKC,MAAM1I,OACVib,EAAS,0BAAM7S,UAAWC,KAAQgT,YAAzB,aACThO,EAAQ,uBAEZwE,EAAaxC,KAAK5G,KAAKC,MAAMoS,SAAWzS,KAAQkT,SAAWlT,KAAQmT,YAG/D,yBACInO,MAAOA,EACPjF,UAAWyJ,EAAaT,KAAK,KAC7BtG,QAAS,SAACkB,GACNA,EAAMgH,iBACNhH,EAAMC,kBACN,EAAKvD,MAAM0F,YAGd6M,O,GAnEOrS,a,oBCKlB6S,G,4MAEJzR,MAAM,CACJ0R,eAAe,G,EAGjBC,aAAe,SAACpQ,GACd,OAAO,yBACLlC,IAAKuS,KACLlS,IAAI,GACJtB,UAAS,UAAKmD,EAAKlD,KAAQwT,YAAcxT,KAAQyT,kB,EAGrDC,UAAY,SAACzZ,EAAa0Z,GACxB,IAAIjK,EACAkK,EAAc,kBAAMhb,QAAQC,IAAI,0BAkBpC,OAjBI,EAAKwH,MAAMwT,QAAQzL,MAAK,SAAA9M,GAAM,OAAIA,EAAOlC,SAAWa,EAAYb,YAClEsQ,EAAa,MACbkK,EAAc,kBAAM,EAAKvT,MAAMyT,oBAAoB7Z,EAAa,EAAKoG,MAAMpH,OAAOgI,WAAW,WAAa,EAAKZ,MAAMpH,OAAS,QAE7H,EAAKoH,MAAM0T,mBAAmB3L,MAAK,SAAAhO,GAAI,OAAIA,EAAKhB,SAAWa,EAAYb,YACxEsQ,EAAY,QAEX,EAAKrJ,MAAM2T,sBAAsB5L,MAAK,SAAAhO,GAAI,OAAIA,EAAKhB,SAAWa,EAAYb,YAC3EsQ,EAAW,WAEV,EAAKrJ,MAAM4T,wBAAwB7L,MAAK,SAAAhO,GAAI,OAAIA,EAAKhB,SAAWa,EAAYb,YAC7EsQ,EAAW,aAEV,EAAKrJ,MAAM6T,uBAAuB9L,MAAK,SAAAhO,GAAI,OAAIA,EAAKhB,SAAWa,EAAYb,YAC5EsQ,EAAW,WACXkK,EAAc,kBAAM,EAAKvT,MAAM8T,sBAAsBla,KAEhDyP,EAAa,kBAAC,GAAD,CAAW/R,KAAM+R,EAAY3D,QAAS6N,EAAanB,SAAUkB,IAAY,M,4CAG/F,WAAU,IAAD,OACDS,EAAiBhU,KAAKC,MAAMgU,aAC/BC,QAAO,SAAAC,GAAC,OAAKA,EAAE5c,KAAKsJ,WAAW,gBAAkBsT,EAAEtb,SAAW,EAAKoH,MAAMpH,QACpEsb,EAAE5c,KAAKsJ,WAAW,aAAesT,EAAEtb,SAAW,EAAKoH,MAAMpH,UAC3Dub,EAAoBJ,EAAe/N,OAAS,GAC9CrG,KAAQyU,aAAeL,EAAe/N,OAAS,EAC7CrG,KAAQ0U,YAAc1U,KAAQ2U,YAC9B1a,EAAcmG,KAAKC,MAAMuU,QAAQN,QAAO,SAAAO,GAAC,OAAIA,EAAEzb,SAAW,EAAKiH,MAAMjH,UAAQ,GAC/Ea,GAAarB,QAAQC,IAAIuH,KAAKC,MAAMuU,QAASxU,KAAKC,MAAMjH,QAC5D,IAAM0b,EAAO7a,EAAY6a,KACnBC,EAAU3U,KAAKC,MAAM2U,SAAS3O,OAAS,EAAIjG,KAAKC,MAAM2U,SAAS5U,KAAKC,MAAM2U,SAAS3O,OAAO,GAAGnN,KAAO,IAAMe,EAAY6E,OACtHR,EAAgBrE,EAAYgb,WAAa,UAAG/T,2EAAsDjH,EAAYb,OAAS8b,KAEvHvB,EAASvT,KAAKC,MAAMpH,SAAWmH,KAAKC,MAAM8U,cAC5C3L,EAAe,CAACxJ,KAAQoT,UAG5B,OAFGO,GAAQnK,EAAaxC,KAAKhH,KAAQoV,QAGnC,yBAAK3S,QAASrC,KAAKC,MAAM0F,QAAShG,UAAWyJ,EAAaT,KAAK,MAC5D4K,EAASvT,KAAKkT,cAAa,GAAQ,KACnCK,EAASvT,KAAKkT,cAAa,GAAS,KACrC,yBAAKtS,IAAK1C,EAAe+C,IAAI,IAAItB,UAAWC,KAAQqV,aACpD,yBAAKtV,UAAWC,KAAQsV,MACtB,wBAAIvV,UAAWC,KAAQuV,MAAOT,GAC9B,uBAAG/U,UAAWC,KAAQwV,SAAUT,IAGhCX,EAAe/N,OAAS,EACtB,yBAAKtG,UAAWyU,GACV,0BAAMzU,UAAWC,KAAQyV,mBAAoBrB,EAAe/N,SAElE,KAEPjG,KAAKsT,UAAUzZ,EAAa0Z,Q,GArEVpT,aAyGRmB,gBA9BS,SAAAC,GACtB,MAAO,CACLsD,SAAUtD,EAAMuD,GAAGD,SAEnBkQ,cAAexT,EAAM5G,KAAKoa,cAC1Bf,eAAgBzS,EAAM5G,KAAKqZ,eAC3BsB,iBAAkB/T,EAAM5G,KAAK2a,iBAC7BC,MAAOhU,EAAM5G,KAAK4a,MAClBC,SAAUjU,EAAM5G,KAAK6a,SACrB/B,QAASlS,EAAM5G,KAAK8Y,QACpBI,wBAAyBtS,EAAM5G,KAAKkZ,wBACpCD,sBAAuBrS,EAAM5G,KAAKiZ,sBAClCD,mBAAoBpS,EAAM5G,KAAKgZ,mBAC/BG,uBAAwBvS,EAAM5G,KAAKmZ,uBAEnCG,aAAc1S,EAAMvH,KAAKkF,cACzBhF,MAAOqH,EAAMvH,KAAKE,MAClBlB,OAAQuI,EAAMvH,KAAKhB,WAKI,SAAAnB,GACzB,MAAO,CACL4d,aAAc,SAAC5c,GAAD,OAAYhB,EAAS4J,EAAmB5I,KACtD6a,oBAAqB,SAAC1Z,GAAD,OAAUnC,EAAS4J,EAA0BzH,KAClE+Z,sBAAuB,SAAC/Z,GAAD,OAAUnC,EAAS4J,EAA4BzH,QAI3DsH,CAA6C0R,I,oBC1GtD0C,G,4MAEFnU,MAAQ,CACNoU,WAAW,EACXC,YAAa,I,EAGfjJ,mBAAqB,WAChB,EAAKiJ,aAAa,EAAKA,YAAYC,S,EAGxClQ,QAAU,SAAC9M,GACT,EAAKoH,MAAMwV,aAAa5c,GACxB4Y,SAASqE,eAAe,YAAYD,S,EAGtCE,SAAW,WA0BT,MAxB8B,YAA3B,EAAK9V,MAAM+V,YAEZ,yBAAKrW,UAAWC,KAAQqW,iBACtB,kBAAC,KAAD,CACEtW,UAAWC,KAAQY,QACnBjJ,KAAK,YACLkJ,MAAM,UACNC,OAAQ,GACRC,MAAO,MAGH,EAAKV,MAAMsV,MAClBW,MAAK,SAACC,EAAOC,GAAR,OAAkBA,EAAMC,gBAAkBF,EAAME,mBACrDrK,KAAI,SAAArR,GACD,OACE,kBAAC,GAAD,iBACMA,EADN,CAEE2L,IAAK3L,EAAK9B,OACV8M,QAAS,kBAAM,EAAKA,QAAQhL,EAAK9B,gB,EAmB7Cyd,eAAiB,WACf,OAAG,EAAK/U,MAAMoU,UAEV,2BACAjK,YAAa,gCACb9C,IAAK,SAAC2N,GAAY,EAAKX,YAAcW,GACrChf,KAAK,OACL4S,MAAO,EAAK5I,MAAMqU,YAClBnK,SAAU,EAAK+K,cACf7W,UAAWC,KAAQ6W,cAGhB,M,EAGTC,WAAa,WACX,EAAKvU,SAAS,CAACwT,WAAW,K,EAG5BgB,YAAc,WACZ,EAAKxU,SAAS,CAACwT,WAAW,EAAOC,YAAa,M,EAGhDY,cAAgB,SAACjT,GACf,EAAKpB,SAAS,CAACyT,YAAarS,EAAM2G,OAAOC,S,EAG3CyM,eAAiB,WACf,OACE,yBAAKjX,UAAWC,KAAQiX,YAAalW,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAChG,uBAAGhK,GAAG,4BACN,0BAAMA,GAAG,8CAA8CoO,SAAS,UAAUC,SAAS,UAAUpE,EAAE,iHAAiHF,KAAK,YACrN,0BAAM/J,GAAG,cAAcyT,EAAE,IAAIgK,EAAE,IAAInW,MAAM,KAAKD,OAAO,IAAI0C,KAAK,YAC9D,0BAAM/J,GAAG,cAAcyT,EAAE,KAAKgK,EAAE,IAAInW,MAAM,IAAID,OAAO,KAAK0C,KAAK,e,EAMrE2T,iBAAmB,WACjB,OAAI,EAAKxV,MAAMoU,UAQR,KANH,yBAAKhW,UAAWC,KAAQoX,iBAAkB3U,QAAS,EAAKpC,MAAM/F,MAAQ,EAAK+F,MAAMgX,mBAAqB,MACnG,EAAKL,iBACN,wBAAIjX,UAAWC,KAAQsX,gBAAvB,c,mDAtDR,WAAiB,IAAD,OACd,OACE,yBAAKvX,UAAWC,KAAQuX,WAAY9U,QAASrC,KAAKuB,MAAMoU,UAAY,kBAAM,EAAKgB,eAAgB,kBAAM,EAAKD,cAAc/V,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BACnL,uBAAGhK,GAAG,eACN,0BAAMA,GAAG,0BAA0BoO,SAAS,UAAUC,SAAS,UAAUpE,EAAE,keAAkeF,KAAM,gB,oBAyDzjB,WACI,OACI,yBAAKzD,UAAWC,KAAQ8V,cACpB,yBAAK/V,UAAWC,KAAQC,SAMvBG,KAAK+W,mBACN,yBAAKpX,UAAWC,KAAQwX,iBACrBpX,KAAK+V,iB,GArHG5V,aA8JVmB,gBAlCO,SAAAC,GACpB,MAAO,CACLvI,OAAQuI,EAAMvH,KAAKhB,OACnBkB,MAAOqH,EAAMvH,KAAKE,MAClBgF,cAAeqC,EAAMvH,KAAKkF,cAE1BqW,MAAOhU,EAAM5G,KAAK4a,MAClBS,YAAazU,EAAM5G,KAAKqb,YACxBjB,cAAexT,EAAM5G,KAAKoa,cAC1BrU,OAAQa,EAAM5G,KAAK0c,WAEnBvD,uBAAwBvS,EAAM5G,KAAKmZ,uBACnCD,wBAAyBtS,EAAM5G,KAAKkZ,wBAEpCJ,QAASlS,EAAM5G,KAAK8Y,QACpB6D,cAAe/V,EAAM5G,KAAK2c,cAE1B9B,SAAUjU,EAAM5G,KAAK6a,SACrB+B,eAAgBhW,EAAM5G,KAAK4c,eAE3BnH,WAAY7O,EAAMuD,GAAGsL,WACrBvL,SAAUtD,EAAMuD,GAAGsL,eAKI,SAAAvY,GACzB,MAAO,CACL2f,gBAAiB,kBAAM3f,EAAS4J,MAChCgU,aAAc,SAAC5c,EAAQmB,EAAMN,EAAM+d,GAArB,OAAkC5f,EAAS4J,EAAmB5I,EAAQmB,EAAMN,EAAM+d,KAChGR,mBAAoB,kBAAMpf,EvBlGrB,CACHN,KC/C+B,4BsBoJtB+J,CAA6CoU,I,wCC9JxDgC,G,4MAEFnW,MAAQ,CACJoW,WAAY,I,EAQhBC,QAAU,SAAArU,GACN,EAAKpB,SAAS,CAACwV,WAAYpU,EAAM2G,OAAOC,S,EAG5C0N,aAAe,SAACtU,GACS,KAAlBA,EAAMwM,UAAmBxM,EAAMuU,UAAY,EAAKvW,MAAMoW,WAAW1R,OAAS,IACzE1C,EAAMgH,iBACN,EAAKD,kB,EAIbA,cAAgB,WACZ,GAAG,EAAKrK,MAAM8U,cAAclU,WAAW,SAAS,CAC5C,IAAMkX,EAAc,EAAK9X,MAAMsV,MAAMyC,MAAK,SAAAxL,GAAC,OAAIA,EAAE3T,SAAW,EAAKoH,MAAM8U,iBACjErb,EAAOqe,EAAYvD,QAAQwD,MAAK,SAAAvD,GAAC,OAAIA,EAAEzb,SAAW,EAAKiH,MAAMjH,UAC7Da,EAAcke,EAAYvD,QAAQwD,MAAK,SAAAvD,GAAC,OAAIA,EAAEzb,SAAW,EAAKiH,MAAMjH,UACvE,EAAKiH,MAAMgY,cAAcjQ,MAAK,SAAA3O,GAAE,OAAIA,IAAO,EAAK4G,MAAM8U,iBACrD,EAAK9U,MAAMiY,qBAAqB,EAAKjY,MAAM8U,cAAe,EAAKxT,MAAMoW,WAAY,EAAK1X,MAAMjH,QAE5F,EAAKiH,MAAMkY,0BAA0B,EAAKlY,MAAM8U,cAAerb,EAAMG,EAAa,EAAK0H,MAAMoW,iBAIjG,EAAK1X,MAAMmY,kBAAkB,EAAKnY,MAAM8U,cAAe,EAAKxT,MAAMoW,WAAY,EAAK1X,MAAMjH,QAE7F,EAAKmJ,SAAS,CAACwV,WAAY,M,EAG/B/L,cAAgB,WACZ,OACI,yBAAKjL,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC9D,uBAAGhK,GAAG,sBACN,0BAAMA,GAAG,qCAAqCiK,EAAE,qEAAqEF,KAAuC,IAAjC,EAAK7B,MAAMoW,WAAW1R,OAAe,OAAS,QAASiF,YAAY,Y,uDArC1M,WACImN,OAAO3G,iBAAiB,WAAY1R,KAAK6X,gB,oBA0C7C,WACI,OACI,yBAAKlY,UAAWC,KAAQ0Y,WACpB,yBAAK3Y,UAAWC,KAAQ2Y,mBAIpB,8BACIlf,GAAG,WACHsG,UAAWC,KAAQ4Y,SACnBpT,MAAO,CAAC1E,OAAO,GAAD,OAAKV,KAAKC,MAAMoX,WAAW,EAA3B,OACdlN,MAAOnK,KAAKuB,MAAMoW,WAClBc,KAAM,EACNhN,SAAUzL,KAAK4X,UAEnB,kBAAC,GAAD,CACIlO,WAAW,QACXJ,WAAW,gBACX3D,QAAS3F,KAAKsK,cACd3K,UAAWC,KAAQ+L,aACnBpU,KAAK,UACAyI,KAAK4L,uB,GAtEXzL,aAyGRmB,gBA1BS,SAAAC,GACpB,MAAO,CACHmX,kBAAmBnX,EAAM5G,KAAK+d,kBAC9BrB,WAAY9V,EAAM5G,KAAK0c,WACvB9B,MAAOhU,EAAM5G,KAAK4a,MAClBR,cAAexT,EAAM5G,KAAKoa,cAC1B4D,UAAWpX,EAAM5G,KAAKge,UACtBV,cAAe1W,EAAM5G,KAAKsd,cAE1Bjf,OAAQuI,EAAMvH,KAAKhB,OACnB0F,OAAQ6C,EAAMvH,KAAK0E,OACnBmW,WAAYtT,EAAMvH,KAAKmL,cACvBuP,KAAMnT,EAAMvH,KAAK0a,SAKE,SAAA7c,GACvB,MAAO,CACH+gB,mBAAoB,SAAClY,GAAD,OAAY7I,EtBiVR,SAAC6I,GAC7B,MAAO,CACHnJ,KDtS8B,qBCuS9BmJ,UsBpVyCe,CAAyBf,KAClE0X,kBAAmB,SAACvf,EAAQC,EAAME,GAAf,OAA0BnB,EtBkDtB,SAACgB,EAAQC,EAAME,GAC1C,OAAO,SAAAnB,GACH,IAAMkB,EAAM,UAAM0R,KAAKC,OACvB7S,EAASe,EAAiBC,EAAQC,EAAMC,EAAQC,IAChD,IAAMkB,EAAQC,aAAaC,QAAQ,SAC7BC,EAAU,CAAEA,QAAS,CAAEC,cAAa,iBAAaJ,KACjDwI,EAAG,oBAAgB7J,EAAhB,gBACHmC,EAAO,CACTzD,KAAM,OACN2B,QAAS,CAAEJ,SAEff,IAAMwC,KAAKmI,EAAK1H,EAAMX,GACrBpC,MAAK,SAAAC,GACFL,EAASoB,EAAmBJ,EAAQX,EAASE,KAAMW,OAEtDT,OAAM,SAAAC,GACHC,QAAQC,IAAIF,GACZV,EAASsB,EAAkBN,EAAQE,QsBnEe0I,CAAwB5I,EAAQC,EAAME,KAC5Fmf,0BAA2B,SAAC1e,EAAaC,EAAMG,EAAaf,GAAjC,OAA0CjB,EtBkLtC,SAAC4B,EAAaC,EAAMG,EAAaf,GACpE,OAAO,SAAAjB,GACH,IAAMkB,EAAS0R,KAAKC,MACpB7S,EAAS2B,EAA6BC,EAAaV,EAAQD,EAAMY,IACjE,IAAMQ,EAAQC,aAAaC,QAAQ,SAC7BC,EAAU,CAAEA,QAAS,CAAEC,cAAa,iBAAaJ,KACjDc,EAAO,CACRwZ,QAAS,CAAC9a,EAAKV,OAAQa,EAAYb,QACpCE,QAASJ,GAEbf,IAAMwC,KAAK,YAAaS,EAAMX,GAC7BpC,MAAK,SAAAwC,GACFjC,QAAQC,IAAIgC,EAAIrC,MAChBP,EAAS8B,EAA+BF,EAAaV,EAAQ0B,EAAIrC,KAAMsB,EAAMG,OAC9EvB,OAAM,SAAAC,GACLC,QAAQC,IAAI,gCACZD,QAAQC,IAAIF,GACZV,EAASiC,SsBnMiE2H,CAAgChI,EAAaC,EAAMG,EAAaf,KAC9Iof,qBAAsB,SAACze,EAAaX,EAAME,GAApB,OAA+BnB,EtBiG3B,SAAC4B,EAAaX,EAAME,GAClD,MAAO,CACHzB,KDrIiC,wBCsIjCkC,cACAof,eAAe,GAAD,OAAKpO,KAAKC,OACxB5R,OACAE,UsBvG8DyI,CAA2BhI,EAAaX,EAAME,QAIrGsI,CAA6CoW,I,wCC3D7CoB,G,4MA7CbC,WAAa,WACX,OAAO,EAAK9Y,MAAM1I,MAChB,IAAK,OAAQ,OAAO,uBAAGoI,UAAWC,KAAQoZ,MAAO,EAAK/Y,MAAMnH,MAC5D,IAAK,QAAS,MAAQ,CACpB,yBAAK6G,UAAWC,KAAQqZ,MAAgCrY,IAAKsY,KAAmBjY,IAAI,GAAGqF,IAAI,UAC3F,EAAKrG,MAAMnH,KAAO,uBAAG6G,UAAWC,KAAQoZ,KAAM1S,IAAI,eAAe,EAAKrG,MAAMnH,MAAY,MAE1F,IAAK,OACH,OACE,6BACG,EAAKmH,MAAM2E,MAAQ,uBAAGjF,UAAWC,KAAQoZ,MAAO,EAAK/Y,MAAM2E,OAAa,KACzE,yBAAKjF,UAAWC,KAAQuZ,KAAMvY,IAAG,+DAA0D,EAAKX,MAAM1D,QAAU+J,IAAI,OAAOrF,IAAI,gDAGrI,QAAS,OAAO,O,4CAIpB,WACE,IAAMmY,EAAwB,CAACxZ,KAAQyZ,kBAYvC,OAXGrZ,KAAKC,MAAMqZ,KACZF,EAAsBxS,KAAKhH,KAAQ2Z,MAEnCH,EAAsBxS,KAAKhH,KAAQ4Z,UAElCxZ,KAAKC,MAAMsH,SACZ6R,EAAsBxS,KAAKhH,KAAQ6Z,SAElCzZ,KAAKC,MAAMyZ,YACZN,EAAsBxS,KAAKhH,KAAQ+Z,KAGnC,yBAAKha,UAAWyZ,EAAsBzQ,KAAK,MAEzC,yBAAKhJ,UAAWC,KAAQkZ,SACrB9Y,KAAK+Y,mB,GAvCM5Y,aCoHLmB,gBAxBO,SAAAC,GACpB,MAAO,CACLyL,YAAazL,EAAMuD,GAAGkI,YAEtBtM,OAAQa,EAAM5G,KAAK0c,WACnBjH,WAAY7O,EAAMuD,GAAGsL,WAErB4F,YAAazU,EAAM5G,KAAKqb,YACxBjB,cAAexT,EAAM5G,KAAKoa,cAC1BQ,MAAOhU,EAAM5G,KAAK4a,MAClBvB,eAAgBzS,EAAM5G,KAAKqZ,eAE3Bhb,OAAQuI,EAAMvH,KAAKhB,OACnBkG,cAAeqC,EAAMvH,KAAKkF,kBAIH,SAAArH,GACzB,MAAO,CACL+hB,mBAAoB,SAAC/gB,EAAQghB,GAAT,OAAwBhiB,EtBwLlB,SAACgB,EAAQghB,GACrC,OAAO,SAAAhiB,GACHA,EAASiH,GAAsBjG,IAC/B,IAAMqB,EAAQC,aAAaC,QAAQ,SAC7BC,EAAU,CAAEA,QAAS,CAAEC,cAAa,iBAAaJ,KACjDwI,EAAG,oBAAgB7J,EAAhB,SACHmC,EAAO,CACT6e,cAEJ9hB,IAAMwC,KAAKmI,EAAK1H,EAAMX,GACrBpC,MAAK,SAAAwC,GACFjC,QAAQC,IAAIgC,GACZ5C,EAASkH,SACVzG,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZV,EAASmH,UsBvMsCyC,CAAyB5I,EAAQghB,KACtFC,qBAAsB,SAAC1a,GAAD,OAAoBvH,EtBuQd,SAACuH,GAC/B,OAAO,SAAAvH,GACHA,EAASsH,GAAwBC,IACjC,IAAMsD,EAAG,kCAA8BtD,GACjClF,EAAQC,aAAaC,QAAQ,SAC7BC,EAAU,CAAEA,QAAS,CAAEC,cAAa,iBAAaJ,KACvDnC,IAAM4K,OAAOD,EAAKrI,GACjBpC,MAAK,SAAAwC,GACFjC,QAAQC,IAAIgC,EAAIrC,MAChBP,EAASwH,SACV/G,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZV,EAASyH,UsBnRoCmC,CAA2BrC,QAInEkC,EAlHE,SAAArB,GAGjB8Z,qBAAU,WAER,GADAC,IACwB,SAArB/Z,EAAMmQ,WAAsB,CAC7B,IAAM6J,EAA6Bha,EAAMf,cAAcgV,QAAO,SAAAC,GAAC,OAAIA,EAAE5c,KAAKsJ,WAAW,gBAAkBsT,EAAEtb,SAAWoH,EAAM8U,iBAC1H,GAAGkF,EAA2BhU,OAAS,EAAE,CACvC,IAAM4T,EAAaI,EAA2BjO,KAAI,SAAAmI,GAAC,OAAIA,EAAEjb,QAAQG,MACjE4G,EAAM2Z,mBAAmB3Z,EAAM8U,cAAe8E,GAEhD,IAAMK,EAA8Bja,EAAMf,cAAc8Y,MAAK,SAAA7D,GAC3D,SAAGA,EAAE5c,KAAKsJ,WAAW,cACnBrI,QAAQC,IAAI,8BACZD,QAAQC,IAAIwH,EAAM8U,eAClBvc,QAAQC,IAAI0b,EAAEtb,QACXsb,EAAEtb,SAAWoH,EAAM8U,mBAIvBmF,IACD1hB,QAAQC,IAAI,+BACZD,QAAQC,IAAIyhB,GACZja,EAAM6Z,qBAAqBI,EAA4B7gB,SAM7D,IAAM2gB,EAAiB,SAACG,GACtBC,EAAUC,QAAQC,eAAe,CAACC,SAAUJ,EAAS,SAAW,OAAQK,MAAO,QAASC,OAAQ,aAG5FL,EAAYM,sBAGd9F,EAAW,GACX+F,GAAsB,EACpB5C,EAAc9X,EAAMsV,MAAMyC,MAAK,SAAClL,GAAD,OAAOA,EAAEjU,SAAWoH,EAAM8U,iBAC5DgD,GACDA,EAAYnD,SAAS7D,SAAQ,SAAA7X,GACvBA,EAAQ0hB,KASND,IACF/F,EAAShO,KACP,yBAAKN,IAAI,YAAY3G,UAAWC,KAAQib,qBAAxC,iBAEFF,GAAsB,GAExB/F,EAAShO,KACP,kBAAC,GAAD,iBACM1N,EADN,CAEE0hB,KAAG,EACHtU,IAAKpN,EAAQG,GACbigB,KAAMrZ,EAAMjH,SAAWE,EAAQ4hB,YAnBnClG,EAAShO,KACP,kBAAC,GAAD,iBACM1N,EADN,CAEEoN,IAAKpN,EAAQG,GACbigB,KAAMrZ,EAAMjH,SAAWE,EAAQ4hB,cAqBzC,IAAI1R,EAAe,CAACxJ,KAAQmb,YAE5B,OADA3R,EAAaxC,KAAK3G,EAAM+M,YAAc,KAAOpN,KAAQob,gBAAkBpb,KAAQqb,eAE7E,yBAAKtb,UAAWyJ,EAAaT,KAAK,MAChC,yBACEhJ,UAAWC,KAAQsb,SACnB9V,MAAO,CAAC1E,OAAO,aAAD,OAAeT,EAAMoX,WAArB,SACd,uBAAG1X,UAAWC,KAAQub,qBAAtB,8CAC6C,6BAD7C,4CAE2C,6BAF3C,wDAGuD,8BAKtDvG,EACD,yBAAKxP,MAAO,CAAE1E,OAAQ,QAASkI,IAAKwR,KAEtC,kBAAC,GAAD,CAAU3C,SAAUxX,EAAMwX,eCnF1B2D,G,4MAEJ7Z,MAAQ,CACN8Z,UAAW,e,EAGb1O,mBAAqB,WACnB,IAAM2O,EAAkB,EAAKrb,MAAMsb,cAAcvD,MAAK,SAAAvD,GAAC,OAAKA,EAAEhb,YAAYoH,WAAW,WAAa4T,EAAElN,WACjG+T,IACD9iB,QAAQC,IAAI,mBACZD,QAAQC,IAAI6iB,GACZ,EAAKrb,MAAMub,wBACTF,EAAgBjiB,GAChBiiB,EAAgB7hB,YAChB6hB,EAAgBzC,eAChByC,EAAgBxiB,Q,EAKtB2iB,sBAAwB,SAAClY,GACvB,EAAKpB,SAAS,CAACkZ,UAAW9X,EAAM2G,OAAOC,S,EAGzC/O,WAAa,SAACvC,GACZ,EAAKoH,MAAMwV,aAAa5c,EAAQ,KAAM,KAAM,EAAK0I,MAAM8Z,WACvD,EAAKpb,MAAMyb,2BAA0B,I,EAGvCC,sBAAwB,WACtB,OACE,yBAAKhc,UAAWC,KAAQgc,sBACtB,yBAAKjc,UAAWC,KAAQic,oBACtB,yBAAKlc,UAAWC,KAAQkc,gBACtB,kBAAC,GAAD,CAAenW,QAAS,EAAK1F,MAAMgE,YAAY,uCADjD,KAGE,kBAAC,GAAD,CAAe0B,QAAS,EAAK1F,MAAMgE,YAAY,+CAHjD,4B,4CAWR,WACE,IAAMmF,EAAe,CAACxJ,KAAQwb,MAG9B,MAF8B,WAA1Bpb,KAAKC,MAAMmQ,YAAyBhH,EAAaxC,KAAKhH,KAAQmc,SACpC,YAA1B/b,KAAKC,MAAMmQ,YAA0BhH,EAAaxC,KAAKhH,KAAQyR,UAEjE,yBAAK1R,UAAWyJ,EAAaT,KAAK,MAC7B3I,KAAKC,MAAM/F,MAAuC,KAA/B8F,KAAK2b,wBAC3B,kBAAC,GAAD,MACA,kBAAC,GAAD,W,GApDWxb,aA2EJmB,gBAjBS,SAAAC,GACtB,MAAO,CACL6O,WAAY7O,EAAMuD,GAAGsL,WACrBlW,MAAOqH,EAAMvH,KAAKE,MAClBqb,MAAOhU,EAAMC,OAAO+T,MACpBgG,cAAeha,EAAM5G,KAAK4gB,kBAIH,SAAA1jB,GACzB,MAAO,CACLoM,WAAY,kBAAMpM,E3B7CX,CACHN,KCzBqB,e0BsEzBke,aAAc,SAAC5c,EAAQa,EAAMM,EAAM2d,GAArB,OAAoC9f,EAAS4J,EAAmB5I,EAAQa,EAAMM,EAAM2d,KAClG6D,wBAAyB,SAACniB,EAAII,EAAaof,EAAgB/f,GAAlC,OAA2CjB,EzBwInC,SAACwB,EAAIR,EAAQggB,EAAgB/f,GAC9D,OAAO,SAAAjB,GACHA,EAASuB,EAA2BC,IACpC,IAAMa,EAAQC,aAAaC,QAAQ,SAC7BC,EAAU,CAAEA,QAAS,CAAEC,cAAa,iBAAaJ,KACjDwI,EAAG,oBAAgB7J,EAAhB,gBACHmC,EAAO,CACTzD,KAAM,OACN2B,QAAS,CAAEJ,SAEff,IAAMwC,KAAKmI,EAAK1H,EAAMX,GACrBpC,MAAK,SAAAC,GACFL,EAASyB,EAA6BD,EAAInB,EAASE,UACpDE,OAAM,SAAAC,GACLV,EAAS0B,EAA4BF,QyBtJgCoI,CAA8BpI,EAAII,EAAaof,EAAgB/f,QAIjIwI,CAA6C8Z,I,qEC5C7CY,GApCe,SAAC/b,GAE3B,MAA0Bgc,OAAlBC,EAAR,EAAQA,SAAUtT,EAAlB,EAAkBA,IAElB,EAAqE3I,EAAM+Q,QAApEmL,EAAP,EAAOA,KAAMzb,EAAb,EAAaA,OAAQC,EAArB,EAAqBA,MAAOyb,EAA5B,EAA4BA,WAAYC,EAAxC,EAAwCA,cAAeC,EAAvD,EAAuDA,UAEjDC,EACY,QAAlBF,EAA0Bzc,KAAQ4c,SACd,WAAlBH,EAA6Bzc,KAAQ6c,YACrC7c,KAAQ8c,YAEV,OACI,yBACIC,gBAAiB1c,EAAM2c,QACvBC,gCAA8B,EAC9BtlB,KAAK,OACL8B,GAAE,UAAKijB,EAAL,UACF3c,UAAS,UAAKC,KAAQkd,UAAb,YAA0BP,GAEnCnX,MAAO,CACH2X,WAAYZ,EACZC,WAAYA,EACZ1b,SACAC,SAEJiX,QAAS,SAACoF,GAAD,OAAO/c,EAAMgd,YAAYD,EAAGV,KACjC,yBACI1T,IAAKA,EACLxD,MAAO,CAAE8W,WAAUxb,SAAQC,UAE1BV,EAAMnH,QCKZokB,GAnCK,SAACjd,GAEjB,MAMIA,EAAM+Q,QALNmL,EADJ,EACIA,KACAgB,EAFJ,EAEIA,gBACAf,EAHJ,EAGIA,WACAC,EAJJ,EAIIA,cACAC,EALJ,EAKIA,UAGEC,EACY,QAAlBF,EAA0Bzc,KAAQ4c,SACd,WAAlBH,EAA6Bzc,KAAQ6c,YACrC7c,KAAQ8c,YAEV,OAAGS,EAAwB,kBAAC,GAA0Bld,GAGlD,yBACI0c,gBAAiB1c,EAAM2c,QACvBC,gCAA8B,EAC9BtlB,KAAK,OACL8B,GAAE,UAAKijB,EAAL,UACF3c,UAAS,UAAKC,KAAQkd,UAAb,YAA0BP,GAEnCnX,MAAO,CACH2X,WAAYZ,EACZC,WAAYA,GAEhBxE,QAAS,SAACoF,GAAD,OAAO/c,EAAMgd,YAAYD,EAAGV,KACpCrc,EAAMnH,OC4FJskB,G,4MAtHXC,UAAY,WACR,MAAsI,EAAKpd,MAAM+Q,QAA3ItQ,EAAN,EAAMA,OAAQC,EAAd,EAAcA,MAAO2c,EAArB,EAAqBA,KAAMC,EAA3B,EAA2BA,KAAMC,EAAjC,EAAiCA,SAAUrB,EAA3C,EAA2CA,KAAMD,EAAjD,EAAiDA,SAAUuB,EAA3D,EAA2DA,UAAWrB,EAAtE,EAAsEA,WAAYsB,EAAlF,EAAkFA,UAAWC,EAA7F,EAA6FA,OAAQld,EAArG,EAAqGA,MAAOmd,EAA5G,EAA4GA,WAAYtB,EAAxH,EAAwHA,UACpHjX,EAAOiY,EACPvW,EAAMwW,EACV,IAAI,EAAKtd,MAAM4d,UAAU,CACrB,MAA6B,EAAK5d,MAAM6d,YACxCzY,GADA,EAAQ0Y,QAERhX,GAFA,EAAiBiX,QAIrB,MAAO,CACHtd,OAAO,GAAD,OAAKA,EAAL,MACNC,MAAM,GAAD,OAAKA,EAAL,MACL0E,KAAK,GAAD,OAAKA,EAAL,MACJ0B,IAAI,GAAD,OAAKA,EAAL,MACHuH,UAAU,UAAD,OAAYkP,EAAZ,QACTT,WAAW,GAAD,OAAKZ,EAAL,kBACVD,SAAS,GAAD,OAAKA,EAAL,MACRuB,UAAWA,EACXrB,WAAYA,EACZ6B,UAAWN,EAAS,SAAW,SAC/BO,gBAAiBzd,EACjB0d,eAAgBT,EAAY,YAAc,OAC1CU,sBAAuBR,EAAa,QAAU,KAC9CS,sBAAuBT,EAAa,UAAW,KAC/CU,WAAYV,EAAa,uBAAyB,KAClDW,OAAQ,EAAKte,MAAMue,YAAclC,GAAa,EAAKrc,MAAM4d,UAAY,KAAO,S,EAIpFY,WAAa,WACT,MAA0C,EAAKxe,MAAM+Q,QAA9CvQ,EAAP,EAAOA,MAAO6b,EAAd,EAAcA,UAAWoC,EAAzB,EAAyBA,OAAQ5lB,EAAjC,EAAiCA,KACjC,OAAO,EAAKmH,MAAM1I,MACd,IAAK,OACD,OACI,kBAAC,GAAD,CACIyZ,QAAS,EAAK/Q,MAAM+Q,QACpB4G,QAAS,EAAK3X,MAAMgd,YACpBnkB,KAAMA,EACN8jB,QAAS,EAAK3c,MAAMue,YAAclC,EAClCW,YAAa,EAAKhd,MAAMgd,cAGpC,IAAK,QACD,OACI,yBACIrc,IAAK8d,EACL/e,UAAWC,SACXvG,GAAE,UAAKijB,EAAL,UACFnb,OAAQ,EAAKlB,MAAM0e,YACnB1d,IAAI,KAGhB,IAAK,OACD,OACI,yBACItB,UAAWC,QACXwF,MAAO,CAAC8Y,gBAAiBzd,KAIrC,QAAS,OAAO,O,EAIxBme,WAAa,WACT,GAAG,EAAK3e,MAAMoH,WAAa,EAAKpH,MAAM4e,cAAe,OAAO,EAC5D,IAAIC,EAAS,GACTC,EAAS,GAOb,OANAD,EAAOlY,KAAK,EAAK3G,MAAM+Q,QAAQuM,MAC/BuB,EAAOlY,MAAM,EAAG,EAAK3G,MAAM+Q,QAAQuM,KAAO,EAAKtd,MAAM+Q,QAAQtQ,QAAQ,GACrEoe,EAAOlY,KAAK,EAAK3G,MAAM+Q,QAAQuM,KAAO,EAAKtd,MAAM+Q,QAAQtQ,QACzDqe,EAAOnY,KAAK,EAAK3G,MAAM+Q,QAAQsM,MAC/ByB,EAAOnY,MAAM,EAAG,EAAK3G,MAAM+Q,QAAQsM,KAAO,EAAKrd,MAAM+Q,QAAQrQ,OAAO,GACpEoe,EAAOnY,KAAK,EAAK3G,MAAM+Q,QAAQsM,KAAO,EAAKrd,MAAM+Q,QAAQrQ,OAClDoe,EAAOC,SAAS,EAAK/e,MAAM4e,cAAcI,IAAMH,EAAOE,SAAS,EAAK/e,MAAM4e,cAAcK,I,EAGnGC,UAAY,SAACnC,GACTA,EAAExZ,kBACC,EAAKvD,MAAMue,YAAc,EAAKve,MAAM+Q,QAAQsL,WAAc,EAAKrc,MAAM4d,WACpE,EAAK5d,MAAMmf,iBAAiBpC,EAAG,EAAK/c,MAAM+Q,QAAQsL,Y,EAI1D+C,QAAU,SAACrC,GACPA,EAAExZ,kBACC,EAAKvD,MAAMue,YAAc,EAAKve,MAAM+Q,QAAQsL,WAAc,EAAKrc,MAAM4d,WACpE,EAAK5d,MAAM+I,OAAOgU,EAAG,EAAK/c,MAAM+Q,QAAQsL,Y,EAIhDgD,YAAc,SAACtC,GACP,EAAK/c,MAAM4d,YACoB,SAA5B,EAAK5d,MAAM+Q,QAAQzZ,KAClB,EAAK0I,MAAMsf,cAAcvC,EAAG,EAAK/c,MAAM+Q,QAAQsL,WAE/C,EAAKrc,MAAM+I,OAAOgU,EAAG,EAAK/c,MAAM+Q,QAAQsL,a,4CAKpD,WACI,IAAIlT,EAAe,CAACxJ,YAEpB,OADGI,KAAK4e,cAAcxV,EAAaxC,KAAKhH,cAEpC,yBAAKD,UAAWyJ,EAAaT,KAAK,KAC9B6W,cAAexf,KAAKsf,YACpBG,YAAazf,KAAKmf,UAClBO,UAAW1f,KAAKqf,QAChBja,MAAOpF,KAAKqd,YACZhkB,GAAE,kBAAa2G,KAAKC,MAAM+Q,QAAQsL,YAEjCtc,KAAKye,kB,GAlHAte,a,oBCePwf,G,4JAfX,WACI,MAA6B3f,KAAKC,MAAM6d,YAAhCC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,QACX4B,EAAiC,IAApB5f,KAAKC,MAAMoF,KAC9B,OACI,yBACI1F,UAAWigB,EAAahgB,KAAQigB,GAAKjgB,KAAQkgB,GAC7C1a,MAAO,CACH2B,IAAK6Y,EAAU,UAAM5f,KAAKC,MAAM8G,IAAMiX,EAAvB,MAAqC,IACpD3Y,KAAOua,EAAgD,IAAjD,UAAiB5f,KAAKC,MAAMoF,KAAO0Y,EAAnC,a,GAXP5d,a,oBCqKJ4f,GAtKC,SAAA9f,GAEZ,IAAM+f,EAAYC,iBAAO,MAqGzB,OACI,yBAAKtgB,UAAWC,KAAQmgB,SACpB,yBAAKpgB,UAAWC,KAAQsgB,WACpB,yBACIvgB,UAAWC,KAAQkC,SACnBO,QAAS,kBAAMpC,EAAMkgB,YAAY,CAAC,CAC9B5oB,KAAM,OACN+kB,UAAU,GAAD,OAAK7R,KAAKC,OACnB4S,KAAM,IACNC,KAAM,IACN7c,OAAQ,IACRC,MAAO,IACPF,MAAO,UACP+c,SAAU,OA9GtB,yBAAK7c,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC9D,0BAAM1C,MAAM,KAAKD,OAAO,KAAK0f,GAAG,IAAIhd,KAAK,YAkHzC,yBACIzD,UAAWC,KAAQkC,SACnBO,QAAS,kBAAMpC,EAAMkgB,YAAY,CAAC,CAC9B5oB,KAAM,OACN+kB,UAAU,GAAD,OAAK7R,KAAKC,OACnBhK,OAAQ,GACRC,MAAO,IACP2c,KAAM,IACNC,KAAM,IACNzkB,KAAM,iBACNqjB,KAAM,SACND,SAAU,KACVE,WAAY,MACZqB,UAAW,SACX4C,YAAY,EACZ3C,WAAW,EACXC,QAAQ,EACRC,YAAY,EACZJ,SAAU,OApHtB,yBAAK7c,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC9D,0BAAMC,EAAE,mBAAmBF,KAAK,UAChC,0BAAME,EAAE,gBAAgBF,KAAK,UAC7B,0BAAME,EAAE,qBAAqBF,KAAK,UAClC,0BAAME,EAAE,oBAAoBF,KAAK,UACjC,0BAAME,EAAE,oBAAoBF,KAAK,YAmHjC,yBACIzD,UAAWC,KAAQkC,SACnBO,QA9Ca,WACzB2d,EAAU3F,QAAQiG,UAjEd,yBAAK3f,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC9D,0BAAMC,EAAE,sFAAsFF,KAAK,UACnG,0BAAME,EAAE,mFAAmFF,KAAK,UAChG,0BAAME,EAAE,yEAAyEF,KAAK,UACtF,0BAAME,EAAE,wEAAwEF,KAAK,UACrF,4BAAQmd,GAAG,MAAMC,GAAG,MAAMC,EAAE,MAAMC,OAAO,QAAQC,YAAY,MAC7D,0BAAM7T,EAAE,IAAIgK,EAAE,IAAInW,MAAM,KAAKD,OAAO,KAAK0f,GAAG,IAAIM,OAAO,QAAQC,YAAY,SA4G/E,yBAAKhhB,UAAWC,KAAQghB,YACpB,yBACIjhB,UAAWC,KAAQkC,SACnBO,QAASpC,EAAM4gB,iBAvGvB,yBACIlhB,UAAWC,KAAQkhB,UACnBngB,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC7D,0BAAM0d,GAAG,UAAUC,GAAG,UAAUC,GAAG,UAAUC,GAAG,UAAUR,OAAO,OAAOC,YAAY,MACpF,0BAAMI,GAAG,UAAUC,GAAG,UAAUC,GAAG,UAAUC,GAAG,UAAUR,OAAO,OAAOC,YAAY,MACpF,4BAAQJ,GAAG,IAAIC,GAAG,KAAKC,EAAE,IAAIC,OAAO,OAAOC,YAAY,MACvD,4BAAQJ,GAAG,KAAKC,GAAG,KAAKC,EAAE,IAAIC,OAAO,OAAOC,YAAY,MACxD,4BAAQJ,GAAG,KAAKC,GAAG,IAAIC,EAAE,IAAIC,OAAO,OAAOC,YAAY,QAmGvD,yBACIhhB,UAAWC,KAAQkC,SACnBO,QAASpC,EAAM4gB,iBA7FvB,yBAAKlgB,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC9D,0BAAMC,EAAE,qFAAqFF,KAAK,YAClG,0BAAME,EAAE,iPAAiPF,KAAK,eA+FlQ,2BAAO7L,KAAK,OAAO8B,GAAG,OAAO8nB,UAAQ,EAACvY,IAAKoX,EAAW5a,MAAO,CAACgc,QAAS,QAASxJ,QA1FnE,SAACrU,GAClB/K,QAAQC,IAAI,cAGZ,IAFA,IAAI6kB,EAAO,IACPC,EAAO,IAHiB,WAIpBzX,GACJ,IAAIub,EAAK,IAAIC,WACbD,EAAGE,OAAS,WACR,IAAIC,EAAQ,IAAIvI,MAChBuI,EAAM5gB,IAAMygB,EAAGI,OACfD,EAAMD,OAAS,WACXthB,EAAMkgB,YAAY,CAAC,CACf5oB,KAAM,QACN+kB,UAAU,GAAD,OAAK7R,KAAKC,OAAV,OAAkB5E,GAC3BpF,OAAQ8gB,EAAM9gB,OACdC,MAAO6gB,EAAM7gB,MACb2c,OACAC,OACAmB,OAAQ8C,EAAM5gB,IACd4c,SAAU,OAItB6D,EAAGK,cAAcne,EAAM2G,OAAOyX,MAAM7b,IACpCwX,GAAQ,GACRC,GAAQ,IApBJzX,EAAE,EAAGA,EAAEvC,EAAM2G,OAAOyX,MAAM1b,OAAOH,IAAK,EAAtCA,Q,mBCiYA8b,G,4MAxcZC,cAAgB,WACZ,IAAMC,EAA+C,SAAjC,EAAK7hB,MAAM+Q,QAAQyM,UAAuB,UAAY,UAC1E,OACI,yBACI9d,UAA4C,SAAjC,EAAKM,MAAM+Q,QAAQyM,UAAuB7d,KAAQmiB,YAAcniB,KAAQoiB,cACnFrhB,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAE7D,0BAAM0d,GAAG,IAAIC,GAAG,IAAIC,GAAG,KAAKC,GAAG,IAAIR,OAAQoB,EAAanB,YAAY,MACpE,0BAAMI,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKR,OAAQoB,EAAanB,YAAY,MACtE,0BAAMI,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKR,OAAQoB,EAAanB,YAAY,MACtE,0BAAMI,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKR,OAAQoB,EAAanB,YAAY,MACtE,0BAAMI,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKR,OAAQoB,EAAanB,YAAY,Q,EAKlFsB,gBAAkB,WACd,IAAMH,EAA+C,WAAjC,EAAK7hB,MAAM+Q,QAAQyM,UAAyB,UAAY,UAC5E,OACI,yBACI9d,UAA4C,WAAjC,EAAKM,MAAM+Q,QAAQyM,UAAyB7d,KAAQmiB,YAAcniB,KAAQoiB,cACrFrhB,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAE7D,0BAAM0d,GAAG,IAAIC,GAAG,IAAIC,GAAG,KAAKC,GAAG,IAAIR,OAAQoB,EAAanB,YAAY,MACpE,0BAAMI,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKR,OAAQoB,EAAanB,YAAY,MACtE,0BAAMI,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKR,OAAQoB,EAAanB,YAAY,MACvE,0BAAMI,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKR,OAAQoB,EAAanB,YAAY,MACvE,0BAAMI,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKR,OAAQoB,EAAanB,YAAY,Q,EAKnFuB,eAAiB,WACb,IAAMJ,EAA+C,UAAjC,EAAK7hB,MAAM+Q,QAAQyM,UAAwB,UAAY,UAC3E,OACI,yBACI9d,UAA4C,UAAjC,EAAKM,MAAM+Q,QAAQyM,UAAwB7d,KAAQmiB,YAAcniB,KAAQoiB,cACpFrhB,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAE7D,0BAAMqd,OAAQoB,EAAad,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAK5S,UAAU,wBAAwBqS,YAAY,MACjG,0BAAMD,OAAQoB,EAAad,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAK5S,UAAU,yBAAyBqS,YAAY,MAClG,0BAAMD,OAAQoB,EAAad,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAK5S,UAAU,yBAAyBqS,YAAY,MAClG,0BAAMD,OAAQoB,EAAad,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAK5S,UAAU,yBAAyBqS,YAAY,MAClG,0BAAMD,OAAQoB,EAAad,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAK5S,UAAU,yBAAyBqS,YAAY,Q,EAK9GwB,aAAe,WACX,IAAML,EAAmD,QAArC,EAAK7hB,MAAM+Q,QAAQqL,cAA0B,UAAY,UAC7E,OACI,yBACI1c,UAAgD,QAArC,EAAKM,MAAM+Q,QAAQqL,cAA0Bzc,KAAQmiB,YAAcniB,KAAQoiB,cACtFrhB,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC7D,0BAAMqd,OAAQoB,EAAaf,GAAG,IAAIC,GAAG,IAAIC,GAAG,KAAKC,GAAG,IAAIP,YAAY,MACpE,0BAAMvd,KAAM0e,EAAaxe,EAAE,sV,EAKvC8e,gBAAkB,WACd,IAAMN,EAAmD,WAArC,EAAK7hB,MAAM+Q,QAAQqL,cAA6B,UAAY,UAChF,OACI,yBACI1c,UAAgD,WAArC,EAAKM,MAAM+Q,QAAQqL,cAA6Bzc,KAAQmiB,YAAcniB,KAAQoiB,cACzFrhB,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC7D,0BAAMqd,OAAQoB,EAAaf,GAAG,IAAIC,GAAG,KAAKC,GAAG,KAAKC,GAAG,KAAKP,YAAY,MACtE,0BAAMvd,KAAM0e,EAAaxe,EAAE,uVAC3B,0BAAMF,KAAM0e,EAAaxe,EAAE,oV,EAKvC+e,gBAAkB,WACd,IAAMP,EAAmD,WAArC,EAAK7hB,MAAM+Q,QAAQqL,cAA6B,UAAY,UAChF,OACI,yBACI1c,UAAgD,WAArC,EAAKM,MAAM+Q,QAAQqL,cAA6Bzc,KAAQmiB,YAAcniB,KAAQoiB,cACzFrhB,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC7D,0BAAMqd,OAAQoB,EAAaf,GAAG,KAAKC,GAAG,KAAKC,GAAG,IAAIC,GAAG,KAAKP,YAAY,MACtE,0BAAMvd,KAAM0e,EAAaxe,EAAE,oV,EAKvCgf,WAAa,WACT,IAAMR,EAAc,EAAK7hB,MAAM+Q,QAAQ2M,OAAS,UAAY,UAC5D,OACI,yBACIhe,UAAW,EAAKM,MAAM+Q,QAAQ2M,OAAS/d,KAAQmiB,YAAcniB,KAAQoiB,cACrErhB,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC7D,0BAAMC,EAAE,0cAA0cF,KAAM0e,M,EAKpeS,cAAgB,WACZ,IAAMT,EAAc,EAAK7hB,MAAM+Q,QAAQ0M,UAAY,UAAY,UAC/D,OACI,yBACI/d,UAAW,EAAKM,MAAM+Q,QAAQ0M,UAAY9d,KAAQmiB,YAAcniB,KAAQoiB,cACxErhB,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC7D,0BAAMC,EAAE,sIAAsIF,KAAM0e,IACpJ,0BAAMxe,EAAE,gIAAgIF,KAAM0e,IAC9I,0BAAMxe,EAAE,gIAAgIF,KAAM0e,IAC9I,0BAAMra,SAAS,UAAUC,SAAS,UAAUpE,EAAE,uLAAuLF,KAAM0e,M,EAKvPte,gBAAkB,SAACwZ,K,EAInBwF,WAAa,SAACxF,GACV,EAAK/c,MAAMwiB,KAAK,EAAKxiB,MAAM+Q,QAAQsL,UAAnC,6BACO,EAAKrc,MAAM+Q,SADlB,IAEItQ,OAAQsc,EAAE9S,OAAOC,U,EAIzBuY,UAAY,SAAC1F,GACT,EAAK/c,MAAMwiB,KAAK,EAAKxiB,MAAM+Q,QAAQsL,UAAnC,6BACO,EAAKrc,MAAM+Q,SADlB,IAEIrQ,MAAOqc,EAAE9S,OAAOC,U,EAIxBwY,MAAQ,SAAC3F,GACL,EAAK/c,MAAMwiB,KAAK,EAAKxiB,MAAM+Q,QAAQsL,UAAnC,6BACO,EAAKrc,MAAM+Q,SADlB,IAEIsM,KAAMsF,OAAO5F,EAAE9S,OAAOC,W,EAI9B0Y,MAAQ,SAAC7F,GACL,EAAK/c,MAAMwiB,KAAK,EAAKxiB,MAAM+Q,QAAQsL,UAAnC,6BACO,EAAKrc,MAAM+Q,SADlB,IAEIuM,KAAMqF,OAAO5F,EAAE9S,OAAOC,W,EAI9B2Y,aAAe,SAAC9F,GACZ,EAAK/c,MAAMwiB,KAAK,EAAKxiB,MAAM+Q,QAAQsL,UAAnC,6BACO,EAAKrc,MAAM+Q,SADlB,IAEIwM,SAAUoF,OAAO5F,EAAE9S,OAAOC,OAAS,Q,EAI3C4Y,SAAW,SAAC/F,GACRxkB,QAAQC,IAAIukB,EAAE9S,OAAOC,OACrB,EAAKlK,MAAMwiB,KAAK,EAAKxiB,MAAM+Q,QAAQsL,UAAnC,6BACO,EAAKrc,MAAM+Q,SADlB,IAEImL,KAAMa,EAAE9S,OAAOC,U,EAIvB6Y,aAAe,SAAChG,GACZxkB,QAAQC,IAAIukB,EAAE9S,OAAOC,OACrB,EAAKlK,MAAMwiB,KAAK,EAAKxiB,MAAM+Q,QAAQsL,UAAnC,6BACO,EAAKrc,MAAM+Q,SADlB,IAEIkL,SAAUc,EAAE9S,OAAOC,U,EAI3B8Y,cAAgB,SAAC9Y,GACb,EAAKlK,MAAMwiB,KAAK,EAAKxiB,MAAM+Q,QAAQsL,UAAnC,6BACO,EAAKrc,MAAM+Q,SADlB,IAEIyM,UAAWtT,M,EAInB+Y,eAAiB,SAAClG,GACd,EAAK/c,MAAMwiB,KAAK,EAAKxiB,MAAM+Q,QAAQsL,UAAnC,6BACO,EAAKrc,MAAM+Q,SADlB,IAEIoL,WAAYY,EAAE9S,OAAOC,U,EAI7BgZ,oBAAsB,SAAChZ,GACnB,EAAKlK,MAAMwiB,KAAK,EAAKxiB,MAAM+Q,QAAQsL,UAAnC,6BACO,EAAKrc,MAAM+Q,SADlB,IAEImM,gBAAiBhT,M,EAIzBiZ,cAAgB,WACZ,EAAKnjB,MAAMwiB,KAAK,EAAKxiB,MAAM+Q,QAAQsL,UAAnC,6BACO,EAAKrc,MAAM+Q,SADlB,IAEI0M,WAAY,EAAKzd,MAAM+Q,QAAQ0M,c,EAIvC2F,WAAa,WACT,EAAKpjB,MAAMwiB,KAAK,EAAKxiB,MAAM+Q,QAAQsL,UAAnC,6BACO,EAAKrc,MAAM+Q,SADlB,IAEI2M,QAAS,EAAK1d,MAAM+Q,QAAQ2M,W,EAIpC2F,kBAAoB,SAACnZ,GACjB,EAAKlK,MAAMwiB,KAAK,EAAKxiB,MAAM+Q,QAAQsL,UAAnC,6BACO,EAAKrc,MAAM+Q,SADlB,IAEIqL,cAAelS,M,EAIvBoZ,UAAY,SAACvG,GACTxkB,QAAQC,IAAI,kBAAmBukB,EAAE9S,OAAOC,OACxC,EAAKlK,MAAMwiB,KAAK,EAAKxiB,MAAM+Q,QAAQsL,UAAnC,6BACO,EAAKrc,MAAM+Q,SADlB,IAEIvQ,MAAOuc,EAAE9S,OAAOC,U,EAIxBqZ,YAAc,SAACxS,GACX,IAAIyS,EAAU,GACNlG,EAAwCvM,EAAxCuM,KAAMD,EAAkCtM,EAAlCsM,KAAM5c,EAA4BsQ,EAA5BtQ,OAAQC,EAAoBqQ,EAApBrQ,MAAO6c,EAAaxM,EAAbwM,SAC7BkG,EAAUpG,EAAO,GAAM3c,EACvBgjB,EAAUpG,EAAO,GAAM7c,EACvBkjB,EAAMvf,KAAKwf,KAAK,SAACnjB,EAAO,EAAM,GAAd,SAAmBC,EAAM,EAAM,IAI/CmjB,EAD4C,IAA5Bzf,KAAK0f,KAAKpjB,EAAQD,GAAgB2D,KAAK2f,GAC/BxG,EACxByG,EAAUL,EAAMvf,KAAK6f,IAAc,EAAV7f,KAAK2f,GAASF,EAAO,KAC9CK,EAAUP,EAAMvf,KAAK+f,IAAc,EAAV/f,KAAK2f,GAASF,EAAO,KACpDL,EAAQ7c,KAAK,CAAEkG,EAAG4W,EAAUO,EAASnN,EAAG6M,EAAUQ,IAClDV,EAAQ7c,KAAK,CAAEkG,EAAG4W,EAAUO,EAASnN,EAAG6M,EAAUQ,IAGlD,IACME,EAD8C,IAA9BhgB,KAAK0f,MAAOpjB,EAAQD,GAAgB2D,KAAK2f,GACjCxG,EACxB8G,EAAUV,EAAMvf,KAAK6f,IAAc,EAAV7f,KAAK2f,GAASK,EAAO,KAC9CE,EAAUX,EAAMvf,KAAK+f,IAAc,EAAV/f,KAAK2f,GAASK,EAAO,KAGpD,OAFAZ,EAAQ7c,KAAK,CAAEkG,EAAG4W,EAAUY,EAASxN,EAAG6M,EAAUY,IAClDd,EAAQ7c,KAAK,CAAEkG,EAAG4W,EAAUY,EAASxN,EAAG6M,EAAUY,IAC3Cd,G,EAGXe,SAAW,SAACf,GACR,IAAIpe,EAAO,IACP0B,EAAM,IACN0d,GAAS,IACTC,GAAU,IAQd,OAPAjB,EAAQ1S,SAAS,SAAA4T,GACf,IAAQ7X,EAAS6X,EAAT7X,EAAGgK,EAAM6N,EAAN7N,EACRhK,EAAIzH,IAAMA,EAAOyH,GACjBA,EAAI2X,IAAOA,EAAQ3X,GACnBgK,EAAI/P,IAAKA,EAAM+P,GACfA,EAAI4N,IAAQA,EAAS5N,MAEnB,CAAE/P,MAAK2d,SAAQrf,OAAMof,U,EAGhCG,WAAa,WACT,IAEI5T,EAFAgM,EAAI,EAAK/c,MAAM+Q,QACnB,EAA4I,EAAK/Q,MAAM+Q,QAAlIsM,GAArB,EAAM5c,OAAN,EAAcC,MAAd,EAAqB2c,MAAMC,EAA3B,EAA2BA,KAAMhmB,EAAjC,EAAiCA,KAA6F+kB,GAA9H,EAAuCkB,SAAvC,EAAiDrB,KAAjD,EAAuDD,SAAvD,EAAiEuB,UAAjE,EAA4ErB,WAA5E,EAAwFsB,UAAxF,EAAmGC,OAAnG,EAA2Gld,MAA3G,EAAkHmd,WAAlH,EAA8HtB,WAExHmH,EAAU,EAAKD,YAAYxG,GACjC,EAAqC,EAAKwH,SAASf,GAA3C1c,EAAR,EAAQA,IAAK2d,EAAb,EAAaA,OAAQrf,EAArB,EAAqBA,KACfwf,EAAcH,EAAS3d,EACvB+d,EAFN,EAA2BL,MAEApf,EACvB0f,EAAc,EAEdA,EADDF,EAAcC,EACC,IAAMA,EAEN,IAAMD,EAExB,IAAIG,EAAe,6BACZhI,GADY,IAEfM,KAAMA,EAAOjY,EACbkY,KAAMA,EAAOxW,IAEXhB,EAAS,CACXkf,KAAMF,EACNrkB,OAAO,GAAD,OAAKmkB,EAAL,MACNlkB,MAAM,GAAD,OAAKmkB,EAAL,MACLxkB,SAAU,WACV+E,KAAM,MACN0B,IAAK,MACLuH,UAAW,wBAEf,OAAO/W,GACH,IAAK,OACDyZ,EACI,yBAAK5L,MAAOW,GACR,kBAAC,GAAD,CACI8X,WAAS,EACTtmB,KAAK,OACL+O,IAAG,eAAUgW,GACbtL,QAASgU,KAGrB,MACJ,IAAK,OACDhU,EACI,yBAAK5L,MAAOW,GACR,kBAAC,GAAD,CACI8X,WAAS,EACTtmB,KAAK,OACL+O,IAAG,eAAUgW,GACbtL,QAASgU,KAGrB,MACJ,IAAK,QACDhU,EACI,yBAAK5L,MAAOW,GACR,kBAAC,GAAD,CACA8X,WAAS,EACTtmB,KAAK,QACL+O,IAAG,eAAUgW,GACbtL,QAASgU,KAGjB,MACJ,QAASxsB,QAAQC,IAAI,yBAEzB,OACI,6BACKuY,I,4CAKb,WAAS,IAAD,OACJ,IAAIhR,KAAKC,MAAM+Q,QAAS,OAAO,KAC/B,MAA0GhR,KAAKC,MAAM+Q,QAA7GzZ,EAAR,EAAQA,KAAMkJ,EAAd,EAAcA,MAAO6c,EAArB,EAAqBA,KAAMC,EAA3B,EAA2BA,KAAM7c,EAAjC,EAAiCA,OAAQC,EAAzC,EAAyCA,MAAO6c,EAAhD,EAAgDA,SAAUtB,EAA1D,EAA0DA,SAAUC,EAApE,EAAoEA,KAAMC,EAA1E,EAA0EA,WAAYe,EAAtF,EAAsFA,gBAEtF,OACI,yBAAKxd,UAAWC,KAAQgiB,cAAevf,QAASrC,KAAKwD,gBAAiBkc,UAAW1f,KAAKwD,iBAClF,6BACI,yBAAK7D,UAAWC,KAAQslB,kBACpB,yBAAKvlB,UAAWC,KAAQ+U,SACnB3U,KAAK4kB,eAGd,yBAAKjlB,UAAWC,KAAQulB,MACpB,yBAAKxlB,UAAWC,KAAQwlB,cACpB,yCACA,2BAAOzlB,UAAWC,KAAQ2W,MAAO9K,SAAUzL,KAAKwiB,WAAYjrB,KAAK,SAAS4S,MAAOzJ,KAErF,yBAAKf,UAAWC,KAAQwlB,cACpB,wCACA,2BAAOzlB,UAAWC,KAAQ2W,MAAO9K,SAAUzL,KAAK0iB,UAAWnrB,KAAK,SAAS4S,MAAOxJ,MAGxF,yBAAKhB,UAAWC,KAAQulB,MACpB,yBAAKxlB,UAAWC,KAAQwlB,cACpB,oCACA,2BAAOzlB,UAAWC,KAAQ2W,MAAQ9K,SAAUzL,KAAK2iB,MAAOprB,KAAK,SAAS4S,MAAOmT,KAEjF,yBAAK3d,UAAWC,KAAQwlB,cACpB,oCACA,2BAAOzlB,UAAWC,KAAQ2W,MAAO9K,SAAUzL,KAAK6iB,MAAOtrB,KAAK,SAAS4S,MAAOoT,MAGpF,yBAAK5d,UAAWC,KAAQulB,MACpB,yBAAKxlB,UAAWC,KAAQwlB,cACpB,sCACA,2BAAOzlB,UAAWC,KAAQ2W,MAAQ9K,SAAUzL,KAAK8iB,aAAcvrB,KAAK,SAAS4S,MAAOqT,OAIrF,SAATjmB,EACE,yBAAKoI,UAAWC,KAAQylB,aACpB,yBAAK1lB,UAAWC,KAAQulB,MACpB,yBAAKxlB,UAAWC,KAAQ0lB,cACpB,4BAAQ7Z,SAAUzL,KAAK+iB,SAAU5Y,MAAOgS,GACpC,4BAAQhS,MAAM,UAAd,UACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,WAAd,aAGR,yBAAKxK,UAAWC,KAAQwlB,cACpB,2BAAOzlB,UAAWC,KAAQ2W,MAAO9K,SAAUzL,KAAKgjB,aAAczrB,KAAK,SAAS4S,MAAO+R,MAG3F,yBAAKvc,UAAWC,KAAQ2lB,kBACpB,yBAAK5lB,UAAWC,KAAQulB,MACpB,yBAAKxlB,UAAWC,KAAQ4lB,UAAWnjB,QAAS,kBAAM,EAAK4gB,cAAc,UAChEjjB,KAAK6hB,iBAEV,yBAAKliB,UAAWC,KAAQ4lB,UAAWnjB,QAAS,kBAAM,EAAK4gB,cAAc,YAChEjjB,KAAKiiB,mBAEV,yBAAKtiB,UAAWC,KAAQ4lB,UAAWnjB,QAAS,kBAAM,EAAK4gB,cAAc,WAChEjjB,KAAKkiB,mBAGd,yBAAKviB,UAAWC,KAAQulB,MACpB,yBAAKxlB,UAAWC,KAAQ4lB,UAAWnjB,QAAS,kBAAM,EAAKihB,kBAAkB,SACxEtjB,KAAKmiB,gBAEN,yBAAKxiB,UAAWC,KAAQ4lB,UAAWnjB,QAAS,kBAAM,EAAKihB,kBAAkB,YACxEtjB,KAAKoiB,mBAEN,yBAAKziB,UAAWC,KAAQ4lB,UAAWnjB,QAAS,kBAAM,EAAKihB,kBAAkB,YACxEtjB,KAAKqiB,qBAId,yBAAK1iB,UAAWC,KAAQulB,MACpB,yBAAKxlB,UAAWC,KAAQwc,YACpB,4BAAQ3Q,SAAUzL,KAAKkjB,eAAgB/Y,MAAOiS,GAG1C,4BAAQjS,MAAM,OAAd,QAGA,4BAAQA,MAAM,OAAd,aAMR,yBAAKxK,UAAWC,KAAQ4lB,UAAWnjB,QAASrC,KAAKqjB,YAC5CrjB,KAAKsiB,cAEV,yBAAK3iB,UAAWC,KAAQ4lB,UAAWnjB,QAASrC,KAAKojB,eAC5CpjB,KAAKuiB,kBAKd,yBAAK5iB,UAAWC,KAAQ6lB,oBACpB,yBAAKpjB,QAAS,kBAAM,EAAK8gB,qBAAoB,KACzC,2BAAO5rB,KAAK,WAAWkU,SAAU,kBAAM,EAAK0X,qBAAoB,IAAQuC,SAAUvI,IADtF,4BAGA,yBAAK9a,QAAS,kBAAM,EAAK8gB,qBAAoB,KACzC,2BAAO5rB,KAAK,WAAWkU,SAAU,kBAAM,EAAK0X,qBAAoB,IAAOuC,QAASvI,IADpF,yBAKV,KACS,SAAT5lB,EACE,yBAAKoI,UAAWC,KAAQ+lB,cACpB,yBAAKhmB,UAAWC,KAAQgmB,qBACpB,yBAAKjmB,UAAWC,KAAQimB,qBAAsBzgB,MAAO,CAAC0gB,WAAYrlB,KAClE,2BACIlJ,KAAK,QACLkU,SAAUzL,KAAKujB,UACfpZ,MAAO1J,EACPd,UAAWC,KAAQmmB,cAG3B,0CAEN,U,GApcW5lB,a,oBCgDd6lB,G,4MA/CXC,kBAAoB,WAChB,IAAIjV,EAAUS,SAASqE,eAAT,cAA+B,EAAK7V,MAAMimB,MACrDlV,GACCA,EAAQU,iBAAiB,cAAe,EAAKyU,wB,EAIrDC,qBAAuB,WACnB,IAAIpV,EAAUS,SAASqE,eAAT,cAA+B,EAAK7V,MAAMimB,MACrDlV,GACCA,EAAQqV,oBAAoB,cAAe,EAAKF,wB,EAIxDA,sBAAwB,SAAAnJ,GACpBA,EAAExZ,kBACF,EAAKvD,MAAMqmB,gBAAgBtJ,EAAG,EAAK/c,MAAMimB,IAAK,EAAKjmB,MAAMqc,Y,EAG7DiK,gBAAkB,WACd,IAAIxgB,EAAS,CAAC,EAAK9F,MAAMimB,IAAIjgB,OAAS,EAAIrG,KAAQ4mB,OAAS5mB,KAAQ6mB,MACnE,OAAO,EAAKxmB,MAAMimB,KACd,IAAK,KAAMngB,EAAOa,KAAKhH,KAAQ8mB,IAAI,MACnC,IAAK,KAAM3gB,EAAOa,KAAKhH,KAAQ+mB,IAAI,MACnC,IAAK,KAAM5gB,EAAOa,KAAKhH,KAAQgnB,IAAI,MACnC,IAAK,KAAM7gB,EAAOa,KAAKhH,KAAQinB,IAAI,MACnC,IAAK,IAAK9gB,EAAOa,KAAKhH,KAAQknB,GAAG,MACjC,IAAK,IAAK/gB,EAAOa,KAAKhH,KAAQmnB,GAAG,MACjC,IAAK,IAAKhhB,EAAOa,KAAKhH,KAAQonB,GAAG,MACjC,IAAK,IAAKjhB,EAAOa,KAAKhH,KAAQqnB,GAAG,MACjC,QAASzuB,QAAQC,IAAI,wCAEzB,OAAOsN,G,4CAIX,WAAU,IAAD,OACL,OACI,yBACI1M,GAAE,cAAS2G,KAAKC,MAAMimB,KACtBvmB,UAAWK,KAAKumB,kBAAkB5d,KAAK,KACvC8W,YAAa,SAAAzC,GAAC,OAAI,EAAK/c,MAAMqmB,gBAAgBtJ,EAAG,EAAK/c,MAAMimB,IAAK,EAAKjmB,MAAMqc,kB,GA3C/Dnc,a,oBC0Eb+mB,G,4MAvEXC,kBAAoB,WAChB,IAAIC,EAAiB,GACrB,OAAG,EAAKnnB,MAAMue,UAAkB,MACD,SAA5B,EAAKve,MAAM+Q,QAAQzZ,MAAoB,EAAK0I,MAAM+Q,QAAQmM,iBAGzDiK,EAAexgB,KAAK,KAAK,KAAK,KAAK,MAChC,EAAK3G,MAAM+Q,QAAQtQ,OAAS,IAC3B0mB,EAAexgB,KAAK,IAAI,KAEzB,EAAK3G,MAAM+Q,QAAQrQ,MAAQ,IAC1BymB,EAAexgB,KAAK,IAAI,MAPxBwgB,EAAexgB,KAAK,IAAI,KAUzBwgB,EAAepb,KAAI,SAAAyU,GACtB,OACI,kBAAC,GAAD,CACIna,IAAKma,EACLyF,IAAKzF,EACLnE,UAAW,EAAKrc,MAAM+Q,QAAQsL,UAC9BgK,gBAAiB,EAAKrmB,MAAMqmB,uB,EAM5ChH,YAAc,SAAAtC,GACqB,SAA5B,EAAK/c,MAAM+Q,QAAQzZ,MAClB,EAAK0I,MAAMsf,cAAcvC,EAAG,EAAK/c,MAAM+Q,QAAQsL,Y,EAIvDe,UAAY,WACR,MAAgD,EAAKpd,MAAM+Q,QAAnDtQ,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,MAAO2c,EAAvB,EAAuBA,KAAMC,EAA7B,EAA6BA,KAAMC,EAAnC,EAAmCA,SACnC,EAA6B,EAAKvd,MAAM6d,YAAhCC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,QACbjY,EAAS,CACTrF,OAAO,GAAD,OAAKA,EAAL,MACNC,MAAM,GAAD,OAAKA,EAAL,MACL0E,KAAK,GAAD,OAAKiY,EAAOS,EAAZ,MACJhX,IAAI,GAAD,OAAKwW,EAAOS,EAAZ,MACH1P,UAAU,UAAD,OAAYkP,EAAZ,SAOb,OALG,EAAKvd,MAAMue,UACVzY,EAAOshB,cAAgB,OAEvBthB,EAAOwY,OAAS,OAEbxY,G,EAGX0Z,YAAc,SAACzC,GACR,EAAK/c,MAAMue,YAAc,EAAKve,MAAM+Q,QAAQsL,WAC3C,EAAKrc,MAAMmf,iBAAiBpC,EAAG,EAAK/c,MAAM+Q,QAAQsL,Y,4CAI1D,WACI,OACI,yBACI3c,UAAWC,KAAQsnB,eACnB9hB,MAAOpF,KAAKqd,YACZoC,YAAazf,KAAKyf,YAClBC,UAAW1f,KAAKqf,QAChBG,cAAexf,KAAKsf,aAEnBtf,KAAKmnB,yB,GApEOhnB,a,6BCmPdmnB,G,4MA1OX/lB,MAAM,CACFb,OAAQ,EACRC,MAAO,EACP4mB,eAAgB,MAChBC,QAASC,IAAM/M,YACfgN,aAAc,EACdC,sBAAsB,EACtBC,iBAAiB,G,EAGrB3B,kBAAoB,WAChB,IAAMvlB,EAAS,EAAKmH,WAAWC,aACzBnH,EAAQ,EAAKkH,WAAWggB,YAC9B,EAAK1lB,SAAS,CAAEzB,SAAQC,W,EAG5BgM,mBAAqB,WACjB,IAAMjM,EAAS,EAAKmH,WAAWC,aACzBnH,EAAQ,EAAKkH,WAAWggB,YAC3BnnB,IAAW,EAAKa,MAAMb,QAAUC,IAAU,EAAKY,MAAMZ,OACpD,EAAKwB,SAAS,CAAEzB,SAAQC,W,EAIhCmnB,mBAAqB,WACjB,IAAIC,EAAa,KACbC,GAAe,KACfC,EAAY,KACZC,GAAgB,KAQpB,OANA,EAAKjoB,MAAMkoB,SAASpX,SAAQ,SAAAC,GACrBA,EAAQsM,KAAOyK,IAAYA,EAAc/W,EAAQsM,MACjDtM,EAAQsM,KAAOtM,EAAQrQ,MAAQqnB,IAAaA,EAAehX,EAAQsM,KAAOtM,EAAQrQ,OAClFqQ,EAAQuM,KAAO0K,IAAWA,EAAajX,EAAQuM,MAC/CvM,EAAQuM,KAAOvM,EAAQtQ,OAASwnB,IAAcA,EAAgBlX,EAAQuM,KAAOvM,EAAQtQ,WAErF,CACHqnB,aACAC,cACAC,YACAC,eACAE,aAAcJ,EAAYD,EAC1BM,cAAeH,EAAaD,I,EAIpCK,kBAAoB,SAACtL,GACjBxkB,QAAQC,IAAIukB,EAAE9S,OAAOC,OACrB,EAAKhI,SAAS,CAAColB,eAAgBvK,EAAE9S,OAAOC,S,EAG5Coe,WAAa,WACL,IAAMC,EAAO/W,SAASqE,eAAe,WACrC,EAAK3T,SAAS,CAACsmB,iBAAiB,IAEC,QAA9B,EAAKlnB,MAAMgmB,gBACVmB,KAAkBF,GACjBvwB,MAAK,SAAA0wB,GACF,IAAMC,EAAOnX,SAASoX,cAAc,KACpCD,EAAKE,aAAa,WAAlB,mBAAyC,EAAKvnB,MAAMgmB,iBACpDqB,EAAK7oB,KAAO4oB,EACZlX,SAASzW,KAAK+tB,YAAYH,GAC1BA,EAAKtI,QACFsI,GAAQA,EAAKI,YACZJ,EAAKI,WAAWC,YAAYL,GAEhC,EAAK3oB,MAAMipB,sBACZ5wB,OAAM,SAAAC,GACLC,QAAQC,IAAI,qBACZD,QAAQC,IAAIF,MAKa,QAA9B,EAAKgJ,MAAMgmB,gBACVmB,KAAmBF,GAClBvwB,MAAK,SAAA0wB,GACF,IAAMC,EAAOnX,SAASoX,cAAc,KACpCD,EAAKE,aAAa,WAAlB,mBAAyC,EAAKvnB,MAAMgmB,iBACpDqB,EAAK7oB,KAAO4oB,EACZlX,SAASzW,KAAK+tB,YAAYH,GAC1BA,EAAKtI,QACFsI,GAAQA,EAAKI,YACZJ,EAAKI,WAAWC,YAAYL,GAEhC,EAAK3oB,MAAMipB,sBACZ5wB,OAAM,SAAAC,GACLC,QAAQC,IAAI,qBACZD,QAAQC,IAAIF,MAKa,QAA9B,EAAKgJ,MAAMgmB,gBACVmB,KAAkBF,GACjBvwB,MAAK,SAAA0wB,GACF,IAAMC,EAAOnX,SAASoX,cAAc,KACpCD,EAAKE,aAAa,WAAlB,mBAAyC,EAAKvnB,MAAMgmB,iBACpDqB,EAAK7oB,KAAO4oB,EACZlX,SAASzW,KAAK+tB,YAAYH,GAC1BA,EAAKtI,QACFsI,GAAQA,EAAKI,YACZJ,EAAKI,WAAWC,YAAYL,GAEhC,EAAK3oB,MAAMipB,sBACZ5wB,OAAM,SAAAC,GACLC,QAAQC,IAAI,yB,EAK5B0wB,YAAc,SAAChB,GAQX,MALqB,uBAChBA,EAASjU,QAAO,SAAA8I,GAAC,MAAe,SAAXA,EAAEzlB,SADP,aAEhB4wB,EAASjU,QAAO,SAAA8I,GAAC,MAAe,SAAXA,EAAEzlB,UAGLyU,KAAI,SAAAgR,GAEvB,OAAOA,EAAEzlB,MACL,IAAK,OACD,OACI,kBAAC,GAAD,CACAsmB,WAAS,EACTtmB,KAAK,OACL+O,IAAG,cAAS0W,EAAEV,WACdtL,QAASgM,IAGjB,IAAK,OACD,OACI,kBAAC,GAAD,CACIa,WAAS,EACTtmB,KAAK,OACL+O,IAAG,cAAS0W,EAAEV,WACdtL,QAASgM,IAGrB,IAAK,QACD,OACI,kBAAC,GAAD,CACAa,WAAS,EACTtmB,KAAK,QACL+O,IAAG,cAAS0W,EAAEV,WACdtL,QAASgM,IAGjB,QAA+C,OAAtCxkB,QAAQC,IAAI,yBAAiC,U,4CAKlE,WAAS,IAAD,OACJ,EAKIuH,KAAK8nB,qBAJLC,EADJ,EACIA,WACAE,EAFJ,EAEIA,UACAG,EAHJ,EAGIA,aACAC,EAJJ,EAIIA,cAMAe,EAAgB,CAChB1oB,OAAQ2nB,EACR1nB,MAAOynB,GAGX,GAP2BA,EAAaC,EADXroB,KAAKuB,MAAMZ,MAAMX,KAAKuB,MAAMb,OAQX,CAC1C,IAAM2oB,EAAerpB,KAAKuB,MAAMb,OAAS2nB,EACtCA,EAAgBroB,KAAKuB,MAAMb,SAC1B0oB,EAAcnE,KAAOoE,OAEtB,CACH,IAAMC,EAAgBtpB,KAAKuB,MAAMZ,MAAQynB,EACtCA,EAAepoB,KAAKuB,MAAMZ,QACzByoB,EAAcnE,KAAOqE,GAI7B,IAAMC,EAAsBvpB,KAAKC,MAAMkoB,SAASnc,KAAI,SAAAgF,GAChD,OAAO,6BACAA,GADP,IAEIsM,KAAMtM,EAAQsM,KAAOyK,EACrBxK,KAAMvM,EAAQuM,KAAO0K,OAK7B,OACI,yBAAKtoB,UAAWC,KAAQ0nB,aACpB,yBAAK3nB,UAAWC,KAAQ4pB,WAAYnnB,QAASrC,KAAKC,MAAMipB,mBACxD,yBAAKvpB,UAAWC,KAAQ6pB,OACpB,yBAAKpwB,GAAG,mBAAmBsG,UAAWC,KAAQ8pB,iBAAkB9gB,IAAM,SAACf,GAAiB,EAAKA,WAAaA,IACtG,yBACIlI,UAAWC,KAAQ+pB,QACnBvkB,MAAOgkB,GAEH,yBAAK/vB,GAAG,UAAUsG,UAAWC,KAAQgqB,iBAE7B5pB,KAAKmpB,YAAYI,MAKrC,yBAAK5pB,UAAWC,KAAQiqB,iBACpB,yBAAKlqB,UAAWC,KAAQkqB,mBACpB,4BAAQre,SAAUzL,KAAKsoB,kBAAmBne,MAAOnK,KAAKuB,MAAMgmB,gBACxD,4BAAQpd,MAAM,MAAM4f,MAAM,QAC1B,4BAAQ5f,MAAM,MAAM4f,MAAM,QAC1B,4BAAQ5f,MAAM,MAAM4f,MAAM,SAE9B,kBAAC,GAAD,CAAepkB,QAAS3F,KAAKuoB,WAAY/e,SAAUxJ,KAAKuB,MAAMqmB,iBAErD5nB,KAAKuB,MAAMqmB,gBAET,kBAAC,KAAD,CACCjoB,UAAWC,KAAQY,QACnBjJ,KAAK,YACLkJ,MAAM,UACNC,OAAQ,GACRC,MAAO,KANT,iD,GA3NZR,aC0EX6pB,G,4MAjFbzoB,MAAQ,CACN0oB,MAAM,G,EAERC,QAAUzC,IAAM/M,Y,EAEhByP,aAAe,SAACnN,GACdA,EAAEzS,iBACFyS,EAAExZ,kBACFhL,QAAQC,IAAI,WACZ,EAAK2xB,cACDpN,EAAEqN,aAAaC,OAAStN,EAAEqN,aAAaC,MAAMrkB,OAAS,GACxD,EAAK9D,SAAS,CAAC8nB,MAAM,K,EAGzBM,cAAgB,SAACvN,GACfA,EAAEzS,iBACFyS,EAAExZ,kBACFhL,QAAQC,IAAI,YACZ,EAAK2xB,cACoB,IAArB,EAAKA,aACP,EAAKjoB,SAAS,CAAC8nB,MAAM,K,EAGzBO,WAAa,SAACxN,GACZA,EAAEzS,iBACFyS,EAAExZ,kBACF,EAAKrB,SAAS,CAAC8nB,MAAM,IACjBjN,EAAEqN,aAAa1I,OAAS3E,EAAEqN,aAAa1I,MAAM1b,OAAS,IACxD,EAAKhG,MAAMuqB,WAAWxN,EAAEqN,aAAa1I,OACrC3E,EAAEqN,aAAaI,YACf,EAAKL,YAAc,I,uDAGvB,WACE,IAAIM,EAAM1qB,KAAKkqB,QAAQ7P,QACvBqQ,EAAIhZ,iBAAiB,YAAa1R,KAAKmqB,cACvCO,EAAIhZ,iBAAiB,YAAa1R,KAAKuqB,eACvCG,EAAIhZ,iBAAiB,OAAQ1R,KAAKwqB,c,kCAEpC,WACE,IAAIE,EAAM1qB,KAAKkqB,QAAQ7P,QACvBqQ,EAAIrE,oBAAoB,YAAarmB,KAAKmqB,cAC1CO,EAAIrE,oBAAoB,YAAarmB,KAAKuqB,eAC1CG,EAAIrE,oBAAoB,OAAQrmB,KAAKwqB,c,oBAEvC,WACE,OACE,yBACEplB,MAAO,CAACgc,QAAS,eAAgB9gB,SAAU,WAAYI,OAAQ,OAAQC,MAAO,QAC9EiI,IAAK5I,KAAKkqB,SAETlqB,KAAKuB,MAAMopB,UACV,yBACEvlB,MAAO,CACLwlB,OAAQ,kBACR1M,gBAAiB,uBACjBzY,OAAQ,KACR/E,OAAQ,OACRC,MAAO,SAGT,yBACEyE,MAAO,CACL9E,SAAU,WACVyG,IAAK,MACL0d,MAAO,EACPpf,KAAM,EACNoY,UAAW,SACXhd,MAAO,OACPyb,SAAU,KAGZ,+CAILlc,KAAKC,MAAM4J,c,GA7ES1J,a,wCCevB0qB,G,4MAEJtpB,MAAQ,CACNopB,UAAU,EACVG,cAAc,EACdC,WAAY,IACZvM,UAAW,KACXwM,cAAe,KACfC,cAAe,KACfC,iBAAiB,EACjBvJ,MAAO,GACP7D,YAAa,CACXC,QAAS,IACTC,QAAS,KAEXmK,SAAU,CACR,CACE5wB,KAAM,OACN+kB,UAAW,IACX5b,OAAQ,IACRC,MAAO,IACP2c,KAAM,GACNC,KAAM,GACNzkB,KAAM,kGACNqjB,KAAM,SACND,SAAU,OACVE,WAAY,MACZqB,UAAW,SACXpB,cAAe,MACfc,iBAAiB,EACjBO,WAAW,EACXC,QAAQ,EACRC,YAAY,EACZJ,SAAU,GAEZ,CACEjmB,KAAM,OACN+kB,UAAW,IACXgB,KAAM,EACNC,KAAM,EACN7c,OAAQ,IACRC,MAAO,IACPF,MAAO,UACP+c,SAAU,GAEZ,CACEjmB,KAAM,QACN+kB,UAAW,KACXoC,OAAQyM,KACR7N,KAAM,EACNC,KAAM,IACN7c,OAAQ,IACRC,MAAO,IACP6c,SAAU,GAEZ,CACEjmB,KAAM,QACN+kB,UAAW,KACXoC,OAAQ0M,KACR9N,KAAM,IACNC,KAAM,IACN7c,OAAQ,IACRC,MAAO,IACP6c,SAAU,K,EAQhBxU,OAAS,SAACgU,EAAGV,IACXU,EAAExZ,kBACFwZ,EAAEzS,iBACC,EAAKhJ,MAAMid,YACI/M,SAASqE,eAAT,UAA2B,EAAKvU,MAAMid,UAAtC,WACR6M,OAEV,EAAKlpB,SAAS,CACZ4oB,WAAYzO,EACZkC,UAAW,Q,EAIfe,cAAgB,SAACvC,EAAGV,GAClBU,EAAExZ,kBACFwZ,EAAEzS,iBACF,EAAKpI,SAAS,CACZ4oB,WAAYzO,EACZkC,UAAWlC,IAEb,IAAMtL,EAAUS,SAASqE,eAAT,UAA2BwG,EAA3B,WAChBgP,YAAW,WACT9yB,QAAQC,IAAI,YACZuY,EAAQ6E,UACP,I,EAGL0V,kBAAoB,SAACvO,GACf,EAAKzb,MAAMopB,WACV,EAAKppB,MAAMid,WACI/M,SAASqE,eAAT,UAA2B,EAAKvU,MAAMid,UAAtC,WACR6M,OACR,EAAKlpB,SAAS,CAAEqc,UAAW,KAAMsM,cAAc,KAE/C,EAAK3oB,SAAS,CACZ4oB,WAAY,KAAMD,cAAc,M,EAQxC1L,iBAAmB,SAACpC,EAAGV,GACrBU,EAAEzS,iBACFyS,EAAExZ,kBACF,IAAMwN,EAAU,EAAKzP,MAAM4mB,SAASnQ,MAAK,SAAAgF,GAAC,OAAIA,EAAEV,YAAcA,KACxDkP,EAAQxa,EAAQsM,KAChBmO,EAAQza,EAAQuM,KAChBmO,EAAa1O,EAAE2O,QACfC,EAAa5O,EAAE6O,QACrB,EAA2B,EAAKC,SAASxP,GAAjCwC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,OACVgN,EAAY,SAAC/O,GACjB,IAAIgP,EAAOR,EAAQE,EAAa1O,EAAE2O,QAC9BM,EAAOR,EAAQG,EAAa5O,EAAE6O,QAC9Bb,EAAgB,KAChBC,EAAgB,KACpBnM,EAAO/N,SAAQ,SAAAmb,GACV7nB,KAAKiM,IAAI4b,EAAED,GAnIQ,IAoInBA,EAAOC,EACPlB,EAAgBkB,GAEhB7nB,KAAKiM,IAAI4b,GAAGD,EAAKjb,EAAQtQ,SAvIN,IAwIpBurB,EAAOC,EAAIlb,EAAQtQ,OACnBsqB,EAAgBkB,GAEf7nB,KAAKiM,IAAI4b,GAAG,EAAED,EAAKjb,EAAQtQ,QAAQ,GA3IhB,IA4IpBurB,EAAOC,EAAI,GAAMlb,EAAQtQ,OACzBsqB,EAAgBkB,MAGpBnN,EAAOhO,SAAQ,SAAAmb,GACV7nB,KAAKiM,IAAI4b,EAAEF,GAjJQ,IAkJnBA,EAAOE,EACPjB,EAAgBiB,GAEhB7nB,KAAKiM,IAAI4b,GAAGF,EAAKhb,EAAQrQ,QArJN,IAsJpBqrB,EAAOE,EAAIlb,EAAQrQ,MACnBsqB,EAAgBiB,GAEf7nB,KAAKiM,IAAI4b,GAAG,EAAEF,EAAKhb,EAAQrQ,OAAO,GAzJf,IA0JpBqrB,EAAOE,EAAI,GAAMlb,EAAQrQ,MACzBsqB,EAAgBiB,MAGpB,IAAIC,EAAc,EAAK5qB,MAAM4mB,SAASnc,KAAI,SAAAgR,GACxC,OAAGA,EAAEV,YAAcA,EACVU,EAEA,aAAC,gBACHhM,GADL,IAEEsM,KAAM0O,EACNzO,KAAM0O,OAIZ,EAAK9pB,SAAS,CACZ4oB,WAAYzO,EACZ0O,cAAeA,EACfC,cAAeA,EACf9C,SAAUgE,KAgBd9T,OAAO3G,iBAAiB,YAAaqa,GACrC1T,OAAO3G,iBAAiB,WAbR,SAAV0a,EAAWpP,GACfA,EAAEzS,iBACFyS,EAAExZ,kBACF6U,OAAOgO,oBAAoB,YAAa0F,GACxC1T,OAAOgO,oBAAoB,UAAW+F,GACtC,EAAKjqB,SAAS,CACZ6oB,cAAe,KACfC,cAAe,KACfN,UAAU,OAMd,EAAKxoB,SAAS,CACZ4oB,WAAYzO,EACZqO,UAAU,K,EAId1N,YAAc,SAACD,EAAGV,GAChB,IAAM+P,EAAwBhU,OAAOiU,eAAeC,YAChDJ,EAAc,EAAK5qB,MAAM4mB,SAASjU,QAAO,SAAA8I,GAAC,OAAIA,EAAEV,YAAcA,KAC5DtL,EAAU,EAAKzP,MAAM4mB,SAASnQ,MAAK,SAAAgF,GAAC,OAAIA,EAAEV,YAAcA,KAC1DkQ,EAAO/a,SAASqE,eAAT,UAA2BwG,EAA3B,WACX9jB,QAAQC,IAAI+zB,EAAKC,aAAczb,EAAQtQ,QACvC,IAAIgsB,EAAY1b,EAAQmM,gBAAkBnM,EAAQtQ,OAAS8rB,EAAKC,aAChE,EAAKtqB,SAAS,CACZgmB,SAAS,GAAD,oBACHgE,GADG,8BAGDnb,GAHC,IAIJtQ,OAAQgsB,EACR5zB,KAAMkkB,EAAE9S,OAAOyiB,kBAGlB,WACD,IAAIC,EAAQnb,SAASob,cACjBC,EAAYzU,OAAOiU,eACnBtb,EAAQmM,gBASPqP,EAAKO,WAAW9mB,OAAS,GAAKumB,EAAKO,WAAW,GAAGA,WAAW9mB,OAAS,IACtE2mB,EAAMI,SAASR,EAAKO,WAAW,GAAGA,WAAW,GAAIV,GACjDO,EAAMK,UAAS,GACfH,EAAUI,kBACVJ,EAAUK,SAASP,GACnBJ,EAAK3W,SAbJ2W,EAAKO,WAAW9mB,OAAS,IAC1B2mB,EAAMI,SAASR,EAAKO,WAAW,GAAIV,GACnCO,EAAMK,UAAS,GACfH,EAAUI,kBACVJ,EAAUK,SAASP,GACnBJ,EAAK3W,a,EAcbuX,wBAA0B,SAAC9Q,GACzB,IAAI6P,EAAc,EAAK5qB,MAAM4mB,SAASjU,QAAO,SAAA8I,GAAC,OAAIA,EAAEV,YAAcA,KAC5DtL,EAAU,EAAKzP,MAAM4mB,SAASnQ,MAAK,SAAAgF,GAAC,OAAIA,EAAEV,YAAcA,KACxDkQ,EAAO/a,SAASqE,eAAT,UAA2BwG,EAA3B,WACbkQ,EAAKa,UAAYrc,EAAQlY,KACzBN,QAAQC,IAAI+zB,EAAKC,aAAczb,EAAQtQ,QACvClI,QAAQC,IAAI0zB,GACZ,EAAKhqB,SAAS,CACZgmB,SAAS,GAAD,oBACHgE,GADG,8BAGDnb,GAHC,IAIJtQ,OAAQ8rB,EAAKC,oB,EAQrBtM,YAAc,SAACgI,GACb,EAAKhmB,SAAS,CACZgmB,SAAS,GAAD,oBAAM,EAAK5mB,MAAM4mB,UAAjB,aAA8BA,IACtC4C,WAAY5C,EAASA,EAASliB,OAAO,GAAGqW,a,EAI5CgR,gBAAkB,SAAC3L,GAEjB,IADA,IAAI4L,EAAW,EAAKhsB,MAAMogB,MACjB7b,EAAI,EAAGA,EAAI6b,EAAM1b,OAAQH,IAAK,CACrC,IAAK6b,EAAM7b,GAAG4O,KAAM,OACpB6Y,EAAS3mB,KAAK+a,EAAM7b,GAAG4O,MACvBlc,QAAQC,IAAIkpB,EAAM7b,IAEpB,EAAK3D,SAAS,CAACwf,MAAO4L,K,EAKxBjH,gBAAkB,SAACtJ,EAAGkJ,EAAK5J,GACzB9jB,QAAQC,IAAI,qBACZukB,EAAEzS,iBACFyS,EAAExZ,kBACF,IAAMwN,EAAU,EAAKzP,MAAM4mB,SAASnQ,MAAK,SAAAgF,GAAC,OAAIA,EAAEV,YAAcA,KACxDkR,EAAcxc,EAAQrQ,MAAQqQ,EAAQtQ,OACtC+sB,EAAYzc,EAAQrQ,MACpB+sB,EAAa1c,EAAQtQ,OACrB8qB,EAAQxa,EAAQsM,KAChBmO,EAAQza,EAAQuM,KAChBoQ,EAAc3Q,EAAE2O,QAChBiC,EAAc5Q,EAAE6O,QAEhBgC,EAAmB,SAAC7Q,GACtB,IAAI8Q,EAAWL,EACXf,EAAYgB,EACZ1B,EAAOR,EACPS,EAAOR,EACPsC,EAAc/c,EAAQkL,SAEpB8R,EAAYhR,EAAE2O,QAAUgC,EACxBM,EAAajR,EAAE6O,QAAU+B,EAE/B,EAA2B,EAAK9B,SAASxP,GAAjCwC,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,OACZiM,EAAgB,KAChBC,EAAgB,KAEhBiD,EAAoC,UAAjBld,EAAQzZ,KAG/B,OAFGylB,EAAElF,WAAUoW,GAAoBA,GAE5BhI,GACH,IAAK,IACD4H,GAAYE,EACZjP,EAAOhO,SAAQ,SAAAmb,GACV7nB,KAAKiM,IAAI0b,EAAO8B,EAAW5B,GArTlB,IAsTV4B,EAAW5B,EAAIV,EACfP,EAAgBiB,MAGpB,MACJ,IAAK,IACDQ,GAAauB,EACbnP,EAAO/N,SAAQ,SAAAmb,GACV7nB,KAAKiM,IAAI2b,EAAOS,EAAYR,GA9TnB,IA+TVQ,EAAYR,EAAIT,EAChBT,EAAgBkB,MAGpB,MACJ,IAAK,IACD4B,GAAYE,EACZhC,GAAQgC,EACRjP,EAAOhO,SAAQ,SAAAmb,GACV7nB,KAAKiM,IAAI4b,EAAEF,GAxUF,IAyUV8B,EAAWtC,EAAQiC,EAAYvB,EAC/BF,EAAOE,EACPjB,EAAgBiB,MAGpB,MACJ,IAAK,IACDQ,GAAauB,EACbhC,GAAQgC,EACRnP,EAAO/N,SAAQ,SAAAmb,GACV7nB,KAAKiM,IAAI4b,EAAED,GAnVF,IAoVVS,EAAYjB,EAAQiC,EAAaxB,EACjCD,EAAOC,EACPlB,EAAgBkB,MAGpB,MACJ,IAAK,KACD4B,GAAYE,EACZtB,EAAYwB,EAAmBJ,EAAWN,EAAcd,EAAYuB,EACpElP,EAAOhO,SAAQ,SAAAmb,GACV7nB,KAAKiM,IAAI0b,EAAO8B,EAAW5B,GA9VlB,IA+VV4B,EAAW5B,EAAIV,EACfP,EAAgBiB,MAGpBpN,EAAO/N,SAAQ,SAAAmb,GACV7nB,KAAKiM,IAAI2b,EAAOS,EAAYR,GApWnB,IAqWVQ,EAAYR,EAAIT,EAChBT,EAAgBkB,MAGpB,MACJ,IAAK,KACD4B,GAAYE,EAEZ/B,GAAQyB,GADRhB,EAAYwB,EAAmBJ,EAAWN,EAAcd,EAAYuB,GAEpEnP,EAAO/N,SAAQ,SAAAmb,GACV7nB,KAAKiM,IAAI4b,EAAED,GA/WF,IAgXVS,EAAYjB,EAAQiC,EAAaxB,EACjCD,EAAOC,EACPlB,EAAgBkB,MAGpBnN,EAAOhO,SAAQ,SAAAmb,GACV7nB,KAAKiM,IAAI0b,EAAO8B,EAAW5B,GAtXlB,IAuXV4B,EAAW5B,EAAIV,EACfP,EAAgBiB,MAGpB,MACJ,IAAK,KACD4B,GAAYE,EACZtB,EAAYwB,EAAmBJ,EAAWN,EAAcd,EAAYuB,EACpEjC,GAAQyB,EAAYK,EACpBhP,EAAO/N,SAAQ,SAAAmb,GACV7nB,KAAKiM,IAAI2b,EAAOS,EAAYR,GAjYnB,IAkYVQ,EAAYR,EAAIT,EAChBT,EAAgBkB,MAGpBnN,EAAOhO,SAAQ,SAAAmb,GACV7nB,KAAKiM,IAAI4b,EAAEF,GAvYF,IAwYV8B,EAAWtC,EAAQiC,EAAYvB,EAC/BF,EAAOE,EACPjB,EAAgBiB,MAGpB,MACJ,IAAK,KAGDF,GAAQyB,GAFRK,GAAYE,GAGZ/B,GAAQyB,GAFRhB,EAAYwB,EAAmBJ,EAAWN,EAAcd,EAAYuB,GAGpEnP,EAAO/N,SAAQ,SAAAmb,GACV7nB,KAAKiM,IAAI4b,EAAED,GApZF,IAqZVS,EAAYjB,EAAQiC,EAAaxB,EACjCD,EAAOC,EACPlB,EAAgBkB,MAGpBnN,EAAOhO,SAAQ,SAAAmb,GACV7nB,KAAKiM,IAAI4b,EAAEF,GA3ZF,IA4ZV8B,EAAWtC,EAAQiC,EAAYvB,EAC/BF,EAAOE,EACPjB,EAAgBiB,MAGpB,MACJ,QAAS1zB,QAAQC,IAAI,cAAeytB,GAGxC,GAAoB,SAAjBlV,EAAQzZ,KAAgB,CACzB,IAAMi1B,EAAO/a,SAASqE,eAAT,UAA2BwG,EAA3B,WACTtL,EAAQmM,gBAGPqP,EAAKC,aAAeC,IACrBqB,EAAc/c,EAAQkL,SAAW,GAHnCwQ,EAAYF,EAAKC,aAQrB,IAAIN,EAAc,EAAK5qB,MAAM4mB,SAASnc,KAAI,SAAAib,GACxC,OAAGA,EAAE3K,YAAcA,EACV,6BACFtL,GADL,IAEIrQ,MAAOmtB,EACPptB,OAAQgsB,EACRpP,KAAM0O,EACNzO,KAAM0O,EACN/P,SAAU6R,IAGP9G,KAGX,EAAK9kB,SAAS,CACZwoB,UAAU,EACVxC,SAAUgE,EACVnB,cAAeA,EACfC,cAAeA,KAerB5S,OAAO3G,iBAAiB,YAAamc,GACrCxV,OAAO3G,iBAAiB,WAbR,SAAV0a,EAAWpP,GACfxkB,QAAQC,IAAI,mBACZukB,EAAEzS,iBACFyS,EAAExZ,kBACF6U,OAAOgO,oBAAoB,YAAawH,GACxCxV,OAAOgO,oBAAoB,UAAW+F,GACtC,EAAKjqB,SAAS,CACZ6oB,cAAe,KACfC,cAAe,KACfN,UAAU,Q,EAOhBlI,KAAO,SAACnG,EAAW6R,GACjB,IAAMC,EAAc,EAAK7sB,MAAM4mB,SAASnc,KAAI,SAAAgR,GAC1C,OAAGA,EAAEV,YAAcA,EACV6R,EAEAnR,KAGX,EAAK7a,SAAS,CAAEgmB,SAAUiG,EAAa5P,UAAW,Q,EAKpD0K,iBAAmB,WACjB,EAAK/mB,SAAS,CAAC+oB,iBAAiB,K,EAGlCrK,gBAAkB,WAChB,EAAK1e,SAAS,CAAC+oB,iBAAiB,K,EAKlC/B,YAAc,SAAChB,EAAUtK,EAAWwQ,GAQlC,MALqB,uBAChBlG,EAASjU,QAAO,SAAA8I,GAAC,MAAe,SAAXA,EAAEzlB,SADP,aAEhB4wB,EAASjU,QAAO,SAAA8I,GAAC,MAAe,SAAXA,EAAEzlB,UAGLyU,KAAI,SAAAgR,GAEzB,OAAOA,EAAEzlB,MACP,IAAK,OACH,OACE,kBAAC,GAAD,CACEsmB,UAAWA,EACXyQ,iBAAkB,EAAK/sB,MAAMid,YAAcxB,EAAEV,UAC7C/kB,KAAK,OACL+O,IAAG,UAAKuX,EAAY,OAAS,GAA1B,YAAgCb,EAAEV,WACrCtL,QAASgM,EACTwB,UAAW,EAAKjd,MAAMid,UACtBnX,SAAU2V,EAAEV,YAAc,EAAK/a,MAAMwpB,WACrCjN,YAAa,EAAKvc,MAAMuc,YACxB2E,KAAM,EAAKA,KACXzZ,OAAQ,EAAKA,OACbuW,cAAe,EAAKA,cACpBH,iBAAkB,EAAKA,iBACvBnC,YAAa,EAAKA,YAClB4B,cAAe,CAACK,EAAG,EAAK3d,MAAMypB,cAAe/L,EAAG,EAAK1d,MAAM0pB,iBAGjE,IAAK,OACD,OACE,kBAAC,GAAD,CACEpN,UAAWA,EACXyQ,iBAAkB,EAAK/sB,MAAMid,YAAcxB,EAAEV,UAC7C/kB,KAAK,OACL+O,IAAG,UAAKuX,EAAY,OAAS,GAA1B,YAAgCb,EAAEV,WACrCtL,QAASgM,EACT3V,SAAU2V,EAAEV,YAAc,EAAK/a,MAAMwpB,WACrCjN,YAAa,EAAKvc,MAAMuc,YACxB9U,OAAQ,EAAKA,OACboW,iBAAkB,EAAKA,iBACvBP,cAAe,CAACK,EAAG,EAAK3d,MAAMypB,cAAe/L,EAAG,EAAK1d,MAAM0pB,iBAGnE,IAAK,QACH,OACE,kBAAC,GAAD,CACEpN,UAAWA,EACXyQ,iBAAkB,EAAK/sB,MAAMid,YAAcxB,EAAEV,UAC7C/kB,KAAK,QACL+O,IAAG,UAAKuX,EAAY,OAAS,GAA1B,YAAgCb,EAAEV,WACrCtL,QAASgM,EACT3V,SAAU2V,EAAEV,YAAc,EAAK/a,MAAMwpB,WACrCjN,YAAa,EAAKvc,MAAMuc,YACxB9U,OAAQ,EAAKA,OACboW,iBAAkB,EAAKA,iBACvBT,YAAa0P,EACbxP,cAAe,CAACK,EAAG,EAAK3d,MAAMypB,cAAe/L,EAAG,EAAK1d,MAAM0pB,iBAGjE,QAA+C,OAAtCzyB,QAAQC,IAAI,yBAAiC,U,EAK5D+qB,YAAc,SAACxS,GACbxY,QAAQC,IAAI,gBACZ,IAAIgrB,EAAU,GACNlG,EAAwCvM,EAAxCuM,KAAMD,EAAkCtM,EAAlCsM,KAAM5c,EAA4BsQ,EAA5BtQ,OAAQC,EAAoBqQ,EAApBrQ,MAAO6c,EAAaxM,EAAbwM,SAC7BkG,EAAUpG,EAAO,GAAM3c,EACvBgjB,EAAUpG,EAAO,GAAM7c,EACvBkjB,EAAMvf,KAAKwf,KAAK,SAACnjB,EAAO,EAAM,GAAd,SAAmBC,EAAM,EAAM,IAI/CmjB,EAD4C,IAA5Bzf,KAAK0f,KAAKpjB,EAAQD,GAAgB2D,KAAK2f,GAC/BxG,EACxByG,EAAUL,EAAMvf,KAAK6f,IAAc,EAAV7f,KAAK2f,GAASF,EAAO,KAC9CK,EAAUP,EAAMvf,KAAK+f,IAAc,EAAV/f,KAAK2f,GAASF,EAAO,KACpDL,EAAQ7c,KAAK,CAAEkG,EAAG4W,EAAUO,EAASnN,EAAG6M,EAAUQ,IAClDV,EAAQ7c,KAAK,CAAEkG,EAAG4W,EAAUO,EAASnN,EAAG6M,EAAUQ,IAGlD,IACME,EAD8C,IAA9BhgB,KAAK0f,MAAOpjB,EAAQD,GAAgB2D,KAAK2f,GACjCxG,EACxB8G,EAAUV,EAAMvf,KAAK6f,IAAc,EAAV7f,KAAK2f,GAASK,EAAO,KAC9CE,EAAUX,EAAMvf,KAAK+f,IAAc,EAAV/f,KAAK2f,GAASK,EAAO,KAGpD,OAFAZ,EAAQ7c,KAAK,CAAEkG,EAAG4W,EAAUY,EAASxN,EAAG6M,EAAUY,IAClDd,EAAQ7c,KAAK,CAAEkG,EAAG4W,EAAUY,EAASxN,EAAG6M,EAAUY,IAC3Cd,G,EAGTe,SAAW,SAACf,GACV,IAAIpe,EAAO,IACP0B,EAAM,IACN0d,GAAS,IACTC,GAAU,IAQd,OAPAjB,EAAQ1S,SAAS,SAAA4T,GACf,IAAQ7X,EAAS6X,EAAT7X,EAAGgK,EAAM6N,EAAN7N,EACRhK,EAAIzH,IAAMA,EAAOyH,GACjBA,EAAI2X,IAAOA,EAAQ3X,GACnBgK,EAAI/P,IAAKA,EAAM+P,GACfA,EAAI4N,IAAQA,EAAS5N,MAEnB,CAAE/P,MAAK2d,SAAQrf,OAAMof,U,EAG9BqH,SAAW,SAACyC,GACV,IAAIzP,EAAS,GACTC,EAAS,GAsBb,OArBA,EAAKxd,MAAM4mB,SAASpX,SAAQ,SAAAC,GAC1B,GAAGud,IAAcvd,EAAQsL,UAAU,CACjC,IAAQiB,EAA8BvM,EAA9BuM,KAAMD,EAAwBtM,EAAxBsM,KAAM5c,EAAkBsQ,EAAlBtQ,OACdgjB,EAAUpG,EAAO,GADetM,EAAVrQ,MAEtBgjB,EAAUpG,EAAO,GAAM7c,EACvB+iB,EAAU,EAAKD,YAAYxS,GACjC,EAAqC,EAAKwT,SAASf,GAA3C1c,EAAR,EAAQA,IAAK2d,EAAb,EAAaA,OAAQrf,EAArB,EAAqBA,KAAMof,EAA3B,EAA2BA,MAE3B3F,EAAOlY,KAAKG,GACZ+X,EAAOlY,KAAK+c,GACZ7E,EAAOlY,KAAK8d,GAEZ3F,EAAOnY,KAAKvB,GACZ0Z,EAAOnY,KAAK8c,GACZ3E,EAAOnY,KAAK6d,OAGF,CACZ3F,OAAO,aAAK,IAAI0P,IAAI1P,IACpBC,OAAO,aAAK,IAAIyP,IAAIzP,M,EAKxB0P,uBAAyB,SAACnS,GACxB,IAAI,EAAK/a,MAAMypB,gBAAkB,EAAKzpB,MAAMypB,cAAe,OAAO,EAClE,GAAG1O,IAAc,EAAK/a,MAAMwpB,WAAY,OAAO,EAC/C,IAAM/Z,EAAU,EAAKzP,MAAM4mB,SAASnQ,MAAK,SAAAgF,GAAC,OAAIA,EAAEV,YAAcA,KAC1DwC,EAAS,GACTC,EAAS,GAYb,OAXAD,EAAOlY,KAAKoK,EAAQuM,MACpBuB,EAAOlY,KAAKoK,EAAQuM,KAAOvM,EAAQtQ,QACnCoe,EAAOlY,MAAM,EAAGoK,EAAQuM,KAAOvM,EAAQtQ,QAAQ,GAC/Cqe,EAAOnY,KAAKoK,EAAQsM,MACpByB,EAAOnY,KAAKoK,EAAQsM,KAAOtM,EAAQrQ,OACnCoe,EAAOnY,MAAM,EAAGoK,EAAQsM,KAAOtM,EAAQrQ,OAAO,GAC9CnI,QAAQC,IAAIuY,GACZxY,QAAQC,IAAIqmB,GACZtmB,QAAQC,IAAIsmB,GACZvmB,QAAQC,IAAI,EAAK8I,MAAM0pB,eACvBzyB,QAAQC,IAAIsmB,EAAOC,SAAS,EAAKzd,MAAM0pB,kBACpCnM,EAAOE,SAAS,EAAKzd,MAAMypB,kBAC3BjM,EAAOC,SAAS,EAAKzd,MAAM0pB,gB,EAIhCyD,YAAc,WACZ,IAAIC,EAAQ,GAqBZ,OApBG,EAAKptB,MAAMypB,eACZ2D,EAAM/nB,KACJ,kBAAC,GAAD,CACEN,IAAG,aAAQ,EAAK/E,MAAMypB,eACtBjkB,IAAK,EAAKxF,MAAMypB,cAChB3lB,KAAM,EACNyY,YAAa,EAAKvc,MAAMuc,eAI3B,EAAKvc,MAAM0pB,eACZ0D,EAAM/nB,KACJ,kBAAC,GAAD,CACEN,IAAG,aAAQ,EAAK/E,MAAM0pB,eACtBlkB,IAAK,EACL1B,KAAM,EAAK9D,MAAM0pB,cACjBnN,YAAa,EAAKvc,MAAMuc,eAIvB6Q,G,EAITC,MAAQ,SAAC5R,GAEP,GADAA,EAAExZ,kBACCwZ,EAAE6R,SAAwB,IAAb7R,EAAEzM,OAChB/X,QAAQC,IAAI,OAAQukB,EAAEzM,OAAS,EAAI,KAAK,MAAO,WAAYyM,EAAEzM,YACxD,CAEL,IAAIue,EAAa,EAAKvtB,MAAMuc,YAAYC,QAAUf,EAAE+R,OAChDC,EAAa,EAAKztB,MAAMuc,YAAYE,QAAUhB,EAAEzM,QACjDue,EAAa,KAASA,GAAc,OAAOA,EAAa,EAAKvtB,MAAMuc,YAAYC,UAC/EiR,EAAa,KAASA,GAAc,OAAOA,EAAa,EAAKztB,MAAMuc,YAAYE,SAClF,EAAK7b,SAAS,CACZ2b,YAAa,CACXC,QAAS+Q,EACT9Q,QAASgR,O,EAMjBC,iBAAmB,WAUjB,MATa,CACX5pB,KAAK,GAAD,OAAK,EAAK9D,MAAMuc,YAAYC,QAA5B,MACJhX,IAAI,GAAD,OAAK,EAAKxF,MAAMuc,YAAYE,QAA5B,MACH1d,SAAU,WACVI,OAAQ,MACRC,MAAO,MACPud,gBAAiB,MACjBzY,OAAQ,M,EAKZypB,eAAiB,WACf,MAA6B,EAAK3tB,MAAMuc,YAAhCC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,QAQjB,MAPa,CACX1d,SAAU,WACV+E,KAAK,GAAD,QAAM,IAAQ0Y,EAAd,MACJhX,IAAI,GAAD,QAAM,IAAQiX,EAAd,MACHtd,OAAO,GAAD,OAAK,MAAL,MACNC,MAAM,GAAD,OAAK,MAAL,Q,4CAMT,WAAU,IAAD,OACDyI,EAAe,CAACxJ,KAAQirB,SACA,WAA1B7qB,KAAKC,MAAMmQ,YAAyBhH,EAAaxC,KAAKhH,KAAQuvB,aACpC,SAA1BnvB,KAAKC,MAAMmQ,YAAuBhH,EAAaxC,KAAKhH,KAAQmc,SAChE,IAAM1U,EAAWrH,KAAKuB,MAAM4mB,SAASnQ,MAAK,SAAAgF,GAAC,OAAIA,EAAEV,YAAc,EAAK/a,MAAMwpB,cAC1E,OACE,yBACEprB,UAAWyJ,EAAaT,KAAK,KAC7BymB,aAAc,SAAApS,GAAC,OAAIxkB,QAAQC,IAAI,gBAC/B42B,WAAY,SAAArS,GAAC,OAAIxkB,QAAQC,IAAI,cAC7B62B,QAAStvB,KAAK4uB,OAEd,kBAAC,GAAD,CAAgBpE,WAAYxqB,KAAKstB,iBAC/B,kBAAC,GAAD,CACEnN,YAAangB,KAAKmgB,YAClBU,gBAAiB7gB,KAAK6gB,kBAGtB7gB,KAAKuB,MAAM2pB,iBACT,kBAAC,GAAD,CACEhC,iBAAkBlpB,KAAKkpB,iBACvBC,YAAanpB,KAAKmpB,YAClBhB,SAAUnoB,KAAKuB,MAAM4mB,WAG3B,yBAAKxoB,UAAWC,KAAQ2vB,QAEpBloB,GACE,kBAAC,GAAD,CACE2J,QAAS3J,EACTmX,UAAWxe,KAAKuB,MAAMid,UACtBV,YAAa9d,KAAKuB,MAAMuc,YACxBwI,gBAAiBtmB,KAAKsmB,gBACtBlH,iBAAkBpf,KAAKof,iBACvBG,cAAevf,KAAKuf,gBAGxBvf,KAAKmpB,YAAYnpB,KAAKuB,MAAM4mB,UAK9B,yBACEzI,UAAW1f,KAAKurB,kBAChB5rB,UAAWC,KAAQ4vB,KACnBpqB,MAAOpF,KAAKkvB,mBAEZlvB,KAAK0uB,eAGT,kBAAC,GAAD,CACEjM,KAAMziB,KAAKyiB,KACXzR,QAAS3J,U,GAjwBClH,aAyxBPmB,gBAhBS,SAAAC,GACtB,MAAO,CACL6O,WAAY7O,EAAMuD,GAAGsL,WACrBvL,SAAUtD,EAAMuD,GAAGsL,WACnB7I,QAAShG,EAAMvH,KAAKy1B,0BACpBnW,KAAM/X,EAAMvH,KAAK01B,uBACjBC,eAAgBpuB,EAAMvH,KAAK21B,mBAIJ,SAAA93B,GACzB,MAAO,CACL+3B,qBAAsB,SAACvxB,GAAD,OAAWxG,ElCjYH,SAACwG,GAC/B,OAAO,SAAAxG,GACHW,QAAQC,IAAI,2BACZZ,EAAS0H,MACT,IACMvE,EAAO,CAACqD,MAAOA,GAErBtG,IAAMwC,KAHM,uBAGIS,EADA,IAEf/C,MAAK,SAAAwC,GACF5C,EAAS2H,SACVlH,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZ,IAAMW,EAAUX,EAAIL,UAAWK,EAAIL,SAASE,MAAOG,EAAIL,SAASE,KAAKc,QAAUX,EAAIL,SAASE,KAAKc,QAAwB,KACzHrB,EAAS4H,GAAyBvG,QkCoXAuI,CAA2BpD,QAI1DiD,CAA6CupB,I,6BClyBtDgF,G,4JACJ,WAAU,IAAD,OACDC,EAAoB9vB,KAAKC,MAAMf,cAAcgV,QAAO,SAAAC,GACxD,QAAGA,EAAE5c,KAAKsJ,WAAW,kBAClBsT,EAAE5c,KAAKsJ,WAAW,eAGjBkvB,EAAoBD,EAAkB7pB,OAAS,GACnDrG,KAAQyU,aAAeyb,EAAkB7pB,OAAS,EAChDrG,KAAQ0U,YAAc1U,KAAQ2U,YAClC,OACE,yBAAK5U,UAAWC,KAAQiwB,YACtB,6BACE,4BACA,4BACI,kBAAC,KAAD,CAASzqB,MAAO,CAAE+Y,eAAgB,QAAU6R,GAAG,YAC7C,0BACErwB,UAAqC,YAA1BK,KAAKC,MAAMmQ,WAA2BxQ,KAAQ2T,OAAS3T,KAAQqwB,SAC1E5tB,QAAS,kBAAM,EAAKpC,MAAMiwB,YAAY,aAFxC,aAQJ,4BACE,kBAAC,KAAD,CAAS9qB,MAAO,CAAE+Y,eAAgB,OAAQ7d,SAAU,YAAc0vB,GAAG,SAEjEF,EAAkB7pB,OAAS,EACvB,yBAAKtG,UAAWowB,GACd,0BAAMpwB,UAAWC,KAAQyV,mBACtBya,EAAkB7pB,SAGvB,KAEN,0BACEtG,UAAqC,SAA1BK,KAAKC,MAAMmQ,WAAwBxQ,KAAQ2T,OAAS3T,KAAQqwB,SACvE5tB,QAAS,WACP,EAAKpC,MAAMiwB,YAAY,QACvBze,SAASqE,eAAe,YAAYD,UAJxC,UAWJ,4BACE,kBAAC,KAAD,CAASzQ,MAAO,CAAE+Y,eAAgB,QAAU6R,GAAG,WAC7C,0BACErwB,UAAqC,WAA1BK,KAAKC,MAAMmQ,WAA0BxQ,KAAQ2T,OAAS3T,KAAQqwB,SACzE5tB,QAAS,kBAAM,EAAKpC,MAAMiwB,YAAY,YAFxC,mB,GAhDS/vB,aA+EVmB,gBAhBS,SAAAC,GACtB,MAAO,CACL6O,WAAY7O,EAAMuD,GAAGsL,WACrBvL,SAAUtD,EAAMuD,GAAGD,SACnB0S,eAAgBhW,EAAM5G,KAAK4c,eAE3BrY,cAAeqC,EAAMvH,KAAKkF,kBAIH,SAAArH,GACzB,MAAO,CACLq4B,YAAa,SAAC54B,GAAD,OAASO,EAASs4B,EAAoB74B,QAIxCgK,CAA6CuuB,I,oBC/EtDO,G,4MAEJ9c,UAAY,WACV,IAAIhK,EACAkK,EAAc,kBAAMhb,QAAQC,IAAI,0BAwBpC,OArBI,EAAKwH,MAAMwT,QAAQzL,MAAK,SAAA9M,GAAM,OAAIA,EAAOlC,SAAW,EAAKiH,MAAMjH,YACjEsQ,EAAa,MACbkK,EAAc,kBAAM,EAAKvT,MAAMyT,oBAAoB,EAAKzT,MAAMjG,SAI7D,EAAKiG,MAAM2T,sBAAsB5L,MAAK,SAAAhO,GAAI,OAAIA,EAAKhB,SAAW,EAAKiH,MAAMjH,WACzE,EAAKiH,MAAM4T,wBAAwB7L,MAAK,SAAAhO,GAAI,OAAIA,EAAKhB,SAAW,EAAKiH,MAAMjH,aACzEsQ,EAAW,WAIb,EAAKrJ,MAAM0T,mBAAmB3L,MAAK,SAAAhO,GAAI,OAAIA,EAAKhB,SAAW,EAAKiH,MAAMjH,YACvEsQ,EAAa,QAIZ,EAAKrJ,MAAM6T,uBAAuB9L,MAAK,SAAAhO,GAAI,OAAIA,EAAKhB,SAAW,EAAKiH,MAAMjH,YAC3EsQ,EAAW,WACXkK,EAAc,kBAAM,EAAKvT,MAAM8T,sBAAsB,EAAK9T,MAAMjG,QAE9DsP,EAGK,kBAAC,GAAD,CAAW/R,KAAM+R,EAAY3D,QAAS6N,IAFtC,M,EAMX7N,QAAU,WACR,IAAM0qB,EAAe,EAAKpwB,MAAMsV,MAAMyC,MAAK,SAAArd,GAAI,OAAIA,EAAK6Z,QAAQxM,MAAK,SAAAhO,GAAI,OAAIA,EAAKhB,SAAW,EAAKiH,MAAMjH,aACxG,GAAGq3B,EACD,EAAKpwB,MAAMwV,aAAa4a,EAAax3B,QACrC,EAAKoH,MAAMqwB,0BACR,CACH,IAAM52B,EAAO,CACXgb,KAAM,EAAKzU,MAAMswB,SACjB7xB,OAAQ,EAAKuB,MAAMuwB,WACnBx3B,OAAQ,EAAKiH,MAAMiF,OACnB2P,WAAY,EAAK5U,MAAMwwB,iBAEnB52B,EAAc,EAAKoG,MAAMjG,KAC/B,EAAKiG,MAAMywB,kBAAkB72B,EAAaH,GAC1C,EAAKuG,MAAMqwB,wB,4CAIf,WACE,IAAMpyB,EAAgB8B,KAAKC,MAAM4U,WAAa,UAAG/T,2EAAsDd,KAAKC,MAAMjH,OAAS8b,KAC3H,OACE,yBAAKzS,QAASrC,KAAK2F,QAAShG,UAAWC,KAAQoT,UAC7C,yBAAKpS,IAAK1C,EAAe+C,IAAI,IAAItB,UAAWC,KAAQqV,aACpD,yBAAKtV,UAAWC,KAAQsV,MACtB,wBAAIvV,UAAWC,KAAQuV,MAAOnV,KAAKC,MAAMyU,MACzC,uBAAG/U,UAAWC,KAAQwV,SAAtB,IAAiCpV,KAAKC,MAAMvB,SAE7CsB,KAAKsT,iB,GA9DSnT,aAyGRmB,gBArCS,SAAAC,GACtB,MAAO,CACLsD,SAAUtD,EAAMuD,GAAGD,SACnBkQ,cAAexT,EAAM5G,KAAKoa,cAC1B4b,cAAepvB,EAAMvH,KAAKhB,OAC1Bgb,eAAgBzS,EAAM5G,KAAKqZ,eAC3BsB,iBAAkB/T,EAAM5G,KAAK2a,iBAC7Bpb,MAAOqH,EAAMvH,KAAKE,MAClBqb,MAAOhU,EAAM5G,KAAK4a,MAClBC,SAAUjU,EAAM5G,KAAK6a,SAErBtQ,OAAQ3D,EAAMvH,KAAKhB,OACnBu3B,SAAUhvB,EAAMvH,KAAK0a,KACrB8b,WAAYjvB,EAAMvH,KAAK0E,OACvB+xB,gBAAiBlvB,EAAMvH,KAAKmL,cAE5BsO,QAASlS,EAAM5G,KAAK8Y,QACpBI,wBAAyBtS,EAAM5G,KAAKkZ,wBACpCD,sBAAuBrS,EAAM5G,KAAKiZ,sBAClCD,mBAAoBpS,EAAM5G,KAAKgZ,mBAC/BG,uBAAwBvS,EAAM5G,KAAKmZ,2BAKZ,SAAAjc,GACzB,MAAO,CACL64B,kBAAmB,SAAC72B,EAAaH,GAAd,OAAuB7B,EAAS4J,EAAwB5H,EAAaH,KACxF+b,aAAc,SAAC5c,GAAD,OAAYhB,EAAS4J,EAAmB5I,KAEtD6a,oBAAqB,SAAC1Z,GAAD,OAAUnC,EAAS4J,EAA0BzH,KAClE+Z,sBAAuB,SAAC/Z,GAAD,OAAUnC,EAAS4J,EAA4BzH,KAEtEs2B,oBAAqB,kBAAMz4B,ExCnDpB,CACHN,KCxCgC,6BuC8FzB+J,CAA6C8uB,I,oBCzGtDQ,G,4MAEFrvB,MAAQ,CACNqU,YAAa,GACbD,WAAW,G,EAGbsQ,kBAAoB,WACe,eAA9B,EAAKhmB,MAAMsX,gBACZ,EAAKtX,MAAMuX,mB,EAIf7K,mBAAqB,WACnBnU,QAAQC,O,EAGVo4B,YAAc,WACZ,IAAIrb,EAAW,KAoCf,MAnCiC,YAA9B,EAAKvV,MAAMsX,iBACZ/B,EACA,yBAAK7V,UAAWC,KAAQqW,iBACtB,kBAAC,KAAD,CACEtW,UAAWC,KAAQY,QACnBjJ,KAAK,YACLkJ,MAAM,UACNC,OAAQ,GACRC,MAAO,OAGoB,WAA9B,EAAKV,MAAMsX,iBACZ/B,EACA,6BAEI,EAAKvV,MAAMuV,SACVtB,QAAO,SAAAla,GACN,OAAOA,EAAK0a,KAAKoc,cAAc9R,SAAS,EAAKzd,MAAMqU,YAAYkb,gBACpD92B,EAAKhB,SAAW,EAAKiH,MAAM8wB,gBAC1B,EAAK9wB,MAAMwT,QAAQzL,MAAK,SAAAgpB,GAAC,OAAIA,EAAEh4B,SAAWgB,EAAKhB,aAE5DgT,KAAI,SAAAhS,GACH,OACE,kBAAC,GAAD,eACEA,KAAMA,GACFA,EAFN,CAGEyd,SAAU,EAAKxX,MAAMwX,SACrBnR,IAAK,IAAMtM,EAAKhB,OAChB2b,QAAS3a,EAAK0E,eAOnB8W,G,EAGTyb,WAAa,WAeX,OAdgB,EAAKhxB,MAAMwT,QAC1BS,QAAO,SAAAhZ,GAAM,OAAIA,EAAOwZ,KAAKoc,cAAc9R,SAAS,EAAKzd,MAAMqU,YAAYkb,kBAE3E9kB,KAAI,SAAA9Q,GACH,OACE,kBAAC,GAAD,eACElB,KAAMkB,GACFA,EAFN,CAGEuc,SAAU,EAAKxX,MAAMwX,SACrBnR,IAAK,IAAMpL,EAAOlC,OAClB2b,QAASzZ,EAAOwD,c,EAOxB8X,cAAgB,SAACjT,GACf,EAAKpB,SAAS,CAACyT,YAAarS,EAAM2G,OAAOC,S,EAa3CmM,eAAiB,WACf,OAAG,EAAK/U,MAAMoU,UAEV,2BACAub,WAAW,QACXxlB,YAAa,gCACb9C,IAAK,SAAC2N,GAAY,EAAKX,YAAcW,GACrChf,KAAK,OACL4S,MAAO,EAAK5I,MAAMqU,YAClBnK,SAAU,EAAK+K,cACf7W,UAAWC,KAAQ6W,cAGhB,M,mDAvBT,WACE,OACE,yBAAK9W,UAAWC,KAAQuX,WAAYxW,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC/F,uBAAGhK,GAAG,eACN,0BAAMA,GAAG,0BAA0BoO,SAAS,UAAUC,SAAS,UAAUpE,EAAE,keAAkeF,KAAM,gB,oBAsBzjB,WACI,OACI,6BACE,kBAACsC,GAAD,CAAU2I,KAAMrO,KAAKC,MAAM4R,UAAWlM,QAAS3F,KAAKC,MAAMkxB,qBAC1D,yBAAKxxB,UAAWC,KAAQ6pB,OACtB,wCACA,yBAAK9pB,UAAWC,KAAQwxB,iBACrBpxB,KAAKqxB,gBACLrxB,KAAKsW,kBAER,yBAAK3W,UAAWC,KAAQwX,iBACrBpX,KAAKixB,aACLjxB,KAAK6wB,qB,GArHG1wB,aA0JZmB,gBA5BS,SAAAC,GACpB,MAAO,CACHwvB,cAAexvB,EAAMvH,KAAKhB,OAE1Bue,eAAgBhW,EAAM5G,KAAK4c,eAC3B/B,SAAUjU,EAAM5G,KAAK6a,SAErB/B,QAASlS,EAAM5G,KAAK8Y,QACpB8B,MAAOhU,EAAM5G,KAAK4a,MAElB3B,sBAAuBrS,EAAM5G,KAAKiZ,sBAClCD,mBAAoBpS,EAAM5G,KAAKgZ,mBAC/B2d,oBAAqB/vB,EAAM5G,KAAK22B,oBAEhCxd,uBAAwBvS,EAAM5G,KAAKmZ,uBAEnC5Z,MAAOqH,EAAMvH,KAAKE,UAIC,SAAArC,GACzB,MAAO,CACL2f,gBAAiB,kBAAM3f,EAAS4J,MAChC0vB,mBAAoB,kBAAMt5B,EzCnGnB,CACHN,KCxCgC,0BwC2IpCmc,oBAAqB,SAAC1a,EAAQkB,GAAT,OAAmBrC,EAAS4J,EAA0BzI,QAIhEsI,CAA6CsvB,I,wCC3JtD5d,G,4MAEJrN,QAAU,WACL,EAAK1F,MAAMsxB,YAAYvpB,MAAK,SAAA3O,GAAE,OAAIA,IAAO,EAAK4G,MAAMpH,UACrD,EAAKoH,MAAMuxB,qBAAqB,EAAKvxB,MAAMpH,QAE3C,EAAKoH,MAAMwxB,mBAAmB,EAAKxxB,MAAMpH,S,4CAK7C,WAAU,IAAD,OACDqF,EAAgB8B,KAAKC,MAAM4U,WAAa,UAAG/T,2EAAsDd,KAAKC,MAAMjH,OAAS8b,KACrHzN,EAAWrH,KAAKC,MAAMsxB,YAAYvpB,MAAK,SAAA3O,GAAE,OAAIA,IAAO,EAAK4G,MAAMpH,UACrE,OACE,yBAAKwJ,QAASrC,KAAK2F,QAAShG,UAAS,UAAKC,KAAQoT,SAAb,YAAyB3L,EAAWzH,KAAQyH,SAAW,KAC1F,yBAAKzG,IAAK1C,EAAe+C,IAAI,IAAItB,UAAWC,KAAQqV,aACpD,yBAAKtV,UAAWC,KAAQsV,MACtB,wBAAIvV,UAAWC,KAAQuV,MAAOnV,KAAKC,MAAMyU,MACzC,uBAAG/U,UAAWC,KAAQwV,SAAtB,IAAiCpV,KAAKC,MAAMvB,c,GAnB/ByB,aAyCRmB,gBAfS,SAAAC,GACtB,MAAO,CACLsD,SAAUtD,EAAMuD,GAAGD,SACnB0sB,YAAahwB,EAAMC,OAAO+vB,gBAIH,SAAA15B,GACzB,MAAO,CACL45B,mBAAoB,SAAC54B,GAAD,OAAYhB,EvCsWJ,SAACgB,GAC7B,MAAO,CACHtB,KFvT6B,oBEwT7BsB,UuCzWqC4I,CAAyB5I,KAClE24B,qBAAsB,SAAC34B,GAAD,OAAYhB,EvC4WJ,SAACgB,GAC/B,MAAO,CACHtB,KF7T+B,sBE8T/BsB,UuC/WuC4I,CAA2B5I,KACtEy3B,oBAAqB,kBAAMz4B,E1CcpB,CACHN,KCxCgC,6ByC6BzB+J,CAA6C0R,ICvCtD0e,G,4MAEFnwB,MAAQ,CACNqU,YAAa,GACbD,WAAW,G,EAGbsQ,kBAAoB,WACe,eAA9B,EAAKhmB,MAAMsX,gBACZ,EAAKtX,MAAMuX,mB,EAIfyZ,WAAa,WAcX,OAbgB,EAAKhxB,MAAMwT,QAC1BS,QAAO,SAAAhZ,GAAM,OAAIA,EAAOwZ,KAAKoc,cAAc9R,SAAS,EAAKzd,MAAMqU,YAAYkb,kBAE3E9kB,KAAI,SAAA9Q,GACH,OACE,kBAAC,GAAD,eACElB,KAAMkB,GACFA,EAFN,CAGEoL,IAAK,IAAMpL,EAAOlC,OAClB2b,QAASzZ,EAAOwD,c,EAOxBqX,SAAW,WACT,OAAO,EAAK9V,MAAMsV,MAAMvJ,KAAI,SAAArR,GAC1B,IAAMd,EAAcc,EAAK6Z,QAAQwD,MAAK,SAAAvD,GAAC,OAAIA,EAAEzb,SAAW,EAAKiH,MAAMjH,UACnE,OACE,kBAAC,GAAD,eACEH,OAAQ8B,EAAK9B,OACbmB,KAAMH,GACFA,EAHN,CAIEyM,IAAK3L,EAAK9B,c,EAKlB2d,cAAgB,SAACjT,GACf,EAAKpB,SAAS,CAACyT,YAAarS,EAAM2G,OAAOC,S,EAG3CknB,cAAgB,WACd,OACE,yBAAK1xB,UAAWC,KAAQuX,WAAYxW,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAC/F,uBAAGhK,GAAG,eACN,0BAAMA,GAAG,0BAA0BoO,SAAS,UAAUC,SAAS,UAAUpE,EAAE,keAAkeF,KAAM,e,EAMzjBwM,KAAO,WACL,EAAK3P,MAAM0xB,WAAW,EAAK1xB,MAAMsxB,YAAa,EAAKtxB,MAAMoK,eAAe,GAAGhR,GAAI,EAAK4G,MAAM2E,MAAO,EAAK3E,MAAMjH,QAC5GyY,SAASqE,eAAe,YAAYD,S,4CAGtC,WAAU,IAAD,OACC+b,EAAc5xB,KAAKC,MAAMsxB,YAC5BvlB,KAAI,SAAA6lB,GACH,OAAO,EAAK5xB,MAAMsV,MAAMyC,MAAK,SAAArd,GAAI,OAAIA,EAAK9B,SAAWg5B,KAAUnd,QAEhE1I,KAAI,SAAA0I,GAAI,OAAIA,EAAK7N,MAAM,KAAK,MAE/B,OACI,6BACE,kBAACnB,GAAD,CAAU2I,KAAMrO,KAAKC,MAAM4R,UAAWlM,QAAS3F,KAAKC,MAAM6xB,mBAC1D,yBAAKnyB,UAAWC,KAAQ6pB,OACtB,2CACA,yBAAK9pB,UAAWC,KAAQwxB,iBACrBpxB,KAAKqxB,gBACN,2BACE3lB,YAAa,gCACb9C,IAAK,SAAC2N,GAAY,EAAKX,YAAcW,GACrChf,KAAK,OACL4S,MAAOnK,KAAKuB,MAAMqU,YAClBnK,SAAUzL,KAAKwW,cACf7W,UAAWC,KAAQ6W,eAEvB,yBAAK9W,UAAWC,KAAQwX,iBACrBpX,KAAK+V,YAER,kBAAC,GAAD,CACEtI,OAAO,EACP9H,QAAS,kBAAM,EAAKiK,KAAK,EAAK3P,MAAMoK,eAAe,GAAGhR,KACtDmQ,SAA4C,IAAlCxJ,KAAKC,MAAMsxB,YAAYtrB,QAE/BjG,KAAKC,MAAMsxB,YAAYtrB,OAAS,EAC9B,uCAAa2rB,EAAYjpB,KAAK,OAC9B,2C,GA9FExI,aA8HTmB,gBAtBS,SAAAC,GACpB,MAAO,CACHgU,MAAOhU,EAAM5G,KAAK4a,MAElBvc,OAAQuI,EAAMvH,KAAKhB,OACnBkB,MAAOqH,EAAMvH,KAAKE,MAElBmQ,eAAgB9I,EAAMC,OAAO6I,eAC7BknB,YAAahwB,EAAMC,OAAO+vB,gBAKP,SAAA15B,GACzB,MAAO,CACL85B,WAAY,SAACI,EAASx1B,EAAQqI,EAAOM,GAAzB,OAAoCrN,ExCgS5B,SAACk6B,EAASx1B,EAAQqI,EAAO5L,GAC7C,OAAO,SAAAnB,GACH,IAAMkB,EAAM,UAAM0R,KAAKC,OACjBxR,EAAU,CACZG,GAAIN,EACJxB,KAAM,OACNujB,OAAQ9hB,EACRg5B,SAAUvnB,KAAKC,MACfunB,MAAO,GACPrtB,QACArI,UAEJ1E,EHjZG,CACHN,KCrB4B,qBEsa5BM,EAASR,EAAU,SACnBQ,EAAS2F,MACT3F,ED5KqB,SAACq6B,EAASh5B,GACnC,MAAO,CACH3B,KDjG2B,kBCkG3B26B,UACAh5B,WCwKSi5B,CAAcJ,EAAS74B,IAChC,IACMgB,EAAQC,aAAaC,QAAQ,SAC7BC,EAAU,CAAEA,QAAS,CAAEC,cAAa,iBAAaJ,KACjDc,EAAO,CACTk3B,QAASH,EACTx1B,UAEJxE,IAAMwC,KAPG,wBAOOS,EAAMX,GACrBpC,MAAK,SAAAwC,GACFjC,QAAQC,IAAIgC,EAAIrC,MAChBP,ED/KmB,SAACu6B,EAAqBC,EAAkBt5B,GACnE,MAAO,CACHxB,KDxG6B,oBCyG7B66B,sBACAC,mBACAt5B,UC0Kau5B,CAAgB73B,EAAIrC,KAAKg6B,oBAAqB33B,EAAIrC,KAAKi6B,iBAAkBt5B,OACnFT,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZV,EDxKD,CACHN,KDhH4B,yB0CtCyBkK,CAAiBswB,EAASx1B,EAAQqI,EAAOM,KAClGsS,gBAAiB,kBAAM3f,EAAS4J,MAChCqwB,iBAAkB,kBAAMj6B,E3CvGjB,CACHN,KCrB4B,sB0C4HhCmc,oBAAqB,SAAC1a,EAAQkB,GAAT,OAAmBrC,EAAS4J,EAA0BzI,QAIhEsI,CAA6CowB,I,yCCgE7Ca,G,4MAlMXC,iBAAmB,WACf,OACI,yBAAK7yB,UAAWC,KAAQ6yB,KAAMtvB,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAChE,0BAAM1C,MAAM,KAAKD,OAAO,KAAK0f,GAAG,IAAIhd,KAAK,YACzC,uBAAGsvB,SAAS,eACZ,uBAAGxe,OAAO,oBACV,0BAAM5Q,EAAE,2rFAA2rFF,KAAK,YAGxsF,8BACA,4BAAQ/J,GAAG,aAAayT,EAAE,KAAKgK,EAAE,KAAKnW,MAAM,KAAKD,OAAO,KAAKiyB,YAAY,iBAAiBC,0BAA0B,QACpH,6BAASC,aAAa,IAAIpR,OAAO,uBACjC,mCAAeqR,GAAG,cAAcv7B,KAAK,SAASw7B,OAAO,8CACrD,mCACA,oCAAgBC,aAAa,MAC7B,mCAAez7B,KAAK,SAASw7B,OAAO,2DACpC,6BAASE,KAAK,SAASC,IAAI,qBAAqBzR,OAAO,uBACvD,mCAAeqR,GAAG,cAAcv7B,KAAK,SAASw7B,OAAO,8CACrD,mCACA,oCAAgBC,aAAa,QAC7B,mCAAez7B,KAAK,SAASw7B,OAAO,2DACpC,6BAASE,KAAK,SAASC,IAAI,qBAAqBzR,OAAO,uBACvD,6BAASwR,KAAK,SAASH,GAAG,gBAAgBI,IAAI,qBAAqBzR,OAAO,WAE1E,8BAAUpoB,GAAG,SACb,0BAAMsH,MAAM,KAAKD,OAAO,KAAK0C,KAAK,c,EAO9C+vB,eAAiB,WACb,OACI,yBAAKxzB,UAAWC,KAAQ6yB,KAAMtvB,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAChE,uBAAGqvB,SAAS,eACZ,0BAAM/xB,MAAM,KAAKD,OAAO,KAAK0f,GAAG,IAAIhd,KAAK,YACzC,uBAAG8Q,OAAO,oBACV,0BAAM5Q,EAAE,i2BAAi2BF,KAAK,YAG92B,8BACA,4BAAQ/J,GAAG,aAAayT,EAAE,KAAKgK,EAAE,KAAKnW,MAAM,UAAUD,OAAO,SAASiyB,YAAY,iBAAiBC,0BAA0B,QAC7H,6BAASC,aAAa,IAAIpR,OAAO,uBACjC,mCAAeqR,GAAG,cAAcv7B,KAAK,SAASw7B,OAAO,8CACrD,mCACA,oCAAgBC,aAAa,MAC7B,mCAAez7B,KAAK,SAASw7B,OAAO,2DACpC,6BAASE,KAAK,SAASC,IAAI,qBAAqBzR,OAAO,uBACvD,mCAAeqR,GAAG,cAAcv7B,KAAK,SAASw7B,OAAO,8CACrD,mCACA,oCAAgBC,aAAa,QAC7B,mCAAez7B,KAAK,SAASw7B,OAAO,2DACpC,6BAASE,KAAK,SAASC,IAAI,qBAAqBzR,OAAO,uBACvD,6BAASwR,KAAK,SAASH,GAAG,gBAAgBI,IAAI,qBAAqBzR,OAAO,WAE1E,8BAAUpoB,GAAG,SACb,0BAAMsH,MAAM,KAAKD,OAAO,KAAK0C,KAAK,c,EAO9CgwB,gBAAkB,WACd,OACI,yBAAKzzB,UAAWC,KAAQ6yB,KAAM9xB,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BACvF,uBAAGqvB,SAAS,eACZ,0BAAMpvB,EAAE,2IAA2IF,KAAK,YACxJ,uBAAG8Q,OAAO,oBACV,0BAAM5Q,EAAE,iVAAiVF,KAAK,YAG9V,8BACA,4BAAQ/J,GAAG,aAAayT,EAAE,KAAKgK,EAAE,KAAKnW,MAAM,KAAKD,OAAO,UAAUiyB,YAAY,iBAAiBC,0BAA0B,QACzH,6BAASC,aAAa,IAAIpR,OAAO,uBACjC,mCAAeqR,GAAG,cAAcv7B,KAAK,SAASw7B,OAAO,8CACrD,mCACA,oCAAgBC,aAAa,MAC7B,mCAAez7B,KAAK,SAASw7B,OAAO,2DACpC,6BAASE,KAAK,SAASC,IAAI,qBAAqBzR,OAAO,uBACvD,mCAAeqR,GAAG,cAAcv7B,KAAK,SAASw7B,OAAO,8CACrD,mCACA,oCAAgBC,aAAa,QAC7B,mCAAez7B,KAAK,SAASw7B,OAAO,2DACpC,6BAASE,KAAK,SAASC,IAAI,qBAAqBzR,OAAO,uBACvD,6BAASwR,KAAK,SAASH,GAAG,gBAAgBI,IAAI,qBAAqBzR,OAAO,WAE1E,8BAAUpoB,GAAG,SACb,0BAAMsH,MAAM,KAAKD,OAAO,KAAK0C,KAAK,c,EAO9CiwB,cAAgB,WACZ,OACI,yBAAK1zB,UAAWC,KAAQ6yB,KAAMtvB,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BAChE,uBAAGqvB,SAAS,eACZ,0BAAM/xB,MAAM,KAAKD,OAAO,KAAK0f,GAAG,IAAIhd,KAAK,YACzC,uBAAG8Q,OAAO,oBACV,0BAAM5Q,EAAE,mOAAmOF,KAAK,YAGhP,8BACA,4BAAQ/J,GAAG,aAAayT,EAAE,KAAKgK,EAAE,KAAKnW,MAAM,KAAKD,OAAO,KAAKiyB,YAAY,iBAAiBC,0BAA0B,QACpH,6BAASC,aAAa,IAAIpR,OAAO,uBACjC,mCAAeqR,GAAG,cAAcv7B,KAAK,SAASw7B,OAAO,8CACrD,mCACA,oCAAgBC,aAAa,MAC7B,mCAAez7B,KAAK,SAASw7B,OAAO,2DACpC,6BAASE,KAAK,SAASC,IAAI,qBAAqBzR,OAAO,uBACvD,mCAAeqR,GAAG,cAAcv7B,KAAK,SAASw7B,OAAO,8CACrD,mCACA,oCAAgBC,aAAa,QAC7B,mCAAez7B,KAAK,SAASw7B,OAAO,2DACpC,6BAASE,KAAK,SAASC,IAAI,qBAAqBzR,OAAO,uBACvD,6BAASwR,KAAK,SAASH,GAAG,gBAAgBI,IAAI,qBAAqBzR,OAAO,WAE1E,8BAAUpoB,GAAG,SACb,0BAAMsH,MAAM,KAAKD,OAAO,KAAK0C,KAAK,c,EAQ9CkwB,iBAAmB,WACf,OACI,yBAAK3zB,UAAWC,KAAQ6yB,KAAM9xB,MAAM,KAAKD,OAAO,KAAKyC,QAAQ,YAAYC,KAAK,OAAOC,MAAM,8BACvF,uBAAGqvB,SAAS,eACZ,0BAAM/xB,MAAM,KAAKD,OAAO,KAAK0f,GAAG,IAAIhd,KAAK,YACzC,uBAAG8Q,OAAO,oBACV,0BAAM5Q,EAAE,ukBAAukBF,KAAK,YAGplB,8BACA,4BAAQ/J,GAAG,aAAayT,EAAE,KAAKgK,EAAE,KAAKnW,MAAM,KAAKD,OAAO,KAAKiyB,YAAY,iBAAiBC,0BAA0B,QACpH,6BAASC,aAAa,IAAIpR,OAAO,uBACjC,mCAAeqR,GAAG,cAAcv7B,KAAK,SAASw7B,OAAO,8CACrD,mCACA,oCAAgBC,aAAa,MAC7B,mCAAez7B,KAAK,SAASw7B,OAAO,2DACpC,6BAASE,KAAK,SAASC,IAAI,qBAAqBzR,OAAO,uBACvD,mCAAeqR,GAAG,cAAcv7B,KAAK,SAASw7B,OAAO,8CACrD,mCACA,oCAAgBC,aAAa,QAC7B,mCAAez7B,KAAK,SAASw7B,OAAO,2DACpC,6BAASE,KAAK,SAASC,IAAI,qBAAqBzR,OAAO,uBACvD,6BAASwR,KAAK,SAASH,GAAG,gBAAgBI,IAAI,qBAAqBzR,OAAO,WAE1E,8BAAUpoB,GAAG,SACb,0BAAMsH,MAAM,KAAKD,OAAO,KAAK0C,KAAK,c,EAS9CmwB,iBAAmB,WACf,OACI,yBAAK5zB,UAAWC,KAAQ4zB,eACpB,uBAAGzzB,KAAK,iCAAiCJ,UAAWC,KAAQE,KAAMoK,OAAO,SAASupB,IAAI,uBACjF,EAAKN,kBAEV,uBAAGpzB,KAAK,wCAAwCJ,UAAWC,KAAQE,KAAOoK,OAAO,SAASupB,IAAI,uBACzF,EAAKjB,oBAEV,uBAAGzyB,KAAK,sCAAsCJ,UAAWC,KAAQE,KAAMoK,OAAO,SAASupB,IAAI,uBACtF,EAAKL,mBAEV,uBAAGrzB,KAAK,wCAAwCJ,UAAWC,KAAQE,KAAMoK,OAAO,SAASupB,IAAI,uBACxF,EAAKJ,iBAEV,uBAAGtzB,KAAK,sCAAsCJ,UAAWC,KAAQE,KAAMoK,OAAO,SAASupB,IAAI,uBACtF,EAAKH,sB,4CAMtB,WACI,OACI,yBAAK3zB,UAAWC,KAAQ2yB,QACnBvyB,KAAKuzB,wB,GA9LDpzB,a,kD7CFjBuzB,GAAY,CAAC,QAAS,WAE1B,SAASC,KAAiS,OAApRA,GAAWC,OAAOC,OAASD,OAAOC,OAAOC,OAAS,SAAU5pB,GAAU,IAAK,IAAIpE,EAAI,EAAGA,EAAIiuB,UAAU9tB,OAAQH,IAAK,CAAE,IAAIzE,EAAS0yB,UAAUjuB,GAAI,IAAK,IAAIQ,KAAOjF,EAAcuyB,OAAOI,UAAUC,eAAeC,KAAK7yB,EAAQiF,KAAQ4D,EAAO5D,GAAOjF,EAAOiF,IAAY,OAAO4D,IAA2BiqB,MAAMn0B,KAAM+zB,WAEtU,SAASK,GAAyB/yB,EAAQgzB,GAAY,GAAc,MAAVhzB,EAAgB,MAAO,GAAI,IAAkEiF,EAAKR,EAAnEoE,EAEzF,SAAuC7I,EAAQgzB,GAAY,GAAc,MAAVhzB,EAAgB,MAAO,GAAI,IAA2DiF,EAAKR,EAA5DoE,EAAS,GAAQoqB,EAAaV,OAAOW,KAAKlzB,GAAqB,IAAKyE,EAAI,EAAGA,EAAIwuB,EAAWruB,OAAQH,IAAOQ,EAAMguB,EAAWxuB,GAAQuuB,EAASG,QAAQluB,IAAQ,IAAa4D,EAAO5D,GAAOjF,EAAOiF,IAAQ,OAAO4D,EAFxMuqB,CAA8BpzB,EAAQgzB,GAAuB,GAAIT,OAAOc,sBAAuB,CAAE,IAAIC,EAAmBf,OAAOc,sBAAsBrzB,GAAS,IAAKyE,EAAI,EAAGA,EAAI6uB,EAAiB1uB,OAAQH,IAAOQ,EAAMquB,EAAiB7uB,GAAQuuB,EAASG,QAAQluB,IAAQ,GAAkBstB,OAAOI,UAAUY,qBAAqBV,KAAK7yB,EAAQiF,KAAgB4D,EAAO5D,GAAOjF,EAAOiF,IAAU,OAAO4D,EAMne,SAAS2qB,GAAaC,EAAMC,GAC1B,IAAInwB,EAAQkwB,EAAKlwB,MACbowB,EAAUF,EAAKE,QACf/0B,EAAQm0B,GAAyBU,EAAMpB,IAE3C,OAAoB,gBAAoB,MAAOC,GAAS,CACtDhzB,MAAO,GACPD,OAAQ,GACRyC,QAAS,YACTC,KAAM,OACNC,MAAO,6BACPuF,IAAKmsB,EACL,kBAAmBC,GAClB/0B,GAAQ2E,EAAqB,gBAAoB,QAAS,CAC3DvL,GAAI27B,GACHpwB,GAAS,KAAMxN,IAAUA,EAAqB,gBAAoB,OAAQ,CAC3EkM,EAAG,kGACHF,KAAM,UACN8H,YAAa,QAIjB,IAAI+pB,GAA0B,aAAiBJ,I8CvBzCK,I9CwBS,I,4M8CtBXC,aAAe,WACT,OACE,yBAAKx1B,UAAWC,KAAQw1B,YACpB,kBAAC,GAAD,CAAWz1B,UAAWC,KAAQy1B,UAAWhzB,QAAS,EAAKpC,MAAMq1B,uB,4CAKzE,WACI,OACI,yBAAK31B,UAAS,UAAKC,KAAQs1B,WAAb,aAA+C,IAApBl1B,KAAKC,MAAMiO,IAAatO,KAAQyF,KAA0B,IAAnBrF,KAAKC,MAAMiO,IAAYtO,KAAQ6kB,MAAQ,OACtF,IAA5BzkB,KAAKC,MAAMs1B,aAAqBv1B,KAAKm1B,eAAiB,KACtDn1B,KAAKC,MAAM4J,c,GAdH1J,cAmCVmB,gBAdS,SAAAC,GACpB,MAAO,CACH+N,WAAY/N,EAAMvH,KAAKsV,WACvBkmB,cAAej0B,EAAMuD,GAAG0wB,cACxBD,aAAch0B,EAAMuD,GAAGgN,KAAKyjB,iBAIT,SAAA19B,GACvB,MAAO,CACHy9B,mBAAoB,kBAAMz9B,E7CmEvB,CACHN,KC/E+B,4B4CexB+J,CAA6C4zB,I,oBChC7CpzB,G,4JATX,WACI,OACI,yBAAKnC,UAAS,UAAKC,KAAQkC,SAAb,YAAyB9B,KAAKC,MAAMw1B,QAAU71B,KAAQ81B,QAAU,KACzE11B,KAAKC,MAAM4J,c,GAJL1J,a,yCCWjBw1B,GAAyB,CAAC,QAAS,SAAU,UAAW,WAAY,YAAa,cAGjFC,G,4MAEJr0B,MAAQ,CACNs0B,WAAY,CACR1rB,MAAO,GACP2rB,SAAS,EACTC,OAAO,GAEXC,cAAe,CACX7rB,MAAO,GACP2rB,SAAS,EACTC,OAAO,GAEXrhB,KAAM,CACFvK,MAAO,GACP2rB,SAAS,EACTC,OAAO,GAEXE,SAAU,CACN9rB,MAAO,GACP2rB,SAAS,EACTC,OAAO,EACPG,aAAc,oBAElBC,eAAgB,CACZhsB,MAAO,GACP2rB,SAAS,EACTC,OAAO,GAEX13B,MAAO,CACH8L,MAAO,GACP2rB,SAAS,EACTC,OAAO,GAEXr3B,OAAQ,CACJyL,MAAO,GACP2rB,SAAS,EACTC,OAAO,GAEXlhB,WAAY,CACRuhB,SAAS,EACTx1B,IAAK,KACLy1B,KAAM,MAEVC,eAAgB,CACZnsB,OAAO,EACP2rB,SAAS,GAEbS,YAAY,G,EAKhBC,kBAAoB,SAACjzB,GACjB,IAAMlF,EAAQkF,EAAM2G,OAAOC,MACrB4rB,IAAQ13B,GAAQ,iBAAiBo4B,KAAKp4B,GAC5C,EAAK8D,SAAS,CACV0zB,WAAW,6BACJ,EAAKt0B,MAAMs0B,YADR,IAEN1rB,MAAO5G,EAAM2G,OAAOC,MACpB+rB,aAAcH,EAAQ,KAAO,4BAC7BA,MAAOA,O,EAKnBW,uBAAyB,WACrB,EAAKv0B,SAAS,CACV0zB,WAAW,6BACJ,EAAKt0B,MAAMs0B,YADR,IAENC,SAAS,O,EAQrBa,qBAAuB,SAACpzB,GACpB,IAAM0yB,EAAW1yB,EAAM2G,OAAOC,MAC9B,EAAKhI,SAAS,CACV6zB,cAAc,6BACP,EAAKz0B,MAAMy0B,eADL,IAET7rB,MAAO8rB,O,EAKnBW,0BAA4B,WACxB,EAAKz0B,SAAS,CACV6zB,cAAc,6BACP,EAAKz0B,MAAMy0B,eADL,IAETF,SAAS,O,EAOrBe,YAAc,SAACtzB,GACX,IAAMmR,EAAOnR,EAAM2G,OAAOC,MACpB4rB,IAASrhB,IAAOA,EAAKzO,OAAS,GAAKyO,EAAKzO,OAAS,IACvD,EAAK9D,SAAS,CACVuS,KAAK,6BACE,EAAKnT,MAAMmT,MADd,IAEAvK,MAAO5G,EAAM2G,OAAOC,MACpB+rB,aAAcH,EAAQ,KAAO,kBAC7BA,MAAOA,O,EAKnBe,iBAAmB,WACf,EAAK30B,SAAS,CACVuS,KAAK,6BACE,EAAKnT,MAAMmT,MADd,IAEAohB,SAAS,O,EAQrBiB,mBAAqB,SAACC,GAClB,GAAGA,GAAiBA,EAAc/wB,OAAS,EAAE,CACzC,IAAMowB,EAAOY,MAAMC,KAAKF,GAAe,GACjCp2B,EAAMyX,OAAO8e,IAAIC,gBAAgBf,GACvC,EAAKl0B,SAAS,CACV0S,WAAY,CACRwhB,OACAz1B,MACAw1B,SAAS,O,EAMzBiB,mBAAqB,SAAC9zB,GAClB,EAAKpB,SAAS,CACV0S,WAAY,CACRuhB,SAAS,EACTx1B,IAAK,KACLy1B,KAAM,S,EASlBiB,aAAe,SAAC/zB,GACZ,IAAMlF,EAAQkF,EAAM2G,OAAOC,MACrB4rB,IAAQ13B,GAAQ,iBAAiBo4B,KAAKp4B,GAC5C,EAAK8D,SAAS,CACV9D,MAAO,CACH8L,MAAO5G,EAAM2G,OAAOC,MACpB+rB,aAAcH,EAAQ,KAAO,4BAC7BA,MAAOA,M,EAKnBwB,kBAAoB,WAChB,EAAKp1B,SAAS,CACV9D,MAAM,6BACC,EAAKkD,MAAMlD,OADb,IAEDy3B,SAAS,O,EAOrB0B,cAAgB,SAACj0B,GACb,IAAM7E,EAAS6E,EAAM2G,OAAOC,MAAMtJ,WAAW,KAAO0C,EAAM2G,OAAOC,MAAMstB,UAAU,GAAKl0B,EAAM2G,OAAOC,MAC/F+rB,EAAe,IAChBx3B,EAAOuH,OAAS,GAAKvH,EAAOuH,OAAS,MAAIiwB,EAAe,oBACvD,cAAcO,KAAK/3B,KAASw3B,EAAe,iBAC/C,EAAK/zB,SAAS,CACVzD,OAAO,6BACA,EAAK6C,MAAM7C,QADZ,IAEFyL,MAAOzL,EACPw3B,eACAH,MAAwB,KAAjBG,O,EAKnBwB,mBAAqB,WACjB,EAAKv1B,SAAS,CACVzD,OAAO,6BACA,EAAK6C,MAAM7C,QADZ,IAEFo3B,SAAS,O,EAQrB6B,gBAAkB,SAACp0B,GACf,IAEI2yB,EAFED,EAAW1yB,EAAM2G,OAAOC,MAC1B4rB,GAAQ,GAERE,GAAYA,EAAShwB,OAAS,GAC9B8vB,GAAQ,EACRG,EAAe,oBACTP,GAAuB3W,SAASiX,IACtCF,GAAQ,EACRG,EAAe,gDACTD,EAAShwB,OAAS,KACxB8vB,GAAQ,EACRG,EAAe,qBAEnB,EAAK/zB,SAAS,CACV8zB,SAAS,6BACF,EAAK10B,MAAM00B,UADV,IAEJ9rB,MAAO5G,EAAM2G,OAAOC,MACpB+rB,eACAH,MAAOA,O,EAMnB6B,qBAAuB,WACnB,EAAKz1B,SAAS,CACV8zB,SAAS,6BACF,EAAK10B,MAAM00B,UADV,IAEJH,SAAS,O,EAOrB+B,sBAAwB,SAACt0B,GACrB,IACMwyB,EADWxyB,EAAM2G,OAAOC,QACH,EAAK5I,MAAM00B,SAAS9rB,MACzC+rB,EAAeH,EAAQ,KAAO,0BAEpC,EAAK5zB,SAAS,CACVg0B,eAAe,6BACR,EAAK50B,MAAM40B,gBADJ,IAEVhsB,MAAO5G,EAAM2G,OAAOC,MACpB+rB,eACAH,MAAOA,O,EAKnB+B,2BAA6B,WACzB,EAAK31B,SAAS,CACVg0B,eAAe,6BACR,EAAK50B,MAAM40B,gBADJ,IAEVL,SAAS,O,EAOrBiC,uBAAyB,SAACx0B,GACtB,EAAKpB,UAAS,SAAA61B,GACV,MAAO,CACH1B,eAAe,6BACR0B,EAAU1B,gBADH,IAEVnsB,OAAQ6tB,EAAU1B,eAAensB,a,EAMjD8tB,mBAAqB,SAAC10B,GAClB,EAAKpB,UAAS,SAAA61B,GACV,MAAO,CACHzB,YAAayB,EAAUzB,gB,EAKjC5pB,mBAAqB,WAChB,EAAK1M,MAAMi4B,iBACZ,EAAKj4B,MAAMk4B,cAE8C,kBAAxD,EAAKl4B,MAAMm4B,UAAU,EAAKn4B,MAAMm4B,UAAUnyB,OAAO,IAChDwL,SAASqE,eAAe,UAAUD,S,EAIxCwiB,cAAgB,WACd7/B,QAAQC,IAAR,8BACgB,EAAK8I,MAAMsT,WAAWjU,IADtC,+BAEgB,EAAKW,MAAMmT,KAAKvK,MAFhC,+BAGgB,EAAK5I,MAAM00B,SAAS9rB,MAHpC,+BAIgB,EAAK5I,MAAM7C,OAAOyL,MAJlC,+BAKgB,EAAK5I,MAAMlD,MAAM8L,MALjC,+BAMgB,EAAK5I,MAAMsT,WAAWwhB,KANtC,WAQA,EAAKp2B,MAAMq4B,SACP,EAAK/2B,MAAMmT,KAAKvK,MAChB,EAAK5I,MAAMlD,MAAM8L,MACjB,EAAK5I,MAAM7C,OAAOyL,MAClB,EAAK5I,MAAM00B,SAAS9rB,MACpB,EAAK5I,MAAMsT,WAAWwhB,KACtB,EAAK90B,MAAMsT,WAAWjU,IACtB,EAAKW,MAAMg1B,a,EAIjBgC,MAAQ,SAACh1B,GACPA,EAAMgH,iBACN,EAAKtK,MAAMu4B,QAAQ,EAAKj3B,MAAMs0B,WAAW1rB,MAAO,EAAK5I,MAAMy0B,cAAc7rB,Q,EAG3EsuB,OAAS,SAACl1B,GACRA,EAAMgH,iBACH,EAAKhJ,MAAMlD,MAAM03B,OAAS,EAAKx0B,MAAM00B,SAASF,OAAS,EAAKx0B,MAAM40B,eAAeJ,OAAS,EAAKx0B,MAAMmT,KAAKqhB,MACzG,EAAK91B,MAAMy4B,gBAAgB,EAAKn3B,MAAMlD,MAAM8L,OAE5C,EAAKhI,SAAS,CACV9D,MAAM,6BAAM,EAAKkD,MAAMlD,OAAlB,IAAyBy3B,SAAS,IACvCG,SAAS,6BAAM,EAAK10B,MAAM00B,UAAlB,IAA4BH,SAAS,IAC7CK,eAAe,6BAAM,EAAK50B,MAAM40B,gBAAlB,IAAkCL,SAAS,IACzDphB,KAAK,6BAAM,EAAKnT,MAAMmT,MAAlB,IAAwBohB,SAAS,O,EAK/C6C,aAAe,SAACp1B,GACZA,EAAMgH,iBACH,EAAKhJ,MAAM7C,OAAOq3B,MACnB,EAAK91B,MAAM24B,iBAAiB,EAAKr3B,MAAM7C,OAAOyL,OAE5C,EAAKhI,SAAS,CACVzD,OAAO,6BAAM,EAAK6C,MAAM7C,QAAlB,IAA0Bo3B,SAAS,O,EAMrD+C,eAAiB,WACf,OAAO,EAAK54B,MAAMm4B,UAAUpsB,KAAI,SAAC/D,EAAEnC,GAC/B,IAAMoI,EAAM,EAAKjO,MAAMm4B,UAAU,EAAKn4B,MAAMs1B,gBAAkBttB,EAAI,EAAInC,EAAI,EAAK7F,MAAMs1B,cAAgB,EAAI,EACrGuD,EAAU,GACd,OAAO7wB,GACH,IAAK,OACD,IACI8wB,EACAC,EACAC,EAHEC,GAAqB,EAAK33B,MAAMs0B,WAAWE,MAAQ,EAAKx0B,MAAMs0B,WAAWC,QAAU,oBAAsB,EAAK71B,MAAMk5B,YAItH,EAAK53B,MAAMlD,MAAM03B,OAAS,EAAKx0B,MAAMlD,MAAMy3B,UAASiD,EAAoB,qBACzE,EAAK94B,MAAMm5B,YAAYpxB,MAAK,SAAAgV,GAAC,OAAIA,IAAM,EAAKzb,MAAMlD,MAAM8L,WAAQ4uB,EAAoB,qDACnF,EAAKx3B,MAAM00B,SAASF,OAAS,EAAKx0B,MAAM00B,SAASH,UAASkD,EAAuB,EAAKz3B,MAAM00B,SAASC,eACrG,EAAK30B,MAAM40B,eAAeJ,OAAS,EAAKx0B,MAAM40B,eAAeL,UAASmD,EAA6B,EAAK13B,MAAM40B,eAAeD,cAEjI4C,EAAQlyB,KACJ,kBAAC,GAAD,CAAUN,IAAK2B,EAAI,SACf,0BAAMoxB,SAAU,EAAKd,OACjB,2BACIe,iBAAkB,EAAKhC,aACvB33B,UAAWC,KAAQkd,UACnB9L,QAAQ,QACR3X,GAAG,aACH9B,KAAK,QACLmU,YAAY,QACZwlB,WAAW,QACX/mB,MAAO,EAAK5I,MAAMs0B,WAAW1rB,MAC7BsB,SAAU,EAAK+qB,kBACf+C,OAAQ,EAAK7C,yBAEjB,2BACI4C,iBAAkB,EAAK3C,qBACvBh3B,UAAWC,KAAQkd,UACnB9L,QAAQ,QACRzZ,KAAK,WACLmU,YAAY,WACZvB,MAAO,EAAK5I,MAAMy0B,cAAc7rB,MAChCsB,SAAU,EAAKkrB,qBACf4C,OAAQ,EAAK3C,4BAGbsC,EACA,yBAAKv5B,UAAWC,KAAQ45B,cACnBN,GAEJ,KAGL,kBAAC,GAAD,CAAevzB,QAAS,EAAK4yB,OACvB,EAAKt4B,MAAMw5B,aACX,kBAAC,KAAD,CACE95B,UAAWC,KAAQY,QACnBjJ,KAAK,YACLkJ,MAAM,UACNC,OAAQ,GACRC,MAAO,KACT,yCAIlBm4B,EAAQlyB,KACJ,kBAAC,GAAD,CAAUN,IAAK2B,EAAI,UACf,0BAAMoxB,SAAU,EAAKZ,QACjB,2BACI94B,UAAWC,KAAQkd,UACnB9L,QAAQ,QACR3X,GAAG,cACH9B,KAAK,QACLmU,YAAY,QACZvB,MAAO,EAAK5I,MAAMlD,MAAM8L,MACxBsB,SAAU,EAAK6rB,aACfgC,iBAAkB,EAAKhC,aACvBiC,OAAQ,EAAKhC,oBAGbwB,EACA,yBAAKp5B,UAAWC,KAAQ45B,cACnBT,GAEH,KAEN,2BACIp5B,UAAWC,KAAQkd,UACnB9L,QAAQ,QACRzZ,KAAK,WACLmU,YAAY,WACZvB,MAAO,EAAK5I,MAAM00B,SAAS9rB,MAC3BsB,SAAU,EAAKksB,gBACf2B,iBAAkB,EAAK3B,gBACvB4B,OAAQ,EAAK3B,uBAGboB,EACA,yBAAKr5B,UAAWC,KAAQ45B,cACnBR,GAEJ,KAEL,2BACIr5B,UAAWC,KAAQkd,UACnB9L,QAAQ,QACRzZ,KAAK,WACLmU,YAAY,kBACZvB,MAAO,EAAK5I,MAAM40B,eAAehsB,MACjCsB,SAAU,EAAKosB,sBACfyB,iBAAkB,EAAKzB,sBACvB0B,OAAQ,EAAKzB,6BAGbmB,EACA,yBAAKt5B,UAAWC,KAAQ45B,cACnBP,GACE,KAEX,2BACIt5B,UAAWC,KAAQkd,UACnBzjB,GAAG,OACHqS,YAAY,YACZnU,KAAK,OACL4S,MAAO,EAAK5I,MAAMmT,KAAKvK,MACvBsB,SAAU,EAAKorB,YACfyC,iBAAkB,EAAKzC,cAE3B,yBAAKl3B,UAAWC,KAAQ85B,mBACpB,2BACIniC,KAAK,WACLkU,SAAU,EAAKssB,uBACfrS,QAAS,EAAKnkB,MAAM+0B,eAAensB,QACvC,uBAAG9H,QAAS,EAAK01B,uBAAwBp4B,UAAWC,KAAQ+5B,cAA5D,kCAIJ,yBAAKh6B,UAAWC,KAAQ85B,mBACpB,2BACIniC,KAAK,WACLkU,SAAU,EAAKwsB,mBACfvS,QAAS,EAAKnkB,MAAMg1B,aACxB,uBAAGl0B,QAAS,EAAK41B,mBAAoBt4B,UAAWC,KAAQ+5B,cAAxD,+CAIJ,kBAAC,GAAD,CAAepiC,KAAK,SAASoO,QAAS,SAACpC,GAAD,OAAW,EAAKk1B,OAAOl1B,KAErD,EAAKtD,MAAM25B,kBACT,kBAAC,KAAD,CACEj6B,UAAWC,KAAQY,QACnBjJ,KAAK,YACLkJ,MAAM,UACNC,OAAQ,GACRC,MAAO,KACT,kDAMtB,MACJ,IAAK,gBACD,IAAIk5B,GACA,EAAKt4B,MAAM7C,OAAOq3B,OAAS,EAAKx0B,MAAM7C,OAAOo3B,UAAS+D,EAAqB,EAAKt4B,MAAM7C,OAAOw3B,cAC9F,EAAKj2B,MAAM65B,aAAa9xB,MAAK,SAAAkX,GAAC,OAAIA,IAAM,EAAK3d,MAAM7C,OAAOyL,WAAQ0vB,EAAqB,wBAC1Ff,EAAQlyB,KACJ,kBAAC,GAAD,CAAWN,IAAK2B,GACZ,0BAAMoxB,SAAU,EAAKV,cACjB,+CACA,2BACIh5B,UAAWC,KAAQkd,UACnB9L,QAAQ,QACR3X,GAAG,SACH9B,KAAK,OACLmU,YAAY,QACZvB,MAAO,IAAM,EAAK5I,MAAM7C,OAAOyL,MAC/BsB,SAAU,EAAK+rB,cACf8B,iBAAkB,EAAK9B,cACvB+B,OAAQ,EAAK7B,qBAGbmC,EACA,yBAAKl6B,UAAWC,KAAQ45B,cACnBK,GACE,KAEX,kBAAC,GAAD,CAAetiC,KAAK,SAASoO,QAAS,SAACpC,GAAD,OAAW,EAAKo1B,aAAap1B,KAE/D,EAAKtD,MAAM85B,mBACT,kBAAC,KAAD,CACEp6B,UAAWC,KAAQY,QACnBjJ,KAAK,YACLkJ,MAAM,UACNC,OAAQ,GACRC,MAAO,KACT,sCAAY,EAAKY,MAAM7C,OAAOyL,WAMhD,MACJ,IAAK,qBACD2uB,EAAQlyB,KACJ,kBAAC,GAAD,CAAWN,IAAK2B,GACZ,+CACA,2BAAO1Q,KAAK,WAAWkU,SAAU,EAAK4rB,mBAAoB3R,QAAS,EAAKnkB,MAAMsT,WAAWuhB,UAF7F,gBAEoH,6BAChH,2BAAO7+B,KAAK,WAAWkU,SAAU,kBAAMjT,QAAQC,IAAI,gBAAgBitB,SAAU,EAAKnkB,MAAMsT,WAAWuhB,UAHvG,kBAII,kBAAC,KAAD,CAAU4D,OAAQ,EAAKjD,qBAClB,gBAAEkD,EAAF,EAAEA,aAAcC,EAAhB,EAAgBA,cAAhB,OACG,iCACA,wBAASD,IACL,0BAAWC,KACP,yBAAKv6B,UAAWC,KAAQu6B,UAEpB,EAAK54B,MAAMsT,WAAWjU,IACpB,yBACEjB,UAAWC,KAAQqV,WACnBrU,IAAK,EAAKW,MAAMsT,WAAWjU,IAC3BK,IAAI,eACN,yBACEtB,UAAWC,KAAQw6B,sBACnBx5B,IAAKw5B,KACLn5B,IAAI,uCAO5B,kBAAC,GAAD,CAAe0E,QAAS,EAAK0yB,eAErB,EAAKp4B,MAAMo6B,cACT,kBAAC,KAAD,CACE16B,UAAWC,KAAQY,QACnBjJ,KAAK,YACLkJ,MAAM,UACNC,OAAQ,GACRC,MAAO,KACT,yCAKlB,MACJ,QAASnI,QAAQC,IAAI,iCAEzB,OACI,kBAAC,GAAD,CAAY6hC,OAAQryB,EAAGiG,IAAKA,EAAKqsB,OAAQ,EAAKA,OAAQ/iC,eAAgB,EAAKA,eAAiB8O,IAAK2B,GAC5F6wB,O,4CAOf,WACE,OACI,yBAAKn5B,UAAWC,KAAQ46B,WACpBx6B,KAAK64B,sB,GAtlBM14B,aAkoBRmB,gBAtCS,SAAAC,GAEtB,MAAO,CACL62B,UAAW72B,EAAMuD,GAAGgN,KAAKsmB,UACzBqB,aAAcl4B,EAAMvH,KAAKy/B,aACzBG,kBAAmBr4B,EAAMvH,KAAK4/B,kBAC9BS,cAAe94B,EAAMvH,KAAKqgC,cAC1BN,mBAAoBx4B,EAAMvH,KAAK+/B,mBAC/B7B,gBAAiB32B,EAAMuD,GAAGgN,KAAKomB,gBAE/BrzB,SAAUtD,EAAMuD,GAAGD,SACnB0wB,aAAch0B,EAAMuD,GAAGgN,KAAKyjB,aAE5B7gB,KAAMnT,EAAMvH,KAAK0a,KACjBhW,OAAQ6C,EAAMvH,KAAK0E,OACnBxE,MAAOqH,EAAMvH,KAAKE,MAElBi/B,WAAY53B,EAAMvH,KAAKm/B,WACvBsB,YAAal5B,EAAMvH,KAAKygC,YACxBrB,YAAa73B,EAAMvH,KAAKo/B,YACxBU,aAAcv4B,EAAMvH,KAAK8/B,iBAMF,SAAAjiC,GACzB,MAAO,CACLsgC,YAAa,kBAAMtgC,E/CvhBZ,CACHN,KCpF2B,qB8C2mB/BmjC,iBAAkB,SAACjjC,GAAD,OAAUI,EAAS4J,EAAuBhK,KAE5DihC,gBAAiB,SAACr6B,GAAD,OAAWxG,E3CjfD,SAACwG,GAC5B,OAAO,SAAAxG,GACHA,EAASyG,MACT,IACMtD,EAAO,CAAEqD,SACftG,IAAMwC,KAFM,wBAEIS,GACf/C,MAAK,SAAAwC,GACCA,EAAIrC,MAAQqC,EAAIrC,KAAKuiC,OACpB9iC,EAASuG,GAAkBC,KAE3BxG,EAAS0G,GAAuB9D,EAAIrC,OACpCP,EAASL,EAAe,sBAE7Bc,OAAM,SAAAC,GACLV,EAAS2G,GAAsBjG,IAC/BC,QAAQC,IAAIF,O2CkeiBkJ,CAAwBpD,KAC7Du6B,iBAAkB,SAACl6B,GAAD,OAAY7G,E3ChcF,SAAC6G,GAC7B,OAAO,SAAA7G,GACHA,EAAS8G,MACT,IACM3D,EAAO,CAAE0D,UACf3G,IAAMwC,KAFM,yBAEIS,GACf/C,MAAK,SAAAwC,GACCA,EAAIrC,MAAQqC,EAAIrC,KAAKuiC,OACpB9iC,EAAS4G,GAAmBC,KAE5B7G,EAAS+G,GAAwBnE,EAAIrC,OACrCP,EAASL,EAAe,uBACxBgB,QAAQC,IAAIgZ,SAASqE,eAAe,WACpCrE,SAASqE,eAAe,UAAUD,YAEvCvd,OAAM,SAAAC,GACLV,EAASgH,GAAuBtG,IAChCC,QAAQC,IAAIF,O2C+amBkJ,CAAyB/C,KAChE85B,QAAS,SAACn6B,EAAO43B,GAAR,OAAqBp+B,E3CrmBb,SAAC+iC,EAAY3E,GAC9B,OAAO,SAAAp+B,GACHA,EAAS8F,MACT5F,IAAMwC,KACF,mBACAsgC,KAAKC,UAAU,CACXC,eAAgBH,EAChB3E,SAAUA,IAEd,CAAE57B,QAAS,CAAE,eAAgB,sBAC/BpC,MAAK,SAAAwC,GACH,IAAMugC,EAAiB,IAAIvwB,MAAK,IAAIA,MAAOwwB,UAAiC,IAArBxgC,EAAIrC,KAAK8iC,WAChE/gC,aAAakB,QAAQ,QAASZ,EAAIrC,KAAK8B,OACvCC,aAAakB,QAAQ,iBAAkB2/B,GACvC7gC,aAAakB,QAAQ,OAAQw/B,KAAKC,UAAUrgC,EAAIrC,OAChDP,EAAS+F,GAAanD,EAAIrC,OAC1BP,ED2OD,CACHN,KFrKgC,yBGtE5BM,EJ+BD,CACHN,KChEiC,0BGiC7BM,EAASH,EAAoB+C,EAAIrC,OACjCP,EJrBD,CACHN,KC9BsB,kBGmDnBe,OAAM,SAAAC,GACuB,kBAAzBA,EAAI4iC,SAASjiC,QACZrB,EAASiG,GAAU,+BACdvF,EAAIL,UAAYK,EAAIL,SAASE,MAAQG,EAAIL,SAASE,KAAKc,QAC5DrB,EAASiG,GAAUvF,EAAIL,SAASE,KAAKc,UAErCrB,EAASiG,GAAU,6B2C2kBQ2D,CAAcpD,EAAO43B,KAC5DqC,SAAU,SAAC5jB,EAAMrW,EAAOK,EAAQu3B,EAAUI,EAAMz1B,EAAK21B,GAA3C,OAA0D1+B,E3ChjBlD,SAAC6c,EAAMrW,EAAOK,EAAQu3B,EAAUphB,EAAYjU,EAAK21B,GACnE,OAAO,SAAA1+B,GACHA,EAASmG,MACT,IACMiS,EAAc9V,aAAaC,QAAQ,eACnCghC,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQ5mB,GACxB0mB,EAASE,OAAO,QAASj9B,GACzB+8B,EAASE,OAAO,SAAU58B,GAC1B08B,EAASE,OAAO,WAAYrF,GAC5BmF,EAASE,OAAO,aAAczmB,GAC9BumB,EAASE,OAAO,aAAc/E,GAC9B6E,EAASE,OAAO,cAAerrB,GAC/BlY,IAAM,CACFwjC,OAAQ,OACR74B,IAZQ,oBAaRtK,KAAMgjC,EACN/gC,QAAS,CAAE,eAAgB,yBAE9BpC,MAAK,SAAAwC,GACFjC,QAAQC,IAAIgC,EAAIrC,MAChB,IAAM4iC,EAAiB,IAAIvwB,MAAK,IAAIA,MAAOwwB,UAAiC,IAArBxgC,EAAIrC,KAAK8iC,WAChE/gC,aAAakB,QAAQ,QAASZ,EAAIrC,KAAK8B,OACvCC,aAAakB,QAAQ,iBAAkB2/B,GACvC7gC,aAAakB,QAAQ,OAAQw/B,KAAKC,UAAUrgC,EAAIrC,OAChDP,EAASoG,GAAcxD,EAAIrC,KAAMwI,IACjC/I,ED2KD,CACHN,KFrKgC,yBGN5BM,EJjCD,CACHN,KChEiC,0BGiG7BM,EAASH,EAAoB+C,EAAIrC,OACjCP,EJrFD,CACHN,KC9BsB,kBGmHnBe,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZV,EAASsG,GAAW5F,EAAIL,e2CghB6CuJ,CAAeiT,EAAMrW,EAAOK,EAAQu3B,EAAUI,EAAMz1B,EAAK21B,QAI3Hj1B,CAA6Cs0B,I,yCCxoBtD4F,G,4MAEJj6B,MAAQ,G,EAIRoL,mBAAqB,WAChB,EAAK1M,MAAMi4B,iBACZ,EAAKj4B,MAAMk4B,e,EAKfU,eAAiB,WAGf,OAAO,EAAK54B,MAAMm4B,UAAUpsB,KAAI,SAAC/D,EAAEnC,GAC/BtN,QAAQC,IAAImH,KAAQ67B,iBACpBjjC,QAAQC,IAAI,4BACZ,IAAMyV,EAAM,EAAKjO,MAAMm4B,UAAU,EAAKn4B,MAAMs1B,gBAAkBttB,EAAI,EAAInC,EAAI,EAAK7F,MAAMs1B,cAAgB,EAAI,EACrGuD,EAAU,GACd,OAAO7wB,GACH,IAAK,YACD6wB,EAAQlyB,KACJ,kBAAC,GAAD,CAAWN,IAAK2B,GACZ,yBAAKtI,UAAWC,KAAQ67B,gBAAiBp5B,QAAS,EAAKpC,MAAMy7B,UAC3D,yBAAK/7B,UAAWC,KAAQ+7B,WAAY/6B,IAAK+6B,KAAY16B,IAAI,eACzD,uBAAGtB,UAAWC,KAAQg8B,YAAtB,aAIV,MACJ,QAASpjC,QAAQC,IAAI,iCAEzB,OACI,kBAAC,GAAD,CAAY6hC,OAAQryB,EAAGiG,IAAKA,EAAKqsB,OAAQ,EAAKA,OAAQ/iC,eAAgB,EAAKA,eAAiB8O,IAAK2B,GAC5F6wB,O,4CAOf,WACE,IAAI+C,EAAc,CAACj8B,KAAQk8B,MACvBC,EAAqB,CAACn8B,KAAQo8B,aAC9BC,EAAoB,CAACr8B,KAAQs8B,YAUjC,OATGl8B,KAAKC,MAAM4E,UACZg3B,EAAYj1B,KAAKhH,KAAQu8B,UACzBF,EAAkBr1B,KAAKhH,KAAQoV,QAC/B+mB,EAAmBn1B,KAAKhH,KAAQw8B,YAEhCP,EAAYj1B,KAAKhH,KAAQy8B,WACzBN,EAAmBn1B,KAAKhH,KAAQoV,QAChCinB,EAAkBr1B,KAAKhH,KAAQw8B,WAG/B,yBAAKz8B,UAAWC,KAAQ46B,WACpBx6B,KAAK64B,sB,GA1DQ14B,aAoFRmB,gBAnBS,SAAAC,GAEtB,MAAO,CACL62B,UAAW72B,EAAMuD,GAAGgN,KAAKsmB,UACzBvzB,SAAUtD,EAAMuD,GAAGD,SACnB0wB,aAAch0B,EAAMuD,GAAGgN,KAAKyjB,aAC5B2C,gBAAiB32B,EAAMuD,GAAGgN,KAAKomB,gBAE/Bh+B,MAAOqH,EAAMvH,KAAKE,UAIK,SAAArC,GACzB,MAAO,CACLsgC,YAAa,kBAAMtgC,EhDwBZ,CACHN,KCpF2B,qB+C4D/BmkC,SAAU,kBAAM7jC,EAAS4J,UAIdH,CAA6Ck6B,ICpFtDc,G,4MAIFC,cAAgB,WACZ,IAAIr+B,EAAgB4W,KACd5a,EAAQC,aAAaC,QAAQ,SAQnC,OAPG,EAAK6F,MAAM/B,cACVA,EAAgB,EAAK+B,MAAM/B,cAExBhE,GAAS,EAAK+F,MAAMkF,gBACnBjH,EAAgB,UAAG4C,2EAAsD,EAAKb,MAAMjH,QAIxF,yBACIiI,IAAI,GACJtB,UAAS,UAAKC,KAAQqV,WAAb,YAA2B,EAAKhV,MAAMoQ,SAAWzQ,KAAQ48B,SAAW,IAC7E57B,IAAK1C,K,4CAIjB,WACI,IAAI29B,EAAc,CAACj8B,KAAQk8B,KAAMl8B,KAAQ68B,UACzC,OACI,yBAAK98B,UAAWC,KAAQ88B,WAClB18B,KAAKC,MAAMoQ,SAAW,yBAAK1Q,UAAWC,KAAQ+8B,QAASt6B,QAASrC,KAAKC,MAAM28B,cAAsB,KACnG,yBACIv6B,QAASrC,KAAKC,MAAMoQ,SAAWrQ,KAAKC,MAAM28B,YAAc58B,KAAKC,MAAMgE,WACnEtE,UAAWC,KAAQi9B,WACjB78B,KAAKu8B,iBAGPv8B,KAAKC,MAAMoQ,SACT,yBAAK1Q,UAAWk8B,EAAYlzB,KAAK,MAC/B,yBAAKhJ,UAAWC,KAAQk9B,UACxB,wBAAIn9B,UAAWC,KAAQuV,MAAOnV,KAAKC,MAAMyU,MAErC1U,KAAKC,MAAM/F,MACT,uBAAGyF,UAAWC,KAAQm9B,QAAtB,IAAgC/8B,KAAKC,MAAMvB,QAC3C,MAGN,6BAEIsB,KAAKC,MAAMoQ,SACTrQ,KAAKC,MAAM/F,MACP,kBAAC,GAAD,MACA,kBAAC,GAAD,MACJ,MAGR,U,GApDEiG,aAmFTmB,gBAvBS,SAAAC,GACpB,MAAO,CACHsD,SAAUtD,EAAMuD,GAAGD,SACnBwL,SAAU9O,EAAMuD,GAAGgN,KAAKC,KAExB7X,MAAOqH,EAAMvH,KAAKE,MAClBlB,OAAQuI,EAAMvH,KAAKhB,OACnB0F,OAAQ6C,EAAMvH,KAAK0E,OACnBgW,KAAMnT,EAAMvH,KAAK0a,KAEjBvP,cAAe5D,EAAMvH,KAAKmL,cAC1BjH,cAAeqD,EAAMvH,KAAKkE,kBAKP,SAAArG,GACvB,MAAO,CACLoM,WAAY,kBAAMpM,EjDxDb,CACHN,KCzBqB,egDiFvBqlC,YAAa,kBAAM/kC,EjDnDd,CACHN,KC9BsB,mBgDoFf+J,CAA6Cg7B,I,oBCzFtDU,G,4MAEFC,cAAgB,WACZ,GAAG,EAAKh9B,MAAM/F,OAA+B,6BAAtB,EAAK+F,MAAMjH,OAAsC,CACpE,IAAMU,EAAO,CACTgF,OAAQ,EAAKuB,MAAMvB,OACnBgW,KAAM,EAAKzU,MAAMyU,KACjBG,WAAY,EAAK5U,MAAM4U,WACvB7b,OAAQ,EAAKiH,MAAMjH,QAEvB,EAAKiH,MAAMiwB,YAAY,QACvB,EAAKjwB,MAAMi9B,gBAAgBxjC,K,4CAInC,WACI,OACI,yBAAKiG,UAAWC,KAAQo9B,UACpB,iDAAsB,6BAAtB,iBAAyC,6BAAzC,aADJ,gCAEiC,6BAAK,6BAFtC,kBAGmB,6BAHnB,YAIa,0BAAM36B,QAASrC,KAAKi9B,cAAet9B,UAAWK,KAAKC,MAAM/F,MAAQ0F,KAAQE,KAAO,MAAhF,UAAmG,6BAJhH,oBAKqB,kC,GAtBVK,aA4CRmB,gBAhBS,SAAAC,GACpB,MAAO,CACHrH,MAAOqH,EAAMvH,KAAKE,MAClBlB,OAAQuI,EAAMvH,KAAKhB,OACnB6b,WAAYtT,EAAMvH,KAAK6a,WACvBnW,OAAQ6C,EAAMvH,KAAK0E,WAIA,SAAA7G,GACvB,MAAO,CACHqlC,gBAAiB,SAACxjC,GAAD,OAAU7B,EhD8iBN,SAAC6B,GAC1B,MAAO,CACHnC,KDlc2B,kBCmc3BmC,QgDjjBoC+H,CAAsB/H,KAC1Dw2B,YAAa,SAAC54B,GAAD,OAASO,EAAS4J,EAAkBnK,QAI1CgK,CAA6C07B,IChCtDG,G,4MAEJlX,kBAAoB,WAClB,IAAIhW,EAAc9V,aAAaC,QAAQ,eACnC6V,GACF9V,aAAakB,QAAQ,cAAe,YAAYoP,KAAKC,OAEvD,EAAKzK,MAAMm9B,iBAAiBntB,GAC5B,EAAKhQ,MAAMo9B,kBACX,EAAKp9B,MAAMq9B,iBAAiBjlB,OAAOklB,YACnCllB,OAAO3G,iBAAiB,UAAU,kBAAM,EAAKzR,MAAMq9B,iBAAiBjlB,OAAOklB,eACzEC,aAAY,WACV,GAAG,EAAKv9B,MAAM/F,MAAM,CAClB,IAAMA,EAAQC,aAAaC,QAAQ,SAC7BC,EAAU,CAAEA,QAAS,CAAEC,cAAa,iBAAaJ,KAEvDnC,IAAMC,IADG,2BACMqC,GACdpC,MAAK,SAAAwC,GACF,GAAG,EAAKwF,MAAMf,cAAc+G,SAAWxL,EAAIrC,KAAK6N,OAC9C,EAAKhG,MAAMw9B,uBAAuBhjC,EAAIrC,UAClC,CACJ,IAAMslC,EAAcjjC,EAAIrC,KAAK4T,KAAI,SAAAmI,GAAC,OAAIA,EAAE9a,MACxC,EAAK4G,MAAMf,cAAc8M,KAAI,SAAAmI,GAAC,OAAIA,EAAE9a,MACnC0X,SAAQ,SAAA1X,GACHqkC,EAAY11B,MAAK,SAAA21B,GAAG,OAAIA,IAAQtkC,MAClC,EAAK4G,MAAMw9B,uBAAuBhjC,EAAIrC,aAK/CE,OAAM,SAAAC,GACLC,QAAQC,IAAIF,SAGf,M,wDAGP,WACE,GAA8B,KAA3ByH,KAAKC,MAAMgQ,YAAmB,CAC/B,IAAIA,EAAc9V,aAAaC,QAAQ,eACnC6V,GACF9V,aAAakB,QAAQ,cAAe,YAAYoP,KAAKC,OAEvD1K,KAAKC,MAAMm9B,iBAAiBntB,GAE3BjQ,KAAKC,MAAM+M,cAAgBqL,OAAOklB,YACnCv9B,KAAKC,MAAMq9B,iBAAiBjlB,OAAOklB,c,oBAIvC,WAEE,OAAGv9B,KAAKC,MAAM+M,YAAc,IAExB,yBAAKrN,UAAU,sBAAf,8BAC6B,6BAD7B,wBAEW,6BAFX,6BAG4B,6BAH5B,6BAI4B,6BAAK,6BAC/B,yBAAKiB,IAAKg9B,KAAW38B,IAAI,gBAAgBtB,UAAU,eAMrD,yBAAKA,UAAU,OACb,yBAAKA,UAAS,qBAAgBK,KAAKC,MAAM4E,SAAW,OAAS,WAC7D,kBAAC,IAAD,CAAOjB,KAAM,CAAC,UAAW,QAAS,YAAai6B,UAAWruB,KAC1D,kBAAC,IAAD,CAAO5L,KAAM,CAAC,UAAW,QAAS,YAAai6B,UAAWziB,KAC1D,kBAAC,IAAD,CAAOxX,KAAM,CAAC,UAAW,QAAS,YAAai6B,UAAWhT,KAC1D,kBAAC,IAAD,CAAUmF,GAAG,YACZhwB,KAAKC,MAAM69B,iBAAmB,kBAAC,GAAD,MAAkB,KAChD99B,KAAKC,MAAM89B,cAAgB,kBAAC,GAAD,MAAe,KAC3C,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,MACA,kBAAC,GAAD,W,GA5EQ59B,aAwGH69B,eAAW18B,aAtBF,SAAAC,GACtB,MAAO,CACLw8B,cAAex8B,EAAMuD,GAAGi5B,cACxB/wB,YAAazL,EAAMuD,GAAGkI,YACtBnI,SAAUtD,EAAMuD,GAAGD,SACnBo5B,SAAU18B,EAAMvH,KAAKikC,SACrBH,iBAAkBv8B,EAAMuD,GAAGg5B,iBAC3B5+B,cAAeqC,EAAMvH,KAAKkF,cAC1BhF,MAAOqH,EAAMvH,KAAKE,MAClB+V,YAAa1O,EAAMvH,KAAKiW,gBAID,SAAApY,GACzB,MAAO,CACLylC,iBAAkB,SAAC38B,GAAD,OAAW9I,EnD7CH,SAAC8I,GAC3B,MAAO,CACHpJ,KClD4B,mBDmD5BoJ,SmD0CkCc,CAAuBd,KAC7D08B,gBAAiB,kBAAMxlC,G/CiJhB,SAAAA,GACH,IAAMqC,EAAQC,aAAaC,QAAQ,SACnC,GAAKF,EAGE,CACH,IAAM8gC,EAAiB,IAAIvwB,KAAKtQ,aAAaC,QAAQ,mBACrD,GAAI4gC,GAAkB,IAAIvwB,KACtB5S,EJ7KL,CACHN,KCrEkC,2BGkP1BM,EAAS4F,UACN,CACH,IAAMzD,EAAO6gC,KAAKqD,MAAM/jC,aAAaC,QAAQ,SAC7CvC,EAAS+F,GAAa5D,IAEtBnC,EAASH,EAAoBsC,IAC7BnC,EJ1LL,CACHN,KChEiC,0BG0PzBM,GAA2BmjC,EAAeC,WAAY,IAAIxwB,MAAOwwB,UA1PtE,SAAApjC,OA2PK,IACMwC,EAAW,CAAEA,QAAS,CAACC,cAAe,UAAYJ,IACxDnC,IAAMC,IAFM,qBAEGqC,GACdpC,MAAK,SAAAwC,GACF5C,EAAS+F,GAAanD,EAAIrC,OAE1BP,EAASH,EAAoB+C,EAAIrC,OACjC,IAAM4iC,EAAiB,IAAIvwB,MAAK,IAAIA,MAAOwwB,UAAiC,IAArBxgC,EAAIrC,KAAK8iC,WAChE/gC,aAAakB,QAAQ,QAASZ,EAAIrC,KAAK8B,OACvCC,aAAakB,QAAQ,iBAAkB2/B,GACvC7gC,aAAakB,QAAQ,OAAQw/B,KAAKC,UAAUrgC,EAAIrC,UACjDE,OAAM,SAAAC,GACLC,QAAQC,IAAIF,YA1BpBV,EJxKD,CACHN,KCrEkC,2BG6O9BM,EAAS4F,U+CpJjBggC,uBAAwB,SAACv+B,GAAD,OAAmBrH,E/CmOX,SAACqH,GAEjC,OADA1G,QAAQC,IAAIyG,GACL,SAAArH,GACHA,EAASoH,GAAoBC,IAC7B,IAAMi/B,EAAuBj/B,EAAcgV,QAAO,SAAAC,GAAC,OAAIA,EAAE5c,KAAKsJ,WAAW,kBACtEs9B,EAAqBl4B,OAAS,GAC7BpO,EFmO0B,SAACqH,GACnC,MAAO,CACH3H,KDzXsC,6BC0XtC2H,iBEtOak/B,CAAuBD,IAEpC,IAAME,EAAuBn/B,EAAcgV,QAAO,SAAAC,GAAC,OAAIA,EAAE5c,KAAKsJ,WAAW,eACtEw9B,EAAqBp4B,OAAS,GAC7Bo4B,EAAqBttB,SAAQ,SAAAoD,GACzB,IAAMja,EAAQC,aAAaC,QAAQ,SAC7BC,EAAU,CAAEA,QAAS,CAAEC,cAAa,iBAAaJ,KACjDwI,EAAG,oBAAgByR,EAAEtb,QAC3Bd,IAAMC,IAAI0K,EAAKrI,GACdpC,MAAK,SAAAwC,GACFjC,QAAQC,IAAIgC,EAAIrC,MAChBP,EFsOT,CACHN,KDnYkC,yBCoYlCoD,KExOyCF,EAAIrC,UAClCE,OAAM,SAAAC,GACLC,QAAQC,IAAIF,GACZV,EF0OT,CACHN,KDzYiC,iCkDzFekK,CAA6BvC,KACjFk+B,iBAAkB,SAACntB,GAAD,OAAiBpY,E/CvFT,SAACoY,GAC3B,MAAO,CACH1Y,KHG4B,mBGF5B0Y,e+CoFwCxO,CAAuBwO,QAI7C3O,CAA6C67B,KC9GnDmB,QACW,cAA7BjmB,OAAOkmB,SAASC,UAEe,UAA7BnmB,OAAOkmB,SAASC,UAEhBnmB,OAAOkmB,SAASC,SAASC,MACvB,2D,uBCfAC,GAAe,CACjBnN,YAAa,GACboN,gBAAiB,GACjBC,QAAS,GACT/wB,aAAc,iBACdxD,eAAgB,CACZ,CAAE/J,UAAW,EAAG+N,KAAM,SAAUhV,GAAI,KAAMyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC9F,CAAED,UAAW,EAAG+N,KAAM,SAAUhV,GAAI,KAAMyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC9F,CAAED,UAAW,EAAG+N,KAAM,SAAUhV,GAAI,KAAMyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC9F,CAAED,UAAW,EAAG+N,KAAM,SAAUhV,GAAI,KAAMyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC9F,CAAED,SAAU,EAAG+N,KAAM,SAAUhV,GAAI,IAAKyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC5F,CAAED,SAAU,EAAG+N,KAAM,OAAQhV,GAAI,IAAKyU,WAAY,SAC9CjB,SAAU,CACN,CAAC,GAAK,2BAA2B,QAAU,gBAAgB,OAAS,CAAC,OAAS,4BAA4B,OAAS,2BAA2B,OAAS,EAAE,YAAc,CACnK,CAAC,GAAK,2BAA2B,KAAO,6BAA6B,OAAS,EAAE,QAAU,MAAM,YAAc,CAC1G,CAAC,GAAK,2BAA2B,KAAO,+BAA+B,OAAS,EAAE,QAAU,MAAM,YAAc,IAChH,CAAC,GAAK,2BAA2B,KAAO,+BAA+B,OAAS,EAAE,QAAU,QAAQ,YAAc,CAC9G,CAAC,GAAK,2BAA2B,KAAO,iCAAiC,OAAS,EAAE,QAAU,SAAS,YAAc,CACjH,CAAC,GAAK,2BAA2B,KAAO,mCAAmC,OAAS,EAAE,QAAU,YAAY,YAAc,CACtH,CAAC,GAAK,2BAA2B,KAAO,qCAAqC,OAAS,EAAE,QAAU,YAAY,YAAc,CACxH,CAAC,GAAK,2BAA2B,KAAO,uCAAuC,OAAS,EAAE,QAAU,YAAY,YAAc,CAC1H,CAAC,GAAK,2BAA2B,KAAO,yCAAyC,OAAS,EAAE,QAAU,SAAS,YAAc,CACzH,CAAC,GAAK,2BAA2B,KAAO,2CAA2C,OAAS,EAAE,QAAU,UAAU,YAAc,CAC5H,CAAC,GAAK,2BAA2B,KAAO,6CAA6C,OAAS,EAAE,QAAU,WAAW,YAAc,CAC/H,CAAC,GAAK,2BAA2B,KAAO,+CAA+C,OAAS,EAAE,QAAU,SAAS,YAAc,CAC/H,CAAC,GAAK,2BAA2B,KAAO,iDAAiD,OAAS,EAAE,QAAU,YAAY,YAAc,CACpI,CAAC,GAAK,2BAA2B,KAAO,mDAAmD,OAAS,EAAE,QAAU,SAAS,YAAc,CACnI,CAAC,GAAK,2BAA2B,KAAO,qDAAqD,OAAS,EAAE,QAAU,QAAQ,YAAc,CACpI,CAAC,GAAK,2BAA2B,KAAO,uDAAuD,OAAS,EAAE,QAAU,SAAS,YAAc,CACvI,CAAC,GAAK,2BAA2B,KAAO,yDAAyD,OAAS,EAAE,QAAU,QAAQ,YAAc,CACxI,CAAC,GAAK,2BAA2B,KAAO,2DAA2D,OAAS,EAAE,QAAU,MAAM,YAAc,CACxI,CAAC,GAAK,2BAA2B,KAAO,6DAA6D,OAAS,EAAE,QAAU,WAAW,YAAc,CAC/I,CAAC,GAAK,2BAA2B,KAAO,+DAA+D,OAAS,EAAE,QAAU,SAAS,YAAc,CAC/I,CAAC,GAAK,2BAA2B,KAAO,iEAAiE,OAAS,EAAE,QAAU,SAAS,YAAc,0CACzO,CAAC,GAAK,2BAA2B,QAAU,aAAa,OAAS,CAAC,OAAS,4BAA4B,OAAS,2BAA2B,OAAS,EAAE,YAAc,IACpK,CAAC,GAAK,2BAA2B,QAAU,WAAW,OAAS,CAAC,OAAS,4BAA4B,OAAS,2BAA2B,OAAS,EAAE,YAAc,IAClK,CAAC,GAAK,2BAA2B,QAAU,qBAAqB,OAAS,CAAC,OAAS,4BAA4B,OAAS,2BAA2B,OAAS,EAAE,YAAc,KAExKtM,WAAY,cAEhB,CAAED,SAAU,EAAG+N,KAAM,OAAQhV,GAAI,IAAKyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC1F,CAAED,SAAU,EAAG+N,KAAM,OAAQhV,GAAI,IAAKyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC1F,CAAED,SAAU,EAAG+N,KAAM,OAAQhV,GAAI,IAAKyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC1F,CAAED,SAAU,EAAG+N,KAAM,OAAQhV,GAAI,IAAKyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC1F,CAAED,SAAU,EAAG+N,KAAM,OAAQhV,GAAI,IAAKyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC1F,CAAED,SAAU,EAAG+N,KAAM,OAAQhV,GAAI,IAAKyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC1F,CAAED,SAAU,EAAG+N,KAAM,OAAQhV,GAAI,IAAKyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC1F,CAAED,SAAU,EAAG+N,KAAM,OAAQhV,GAAI,IAAKyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC1F,CAAED,SAAU,GAAI+N,KAAM,OAAQhV,GAAI,KAAMyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC5F,CAAED,SAAU,GAAI+N,KAAM,OAAQhV,GAAI,KAAMyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC5F,CAAED,SAAU,GAAI+N,KAAM,OAAQhV,GAAI,KAAMyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC5F,CAAED,SAAU,GAAI+N,KAAM,OAAQhV,GAAI,KAAMyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC5F,CAAED,SAAU,GAAI+N,KAAM,OAAQhV,GAAI,KAAMyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC5F,CAAED,SAAU,GAAI+N,KAAM,OAAQhV,GAAI,KAAMyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC5F,CAAED,SAAU,GAAI+N,KAAM,OAAQhV,GAAI,KAAMyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC5F,CAAED,SAAU,GAAI+N,KAAM,OAAQhV,GAAI,KAAMyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC5F,CAAED,SAAU,GAAI+N,KAAM,OAAQhV,GAAI,KAAMyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC5F,CAAED,SAAU,GAAI+N,KAAM,OAAQhV,GAAI,KAAMyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC5F,CAAED,SAAU,GAAI+N,KAAM,OAAQhV,GAAI,KAAMyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,cAC5F,CAAED,SAAU,GAAI+N,KAAM,OAAQhV,GAAI,KAAMyU,WAAY,aAAcjB,SAAU,GAAItM,WAAY,eAEhGS,uBAAwB,GACxB+G,gBAAiB,KACjBR,QAAS,GACTiJ,oBAAqB,EACrBL,mBAAmB,GAKjB0uB,GAAmB,SAAnBA,EAAoBj0B,EAAYzD,EAAa3K,GAC/C,OAAO2K,EAAY6E,KAAI,SAAA/D,GACnB,OAAGA,EAAErE,OAASgH,EAAmB,6BAAK3C,GAAZ,IAAed,YAAY,GAAD,oBAAMc,EAAEd,aAAR,CAAqB3K,MACtEoO,EAAW/J,WAAWoH,EAAErE,MAAc,6BAAIqE,GAAX,IAAcd,YAAa03B,EAAiBj0B,EAAY3C,EAAEd,YAAa3K,KAC7FyL,MAId62B,GAAsB,SAAtBA,EAAuB33B,EAAarK,EAAUF,GAChD,OAAOuK,EAAY6E,KAAI,SAAA/D,GACnB,OAAGA,EAAErE,OAAS9G,GACVtE,QAAQC,IAAI,sBACL,6BAAKwP,GAAZ,IAAerE,KAAMhH,EAAWgH,SAGhCpL,QAAQC,IAAI,eACL,6BAAIwP,GAAX,IAAcd,YAAa23B,EAAoB72B,EAAEd,YAAarK,EAAUF,UAa9EmiC,GAAoB,SAACx9B,EAAOy9B,GAC9B,IAAMC,EAAoB19B,EAAM8I,eAAe2B,KAAI,SAAC/D,EAAEnC,GAClD,OAAO,6BACAmC,GADP,IAGI5O,GAAG,GAAD,OAAKyM,EAAL,YAAU2E,KAAKC,OACjByE,OAAQ,aACRrB,WAAY,aACZjB,SAAU,GACVtM,WAAY,kBAGpB,OAAO,6BACAgB,GADP,IAEI8I,eAAgB40B,EAChBpxB,aAAc,oBAMhBhS,GAAgB,SAAC0F,EAAOy9B,GAC1B,OAAO,6BACAz9B,GADP,IAEIsM,aAAc,iBAIhB/R,GAAS,SAACyF,EAAOy9B,GACnB,IAAIE,EAAYF,EAAOjjC,IAAIqP,MAAM,EAAG,IAC9BrP,EAAMijC,EAAOjjC,IAAIqP,MAAM,GAAI4zB,EAAOjjC,IAAIkK,QACtCg5B,EAAoB19B,EAAM8I,eAAe2B,KAAI,SAAC/D,EAAGnC,GACnD,OAAGmC,EAAE3H,SAAW,EACL2H,EACmB,IAArBi3B,EAAUj5B,OACR,6BAAIgC,GAAX,IAAc5O,GAAI,UAAYgL,KAAK86B,SAAUhwB,OAAQ,UAAW5O,WAAY,eAErE,6BAAK0H,GAAZ,IAAe5O,GAAI6lC,EAAUp4B,MAAOqI,OAAO,YAAa5O,WAAY,kBAG5E,OAAO,6BACAgB,GADP,IAEIq9B,QAAS7iC,EACTiF,uBAAwBi+B,EAAkB,GAAG5lC,GAC7CgR,eAAgB40B,EAChBpxB,aAAc,gBAIhB7R,GAAiB,SAACuF,EAAOy9B,GAC3B,OAAO,6BAAKz9B,GAAZ,IAAmBsM,aAAc,gBAM/B3R,GAAkB,SAACqF,EAAOy9B,GAC5B,OAAOz9B,GAGLpF,GAAW,SAACoF,EAAOy9B,GACrB,IAAMC,EAAoB19B,EAAM8I,eAAe2B,KAAI,SAAA/D,GAC/C,GAAkB,IAAfA,EAAE3H,SACD,MAAO,CAAEA,SAAU,EAAG+N,KAAM,SAAUhV,GAAI,IAAKyU,WAAY,SAAUjB,SAAU,GAAItM,WAAY,WAEnG,IAAMjD,EAAO0hC,EAAO3iC,MAAM2b,MAAK,SAAA1U,GAAC,OAAIA,EAAE/G,SAAW0L,EAAE5O,MACnD,OAAGiE,EACQ,6BACA2K,GADP,IAEI4E,SAAUvP,EAAKuP,SAASb,KAAI,SAAAQ,GAAM,OAAO,6BAAIA,GAAX,IAAc5I,KAAK,SACrDgB,MAAOtH,EAAKsH,MAAQtH,EAAKsH,MAAQ,KACjCvD,OAAQ/D,EAAK+D,OAAS/D,EAAK+D,OAAS,KACpCyM,WAAY,WAGT7F,KAIf,OAAO,6BACA1G,GADP,IAEI8I,eAAgB40B,EAChBpxB,aAAc,kBAIhBzR,GAAmB,SAACmF,EAAOy9B,GAC7B,OAAOz9B,GAML69B,GAAmB,SAAC79B,EAAOy9B,GAC7B,IAAIK,EACAC,EAAS,UACPL,EAAoB19B,EAAM8I,eAAe2B,KAAI,SAAA/D,GAC/C,OAAG+2B,EAAOziC,SAAW0L,EAAE5O,IACnBgmC,EAAUp3B,EAAE3H,SAAW,EAChB,6BACA2H,GADP,IAEI1H,WAAY,YAEV0H,EAAE3H,WAAa++B,GACrBC,EAASr3B,EAAE5O,GACJ4O,GAEAA,KAGf,OAAO,6BACA1G,GADP,IAEI8I,eAAgB40B,EAChBj+B,uBAAwBs+B,KAI1BC,GAAkB,SAACh+B,EAAOy9B,GAC5B,IAAMC,EAAoB19B,EAAM8I,eAAe2B,KAAI,SAAA/D,GAC/C,OAAGA,EAAE5O,KAAO2lC,EAAOziC,OACR,6BACA0L,GADP,IAEI1H,WAAY,WAEJ0H,KAEpB,OAAO,6BACA1G,GADP,IAEI8I,eAAgB40B,KAMlB7hC,GAAiB,SAACmE,EAAOy9B,GAC3B,IAAMC,EAAoB19B,EAAM8I,eAAe2B,KAAI,SAAA/D,GAC/C,OAAGA,EAAE5O,KAAO2lC,EAAOziC,OACR,6BACA0L,GADP,IAEI6F,WAAY,YAGT7F,KAGf,OAAO,6BACA1G,GADP,IAEI8I,eAAgB40B,KAIlB5hC,GAAmB,SAACkE,EAAOy9B,GAC7B,IAAMC,EAAoB19B,EAAM8I,eAAe2B,KAAI,SAAA/D,GAC/C,OAAGA,EAAE5O,KAAO2lC,EAAOziC,OACR,0CACA0L,GACA+2B,EAAO1hC,MAFd,IAGIuP,SAAUmyB,EAAO1hC,KAAKuP,SAAWmyB,EAAO1hC,KAAKuP,SAASb,KAAI,SAAAQ,GAAM,OAAO,6BAAIA,GAAX,IAAc5I,KAAK,SAAS,GAC5FgB,MAAOo6B,EAAO1hC,KAAKsH,MAAQo6B,EAAO1hC,KAAKsH,MAAQ,KAC/CvD,OAAQ29B,EAAO1hC,KAAK+D,OAAS29B,EAAO1hC,KAAK+D,OAAS,KAClDyM,WAAY,WAGT7F,KAGf,OAAO,6BACA1G,GADP,IAEI8I,eAAgB40B,KAIlB1hC,GAAkB,SAACgE,EAAOy9B,GAC5B,IAAMC,EAAoB19B,EAAM8I,eAAe2B,KAAI,SAAA/D,GAC/C,OAAGA,EAAE5O,KAAO2lC,EAAOziC,OACR,6BACA0L,GADP,IAEI6F,WAAY,WAGT7F,KAGf,OAAO,6BACA1G,GADP,IAEI8I,eAAgB40B,KAOlB3iC,GAAmB,SAACiF,EAAOy9B,GAC7B,IAAMQ,EAAgB,CAAEjjC,OAAQyiC,EAAOziC,OAAQxD,OAAQimC,EAAOxiC,QAAQnD,IAChEomC,EAAU,uBAAOl+B,EAAMgG,SAAb,CAAsBi4B,IAChCP,EAAoB19B,EAAM8I,eAAe2B,KAAI,SAAA/D,GAC/C,GAAGA,EAAE5O,KAAO2lC,EAAOziC,OAAO,CACtB,IAAMmjC,EAAW,CAAIV,EAAOxiC,SAAX,oBAAuByL,EAAE4E,WAC1C,OAAO,6BACA5E,GADP,IAEI4E,SAAU6yB,IAGd,OAAOz3B,KAGf,OAAO,6BACA1G,GADP,IAEIgG,QAASk4B,EACTp1B,eAAgB40B,KAIlBxiC,GAAqB,SAAC8E,EAAOy9B,GAC/BxmC,QAAQC,IAAIumC,GACZ,IAAMS,EAAal+B,EAAMgG,QAAQ2M,QAAO,SAAA1H,GAAC,OAAIA,EAAEzT,SAAWimC,EAAOjmC,UAC3DkmC,EAAoB19B,EAAM8I,eAAe2B,KAAI,SAAA/D,GAC/C,GAAGA,EAAE5O,KAAO2lC,EAAOziC,OAAO,CACtB,IAAMmjC,EAAcz3B,EAAE4E,SAASb,KAAI,SAAAQ,GAC/B,OAAGA,EAAEnT,KAAO2lC,EAAOxiC,QAAQzD,OAChBimC,EAAOxiC,QAEPgQ,KAGf,OAAO,6BACAvE,GADP,IAEI4E,SAAU6yB,IAGd,OAAOz3B,KAGf,OAAO,6BACA1G,GADP,IAEI8I,eAAgB40B,EAChB13B,QAASk4B,KAIX/iC,GAAoB,SAAC6E,EAAOy9B,GAE9B,OADAxmC,QAAQC,IAAIumC,EAAOzmC,KACZ,gBACAgJ,IAMLo+B,GAAmB,SAACp+B,EAAOy9B,GAC7B,IAAMY,EAAc,uBAAOr+B,EAAMgwB,aAAb,CAA0ByN,EAAOnmC,SACrD,OAAO,6BACA0I,GADP,IAEIgwB,YAAaqO,KAIfC,GAAqB,SAACt+B,EAAOy9B,GAC/B,IAAMY,EAAiBr+B,EAAMgwB,YAAYrd,QAAO,SAAA7a,GAAE,OAAIA,IAAO2lC,EAAOnmC,UACpE,OAAO,6BACA0I,GADP,IAEIgwB,YAAaqO,KAIfpiC,GAAmB,SAAC+D,EAAOy9B,GAC7B,OAAO,6BACAz9B,GADP,IAEIgwB,YAAa,MAMf71B,GAAkB,SAAC6F,EAAOy9B,GAE5B,GAAGz9B,EAAMwG,gBACL,OAAO,6BACAxG,GADP,IAEAwG,gBAAiB,OAGjB,IAAMk3B,EAAiB,uBAChB19B,EAAM8I,eAAe2B,KAAI,SAAA/D,GACxB,OAAO,6BACAA,GADP,IAEI3H,SAAU2H,EAAE3H,SAAW,EACvB+N,KAAMpG,EAAE3H,SAAW,EAAI,EAAI,SAAW,YAG7C4T,QAAO,SAAAjM,GACJ,OAAOA,EAAE3H,SAAW,GAAK,OATV,CAWnB,CACIA,UAAW,EACX+N,KAAM,SACNhV,GAAG,YAAD,OAAcoR,KAAKC,OACrByE,OAAQ,YACRrB,WAAY,aACZjB,SAAU,MAGlB,OAAO,6BACAtL,GADP,IAEI8I,eAAgB40B,EAChB1N,YAAa,GACb/gB,oBAAqB/F,KAAKC,SAKhC/O,GAAoB,SAAC4F,EAAOy9B,GAC9B,OAAO,gBACAz9B,IAIL3F,GAAmB,SAAC2F,EAAOy9B,GAC7B,OAAO,gBACAz9B,IAMLhG,GAAkB,SAACgG,EAAOy9B,GAE5B,GAAGz9B,EAAMwG,gBACL,OAAO,6BACAxG,GADP,IAEAwG,gBAAiB,OAGdxG,EAAMq9B,QAAQ34B,OAAS,GAAGzN,QAAQC,IAAI,sBACzC,IAAM6mC,EAAkC,IAAzB/9B,EAAMq9B,QAAQ34B,OAAe1E,EAAMq9B,QAAQ,GAAK,UAAYn0B,KAAKC,MAC1Eo1B,EAAav+B,EAAMq9B,QAAQxzB,MAAM,EAAG7J,EAAMq9B,QAAQ34B,QAClDg5B,EAAiB,uBAChB19B,EAAM8I,eAAe2B,KAAI,SAAA/D,GACxB,OAAO,6BACAA,GADP,IAEI3H,SAAU2H,EAAE3H,SAAW,EACvB+N,KAAMpG,EAAE3H,SAAS,EAAI,EAAI,SAAW,YAG3C4T,QAAO,SAAAjM,GACJ,OAAOA,EAAE3H,WAAa,MATP,CAWnB,CACIA,SAAU,GACV+N,KAAM,OACNhV,GAAIimC,EACJnwB,OAAQ,YACRrB,WAAY,aACZjB,SAAU,MAGlB,OAAO,6BACAtL,GADP,IAEI8I,eAAgB40B,EAChBL,QAASkB,EACTvO,YAAa,GACb/gB,oBAAqB/F,KAAKC,SAKhClP,GAAoB,SAAC+F,EAAOy9B,GAC9B,OAAO,gBACAz9B,IAIL9F,GAAmB,SAAC8F,EAAOy9B,GAC7B,OAAO,gBACAz9B,IAOLw+B,GAAgB,SAACx+B,EAAOy9B,GAC1B,OAAO,6BAAKz9B,GAAZ,IAAmBwG,gBAAiBi3B,EAAO/hC,aAGzC+iC,GAAkB,SAACz+B,EAAOy9B,GAC5B,OAAO,6BAAKz9B,GAAZ,IAAmBwG,gBAAiB,QAGlCk4B,GAAmB,SAAC1+B,EAAOy9B,GAC7B,OAAO,6BAAKz9B,GAAZ,IAAmBwG,gBAAiBi3B,EAAOp7B,QAGzCs8B,GAAqB,SAAC3+B,GACxB,OAAO,6BAAKA,GAAZ,IAAmBwG,gBAAiB,QAKlCpL,GAAsB,SAAC4E,EAAOy9B,GAChC,IAAQziC,EAAuByiC,EAAvBziC,OAAQK,EAAeoiC,EAAfpiC,WACVujC,EAAO,UAAM5+B,EAAMwG,gBAAZ,YAA+BnL,EAAWvD,IACjDomC,EAAU,uBAAOl+B,EAAMgG,SAAb,CAAsB,CAAChL,OAAQA,EAAQqH,KAAMu8B,KACvD31B,EAAgB,CAClBnR,GAAIuD,EAAWvD,GACfmD,QAASI,EAAWJ,QACpBoH,KAAMu8B,EACNn8B,OAAQ,EACRmD,YAAa,IAEX83B,EAAoB19B,EAAM8I,eAAe2B,KAAI,SAAA/D,GAC/C,GAAGA,EAAE5O,KAAOkD,EAAO,CACf,IAAMsQ,EAAW5E,EAAE4E,SAASb,KAAI,SAAAQ,GAC5B,OAAGjL,EAAMwG,gBAAgBlB,MAAM,KAAK,KAAO2F,EAAEnT,GACtCkI,EAAMwG,gBAAgBlB,MAAM,KAAKZ,OAAS,EAClC,6BAAIuG,GAAX,IAAcrF,YAAa03B,GAAiBt9B,EAAMwG,gBAAiByE,EAAErF,YAAaqD,KAG3E,6BAAIgC,GAAX,IAAcrF,YAAY,GAAD,oBAAMqF,EAAErF,aAAR,CAAqBqD,MAG3CgC,KAGf,OAAO,6BACAvE,GADP,IAEI4E,SAAUA,IAGd,OAAO5E,KAGf,OAAO,6BACA1G,GADP,IAEI8I,eAAgB40B,EAChB13B,QAASk4B,EACT13B,gBAAiB,QAInBlL,GAAwB,SAAC0E,EAAOy9B,GAClC,IAAQziC,EAAiCyiC,EAAjCziC,OAAQO,EAAyBkiC,EAAzBliC,SAAUF,EAAeoiC,EAAfpiC,WACpB6iC,EAAal+B,EAAMgG,QAAQ2M,QAAO,SAAAjM,GACpC,QAASA,EAAE1L,SAAWA,GAAU0L,EAAErE,OAAS9G,MAEzCmiC,EAAoB19B,EAAM8I,eAAe2B,KAAI,SAAA/D,GAC/C,GAAGA,EAAE5O,KAAOkD,EAAO,CACf,IAAMmjC,EAAcz3B,EAAE4E,SAASb,KAAI,SAAAQ,GAC/B,OAAG1P,EAAS+D,WAAW2L,EAAEnT,IACd,6BACAmT,GADP,IAEIrF,YAAa23B,GAAoBtyB,EAAErF,YAAarK,EAAUF,KAGvD4P,KAGf,OAAO,6BACAvE,GADP,IAEI4E,SAAU6yB,IAGd,OAAOz3B,KAGf,OAAO,6BACA1G,GADP,IAEIgG,QAASk4B,EACTp1B,eAAgB40B,KAIlBliC,GAAuB,SAACwE,EAAOy9B,GACjC,OAAO,gBACAz9B,IAILvE,GAAqB,SAACuE,EAAOy9B,GAC/B,IAAQziC,EAAsByiC,EAAtBziC,OAAQU,EAAc+hC,EAAd/hC,UACVgiC,EAAoB19B,EAAM8I,eAAe2B,KAAI,SAAA/D,GAC/C,GAAGA,EAAE5O,KAAOkD,EAAO,CACf,IAAMmjC,EAAcz3B,EAAE4E,SAASqH,QAAO,SAAA1H,GAAC,OAAIA,EAAEnT,KAAO4D,KACpD,OAAO,6BACAgL,GADP,IAEI4E,SAAU6yB,IAGd,OAAOz3B,KAGf,OAAO,6BACA1G,GADP,IAEI8I,eAAgB40B,EAChBl3B,gBAAiB,QAInB7K,GAAuB,SAACqE,EAAOy9B,GACjC,OAAOz9B,GAGLpE,GAAsB,SAACoE,EAAOy9B,GAChC,OAAOz9B,GAGL6+B,GAAuB,SAAC7+B,EAAOy9B,GACjC,OAAO,6BACAz9B,GADP,IAEI4O,kBAAmB6uB,EAAO70B,SAiEnBk2B,GA7DC,WAAoC,IAAnC9+B,EAAkC,uDAA1Bm9B,GAAcM,EAAY,uCAC/C,OAAQA,EAAOznC,MACX,IpD7gB6B,oBoD6gBO,OAAOooC,GAAiBp+B,EAAOy9B,GACnE,IpD7gB+B,sBoD6gBO,OAAOa,GAAmBt+B,EAAOy9B,GACvE,IpD7gB8B,qBoD6gBO,OAAOxhC,GAAiB+D,GAE7D,IpDrhB6B,oBoDqhBO,OAAO7F,GAAgB6F,GAC3D,IpDrhB+B,sBoDqhBO,OAAO5F,GAAkB4F,GAC/D,IpDrhB8B,qBoDqhBO,OAAO3F,GAAiB2F,GAE7D,IpD7hB6B,oBoD6hBO,OAAOhG,GAAgBgG,GAC3D,IpD7hB+B,sBoD6hBO,OAAO/F,GAAkB+F,GAC/D,IpD7hB8B,qBoD6hBO,OAAO9F,GAAiB8F,GAE7D,IpDxgB2B,kBoDwgBO,OAAO1F,GAAc0F,GACvD,IpDxgBmB,UoDwgBO,OAAOzF,GAAOyF,EAAOy9B,GAC/C,IpDxgB4B,mBoDwgBO,OAAOhjC,GAAeuF,GAEzD,IpD/gB0B,iBoD+gBO,OAAOw+B,GAAcx+B,EAAOy9B,GAC7D,IpD/gB4B,mBoD+gBO,OAAOgB,GAAgBz+B,GAC1D,IpD5f6B,oBoD4fO,OAAO0+B,GAAiB1+B,EAAOy9B,GACnE,IpD5f+B,sBoD4fO,OAAOkB,GAAmB3+B,GAEhE,IpD7fgC,uBoD6fO,OAAOw9B,GAAkBx9B,GAEhE,IpD3gB6B,oBoD2gBO,OAAOrF,GAAgBqF,GAC3D,IpD1gBqB,YoD0gBO,OAAOpF,GAASoF,EAAOy9B,GACnD,IpD5gB8B,qBoD4gBO,OAAO5iC,GAAiBmF,GAE7D,IpDnhB4B,mBoDmhBO,OAAOnE,GAAemE,EAAOy9B,GAChE,IpDnhB8B,qBoDmhBO,OAAO3hC,GAAiBkE,EAAOy9B,GACpE,IpDnhB6B,oBoDmhBO,OAAOzhC,GAAgBgE,EAAOy9B,GAElE,IpDhgB8B,qBoDggBO,OAAOI,GAAiB79B,EAAOy9B,GACpE,IpDhgB6B,oBoDggBO,OAAOO,GAAgBh+B,EAAOy9B,GAElE,IpD3iB8B,qBoD2iBO,OAAO1iC,GAAiBiF,EAAOy9B,GACpE,IpD3iBgC,uBoD2iBO,OAAOviC,GAAmB8E,EAAOy9B,GACxE,IpD3iB+B,sBoD2iBO,OAAOtiC,GAAkB6E,EAAOy9B,GAEtE,IpD5gBgC,uBoD4gBO,OAAOhiC,GAAmBuE,EAAOy9B,GACxE,IpD5gBkC,yBoD4gBO,OAAO9hC,GAAqBqE,GACrE,IpD5gBiC,uBoD4gBO,OAAOpE,GAAoBoE,GAEnE,IpD/iBiC,wBoD+iBO,OAAO5E,GAAoB4E,EAAOy9B,GAC1E,IpD/iBmC,0BoD+iBO,OAAOniC,GAAsB0E,EAAOy9B,GAC9E,IpD/iBkC,yBoD+iBO,OAAOjiC,GAAqBwE,GAErE,IpD5gBmC,sBoD4gBO,OAAO6+B,GAAqB7+B,EAAOy9B,GAE7E,QAAS,OAAOz9B,ICvpBlBm9B,GAAe,CACjB3pB,cAAe,IACfsC,WAAY,GACZsB,UAAW,GACXnD,SAAU,GACV+B,eAAgB,aAEhB3D,sBAAuB,GACvBD,mBAAoB,GACpB2sB,qBAAsB,GAEtBxsB,uBAAwB,GACxBD,wBAAyB,GACzBoE,cAAe,GACfsD,cAAe,GAEf9H,QAAS,CACL,CAAEza,OAAQ,QAAU0b,KAAM,YAAoBhW,OAAQ,OAAWmW,YAAY,GAC7E,CAAE7b,OAAQ,KAAU0b,KAAM,eAAoBhW,OAAQ,SAAWmW,YAAY,GAC7E,CAAE7b,OAAQ,QAAU0b,KAAM,QAAoBhW,OAAQ,QAAWmW,YAAY,GAC7E,CAAE7b,OAAQ,QAAU0b,KAAM,cAAoBhW,OAAQ,OAAWmW,YAAY,GAC7E,CAAE7b,OAAQ,SAAU0b,KAAM,mBAAoBhW,OAAQ,QAAWmW,YAAY,GAC7E,CAAE7b,OAAQ,MAAU0b,KAAM,iBAAoBhW,OAAQ,UAAWmW,YAAY,IAIjFyC,cAAe,aACf/B,MAAO,CACH,CACIgrB,OAAO,EACP1nC,OAAQ,IACR2b,QAAS,CACL,CAAExb,OAAQ,IAAK0b,KAAM,YACrB,CAAE1b,OAAQ,QAAS0b,KAAM,YAAahW,OAAQ,OAAQmW,YAAY,IAEtE8C,WAAY,GACZtB,gBAAiB,cACjBzB,SAAU,CACN,CACI9b,KAAM,sBACN0nC,KAAM,QACNjpC,KAAM,OACNujB,OAAQ,IACRzhB,GAAI,KAER,CACIP,KAAM,sBACN0nC,KAAM,QACNjpC,KAAM,OACNujB,OAAQ,IACRzhB,GAAI,IACJuhB,KAAK,KAIjB,CACI/hB,OAAQ,IACR0nC,OAAO,EACP/rB,QAAS,CACL,CAAExb,OAAQ,KACV,CAAEA,OAAQ,KAAM0b,KAAM,eAAgBhW,OAAQ,SAAUmW,YAAY,IAExE8C,WAAY,GACZtB,gBAAiB,cACjBzB,SAAU,CACN,CACI9b,KAAM,mBACN0nC,KAAM,QACNjpC,KAAM,OACNujB,OAAQ,KACRzhB,GAAI,IACJuhB,KAAK,KAIjB,CACI/hB,OAAQ,IACR2b,QAAS,CACL,CAAExb,OAAQ,KACV,CAAEA,OAAQ,QAAS0b,KAAM,QAASG,YAAY,IAElD8C,WAAY,GACZtB,gBAAiB,cACjBzB,SAAU,CACN,CACI9b,KAAM,uBACN0nC,KAAM,QACNjpC,KAAM,OACNujB,OAAQ,QACRzhB,GAAI,IACJuhB,KAAK,KAIjB,CACI/hB,OAAQ,IACR2b,QAAS,CACL,CAAExb,OAAQ,KACV,CAAEA,OAAQ,SAAU0b,KAAM,mBAAoBG,YAAY,IAE9D8C,WAAY,GACZtB,gBAAiB,cAEjBzB,SAAU,CACN,CACI9b,KAAM,oDACN0nC,KAAM,QACNjpC,KAAM,OACNujB,OAAQ,SACRzhB,GAAI,OAIhB,CACIR,OAAQ,IACR6b,KAAM,cACNF,QAAS,CACL,CAAExb,OAAQ,KACV,CAAEA,OAAQ,QAAS0b,KAAM,cAAeG,YAAY,IAC1C8C,WAAY,GAC1B/C,SAAU,CACN,CACI9b,KAAM,2BACN0nC,KAAM,QACNjpC,KAAM,OACNujB,OAAQ,QACRzhB,GAAI,OAIhB,CACIR,OAAQ,IACR2b,QAAS,CACL,CAAExb,OAAQ,KACV,CAAEA,OAAQ,MAAO0b,KAAM,iBAAkBhW,OAAQ,UAAWmW,YAAY,IAE5E8C,WAAY,GACZtB,gBAAiB,cACjBzB,SAAU,CACN,CACI9b,KAAM,8BACN0nC,KAAM,QACN1lB,OAAQ,QACRzhB,GAAI,EACJigB,MAAM,MAKtBhE,iBAAkB,GAClB3c,MAAO,GACP8nC,gBAAiB,GACjBzqB,YAAa,aACb0C,mBAAmB,GA6DjBhhB,GAAsB,SAAC6J,EAAOy9B,GAChC,IAAM0B,EAA+B1B,EAAOrnC,SAASuH,cAAcgV,QAAO,SAAAC,GAAC,OAAIA,EAAE5c,KAAKsJ,WAAW,kBAC3F8/B,EAAyB3B,EAAOrnC,SAASmc,uBAC9CI,QAAO,SAAAla,GAAI,OAAKglC,EAAOrnC,SAAS4d,MAAMvN,MAAK,SAAAwE,GAAC,OAAIA,EAAEgI,QAAQxM,MAAK,SAAAyM,GAAC,OAAIA,EAAEzb,SAAWgB,EAAKhB,gBACtFgT,KAAI,SAAAhS,GACDxB,QAAQC,IAAIuB,GACZ,IAAMN,EAAO,CACTV,OAAQgmC,EAAOrnC,SAASqB,OACxB0b,KAAMsqB,EAAOrnC,SAAS+c,KACtBhW,OAAQsgC,EAAOrnC,SAAS+G,OACxBmW,WAAYmqB,EAAOrnC,SAASkd,YAGhC,MAAO,CACH0rB,OAAO,EACP3rB,SAAU,GACV/b,OAJa,eAAWmB,EAAKhB,QAK7Bwb,QAAS,CAAC9a,EAAMM,GAChB0a,KAAM1a,EAAK0a,KACX2B,gBAAiB5L,KAAKC,UAGxBk2B,EAAQ,uBACP5B,EAAOrnC,SAAS4d,MAAMvJ,KAAI,SAAArR,GACzB,IAAMia,EAAWja,EAAKia,SAAS5I,KAAI,SAAA9S,GAC/B,OAAGwnC,EAA6B14B,MAAK,SAAAmM,GAAC,OAAIA,EAAEtb,SAAW8B,EAAK9B,QAAUsb,EAAE0sB,YAAc3nC,EAAQG,MACnF,6BACAH,GADP,IAEI0hB,KAAK,IAGF1hB,KAGf,OAAO,6BACAyB,GADP,IAEIia,iBAdE,aAiBP+rB,IAEP,OAAO,6BACAp/B,GADP,IAEIuS,uBAAwBkrB,EAAOrnC,SAASmc,uBACxCH,mBAAoBqrB,EAAOrnC,SAASgc,mBACpCF,QAASurB,EAAOrnC,SAAS8b,QACzB8B,MAAOqrB,EACP7rB,cAAeiqB,EAAOrnC,SAAS4d,MAAMtP,OAAS,EAAI+4B,EAAOrnC,SAAS4d,MAAM,GAAG1c,OAAS,QAQtFuC,GAAa,SAACmG,EAAOy9B,GACvB,IAAI8B,EACEF,EAAWr/B,EAAMgU,MAAMvJ,KAAI,SAAArR,GAC7B,GAAGA,EAAK9B,SAAW0I,EAAMwT,cAAc,CACnC,IAAMH,EAAWja,EAAKia,SAAS5I,KAAI,SAAA9S,GAC/B,OAAGA,EAAQ0hB,IACA,6BACA1hB,GADP,IAEI0hB,KAAK,IAGF1hB,KAGf,OAAO,6BACAyB,GADP,IAEIia,WACA+C,WAAYpW,EAAMoX,YAEnB,OAAGhe,EAAK9B,SAAWmmC,EAAOnmC,QAC7BioC,EAAenmC,EAAKgd,WACbhd,GAEAA,KAGTomC,EAAmB,uBAAOx/B,EAAM+T,kBAAb,CAA+B0pB,EAAOnmC,SAE/D,OAAO,6BACA0I,GADP,IAEIgU,MAAOqrB,EACPjpB,WAAYmpB,EACZ/rB,cAAeiqB,EAAOnmC,OACtByc,iBAAkByrB,KAIpBC,GAAyB,SAACz/B,EAAOy9B,GACnC,IAAM8B,EAAe9B,EAAO70B,MAC5B,OAAO,6BACA5I,GADP,IAEIoX,UAAWmoB,KAMbloC,GAAmB,SAAC2I,EAAOy9B,GAC7B,IAAQjmC,EAAyBimC,EAAzBjmC,OAAQD,EAAiBkmC,EAAjBlmC,KAAME,EAAWgmC,EAAXhmC,OAChB4nC,EAAWr/B,EAAMgU,MAAMvJ,KAAI,SAAArR,GAC7B,OAAGA,EAAK9B,SAAW0I,EAAMwT,cACd,6BACApa,GADP,IAEIia,SAAS,GAAD,oBACDja,EAAKia,UADJ,CAEJ,CACIqsB,SAAU,GACVC,KAAM,GACNjP,MAAO,GACPn5B,KAAMA,EACNgiB,OAAQ9hB,EACRwnC,KAAM,IAAI/1B,KACVpR,GAAIN,EACJxB,KAAM,OACNgQ,SAAS,OAMd5M,KAGTwmC,EAAkB,uBAAO5/B,EAAMk/B,iBAAb,CAA8B,CAAC5nC,OAAQ0I,EAAMwT,cAAehc,OAAQimC,EAAOjmC,UACnG,OAAO,6BACAwI,GADP,IAEIgU,MAAOqrB,EACPH,gBAAiBU,EACjBxoB,UAAW,GACXyoB,mBAAmB,KAIrBnoC,GAAqB,SAACsI,EAAOy9B,GAC/B,IAAMqC,EAAiB9/B,EAAMk/B,gBAAgBzoB,MAAK,SAAAvD,GAAC,OAAIA,EAAE1b,SAAWimC,EAAOjmC,UACrEooC,EAAqB5/B,EAAMk/B,gBAAgBvsB,QAAO,SAAAO,GAAC,OAAIA,EAAE1b,SAAWimC,EAAOjmC,UAC3E6nC,EAAWr/B,EAAMgU,MAAMvJ,KAAI,SAAArR,GAC7B,GAAGA,EAAK9B,SAAWwoC,EAAexoC,OAAO,CACrC,IAAMyoC,EAAc3mC,EAAKia,SAAS5I,KAAI,SAAA9S,GAClC,OAAGA,EAAQG,KAAOgoC,EAAetoC,OACtBimC,EAAO9lC,QAEPA,KAGf,OAAO,6BACAyB,GADP,IAEIia,SAAU0sB,IAGd,OAAO3mC,KAGf,OAAO,6BACA4G,GADP,IAEIgU,MAAOqrB,EACPH,gBAAiBU,KAInBhoC,GAAoB,SAACoI,EAAOy9B,GAC9B,OAAO,gBACAz9B,IAML4wB,GAAgB,SAAC5wB,EAAOy9B,GAC1B,IAAM4B,EAAWr/B,EAAMgU,MAAMvJ,KAAI,SAAArR,GAC7B,GAAGqkC,EAAO9M,QAAQlqB,MAAK,SAAA3O,GAAE,OAAIA,IAAOsB,EAAK9B,UAAQ,CAC7C,IAAMyoC,EAAW,uBAAO3mC,EAAKia,UAAZ,CAAsBoqB,EAAO9lC,UAC9C,OAAO,6BACAyB,GADP,IAEIia,SAAU0sB,IAGd,OAAO3mC,KAGT4mC,EAAWvC,EAAO9M,QAAQlmB,KAAI,SAAAnT,GAAY,MAAO,CAAEE,OAAQimC,EAAO9lC,QAAQG,GAAIR,aAC9EsoC,EAAkB,uBAAO5/B,EAAMk/B,iBAAb,aAAiCc,IACzD,OAAO,6BACAhgC,GADP,IAEIgU,MAAOqrB,EACPH,gBAAiBU,EACjBpsB,cAAeiqB,EAAO9M,QAAQ,MAIhCI,GAAkB,SAAC/wB,EAAOy9B,GAE5B,IAAQ5M,EAAkD4M,EAAlD5M,oBAAqBC,EAA6B2M,EAA7B3M,iBAAkBt5B,EAAWimC,EAAXjmC,OAC3CyoC,EAAmBjgC,EAAMmX,kBAC7BlgB,QAAQC,IAAIumC,GACZ,IAAM4B,EAAWr/B,EAAMgU,MAAMvJ,KAAI,SAAArR,GAC7B,GAAGA,EAAK9B,OAAOgI,WAAW,SAAS,CAC/BrI,QAAQC,IAAI,oBACZ,IAAMgpC,EAAkBpP,EAAiBra,MAAK,SAAAyI,GAAC,MAAI,eAAQA,EAAEznB,UAAa2B,EAAK9B,UAC/E,GAAG4oC,EAGC,OAFAjpC,QAAQC,IAAI,gCACZ+oC,EAAmBC,EAAgB9mC,KAAK9B,OACjC4oC,EAAgB9mC,KAG/B,IAAM+mC,EAAqBtP,EAAoBpa,MAAK,SAAAyI,GAAC,OAAIA,EAAE5nB,SAAW8B,EAAK9B,UAC3E,GAAG6oC,EAAmB,CAClB,IAAMJ,EAAc3mC,EAAKia,SAAS5I,KAAI,SAAA9S,GAClC,OAAGA,EAAQG,KAAON,EACP2oC,EAAmBxoC,QAEnBA,KAGf,OAAO,6BACAyB,GADP,IAEIia,SAAU0sB,IAGd,OAAO3mC,KAGf,OAAO,6BACA4G,GADP,IAEIgU,MAAOqrB,EACP7rB,cAAeysB,KAIjBG,GAAiB,SAACpgC,EAAOy9B,GAC3B,OAAO,gBACAz9B,IAML/H,GAA+B,SAAC+H,EAAOy9B,GACzC,IAAQvlC,EAAuCulC,EAAvCvlC,YAAaV,EAA0BimC,EAA1BjmC,OAAQG,EAAkB8lC,EAAlB9lC,QAASQ,EAASslC,EAATtlC,KACtClB,QAAQC,IAAIumC,GACZ,IAAM4C,EAAa,CACfX,SAAU,GACVC,KAAM,GACNjP,MAAO,GACPn5B,KAAMI,EACN4hB,OAAQphB,EAAKV,OACbwnC,KAAM,IAAI/1B,KACVpR,GAAIN,EACJxB,KAAM,OACN+hB,MAAM,EACN/R,SAAS,GAEPq5B,EAAWr/B,EAAMgU,MAAMvJ,KAAI,SAAArR,GAC7B,OAAGA,EAAK9B,SAAWY,EACR,6BACAkB,GADP,IAEIia,SAAU,CAACgtB,KAGRjnC,KAGTknC,EAAgB,uBAAOtgC,EAAM0W,eAAb,CAA4Bxe,IAClD,OAAO,6BACA8H,GADP,IAEIgU,MAAOqrB,EACP3oB,cAAe4pB,KAIjBloC,GAAiC,SAAC4H,EAAOy9B,GAC3C,IAAQvlC,EAAgDulC,EAAhDvlC,YAAaG,EAAmColC,EAAnCplC,YAAaF,EAAsBslC,EAAtBtlC,KAAMG,EAAgBmlC,EAAhBnlC,YAClC2nC,EAAmBjgC,EAAMwT,gBAAkBtb,EAAcG,EAAYf,OAAS0I,EAAMwT,cACpF+sB,EAAoBvgC,EAAMgU,MAAMyC,MAAK,SAAAxL,GAAC,OAAIA,EAAE3T,SAAWY,KAAamb,SACpEgsB,EAAWr/B,EAAMgU,MAAMvJ,KAAI,SAAArR,GAC7B,OAAGA,EAAK9B,SAAWY,GACfjB,QAAQC,IAAI,oBACL,6BACAmB,GADP,IAEIgb,SAAS,GAAD,oBAAMhb,EAAYgb,UAAlB,aAA+BktB,EAAkB12B,MAAM,EAAG02B,EAAkB77B,UACpFuO,QAAS,CAAC9a,EAAMG,MAGbc,KAGTonC,EAAmBxgC,EAAMga,cAAcvP,KAAI,SAAA9S,GAC7C,OAAGA,EAAQO,cAAgBA,EAChB,6BACAP,GADP,IAEIO,YAAaG,EAAYf,SAGtBK,KAGT2oC,EAAmBtgC,EAAM0W,cAAc/D,QAAO,SAAA7a,GAAE,OAAIA,IAAOI,KACjE,OAAO,6BACA8H,GADP,IAEIgU,MAAOqrB,EACP7rB,cAAeysB,EACfjmB,cAAewmB,EACf9pB,cAAe4pB,KAIjB/nC,GAAgC,SAACyH,EAAOy9B,GAC1C,OAAO,gBACAz9B,IAMLygC,GAAqB,SAACzgC,EAAOy9B,GAC/B,IAAQvlC,EAA8CulC,EAA9CvlC,YAAaof,EAAiCmmB,EAAjCnmB,eAAgB/f,EAAiBkmC,EAAjBlmC,KAAME,EAAWgmC,EAAXhmC,OACrC+oC,EAAgB,uBAAOxgC,EAAMga,eAAb,CAA4B,CAC9C9hB,cACAof,iBACA/f,OACAO,GAAG,GAAD,OAAKoR,KAAKC,UAEVk2B,EAAWr/B,EAAMgU,MAAMvJ,KAAI,SAAArR,GAC7B,OAAGA,EAAK9B,SAAW0I,EAAMwT,cACd,6BACApa,GADP,IAEIia,SAAS,GAAD,oBACDja,EAAKia,UADJ,CAEJ,CACIqsB,SAAU,GACVC,KAAM,GACNjP,MAAO,GACPn5B,KAAMA,EACNgiB,OAAQ9hB,EACRwnC,KAAM,IAAI/1B,KACVpR,GAAIwf,EACJthB,KAAM,OACNgQ,SAAS,OAMd5M,KAGf,OAAO,6BACA4G,GADP,IAEIga,cAAewmB,EACfxsB,MAAOqrB,KAITxnC,GAA6B,SAACmI,EAAOy9B,GACvC,IAAQ3lC,EAAO2lC,EAAP3lC,GACF0oC,EAAmBxgC,EAAMga,cAAcvP,KAAI,SAAAyI,GAC7C,OAAGA,EAAEpb,KAAOA,EACD,6BACAob,GADP,IAEIlN,SAAS,IAGNkN,KAGf,OAAO,6BACAlT,GADP,IAEIga,cAAewmB,KAMjBzoC,GAA+B,SAACiI,EAAOy9B,GACzC,IAAQ3lC,EAAiB2lC,EAAjB3lC,GAAInB,EAAa8mC,EAAb9mC,SACN+pC,EAAgB1gC,EAAMga,cAAcvD,MAAK,SAAAvD,GAAC,OAAIA,EAAEpb,KAAOA,KAC7Db,QAAQC,IAAIwpC,GACZ,IAAMrB,EAAWr/B,EAAMgU,MAAMvJ,KAAI,SAAArR,GAC7B,GAAGA,EAAK9B,SAAWopC,EAAcxoC,YAAY,CACzC,IAAM6nC,EAAc3mC,EAAKia,SAAS5I,KAAI,SAAAyI,GAClC,OAAGA,EAAEpb,KAAO4oC,EAAcppB,eACf3gB,EAEAuc,KAGf,OAAO,6BACA9Z,GADP,IAEIia,SAAU0sB,IAGd,OAAO3mC,KAGTonC,EAAmBxgC,EAAMga,cAAcrH,QAAO,SAAAO,GAAC,OAAIA,EAAEpb,KAAOA,KAClE,OAAO,6BACAkI,GADP,IAEIgU,MAAOqrB,EACPrlB,cAAewmB,KAMjBxoC,GAA8B,SAACgI,EAAOy9B,GACxC,IAAQ3lC,EAAO2lC,EAAP3lC,GACF0oC,EAAmBxgC,EAAMga,cAAcvP,KAAI,SAAAyI,GAC7C,OAAGA,EAAEpb,KAAOA,EACD,6BACAob,GADP,IAEIlN,SAAS,IAGNkN,KAGf,OAAO,6BACAlT,GADP,IAEIga,cAAewmB,KAMjBjqC,GAAqB,SAACyJ,EAAO2gC,GAC/B,OAAO,6BACA3gC,GADP,IAEIgW,eAAgB,aAIlBlf,GAAuB,SAACkJ,EAAOy9B,GACjC,OAAO,6BACAz9B,GADP,IAEIgW,eAAgB,SAChB/B,SAAUwpB,EAAOrmC,SAInBD,GAAsB,SAAC6I,EAAOy9B,GAChC,OAAO,6BACAz9B,GADP,IAEIgW,eAAgB,YAMlBtd,GAAyB,SAACsH,EAAOy9B,GACnC,IAAMmD,EAAwB,uBAAO5gC,EAAMqS,uBAAb,CAAoCorB,EAAOhlC,OACzE,OAAO,6BACAuH,GADP,IAEIqS,sBAAuBuuB,KAIzBznC,GAA2B,SAAC6G,EAAOy9B,GACrC,IAAMmD,EAA2B5gC,EAAMqS,sBAAsBM,QAAO,SAAAla,GAAI,OAAIA,EAAKhB,SAAWgmC,EAAOhlC,KAAKhB,UAClGopC,EAAwBpD,EAAOrkC,KAAO4G,EAAMoS,mBAApB,uBAA6CpS,EAAMoS,oBAAnD,CAAuEqrB,EAAOhlC,OACxG4mC,EAAWr/B,EAAMgU,MACjBisB,EAAmBjgC,EAAMwT,cACzBstB,EAAa9gC,EAAMkS,QASvB,OARGurB,EAAOrkC,OACNimC,EAAQ,uBACDr/B,EAAMgU,MAAMrB,QAAO,SAAAvZ,GAAI,OAAIA,EAAK9B,SAAWmmC,EAAOrkC,KAAK9B,QAAU8B,EAAK9B,SAAL,eAAwBmmC,EAAOhlC,KAAKhB,YADpG,CAEJgmC,EAAOrkC,OAEX6mC,EAAmBxC,EAAOrkC,KAAK9B,OAC/BwpC,EAAU,uBAAO9gC,EAAMkS,SAAb,CAAsBurB,EAAOhlC,QAEpC,6BACAuH,GADP,IAEIoS,mBAAoByuB,EACpBxuB,sBAAuBuuB,EACvB5sB,MAAOqrB,EACP7rB,cAAeysB,EACf/tB,QAAS4uB,KAIXznC,GAA0B,SAAC2G,EAAOy9B,GACpC,IAAMmD,EAA2B5gC,EAAMqS,sBAAsBM,QAAO,SAAAla,GAAI,OAAIA,EAAKhB,SAAWgmC,EAAOhlC,KAAKhB,UAClGspC,EAAuB,uBAAO/gC,EAAM++B,sBAAb,CAAmCtB,EAAOhlC,OAEvE,OAAO,6BACAuH,GADP,IAEIqS,sBAAuBuuB,EACvB7B,qBAAsBgC,KAOxBvnC,GAA2B,SAACwG,EAAOy9B,GACrCxmC,QAAQC,IAAI,OAAQumC,EAAOhlC,MAC3B,IAAMuoC,EAA4BhhC,EAAMuS,uBAAuBI,QAAO,SAAAla,GAAI,OAAIA,EAAKhB,SAAWgmC,EAAOhlC,KAAKhB,UACpGwpC,EAA0B,uBAAOjhC,EAAMsS,yBAAb,CAAsCmrB,EAAOhlC,OAC7E,OAAO,6BACAuH,GADP,IAEIuS,uBAAwByuB,EACxB1uB,wBAAyB2uB,KAI3BvnC,GAA6B,SAACsG,EAAOy9B,GACvC,IAAQ9jC,EAAiB8jC,EAAjB9jC,OAAQP,EAASqkC,EAATrkC,KACV6nC,EAA6BjhC,EAAMsS,wBAAwBK,QAAO,SAAAla,GAAI,OAAIA,EAAKhB,SAAWkC,EAAOlC,UACjGqpC,EAAU,uBAAO9gC,EAAMkS,SAAb,CAAsBvY,IAChCunC,EAAO,eAAWvnC,EAAOlC,QACzB4nC,EAAQ,uBACPr/B,EAAMgU,MAAMrB,QAAO,SAAA1H,GAAC,OAAIA,EAAE3T,SAAW4pC,GAAWj2B,EAAE3T,SAAW8B,EAAK9B,WAD3D,CAEV8B,IAEE6mC,EAAmB7mC,EAAK9B,OAC9B,OAAO,6BACA0I,GADP,IAEIkS,QAAS4uB,EACT9sB,MAAOqrB,EACP/sB,wBAAyB2uB,EACzBztB,cAAeysB,KAIjBrmC,GAA4B,SAACoG,EAAOy9B,GACtC,IAAMuD,EAAyB,uBAAOhhC,EAAMuS,wBAAb,CAAqCkrB,EAAOhlC,OAC3E,OAAO,6BACAuH,GADP,IAEIuS,uBAAwByuB,KAM1BG,GAAkB,SAACnhC,EAAOy9B,GAC5B,OAAO,6BACAz9B,GADP,IAEIyU,YAAa,aAIf2sB,GAAoB,SAACphC,EAAOy9B,GAC9B,IAAM4B,EAAW5B,EAAOzpB,MAAMvJ,KAAI,SAAArR,GAC9B,OAAO,6BACAA,GADP,IAEIgd,WAAY,QAGd5C,EAAgB6rB,EAAS36B,OAAS,EAAI26B,EAAS,GAAG/nC,OAAS,KACjE,OAAO,6BACA0I,GADP,IAEIgU,MAAOqrB,EACP7rB,cAAeA,EACfiB,YAAa,YAIf4sB,GAAmB,SAACrhC,EAAOy9B,GAC7B,OAAO,6BACAz9B,GADP,IAEIshC,WAAY,YAOdvnC,GAAkB,SAACiG,EAAOy9B,GAC5B,IAAMvlC,EAAc,QAAUulC,EAAOnlC,YAAYb,OAE3C4nC,EADgBr/B,EAAMgU,MAAMvN,MAAK,SAAArN,GAAI,OAAIA,EAAK9B,SAAWY,KAC9B8H,EAAMgU,MAAT,CAC1B,CACIgrB,OAAO,EACP3rB,SAAU,GACV/b,OAAQY,EACR+a,QAAS,CAACwqB,EAAOtlC,KAAMslC,EAAOnlC,aAC9B6a,KAAMsqB,EAAOnlC,YAAY6a,KACzB2B,gBAAiB5L,KAAKC,QAPA,oBASvBnJ,EAAMgU,QACb,OAAO,6BACAhU,GADP,IAEIgU,MAAOqrB,EACP7rB,cAAetb,KAIjBtB,GAAc,SAACoJ,EAAOy9B,GACxB,IAAM8D,EAAU,uBAAOvhC,EAAM5I,OAAb,aAAuBqmC,EAAOrmC,QAC9C,OAAO,6BACA4I,GADP,IAEI5I,MAAOmqC,KAcT1E,GAAyB,SAAC78B,EAAOy9B,GACnC,IAAM4B,EAAWr/B,EAAMgU,MAAMvJ,KAAI,SAAArR,GAC7B,IAAMooC,EAAsB/D,EAAO9/B,cAC9BgV,QAAO,SAAAC,GAAC,OAAIA,EAAEtb,SAAW8B,EAAK9B,UAC9BmT,KAAI,SAAAmI,GAAM,OAAO,6BAAIA,EAAEjb,SAAb,IAAsB0hB,KAAK,OAC1C,GAAGmoB,EAAoB98B,OAAS,EAAE,CAC9B,IAAMq7B,EAhBc,SAAC1sB,GAC7B,IAAIouB,EAAa,GAMjB,OALApuB,EAAS7D,SAAQ,SAAA7X,GACT8pC,EAAWh7B,MAAK,SAAAyM,GAAC,OAAIA,EAAEpb,KAAOH,EAAQG,OACtC2pC,EAAWp8B,KAAK1N,MAGjB8pC,EASqBC,CAAwB,GAAD,oBAAKtoC,EAAKia,UAAV,aAAuBmuB,KAClE,OAAO,6BACApoC,GADP,IAEIia,SAAU0sB,IAGd,OAAO3mC,KAIf,OAAO,6BACA4G,GADP,IAEIgU,MAAOqrB,KAMTsC,GAAoB,SAAC3hC,EAAOy9B,GAC9B,OAAO,gBACAz9B,IAIL4hC,GAAsB,SAAC5hC,EAAOy9B,GAEhC,IAAM4B,EAAQ,uBAAOr/B,EAAMgU,MAAMrB,QAAO,SAAAvZ,GAAI,OAAIA,EAAK9B,SAAWmmC,EAAOrkC,KAAK9B,WAA9D,CAAuEmmC,EAAOrkC,OAC5F,OAAO,6BACA4G,GADP,IAEIgU,MAAOqrB,KAITwC,GAAqB,SAAC7hC,EAAOy9B,GAC/B,OAAO,gBACAz9B,IAML8hC,GAAgB,SAAC9hC,EAAOy9B,GAC1BxmC,QAAQC,IAAI,gBAAZ,eAAqCqI,6BACrC,IAAMwiC,EAAoB/hC,EAAMgU,MAC3ByC,MAAK,SAAArd,GAAI,OAAIA,EAAK9B,SAAL,eAAwBiI,6BAChCnG,EAAK6Z,QAAQxM,MAAK,SAAAyM,GAAC,OAAIA,EAAEzb,SAAF,UAAgB8H,kCAC3C0gC,EAAmB8B,EAAoBA,EAAkBzqC,OAArB,eAAsCiI,4BAC1E8/B,EAAW0C,EAAoB/hC,EAAMgU,MAAT,uBAAqBhU,EAAMgU,OAA3B,CAAkC,CAChEgrB,OAAO,EACP7rB,KAAM,YACNE,SAAU,GACV/b,OAAO,QAAD,OAAUiI,4BAChB0T,QAAS,CAACwqB,EAAOtlC,KAAM,CACnBgb,KAAM,YACNhW,OAAQ,QACR1F,OAAO,GAAD,OAAK8H,4BACX+T,YAAY,IAEhBwB,gBAAiB5L,KAAKC,SAE1B,OAAO,6BACAnJ,GADP,IAEIgU,MAAOqrB,EACP7rB,cAAeysB,KAKRnB,GAtuBC,WAAmC,IAAlC9+B,EAAiC,uDAAzBm9B,GAAcM,EAAW,uCAC9C,OAAOA,EAAOznC,MACV,IrDhBkC,0BqDgBQ,OAAOG,GAAoB6J,EAAOy9B,GAC5E,IrDlByB,gBqDkBO,OAAO7mC,GAAYoJ,EAAOy9B,GAE1D,IrDF8B,qBqDEO,OAAOpmC,GAAiB2I,EAAOy9B,GACpE,IrDFgC,uBqDEO,OAAO/lC,GAAmBsI,EAAOy9B,GACxE,IrDF+B,sBqDEO,OAAO7lC,GAAkBoI,EAAOy9B,GAEtE,IrDF2B,kBqDEO,OAAO7M,GAAc5wB,EAAOy9B,GAC9D,IrDF6B,oBqDEO,OAAO1M,GAAgB/wB,EAAOy9B,GAClE,IrDF4B,mBqDEO,OAAO2C,GAAepgC,EAAOy9B,GAEhE,IrD0B6C,oCqD1BO,OAAOxlC,GAA6B+H,EAAOy9B,GAC/F,IrD0B+C,sCqD1BO,OAAOrlC,GAA+B4H,EAAOy9B,GACnG,IrD0B8C,qCqD1BO,OAAOllC,GAA8ByH,EAAOy9B,GAEjG,IrDnGiC,wBqDmGO,OAAOgD,GAAmBzgC,EAAOy9B,GACzE,IrDlG0C,iCqDkGO,OAAO5lC,GAA2BmI,EAAOy9B,GAC1F,IrDlG4C,mCqDkGO,OAAO1lC,GAA6BiI,EAAOy9B,GAC9F,IrDlG2C,kCqDkGO,OAAOzlC,GAA4BgI,EAAOy9B,GAG5F,IrDpCuB,cqDoCO,OAAO5jC,GAAWmG,EAAOy9B,GACvD,IrD5B6B,oBqD4BO,OAAOgC,GAAuBz/B,EAAOy9B,GAEzE,IrDnCiC,wBqDmCO,OAAOlnC,GAAmByJ,EAAOy9B,GACzE,IrDlCmC,0BqDkCO,OAAO3mC,GAAqBkJ,EAAOy9B,GAC7E,IrDpCkC,yBqDoCO,OAAOtmC,GAAoB6I,EAAOy9B,GAE3E,IrDXqC,4BqDWO,OAAO/kC,GAAuBsH,EAAOy9B,GACjF,IrDXuC,8BqDWO,OAAOtkC,GAAyB6G,EAAOy9B,GACrF,IrDXsC,6BqDWO,OAAOpkC,GAAwB2G,EAAOy9B,GAEnF,IrDXuC,8BqDWO,OAAOjkC,GAAyBwG,EAAOy9B,GACrF,IrDXyC,gCqDWO,OAAO/jC,GAA2BsG,EAAOy9B,GACzF,IrDXwC,+BqDWO,OAAO7jC,GAA0BoG,EAAOy9B,GAEvF,IrDP6B,oBqDOO,OAAO0D,GAAgBnhC,EAAOy9B,GAClE,IrDP+B,sBqDOO,OAAO2D,GAAkBphC,EAAOy9B,GACtE,IrDP8B,qBqDOO,OAAO4D,GAAiBrhC,EAAOy9B,GAEpE,IrDIgC,uBqDJO,OAAOkE,GAAkB3hC,EAAOy9B,GACvE,IrDIkC,yBqDJO,OAAOmE,GAAoB5hC,EAAOy9B,GAC3E,IrDIiC,wBqDJO,OAAOoE,GAAmB7hC,EAAOy9B,GAEzE,IrDnD6B,oBqDmDO,OAAO1jC,GAAgBiG,EAAOy9B,GAClE,IrDHsC,6BqDGO,OAAOZ,GAAuB78B,EAAOy9B,GAClF,IrDnD2B,kBqDmDO,OAAOqE,GAAc9hC,EAAOy9B,GAG9D,QAAS,OAAOz9B,IC/MlBm9B,GAAe,CACjBzuB,YAAa,GACb/V,MAAO,KACPwa,KAAM,KACNhW,OAAQ,KACR1F,OAAQ,IACR+E,MAAO,KACPwlC,QAAS,KACT3J,mBAAmB,EACnBG,oBAAoB,EACpBX,YAAa,GACbU,aAAc,GACdO,eAAe,EACf4D,UAAU,EACV3uB,WAAY,KACZnK,eAAe,EACfjH,cAAe,KACf4V,uBAAwB,GACxB2b,2BAA2B,EAC3BC,wBAAwB,EACxBxwB,cAAe,CACX,CACI3H,KAAM,eACNsB,OAAQ,IACRK,QAAQ,CACJJ,KAAM,mBACN0nC,KAAM,QACNjpC,KAAM,OACNujB,OAAQ,KACRzhB,GAAI,MAGZ,CACI9B,KAAM,eACNsB,OAAQ,IACRK,QAAS,CACLJ,KAAM,uBACN0nC,KAAM,QACNjpC,KAAM,OACNujB,OAAQ,QACRzhB,GAAI,OAIhBmqC,sBAAuB,IAGrBC,GAAiB,SAACliC,EAAOy9B,GAC3B,OAAO,6BACAz9B,GADP,IAEI0O,YAAa+uB,EAAO/uB,eAMtBtS,GAAa,SAAC4D,GAChB,OAAO,6BACAA,GADP,IAEIk4B,cAAc,KAIhB77B,GAAe,SAAC2D,EAAOy9B,GACzB,OAAO,6BACAz9B,GADP,IAEIk4B,cAAc,EACdN,WAAY,KACZsB,YAAa,KACbt1B,cAAe65B,EAAOnqB,WACtBH,KAAMsqB,EAAOtqB,KACbhW,OAAQsgC,EAAOtgC,OACf1F,OAAQgmC,EAAOhmC,OACfkB,MAAO8kC,EAAO9kC,MACdmE,MAAO2gC,EAAO3gC,MACdoV,QAASurB,EAAOvrB,QAChBK,uBAAwBkrB,EAAOlrB,uBAC/B5U,cAAe8/B,EAAO9/B,iBAIxBpB,GAAY,SAACyD,EAAOy9B,GACtB,OAAO,6BACAz9B,GADP,IAEIk4B,cAAc,EACdN,WAAY6F,EAAOjhC,SAOrBC,GAAc,SAAEuD,GAClB,OAAO,6BACAA,GADP,IAEI84B,eAAe,KAIjBl8B,GAAa,SAACoD,EAAOy9B,GACvB,OAAO,6BACAz9B,GADP,IAEI84B,eAAe,EACfI,YAAauE,EAAOjhC,SAItBE,GAAgB,SAACsD,EAAOy9B,GAC1B,OAAO,6BACAz9B,GADP,IAEI84B,eAAe,EACft8B,MAAO,KACPoH,cAAe65B,EAAOnqB,WACtBH,KAAMsqB,EAAOtqB,KACbhW,OAAQsgC,EAAOtgC,OACf1F,OAAQgmC,EAAOhmC,OACfkB,MAAO8kC,EAAO9kC,MACdmE,MAAO2gC,EAAO3gC,MACdH,cAAe8gC,EAAO9gC,cACtBuV,QAASurB,EAAOvrB,QAChBK,uBAAwB,GACxB5U,cAAe,GACfuwB,2BAA2B,KAM7BnxB,GAAuB,SAACiD,EAAOy9B,GACjC,OAAO,6BACAz9B,GADP,IAEIq4B,mBAAmB,KAIrBr7B,GAAyB,SAACgD,EAAOy9B,GACnC,OAAO,6BACAz9B,GADP,IAEIq4B,mBAAmB,KAIrBp7B,GAAwB,SAAC+C,EAAOy9B,GAClC,OAAO,6BACAz9B,GADP,IAEIq4B,mBAAmB,KAIrBx7B,GAAoB,SAACmD,EAAOy9B,GAC9B,OAAO,6BACAz9B,GADP,IAEIq4B,mBAAmB,EACnBR,YAAY,GAAD,oBACJ73B,EAAM63B,aADF,CAEP4F,EAAO3gC,WAObM,GAAwB,SAAC4C,EAAOy9B,GAClC,OAAO,6BACAz9B,GADP,IAEIw4B,oBAAoB,KAItBn7B,GAA0B,SAAC2C,EAAOy9B,GACpC,OAAO,6BACAz9B,GADP,IAEIw4B,oBAAoB,KAItBl7B,GAAyB,SAAC0C,EAAOy9B,GACnC,OAAO,6BACAz9B,GADP,IAEIw4B,oBAAoB,KAItBt7B,GAAqB,SAAC8C,EAAOy9B,GAC/B,OAAO,6BACAz9B,GADP,IAEIw4B,oBAAoB,EACpBD,aAAa,GAAD,oBACLv4B,EAAMu4B,cADD,CAERkF,EAAOtgC,YAObglC,GAAoB,SAACniC,EAAOy9B,GAC9B,IAAM2E,EAAmBpiC,EAAMrC,cAC1BgV,QAAO,SAAAC,GAAC,QAAMA,EAAE5c,KAAKsJ,WAAW,gBAAkBsT,EAAEtb,SAAWmmC,EAAOnmC,WAC3E,OAAO,6BACA0I,GADP,IAEIrC,cAAeykC,KAIjBC,GAAsB,SAACriC,EAAOy9B,GAChC,OAAOz9B,GAGLsiC,GAAqB,SAACtiC,EAAOy9B,GAC/B,OAAOz9B,GAML68B,GAAyB,SAAC78B,EAAOy9B,GACnC,OAAOz9B,GAGLtC,GAAsB,SAACsC,EAAOy9B,GAChC,OAAO,6BACAz9B,GADP,IAEIrC,cAAe8/B,EAAO9/B,iBAMxBK,GAA0B,SAACgC,EAAOy9B,GACpC,OAAO,6BACAz9B,GADP,IAEIkuB,2BAA2B,KAI7BjwB,GAA4B,SAAC+B,EAAOy9B,GACtC,OAAO,6BACAz9B,GADP,IAEIkuB,2BAA2B,EAC3BC,wBAAwB,KAI1BjwB,GAA2B,SAAC8B,EAAOy9B,GACrC,OAAO,6BACAz9B,GADP,IAEIouB,eAAgBqP,EAAO9lC,QACvBu2B,2BAA2B,EAC3BC,wBAAwB,KAI1BvwB,GAA0B,SAACoC,EAAOy9B,GACpC,IAAM8E,EAAUviC,EAAMrC,cAAc8Y,MAAK,SAAA7D,GAAC,OAAIA,EAAE9a,KAAO2lC,EAAO5/B,kBAC9D5G,QAAQC,IAAIqrC,GACZ,IAAMH,EAAmBpiC,EAAMrC,cAAcgV,QAAO,SAAAC,GAAC,OAAIA,EAAE9a,KAAO2lC,EAAO5/B,kBACnE2kC,EAAwB,uBAAOxiC,EAAMiiC,uBAAb,CAAoCM,IAClE,OAAO,6BACAviC,GADP,IAEIrC,cAAeykC,EACfH,sBAAuBO,KAIzB1kC,GAA4B,SAACkC,EAAOy9B,GACtC,IAAM+E,EAA2BxiC,EAAMiiC,sBAAsBtvB,QAAO,SAAAC,GAAC,OAAIA,EAAE9a,KAAO2lC,EAAO5/B,kBACzF,OAAO,6BACAmC,GADP,IAEIiiC,sBAAuBO,KAIzBzkC,GAA2B,SAACiC,EAAOy9B,GACrC,OAAO,gBACAz9B,IA8CI8+B,GA1CC,WAAoC,IAAnC9+B,EAAkC,uDAA1Bm9B,GAAcM,EAAY,uCAC/C,OAAQA,EAAOznC,MACX,ItDvP4B,mBsDuPO,OAAOksC,GAAeliC,EAAOy9B,GAEhE,ItDnPuB,csDmPO,OAAOrhC,GAAW4D,GAChD,ItDnPyB,gBsDmPO,OAAO3D,GAAa2D,EAAOy9B,GAC3D,ItDnPsB,YsDmPO,OAAOlhC,GAAUyD,EAAOy9B,GAErD,ItDnPwB,esDmPO,OAAOhhC,GAAYuD,GAClD,ItDnP0B,iBsDmPO,OAAOtD,GAAcsD,EAAOy9B,GAC7D,ItDnPsB,csDmPQ,OAAO7gC,GAAWoD,EAAOy9B,GAEvD,ItDnPmC,0BsDmPO,OAAO1gC,GAAqBiD,GACtE,ItDnPqC,4BsDmPO,OAAOhD,GAAuBgD,GAC1E,ItDnPoC,2BsDmPO,OAAO/C,GAAsB+C,GACxE,ItDnP+B,sBsDmPO,OAAOnD,GAAkBmD,EAAOy9B,GAEtE,ItDnPoC,2BsDmPO,OAAOrgC,GAAsB4C,GACxE,ItDnPsC,6BsDmPO,OAAO3C,GAAwB2C,GAC5E,ItDnPqC,4BsDmPO,OAAO1C,GAAuB0C,GAC1E,ItDnPgC,uBsDmPO,OAAO9C,GAAmB8C,EAAOy9B,GAExE,ItDzQ+B,sBsDyQO,OAAO0E,GAAkBniC,EAAOy9B,GACtE,ItDzQiC,wBsDyQO,OAAO4E,GAAoBriC,GACnE,ItDzQgC,uBsDyQO,OAAOsiC,GAAmBtiC,GAEjE,ItDzGsC,6BsDyGO,OAAO68B,GAAuB78B,GAE3E,ItDnPgC,uBsDmPO,OAAOtC,GAAoBsC,EAAOy9B,GAEzE,ItDnPsC,+BsDmPO,OAAOz/B,GAAwBgC,GAC5E,ItDnPwC,+BsDmPO,OAAO/B,GAA0B+B,GAChF,ItDnPuC,8BsDmPO,OAAO9B,GAAyB8B,EAAOy9B,GAErF,ItDnPqC,4BsDmPO,OAAO7/B,GAAwBoC,EAAOy9B,GAClF,ItDnPuC,8BsDmPO,OAAO3/B,GAA0BkC,EAAOy9B,GACtF,ItDnPsC,6BsDmPO,OAAO1/B,GAAyBiC,GAE7E,QAAS,OAAOA,IC7TlBm9B,GAAe,CACjB75B,UAAU,EACVk5B,eAAe,EACf3tB,WAAY,SACZ0B,KAAM,CACFC,MAAM,EACNqmB,UAAW,CAAC,QACZ7C,aAAc,EACd2C,iBAAiB,GAErB4F,kBAAkB,EAClB9wB,YAAa,KACbwoB,cAAe,SAGbwO,GAAc,SAAdA,IACF,IAAMx3B,EAAIiF,SAASwyB,gBAAgBC,WAAazyB,SAASzW,KAAKkpC,UAC1D13B,EAAI,IACN6L,OAAO8rB,sBAAsBH,GAC7B3rB,OAAO+rB,SAAS,EAAG53B,EAAIA,EAAI,MAkHlB6zB,GA9GC,WAAoC,IAAnC9+B,EAAkC,uDAA1Bm9B,GAAcM,EAAY,uCAC/C,OAAQA,EAAOznC,MACX,IvDzBmB,UuD2Bf,OADAiB,QAAQC,IAAI,sBACL,6BACA8I,GADP,IAEIsD,UAAU,IAElB,IvD9BoB,WuD+BhB,OAAO,6BACAtD,GADP,IAEIsD,UAAU,IAElB,IvDjCsB,auDmClB,OADAm/B,KACO,6BACAziC,GADP,IAEI6O,WAAY4uB,EAAO1nC,MAE3B,IvDrC2B,kBuDsCvB,OAAO,6BACAiK,GADP,IAEIw8B,eAAe,IAEvB,IvDzC4B,mBuD0CxB,OAAO,6BACAx8B,GADP,IAEIw8B,eAAe,IAEvB,IvD5CqB,YuD6CjB,OAAO,6BACAx8B,GADP,IAEIuQ,KAAK,6BACEvQ,EAAMuQ,MADT,IAEAC,MAAM,MAGlB,IvDnDsB,auDoDlB,OAAO,6BACAxQ,GADP,IAEIuQ,KAAK,6BACEvQ,EAAMuQ,MADT,IAEAC,MAAM,MAGlB,IvDnD+B,sBuDoD3B,OAAO,6BACAxQ,GADP,IAEIu8B,kBAAkB,IAE1B,IvDvDgC,uBuDwD5B,OAAO,6BACAv8B,GADP,IAEIu8B,kBAAkB,IAE1B,IvD1D4B,mBuD2DxB,OAAO,6BACAv8B,GADP,IAEIyL,YAAagyB,EAAOr+B,QAE5B,IvD1DiC,wBuD2D7B,OAAO,6BACAY,GADP,IAEIuQ,KAAM,CACFC,MAAM,EACNqmB,UAAW,CAAC,aACZ7C,aAAc,KAY1B,IvDzE6B,oBuD0EzB,OAAO,6BACAh0B,GADP,IAEIuQ,KAAK,6BACEvQ,EAAMuQ,MADT,IAEAomB,iBAAiB,EACjBE,UAAU,GAAD,oBAAM72B,EAAMuQ,KAAKsmB,WAAjB,CAA4B4G,EAAOvnC,WAIxD,IvDlF+B,sBuDmF3B,OAAO,6BACA8J,GADP,IAEIuQ,KAAK,6BACEvQ,EAAMuQ,MADT,IAEAyjB,aAAch0B,EAAMuQ,KAAKyjB,aAAa,EACtC6C,UAAW72B,EAAMuQ,KAAKsmB,UAAUhtB,MAAM,EAAG7J,EAAMuQ,KAAKsmB,UAAUnyB,OAAO,OAGjF,IvD1F2B,kBuD2FvB,OAAO,6BACA1E,GADP,IAEIuQ,KAAK,6BACEvQ,EAAMuQ,MADT,IAEAomB,iBAAiB,EACjB3C,aAAch0B,EAAMuQ,KAAKyjB,aAAe,MAGpD,QAAS,OAAOh0B,IClHxBxJ,IAAMssC,SAASC,QAAf,UAA4BxjC,mCAE5B,IAAMyjC,GAAaC,aAAgB,CAC/BxqC,KAAMyqC,GACN9pC,KAAM+pC,GACNljC,OAAQmjC,GACR7/B,GAAI8/B,KAUFC,GAAoHC,KAGpHC,GAAQC,cAVM,SAACzjC,EAAOy9B,GAIxB,MxD+BsB,WwDlCnBA,EAAOznC,OACNgK,OAAQ0jC,GAELV,GAAWhjC,EAAOy9B,KAQzB6F,GACIK,aAAgBC,QAIxBC,IAASh0B,OACL,kBAAC,IAAD,CAAU2zB,MAAOA,IACb,kBAAC,KAAD,KACI,kBAAC,GAAD,QAGNtzB,SAASqE,eAAe,SLgFxB,kBAAmBuvB,WACrBA,UAAUC,cAAcC,MAAMttC,MAAK,SAAAutC,GACjCA,EAAaC,kB","file":"static/js/main.62d07799.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"SelectionMenu\":\"SelectionMenu_SelectionMenu__Z2ojO\",\"flex\":\"SelectionMenu_flex__15n15\",\"flexSpaceBetween\":\"SelectionMenu_flexSpaceBetween__24DeG\",\"inputWrapper\":\"SelectionMenu_inputWrapper__3hFux\",\"input\":\"SelectionMenu_input__3orDM\",\"colorInputContainer\":\"SelectionMenu_colorInputContainer__26PLt\",\"colorInputBackground\":\"SelectionMenu_colorInputBackground__1MWGq\",\"colorInput\":\"SelectionMenu_colorInput___MyX7\",\"colorOptions\":\"SelectionMenu_colorOptions__QAwhL\",\"alignIcons\":\"SelectionMenu_alignIcons__3h8DA\",\"alignIcon\":\"SelectionMenu_alignIcon__1OtCb\",\"alignActive\":\"SelectionMenu_alignActive__2hj9a\",\"alignInactive\":\"SelectionMenu_alignInactive__2E3LX\",\"textBoxTypeOptions\":\"SelectionMenu_textBoxTypeOptions__30bQ5\",\"fontSelector\":\"SelectionMenu_fontSelector__3j2fj\",\"previewContainer\":\"SelectionMenu_previewContainer__MSkPn\",\"preview\":\"SelectionMenu_preview__1A1hQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MenuItems\":\"AuthMenu_MenuItems__3rNnh\",\"BackButton\":\"AuthMenu_BackButton__37MYS\",\"Dropzone\":\"AuthMenu_Dropzone__1q8ct\",\"ProfilePicPlaceholder\":\"AuthMenu_ProfilePicPlaceholder__324KV\",\"ProfilePic\":\"AuthMenu_ProfilePic__1bHlH\",\"TextInput\":\"AuthMenu_TextInput__13WDk\",\"Invaid\":\"AuthMenu_Invaid__2SyHm\",\"onAutoFillStart\":\"AuthMenu_onAutoFillStart__13px6\",\"Textinput\":\"AuthMenu_Textinput__2ehuS\",\"onAutoFillCancel\":\"AuthMenu_onAutoFillCancel__3M0RO\",\"ErrorMessage\":\"AuthMenu_ErrorMessage__2ZQks\",\"CreateAccount\":\"AuthMenu_CreateAccount__3rr2F\",\"CheckboxText\":\"AuthMenu_CheckboxText__3DRRH\",\"CheckboxContainer\":\"AuthMenu_CheckboxContainer__3hbZz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AddButton\":\"AddButton_AddButton__247dH\",\"Spinner\":\"AddButton_Spinner__VKy9T\",\"AddIcon\":\"AddButton_AddIcon__15XCF\",\"Inverted\":\"AddButton_Inverted__19rUX\",\"AddIconGLow\":\"AddButton_AddIconGLow__Boows\",\"Clickable\":\"AddButton_Clickable__VUiJp\",\"TextButton\":\"AddButton_TextButton__19czF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LogoutContainer\":\"UserMenu_LogoutContainer__256hM\",\"LogoutIcon\":\"UserMenu_LogoutIcon__1thmb\",\"LogoutText\":\"UserMenu_LogoutText__1BpvJ\",\"MenuItems\":\"UserMenu_MenuItems__knxvC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatPrev\":\"ChatPrev_ChatPrev__3fJMz\",\"ProfilePic\":\"ChatPrev_ProfilePic__2fF2Q\",\"Link\":\"ChatPrev_Link__1nvmI\",\"Active\":\"ChatPrev_Active__2B2Xo\",\"Preview\":\"ChatPrev_Preview__11hWt\",\"Info\":\"ChatPrev_Info__2FAib\",\"Name\":\"ChatPrev_Name__LGoDf\",\"ConnectorUp\":\"ChatPrev_ConnectorUp__EQSim\",\"ConnectorDown\":\"ChatPrev_ConnectorDown__2pwH6\",\"SingleDigit\":\"ChatPrev_SingleDigit__3gW4S\",\"DoubleDigit\":\"ChatPrev_DoubleDigit__1TOYN\",\"TrippleDigit\":\"ChatPrev_TrippleDigit__10R-l\",\"NotificationCount\":\"ChatPrev_NotificationCount__3_GZ6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Footer\":\"Footer_Footer__238hM\",\"SocialButtons\":\"Footer_SocialButtons__1QO7E\",\"Link\":\"Footer_Link__2v7FB\",\"Icon\":\"Footer_Icon__2abUb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"StreamElement\":\"StreamElement_StreamElement__3OCsm\",\"Light\":\"StreamElement_Light__2TtLJ\",\"Dark\":\"StreamElement_Dark__2dlJY\",\"LogoForButton\":\"StreamElement_LogoForButton__1AJ3s\",\"title\":\"StreamElement_title__1alnv\",\"hideCommentsButton\":\"StreamElement_hideCommentsButton__2tvUl\",\"showCommentsButton\":\"StreamElement_showCommentsButton__378tv\",\"ShowDrop\":\"StreamElement_ShowDrop__1aiJj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MessageContainer\":\"Message_MessageContainer__gf0e5\",\"Sent\":\"Message_Sent__2XCKT\",\"Received\":\"Message_Received__1847w\",\"Message\":\"Message_Message__1uVPF\",\"Text\":\"Message_Text__2KRx3\",\"Sending\":\"Message_Sending__1OvWC\",\"Image\":\"Message_Image__jO4GU\",\"Drop\":\"Message_Drop__Tob2B\",\"Time\":\"Message_Time__2J939\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__1tTPb\",\"active\":\"Navigation_active__1Sofg\",\"inactive\":\"Navigation_inactive__HaPCz\",\"SingleDigit\":\"Navigation_SingleDigit__2RgMU\",\"DoubleDigit\":\"Navigation_DoubleDigit__1ow4U\",\"TrippleDigit\":\"Navigation_TrippleDigit__10ipn\",\"NotificationCount\":\"Navigation_NotificationCount__daxOy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentContainer\":\"Comment_CommentContainer__1pRtV\",\"Comment\":\"Comment_Comment__3-CQ4\",\"Root\":\"Comment_Root__2CJ9O\",\"actualComment\":\"Comment_actualComment__2e5Xa\",\"CommentBackground\":\"Comment_CommentBackground__2ay4r\",\"selected\":\"Comment_selected__1Cjjs\",\"sending\":\"Comment_sending__2ZFQ6\",\"SpeechBubbleArrow\":\"Comment_SpeechBubbleArrow__2Bk8e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatPreviews\":\"ChatPreviews_ChatPreviews__fzX0l\",\"SearchContainer\":\"ChatPreviews_SearchContainer__Ej40j\",\"SearchInput\":\"ChatPreviews_SearchInput__GTzsf\",\"SearchIcon\":\"ChatPreviews_SearchIcon__1xA98\",\"NewChatContainer\":\"ChatPreviews_NewChatContainer__B-M_c\",\"AddChatIcon\":\"ChatPreviews_AddChatIcon__2Ywob\",\"NewChatMessage\":\"ChatPreviews_NewChatMessage__1YuwC\",\"ScrollContainer\":\"ChatPreviews_ScrollContainer__3gP52\",\"EmptyMessage\":\"ChatPreviews_EmptyMessage__DTHP9\",\"LoaderContainer\":\"ChatPreviews_LoaderContainer__1-XQ1\",\"Spinner\":\"ChatPreviews_Spinner__1xiTt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Corner\":\"ResizeHandler_Corner__3-KWA\",\"Edge\":\"ResizeHandler_Edge__1xF-y\",\"NW\":\"ResizeHandler_NW__TAwmj\",\"SW\":\"ResizeHandler_SW__3WC-T\",\"SE\":\"ResizeHandler_SE__1GarH\",\"NE\":\"ResizeHandler_NE__dMKUa\",\"N\":\"ResizeHandler_N__3ZPKg\",\"S\":\"ResizeHandler_S__2Tcvz\",\"W\":\"ResizeHandler_W__2yN16\",\"E\":\"ResizeHandler_E__HY2p2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"SidePanel_Container__2n4dm\",\"Overlay\":\"SidePanel_Overlay__3H8RD\",\"ProfilePic\":\"SidePanel_ProfilePic__2088H\",\"MenuOpen\":\"SidePanel_MenuOpen__3zM5A\",\"Menu\":\"SidePanel_Menu__1Le88\",\"NameArea\":\"SidePanel_NameArea__uF_F1\",\"Handle\":\"SidePanel_Handle__3Hwhr\",\"Name\":\"SidePanel_Name__10lm8\",\"MenuItems\":\"SidePanel_MenuItems__2Im6n\",\"LightMenu\":\"SidePanel_LightMenu__3snu5\",\"DarkMenu\":\"SidePanel_DarkMenu__3io-a\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TextInput\":\"TextElement_TextInput__1KrCZ\",\"topAlign\":\"TextElement_topAlign__iMBaG\",\"middleAlign\":\"TextElement_middleAlign__2ZxBb\",\"bottomAlign\":\"TextElement_bottomAlign__3cJU0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentContainer\":\"SubComment_CommentContainer__3pN14\",\"Comment\":\"SubComment_Comment__3QuPl\",\"Root\":\"SubComment_Root__3euip\",\"CommentBackground\":\"SubComment_CommentBackground__2YwBN\",\"actualComment\":\"SubComment_actualComment__A31dE\",\"unselectRect\":\"SubComment_unselectRect__MO8ow\",\"sending\":\"SubComment_sending__3HKiD\",\"selected\":\"SubComment_selected__3zWkG\",\"CommentBackgroundNeumorphism\":\"SubComment_CommentBackgroundNeumorphism__3JPk3\",\"SpeechBubbleArrow\":\"SubComment_SpeechBubbleArrow__1pXFE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TopMenu\":\"TopMenu_TopMenu__KNG5p\",\"LeftAlign\":\"TopMenu_LeftAlign__2xUF9\",\"RightAlign\":\"TopMenu_RightAlign__2nWqm\",\"MenuItem\":\"TopMenu_MenuItem__VTSNx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ExportModal\":\"ExportModal_ExportModal__1dqm9\",\"Background\":\"ExportModal_Background__RsbW8\",\"Modal\":\"ExportModal_Modal__1lp19\",\"PreviewContainer\":\"ExportModal_PreviewContainer__1E3j6\",\"Preveiw\":\"ExportModal_Preveiw__NOHR9\",\"DownloadOptions\":\"ExportModal_DownloadOptions__2nYOZ\",\"DownloadWrapper\":\"ExportModal_DownloadWrapper__1H_WS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentForm\":\"CommentForm_CommentForm__2ziHj\",\"CommentInput\":\"CommentForm_CommentInput__2JXGs\",\"CommentInputBackground\":\"CommentForm_CommentInputBackground__1TW1s\",\"SpeechBubbleArrow\":\"CommentForm_SpeechBubbleArrow__3gt-i\",\"TextArea\":\"CommentForm_TextArea__82bTZ\",\"InputContainer\":\"CommentForm_InputContainer__2Kt2i\",\"toplevel\":\"CommentForm_toplevel__2NYbc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Stream\":\"Stream_Stream__1p-EH\",\"OutRight\":\"Stream_OutRight__2aEf-\",\"River\":\"Stream_River__1O9az\",\"RiverGlow\":\"Stream_RiverGlow__mAxa8\",\"Boat1\":\"Stream_Boat1__1Z0Du\",\"Boat2\":\"Stream_Boat2__3IrRP\",\"wtfButton\":\"Stream_wtfButton__3i49j\",\"wtfContainer\":\"Stream_wtfContainer__3DD06\",\"SubLine\":\"Stream_SubLine__MVszT\",\"EmojiButton\":\"Stream_EmojiButton__2W_FH\",\"LeftThumb\":\"Stream_LeftThumb__3tnvu\",\"RightThumb\":\"Stream_RightThumb__2xIpX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"NewChatModal_Modal__3n-er\",\"SearchContainer\":\"NewChatModal_SearchContainer__1PZ0o\",\"SearchInput\":\"NewChatModal_SearchInput__33tyc\",\"SearchIcon\":\"NewChatModal_SearchIcon__1DLA0\",\"ScrollContainer\":\"NewChatModal_ScrollContainer__1XoBc\",\"LoaderContainer\":\"NewChatModal_LoaderContainer__1M8IG\",\"Spinner\":\"NewChatModal_Spinner__3J-6G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentMenu\":\"CommentMenu_CommentMenu__3B8Xo\",\"MenuItem\":\"CommentMenu_MenuItem__l5Lxn\",\"Seperator\":\"CommentMenu_Seperator__3O3Yx\",\"Trash\":\"CommentMenu_Trash__um9o6\",\"DeleteDialog\":\"CommentMenu_DeleteDialog__1AU-G\",\"YesButton\":\"CommentMenu_YesButton__PmqGu\",\"NoButton\":\"CommentMenu_NoButton__2NJ_f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Chat\":\"Chat_Chat__3NjUX\",\"OutLeft\":\"Chat_OutLeft__1_mEV\",\"OutRight\":\"Chat_OutRight__YGIUX\",\"NotLoggedInContainer\":\"Chat_NotLoggedInContainer__2Hcrs\",\"NotLoggedInMessage\":\"Chat_NotLoggedInMessage__Bn3g9\",\"InnerContainer\":\"Chat_InnerContainer__rd9e-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatWindow\":\"ChatWindow_ChatWindow__3ZoYy\",\"BigChatWindow\":\"ChatWindow_BigChatWindow__19t_d\",\"SmallChatWindow\":\"ChatWindow_SmallChatWindow__2GHo6\",\"Messages\":\"ChatWindow_Messages__1N3ql\",\"NotEncryptedMessage\":\"ChatWindow_NotEncryptedMessage__bqLT2\",\"Loader\":\"ChatWindow_Loader__2w4-b\",\"NewMessageSeparator\":\"ChatWindow_NewMessageSeparator__2uQ7X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatPrev\":\"ChatPrev_ChatPrev__1lyZi\",\"selected\":\"ChatPrev_selected__y6ntP\",\"Preview\":\"ChatPrev_Preview__1ByQn\",\"ProfilePic\":\"ChatPrev_ProfilePic__1R9OE\",\"Link\":\"ChatPrev_Link__1gyEA\",\"Active\":\"ChatPrev_Active__2SofW\",\"Info\":\"ChatPrev_Info__2XPhd\",\"Name\":\"ChatPrev_Name__11Zqr\",\"ConnectorUp\":\"ChatPrev_ConnectorUp__3UBMQ\",\"ConnectorDown\":\"ChatPrev_ConnectorDown__1juAG\",\"Notifiaction\":\"ChatPrev_Notifiaction__1pdd1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"voting\":\"Voting_voting__3vVRy\",\"up\":\"Voting_up__3cj2v\",\"down\":\"Voting_down__3d4pn\",\"points\":\"Voting_points__34ens\",\"glow\":\"Voting_glow__21-0a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"NeumorphismButton_Button__3Mhi_\",\"Light\":\"NeumorphismButton_Light__1hn8R\",\"Dark\":\"NeumorphismButton_Dark__3fV4M\",\"SubmitComment\":\"NeumorphismButton_SubmitComment__1CjOP\",\"Disabled\":\"NeumorphismButton_Disabled__3xpGV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Creator\":\"Creator_Creator__12J2i\",\"canvas\":\"Creator_canvas__V-qwf\",\"grid\":\"Creator_grid__3-p6j\",\"Content\":\"Creator_Content__38q3Z\",\"Blinking\":\"Creator_Blinking__3a5Xa\",\"blinker\":\"Creator_blinker__u2hUA\",\"OutLeft\":\"Creator_OutLeft__1ttKS\",\"OutLeftLeft\":\"Creator_OutLeftLeft__2SQ0t\",\"SendingWrapper\":\"Creator_SendingWrapper__cUrbo\",\"Form\":\"Creator_Form__2GT40\",\"SendButton\":\"Creator_SendButton__pJL7m\",\"ErrorMessage\":\"Creator_ErrorMessage__1iWUe\",\"Checkmark\":\"Creator_Checkmark__20ycc\",\"Spinner\":\"Creator_Spinner__dq7fA\",\"Sending\":\"Creator_Sending__3AyYF\",\"Disabled\":\"Creator_Disabled__sZMz-\",\"TakTakTak\":\"Creator_TakTakTak__3tHwA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatPrev\":\"UserPrev_ChatPrev__2Fkpd\",\"ProfilePic\":\"UserPrev_ProfilePic__3_nZY\",\"Link\":\"UserPrev_Link__2yoHm\",\"Active\":\"UserPrev_Active__3CTz3\",\"Preview\":\"UserPrev_Preview__28pMt\",\"Info\":\"UserPrev_Info__2DeeM\",\"Name\":\"UserPrev_Name__21Zdo\",\"ConnectorUp\":\"UserPrev_ConnectorUp__OHqYY\",\"ConnectorDown\":\"UserPrev_ConnectorDown__3dfXw\",\"Notifiaction\":\"UserPrev_Notifiaction__oO-da\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"DropModal_Modal__izsVc\",\"SearchContainer\":\"DropModal_SearchContainer__3meeK\",\"SearchInput\":\"DropModal_SearchInput__1qIWA\",\"SearchIcon\":\"DropModal_SearchIcon__BxKrh\",\"ScrollContainer\":\"DropModal_ScrollContainer__2Un2N\",\"LoaderContainer\":\"DropModal_LoaderContainer__2155I\",\"Spinner\":\"DropModal_Spinner__1SZUx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MenuScreen\":\"MenuScreen_MenuScreen__37x6c\",\"left\":\"MenuScreen_left__2KbP-\",\"right\":\"MenuScreen_right__16duB\",\"LogoutText\":\"MenuScreen_LogoutText__2aVtF\",\"CheckboxText\":\"MenuScreen_CheckboxText__3QIIk\",\"CheckboxContainer\":\"MenuScreen_CheckboxContainer__AE6qE\",\"Dropzone\":\"MenuScreen_Dropzone__2vjFT\",\"ProfilePicPlaceholder\":\"MenuScreen_ProfilePicPlaceholder__1GWyr\",\"ProfilePic\":\"MenuScreen_ProfilePic__2iQ_F\",\"BackButton\":\"MenuScreen_BackButton__1q91L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"Content_Content__3juYp\",\"ContentContainer\":\"Content_ContentContainer__3CNVh\",\"Spinner\":\"Content_Spinner__27jW_\",\"Meme\":\"Content_Meme__1e2JB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentSection\":\"CommentSection_CommentSection__g3AjZ\",\"hidden\":\"CommentSection_hidden__2qlkD\",\"comments\":\"CommentSection_comments__2KHFw\",\"ShowMoreComments\":\"CommentSection_ShowMoreComments__3-Tdf\",\"NeuMorphism\":\"CommentSection_NeuMorphism__1Nepv\",\"Spinner\":\"CommentSection_Spinner__2zJe0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PrimaryButton\":\"PrimaryButton_PrimaryButton__2q7QZ\",\"PrimaryButtonFlat\":\"PrimaryButton_PrimaryButtonFlat__36rlY\",\"PrimaryButtonNeumorphism\":\"PrimaryButton_PrimaryButtonNeumorphism__Gt2M2\",\"Disabled\":\"PrimaryButton_Disabled__1O0bV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatInput\":\"ChatForm_ChatInput__1kLXn\",\"TextareaContainer\":\"ChatForm_TextareaContainer__22FgX\",\"Textarea\":\"ChatForm_Textarea__EcqJR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Element\":\"Element_Element__3cgSw\",\"highlight\":\"Element_highlight__32Nsz\",\"Image\":\"Element_Image__2dEuO\",\"Rect\":\"Element_Rect__121rk\",\"text\":\"Element_text__mgt81\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Source\":\"Source_Source__2tzeb\",\"Header\":\"Source_Header__ID_zx\",\"Link\":\"Source_Link__2KUn5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selected\":\"Branches_selected__69WnF\",\"Root\":\"Branches_Root__VPCsi\"};","module.exports = __webpack_public_path__ + \"static/media/Boat.3dbd1766.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"HL\":\"Line_HL__3cneY\",\"VL\":\"Line_VL__327lv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MenuItem\":\"MenuItem_MenuItem__7Q6zk\",\"Invalid\":\"MenuItem_Invalid__vbVHW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Feedback\":\"Feedback_Feedback__OO24w\",\"Link\":\"Feedback_Link__2Kk4p\"};","module.exports = __webpack_public_path__ + \"static/media/TrashOpen.72dbd9cc.svg\";","module.exports = __webpack_public_path__ + \"static/media/TrashClosed.031e471e.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AuthorPic\":\"AuthorPic_AuthorPic__1aedT\",\"NeuMorphism\":\"AuthorPic_NeuMorphism__2A3xt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__3j6VK\"};","module.exports = __webpack_public_path__ + \"static/media/RiverWhite.be3b1447.svg\";","module.exports = __webpack_public_path__ + \"static/media/river.8e9135cd.svg\";","module.exports = __webpack_public_path__ + \"static/media/RiverGlow.af772977.svg\";","module.exports = __webpack_public_path__ + \"static/media/Connector.40fb2d2c.svg\";","module.exports = __webpack_public_path__ + \"static/media/stupidfuckingface.68ec9ee5.jpeg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SelectionFrame\":\"SelectionFrame_SelectionFrame__1CYUc\"};","module.exports = __webpack_public_path__ + \"static/media/Washington.85b39daf.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/Washington_Monument.e6445e71.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/taktaktak.ef08bdad.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ProfilePicPlaceholder.571b6741.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout.1120a8e8.svg\";","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowBack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 20,\n    viewBox: \"0 0 12 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.835 1.87001L10.055 0.100006L0.165039 10L10.065 19.9L11.835 18.13L3.70504 10L11.835 1.87001Z\",\n    fill: \"#ffffff\",\n    fillOpacity: 0.44\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowBack);\nexport default __webpack_public_path__ + \"static/media/arrow_back.eaea21b2.svg\";\nexport { ForwardRef as ReactComponent };","import * as actionTypes from './actionTypes';\n\nexport const goDark = () => {\n    return {\n        type: actionTypes.GO_DARK\n    }\n}\n\nexport const goLight = () => {\n    return {\n        type: actionTypes.GO_LIGHT\n    }\n}\n\nexport const switchTab = (tab) => {\n    return {\n        type: actionTypes.SWITCH_TAB,\n        tab: tab\n    }\n}\n\nexport const openDropModal = () => {\n    return {\n        type: actionTypes.OPEN_DROP_MODAL\n    }\n}\n\nexport const closeDropModal = () => {\n    return {\n        type: actionTypes.CLOSE_DROP_MODAL\n    }\n}\n\nexport const openMenu = () => {\n    return {\n        type: actionTypes.OPEN_MENU\n    }\n}\n\nexport const closeMenu = () => {\n    return {\n        type: actionTypes.CLOSE_MENU\n    }\n}\n\nexport const openBackdrop = (zIndex) => {\n    return {\n        type: actionTypes.OPEN_BACKDROP,\n        zIndex: zIndex\n    }\n}\n\nexport const closeBackdrop = () => {\n    return {\n        type: actionTypes.CLOSE_BACKDROP\n    }\n}\n\nexport const closeNewChatModal = () => {\n    return {\n        type: actionTypes.CLOSE_NEW_CHAT_MODAL\n    }\n}\n\nexport const openNewChatModal = () => {\n    return {\n        type: actionTypes.OPEN_NEW_CHAT_MODAL\n    }\n}\n\nexport const setWindowWidth = (width) => {\n    return {\n        type: actionTypes.SET_WINDOW_WIDTH,\n        width\n    }\n}\n\nexport const openSignup = () => {\n    return {\n        type: actionTypes.OPEN_SIGNUP\n    }\n}\n\nexport const openLogin = () => {\n    return {\n        type: actionTypes.OPEN_LOGIN\n    }\n}\n\nexport const setUIStateonLogin = () => {\n    return {\n        type: actionTypes.SET_UI_STATE_ON_LOGIN\n    }\n}\n\nexport const setUIStateonLogout = () => {\n    return {\n        type: actionTypes.SET_UI_STATE_ON_LOGOUT\n    }\n}\n\nexport const addToMenuStack = (next) => {\n    return {\n        type: actionTypes.ADD_TO_MENU_STACK, \n        next\n    }\n}\n\nexport const popFromMenuStack = () => {\n    return {\n        type: actionTypes.POP_FROM_MENU_STACK\n    }\n}\n\nexport const moveRight = () => {\n    return {\n        type: actionTypes.MOVE_MENU_RIGHT\n    }\n}","\n// UI \n    export const GO_DARK = 'GO_DARK';\n    export const GO_LIGHT = 'GO_LIGHT';\n\n    export const SWITCH_TAB = 'SWITCH_TAB';\n\n    export const OPEN_DROP_MODAL = 'OPEN_DROP_MODAL';\n    export const CLOSE_DROP_MODAL = 'CLOSE_DROP_MODAL';\n\n    export const OPEN_MENU = 'OPEN_MENU';\n    export const CLOSE_MENU = 'CLOSE_MENU';\n\n    export const OPEN_AUTH = 'OPEN_AUTH';\n    export const CLOSE_AUTH = 'CLOSE_AUTH';\n\n    export const OPEN_BACKDROP = 'OPEN_BACKDROP';\n    export const CLOSE_BACKDROP = 'CLOSE_BACKDROP';\n\n    export const OPEN_NEW_CHAT_MODAL = 'OPEN_NEW_CHAT_MODAL';\n    export const CLOSE_NEW_CHAT_MODAL = 'CLOSE_NEW_CHAT_MODAL';\n\n    export const SET_WINDOW_WIDTH = 'SET_WINDOW_WIDTH';\n\n    export const OPEN_SIGNUP = 'OPEN_SIGNUP';\n    export const OPEN_LOGIN = 'OPEN_LOGIN';\n\n    export const SET_UI_STATE_ON_LOGIN = 'SET_UI_STATE_ON_LOGIN';\n    export const SET_UI_STATE_ON_LOGOUT = 'SET_UI_STATE_ON_LOGOUT';\n\n    export const ADD_TO_MENU_STACK = 'ADD_TO_MENU_STACK';\n    export const POP_FROM_MENU_STACK = 'POP_FROM_MENU_STACK'; \n    export const MOVE_MENU_RIGHT = 'MOVE_MENU_RIGHT';\n\n// USER\n\n    export const SET_ANONYMOUS_ID = 'SET_ANONYMOUS_ID'; \n\n    export const MESSAGES_READ_START = 'MESSAGES_READ_START';\n    export const MESSAGES_READ_SUCCESS = 'MESSAGES_READ_SUCCESS'; \n    export const MESSAGES_READ_FAILED = 'MESSAGES_READ_FAILED';\n\n    export const LOGIN_START = 'LOGIN_START';\n    export const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\n    export const LOGIN_FAIL = 'AUTH_FAIL';\n\n    export const SIGNUP_START = 'SIGNUP_START';\n    export const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS';\n    export const SIGNUP_FAIL ='SIGNUP_FAIL';\n\n    export const CHECK_EMAIL_TAKEN_START = 'CHECK_EMAIL_TAKEN_START';\n    export const CHECK_EMAIL_TAKEN_SUCCESS = 'CHECK_EMAIL_TAKEN_SUCCESS';\n    export const CHECK_EMAIL_TAKEN_FAILED = 'CHECK_EMAIL_TAKEN_FAILED';\n    export const EMAIL_ALREADY_TAKEN = 'EMAIL_ALREADY_TAKEN'; \n\n    export const CHECK_HANDLE_TAKEN_START = 'CHECK_HANDLE_TAKEN_START';\n    export const CHECK_HANDLE_TAKEN_SUCCESS = 'CHECK_HANDLE_TAKEN_SUCCESS';\n    export const CHECK_HANDLE_TAKEN_FAILED = 'CHECK_HANDLE_TAKEN_FAILED';\n    export const HANDLE_ALREADY_TAKEN = 'HANDLE_ALREADY_TAKEN';\n\n    export const SIGNUP = 'SIGNUP';\n    export const LOGOUT = 'LOGOUT';\n    export const CHECK_EMAIL = 'CHECK_EMAIL';\n    export const CHECK_HANDLE = 'CHECK_HANDLE';\n\n    export const REMOVE_CHAT_NOTIFICATIONS = 'REMOVE_CHAT_NOTIFICATIONS';\n    export const UPDATE_NOTIFICATIONS = 'UPDATE_NOTIFICATIONS';\n\n    export const SUBSCRIBE_EMAIL_LIST_START = 'SUBSCRIBE_EMAIL_LIST_SUCCESS';\n    export const SUBSCRIBE_EMAIL_LIST_SUCCESS = 'SUBSCRIBE_EMAIL_LIST_SUCCESS';\n    export const SUBSCRIBE_EMAIL_LIST_FAILED = 'SUBSCRIBE_EMAIL_LIST_FAILED'; \n\n    export const DELETE_NOTIFICATION_START = 'DELETE_NOTIFICATION_START';\n    export const DELETE_NOTIFICATION_SUCCESS = 'DELETE_NOTIFICATION_SUCCESS';\n    export const DELETE_NOTIFICATION_FAILED = 'DELETE_NOTIFICATION_FAILED';\n\n    export const ADD_MESSAGE_TO_BUFFER = 'ADD_MESSAGE_TO_BUFFER';\n\n    export const SEND_MESSAGE_FROM_BUFFER_START = 'SEND_MESSAGE_FROM_BUFFER_START';\n    export const SEND_MESSAGE_FROM_BUFFER_SUCCESS = 'SEND_MESSAGE_FROM_BUFFER_SUCCESS';\n    export const SEND_MESSAGE_FROM_BUFFER_FAILED = 'SEND_MESSAGE_FROM_BUFFER_FAILED';\n\n\n// STREAM\n    export const SCROLL_NEXT_START = 'SCROLL_NEXT_START';\n    export const SCROLL_NEXT_SUCCESS = 'SCROLL_NEXT_SUCCESS';\n    export const SCROLL_NEXT_FAILED = 'SCROLL_NEXT_FAILED';\n\n    export const SCROLL_PREV_START = 'SCROLL_PREV_START';\n    export const SCROLL_PREV_SUCCESS = 'SCROLL_PREV_SUCCESS';\n    export const SCROLL_PREV_FAILED = 'SCROLL_PREV_FAILED';\n    \n    export const SELECT_DROPTARGET = 'SELECT_DROPTARGET';\n    export const UNSELECT_DROPTARGET = 'UNSELECT_DROPTARGET';\n    export const RESET_DROP_TARGETS = 'RESET_DROP_TARGETS';\n\n    export const SEND_COMMENT_START = 'SEND_COMMENT_START';\n    export const SEND_COMMENT_SUCCESS = 'SEND_COMMENT_SUCCESS';\n    export const SEND_COMMENT_FAILED = 'SEND_COMMENT_FAILED';\n\n    export const SEND_SUBCOMMENT_START = 'SEND_SUBCOMMENT_START'; \n    export const SEND_SUBCOMMENT_SUCCESS = 'SEND_SUBCOMMENT_SUCCESS'; \n    export const SEND_SUBCOMMENT_FAILED = 'SEND_SUBCOMMENT_FAILED';\n\n    export const ADD_SUBCOMMENT = 'ADD_SUBCOMMENT';\n    export const DELETE_COMMENT = 'DELETE_COMMENT';\n    export const SELECT_COMMENT = 'SELECT_COMMENT';\n    export const UNSELECT_COMMENT = 'UNSELECT_COMMENT';\n\n    export const FETCH_IDS_START = 'FETCH_IDS_START';\n    export const SET_IDS = 'SET_IDS';\n    export const FETCH_IDS_FAILED = 'FETCH_IDS_FAILED';\n\n    export const FETCH_DROP_START = 'FETCH_DROP_START';\n    export const FETCH_DROP_SUCCESS = 'FETCH_DROP_SUCCESS';\n    export const FETCH_DROP_FAILED = 'FETCH_DROP_FAILED';\n    \n    export const FETCH_DROPS_START = 'FETCH_DROPS_START';\n    export const FETCH_DROPS_FAILED = 'FETCH_DROPS_FAILED';\n    export const SET_DROPS = 'SET_DROPS';\n    export const SET_DROP = 'SET_DROP';\n\n    // export const SET_COMMENTS = 'SET_COMMENTS';\n    // export const FETCH_COMMENTS_FAILED = 'FETCH_COMMENTS_FAILED';\n    export const MEME_LOADED = 'MEME_LOADED';\n    export const COMMENT_SAVED ='COMMENT_SAVED';\n    export const POST_COMMENT_FAILED = 'POST_COMMENT_FAILED';\n    export const SELECT_SUBCOMMENT = 'SELECT_SUBCOMMENT';\n    export const UNSELECT_SUBCOMMENT = 'UNSELECT_SUBCOMMENT';\n    export const SET_DROPS_NOT_LOADED = 'SET_DROPS_NOT_LOADED';\n\n    export const DELETE_COMMENT_START = 'DELETE_COMMENT_START';\n    export const DELETE_COMMENT_SUCCESS = 'DELETE_COMMENT_SUCCESS';\n    export const DELETE_COMMENT_FAILED = 'DELTE_COMMENT_FAILED';\n\n    export const FETCH_MEME_START = 'FETCH_MEME_START';\n    export const FETCH_MEME_SUCCESS = 'FETCH_MEME_SUCCESS';\n    export const FETCH_MEME_FAILED = 'FETCH_MEME_FAILED';\n\n    export const SET_MOUSE_OVER_COMMENTS = 'MOUSE_OVER_COMMENTS';\n\n\n// CHAT\n    export const ADD_NEW_USERS = 'ADD_NEW_USERS';\n    export const SET_CHAT_STATE_ON_LOGIN ='SET_CHAT_STATE_ON_LOGIN';\n    export const CHANGE_CHAT = 'CHANGE_CHAT';\n    export const SET_CHAT_FORM_HEIGHT = 'SET_CHAT_FORM_HEIGHT';\n    export const SET_CHAT_INPUT = 'SET_CHAT_INPUT';\n    export const SAVE_CHAT_INPUT = 'SAVE_CHAT_INPUT'; \n    export const FETCH_ALL_USERS_START = 'FETCH_ALL_USERS_START';\n    export const FETCH_ALL_USERS_FAILED = 'FETCH_ALL_USERS_FALIED';\n    export const FETCH_ALL_USERS_SUCCESS = 'FETCH_ALL_USERS_SUCCESS';\n    export const CHANGE_FORM_HEIGHT = 'CHANGE_FORM_HEIGHT';\n    export const CREATE_DUMMY_CHAT = 'CREATE_DUMMY_CHAT';\n    export const CHANGE_CHAT_INPUT = 'CHANGE_CHAT_INPUT';\n    export const OPEN_CHRIS_CHAT = 'OPEN_CHRIS_CHAT'; \n\n    export const SEND_NEW_CHAT_START = 'SEND_NEW_CHAT_START';\n    export const SEND_NEW_CHAT_SUCCESS = 'SEND_NEW_CHAT_SUCCESS'\n    export const SEND_NEW_CHAT_FAILED = 'SEND_NEW_CHAT_FAILED';\n\n    export const SEND_MESSAGE_START = 'SEND_MESSAGE_START';\n    export const SEND_MESSAGE_SUCCESS = 'SEND_MESSAGE_SUCCESS';\n    export const SEND_MESSAGE_FAILED = 'SEND_MESSAGE_FAILED';\n\n    export const SEND_DROP_START = 'SEND_DROP_START';\n    export const SEND_DROP_SUCCESS = 'SEND_DROP_SUCCESS';\n    export const SEND_DROP_FAILED = 'SEND_DROP_FAILED';\n\n    export const FETCH_FRIENDS_START = 'FETCH_FRIENDS_START';\n    export const FETCH_FRIENDS_SUCCESS = 'FETCH_FRIENDS_SUCCESS';\n    export const FETCH_FRIENDS_FAILED = 'FETCH_FRIENDS_FAILED'; \n\n    export const FETCH_FIREND_REQUESTS_START = 'FETCH_FRIEND_REQUESTS_START';    \n    export const FETCH_FIREND_REQUESTS_SUCCESS = 'FETCH_FRIEND_REQUESTS_SUCCESS';    \n    export const FETCH_FIREND_REQUESTS_FAILED = 'FETCH_FRIEND_REQUESTS_FAILED';    \n\n    export const SEND_FRIEND_REQUEST_START = 'SEND_FRIEND_REQUEST_START';\n    export const SEND_FRIEND_REQUEST_SUCCESS = 'SEND_FRIEND_REQUEST_SUCCESS';\n    export const SEND_FRIEND_REQUEST_FAILED = 'SEND_FRIEND_REQUEST_FAILED';\n\n    export const ACCEPT_FRIEND_REQUEST_START = 'ACCEPT_FRIEND_REQUEST_START';\n    export const ACCEPT_FRIEND_REQUEST_SUCCESS = 'ACCEPT_FRIEND_REQUEST_SUCCESS';\n    export const ACCEPT_FRIEND_REQUEST_FAILED = 'ACCEPT_FRIEND_REQUEST_FAILED';\n\n    export const FETCH_CHAT_START = 'FETCH_CHAT_START';\n    export const FETCH_CHAT_SUCCESS = 'FETCH_CHAT_SUCCESS';\n    export const FETCH_CHAT_FAILED = 'FETCH_CHAT_FALIED';\n\n    export const FETCH_CHATS_START = 'FETCH_CHATS_START';\n    export const FETCH_CHATS_SUCCESS = 'FETCH_CHATS_SUCCESS';\n    export const FETCH_CHATS_FAILED = 'FETCH_CHATS_FAILED';\n\n    export const FETCH_NEW_MESSAGES_START = 'FETCH_NEW_MESSAGES_START';\n    export const FETCH_NEW_MESSAGES_SUCCESS = 'FETCH_NEW_MESSAGES_SUCCESS';\n    export const FETCH_NEW_MESSAGES_FAILED = 'FETCH_NEW_MESSAGES_FAILED';\n\n    export const SEND_FIRST_MESSAGE_NEW_CHAT_START = 'SEND_FIRST_MESSAGE_NEW_CHAT_START'; \n    export const SEND_FIRST_MESSAGE_NEW_CHAT_SUCCESS = 'SEND_FIRST_MESSAGE_NEW_CHAT_SUCCESS'; \n    export const SEND_FIRST_MESSAGE_NEW_CHAT_FAILED = 'SEND_FIRST_MESSAGE_NEW_CHAT_FAILED'; \n    \n    export const CHANGE_SHOULD_DELETE_INPUT = 'CHANGE_SHOULD_DELETE_INPUT';\n    export const CHECK_AND_ADD_NEW_MESSAGES = 'CHECK_AND_ADD_NEW_MESSAGES';\n\n    export const FETCH_NEW_CHAT_START = 'FETCH_NEW_CHAT_START';\n    export const FETCH_NEW_CHAT_SUCCESS = 'FETCH_NEW_CHAT_SUCCESS';\n    export const FETCH_NEW_CHAT_FAILED = 'FETCH_NEW_CHAT_FAILED';\n","import axios from 'axios';\n\nimport { closeNewChatModal } from './UIActions'\n\n\nimport * as actionTypes from '../actions/actionTypes';\n\nexport const setChatStateOnLogin = (userdata) => {\n    return {\n        type: actionTypes.SET_CHAT_STATE_ON_LOGIN,\n        userdata\n    }\n}\n\n//--------- FETCH CHAT -----------------------------------------\n\nexport const fetchChat = (chatId, token) => {\n    return dispatch => {\n        dispatch(fetchChatStart())\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.get(`/api/chat/${chatId}`, headers)\n        .then(response => {\n            console.log(response);\n            dispatch(fetchChatSuccess(response.data.chat))\n        }).catch(err => {\n            console.log(err)\n            dispatch(fetchChatFailed())\n        })\n    }\n}\n\nexport const fetchChatStart = () => {\n    return {\n        type: actionTypes.FETCH_CHAT_START,\n    }\n}\n\nexport const fetchChatSuccess = () => {\n    return {\n        type: actionTypes.FETCH_CHAT_SUCCESS,\n    }\n}\n\nexport const fetchChatFailed = () => {\n    return {\n        type: actionTypes.FETCH_CHAT_FAILED,\n    }\n}\n\n//--------- FETCH CHATS -----------------------------------------\n\nexport const fetchChats = (token, userId) => {\n    return dispatch => {\n        dispatch(fetchChatsStart())\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.get(`/api/chat/chats`, headers)\n        .then(response => {\n            dispatch(fetchChatsSuccess(response.data, userId))\n        }).catch(err => {\n            console.log(err)\n            dispatch(fetchChatsFailed())\n        })\n    }\n}\n\nexport const fetchChatsStart = () => {\n    return {\n        type: actionTypes.FETCH_CHATS_START,\n    }\n}\n\nexport const fetchChatsSuccess = (chats, userId) => {\n    return {\n        type: actionTypes.FETCH_CHATS_SUCCESS,\n        chats, \n        userId\n    }\n}\n\nexport const fetchChatsFailed = () => {\n    return {\n        type: actionTypes.FETCH_CHATS_FAILED,\n    }\n}\n\n//--------- FETCH FRIENDS ----------------------------------------------------------\n\nexport const fetchFriends = (ids, token) => {\n    return dispatch => {\n        dispatch(fetchFriendsStart());\n        const body = { userIds: ids }\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.post('/api/users/userdata', body, headers)\n        .then(response => {\n            dispatch(addNewUsers(response.data));\n            dispatch(fetchFriendsSuccess(response.data));\n        }).catch(err => {\n            dispatch(fetchFriendsFailed(err))\n        })\n    }\n}\n\nexport const fetchFriendsStart = () => {\n    return {\n        type: actionTypes.FETCH_FRIENDS_START,\n    }\n}\n\nexport const fetchFriendsSuccess = (friends) => {\n    return {\n        type: actionTypes.FETCH_FRIENDS_SUCCESS,\n        friends\n    }\n}\n\nexport const fetchFriendsFailed = () => {\n    return {\n        type: actionTypes.FETCH_IDS_FAILED\n    }\n}\n\n//--------- FETCH ALL USERS ---------------------------------------------------\n\nexport const fetchAllUsers = () => {\n    return dispatch => {\n        dispatch(fetchAllUsersStart());\n        axios.get('/api/users')\n        .then(response => {\n            dispatch(addNewUsers(response.data));\n            dispatch(fetchAllUsersSuccess(response.data))\n        }).catch(err => {\n            console.log(err);\n            dispatch(fetchAllUsersFailed())\n        })\n    }\n}\n\nexport const fetchAllUsersStart = () => {\n    return {\n        type: actionTypes.FETCH_ALL_USERS_START,\n    }\n}\n\nexport const fetchAllUsersSuccess = (users) => {\n    return {\n        type: actionTypes.FETCH_ALL_USERS_SUCCESS,\n        users, \n    }\n}\n\nexport const fetchAllUsersFailed = () => {\n    return {\n        type: actionTypes.FETCH_ALL_USERS_FAILED\n    }\n}\n\n//--------- SEND MESSAGE -------------------------------------------------------\n\nexport const sendTextMessage = (chatId, text, userId) => {\n    return dispatch => {\n        const randId = `${Date.now()}`;\n        dispatch(sendMessageStart(chatId, text, randId, userId));\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const url = `/api/chat/${chatId}/textMessage`;\n        const body = { \n            type: 'text',\n            message: { text }\n        };\n        axios.post(url, body, headers)\n        .then(response => {\n            dispatch(sendMessageSuccess(chatId, response.data, randId));\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch(sendMessageFailed(chatId, randId))\n        })\n    }\n}\n\nexport const sendMessageStart = (chatId, text, randId, userId) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_START,\n        chatId, \n        text, \n        randId,\n        userId\n    }\n}\n\nexport const sendMessageSuccess = (chatId, message, randId) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_SUCCESS,\n        chatId,\n        message, \n        randId\n    }\n}\n\nexport const sendMessageFailed = (chatId, randId) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_FAILED,\n        chatId,\n        randId\n    }\n}\n\nexport const addMessageToBuffer = (dummyChatId, text, userId) => {\n    return {\n        type: actionTypes.ADD_MESSAGE_TO_BUFFER, \n        dummyChatId, \n        dummyMessageId: `${Date.now()}`,\n        text, \n        userId,\n    }\n}\n\nexport const sendMessageFromBuffer = (id, chatId, dummyMessageId, text) => {\n    return dispatch => {    \n        dispatch(sendMessageFromBufferStart(id));\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const url = `/api/chat/${chatId}/textMessage`;\n        const body = { \n            type: 'text',\n            message: { text }\n        };\n        axios.post(url, body, headers)\n        .then(response => {\n            dispatch(sendMessageFromBufferSuccess(id, response.data));\n        }).catch(err => {\n            dispatch(sendMessageFromBufferFailed(id))\n        })\n    }\n}\n\nexport const sendMessageFromBufferStart = (id) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_FROM_BUFFER_START,\n        id\n    }\n}\n\nexport const sendMessageFromBufferSuccess = (id, response) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_FROM_BUFFER_SUCCESS,\n        id, \n        response\n    }\n}\n\nexport const sendMessageFromBufferFailed = (id) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_FROM_BUFFER_FAILED,\n        id\n    }\n}\n\n//--------- SEND MESSAGES -------------------------------------------------\n\nexport const sendDropStart = (chatIds, message) => {\n    return {\n        type: actionTypes.SEND_DROP_START,\n        chatIds, \n        message\n    }\n}\n\nexport const sendDropSuccess = (messageReplacements, chatReplacements, randId) => {\n    return {\n        type: actionTypes.SEND_DROP_SUCCESS,\n        messageReplacements,\n        chatReplacements,\n        randId\n    }\n}\n\nexport const sendDropFailed = () => {\n    return {\n        type: actionTypes.SEND_DROP_FAILED, \n\n    }\n}\n\n\n//--------- SEND FIRST MESSAGE IN NEW CHAT --------------------------------\n\nexport const sendFirstMessageNewChat = (dummyChatId, self, chatPartner, text) => {\n    return dispatch => {\n        const randId = Date.now();\n        dispatch(sendFirstMessageNewChatStart(dummyChatId, randId, text, self));\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const body = {\n             members: [self.userId, chatPartner.userId],\n            message: text\n        }\n        axios.post('/api/chat', body, headers)\n        .then(res => {\n            console.log(res.data);\n            dispatch(sendFirstMessageNewChatSuccess(dummyChatId, randId, res.data, self, chatPartner))\n        }).catch(err => {\n            console.log(\"FIRST MESSAGE NEW CAHT ERROR\");\n            console.log(err);\n            dispatch(sendFirstMessageNewChatFailed())\n        })\n    }\n}\n\nexport const sendFirstMessageNewChatStart = (dummyChatId, randId, message, self) => {\n    return {\n        type: actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_START,\n        dummyChatId,\n        randId,\n        message,\n        self,\n    }\n}\n\nexport const sendFirstMessageNewChatSuccess = (dummyChatId, randId, createdChat, self, chatPartner) => {\n    return {\n        type: actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_SUCCESS,\n        dummyChatId,\n        randId,\n        createdChat,\n        self,\n        chatPartner\n    }\n}\n\nexport const sendFirstMessageNewChatFailed = () => {\n    return {\n        type: actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_FAILED,\n    }\n}\n\n\n//--------- SEND FRIEND REQUEST -------------------------------------------\n\nexport const sendFriendRequest = (user) => {\n    return dispatch => {\n        console.log(\"Sending Friend Request\");\n        dispatch(sendFriendRequestStart(user))\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.post('/api/users/addFriend', { friendId: user.userId }, headers)\n        .then(res => {\n            dispatch(sendFriendRequestSuccess(user, res.data.chat));\n        }).catch(err => {\n            console.log(err)\n            dispatch(sendFriendRequestFailed(user))\n        })\n    }\n}\n\nexport const sendFriendRequestStart = (user) => {\n    return {\n        type: actionTypes.SEND_FRIEND_REQUEST_START,\n        user\n    }\n}\n\nexport const sendFriendRequestSuccess = (user, chat) => {\n    return {\n        type: actionTypes.SEND_FRIEND_REQUEST_SUCCESS,\n        user,\n        chat\n    }\n}\n\nexport const sendFriendRequestFailed = (user) => {\n    return {\n        type: actionTypes.SEND_FRIEND_REQUEST_FAILED,\n        user\n    }\n}\n\n//--------- ACCEPT FIREND REQUEST -----------------------------------------\n\nexport const acceptFriendRequest = (user, existingChatId) => {\n    return dispatch => {\n        dispatch(acceptFriendRequestStart(user));\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const body = { \n            friendId: user.userId,\n            existingChatId\n        };\n        axios.post('/api/users/acceptFriendRequest', body, headers)\n        .then(res => {\n            dispatch(acceptFriendRequestSuccess(res.data.friend, res.data.chat, existingChatId))\n        }).catch(err => {\n            console.log(err)\n            dispatch(acceptFriendRequestFailed(user))\n        })\n    }\n}\n\nexport const acceptFriendRequestStart = (user) => {\n    return {\n        type: actionTypes.ACCEPT_FRIEND_REQUEST_START,\n        user\n    }\n}\n\nexport const acceptFriendRequestSuccess = (friend, chat) => {\n    return {\n        type: actionTypes.ACCEPT_FRIEND_REQUEST_SUCCESS,\n        friend, \n        chat\n    }\n}\n\nexport const acceptFriendRequestFailed = (user) => {\n    return {\n        type: actionTypes.ACCEPT_FRIEND_REQUEST_FAILED,\n        user\n    }\n}\n\n//---- CHAT FORM INPUT ----------------------------------------------------\n\nexport const saveChatInput = (chatId, value) => {\n    return {\n        type: actionTypes.SAVE_CHAT_INPUT,\n        chatId,\n        value\n    }\n}\n\nexport const setChatFormHeight = (height) => {\n    return {\n        type: actionTypes.SET_CHAT_FORM_HEIGHT,\n        height\n    }\n}\n\nexport const setChatInput = (value) => {\n    return {\n        type: actionTypes.SET_CHAT_INPUT,\n        value\n    }\n}\n\nexport const changeFormHeight = (height) => {\n    return {\n        type: actionTypes.CHANGE_FORM_HEIGHT,\n        height\n    }\n}\n\nexport const chatInputChangeHandler = (value) => {\n    return {\n        type: actionTypes.CHANGE_CHAT_INPUT,\n        value\n    }\n}\n\n\n//--------- NEW CHAT -----------------------------------------------------------\n\n// export const sendNewChat = (friendId, message) => {\n//     return dispatch => {\n//         dispatch(sendNewChatStart());\n//         const body = {\n//             group: false,\n//             members: [friendId],\n//             message: message\n//         };\n//         const token = localStorage.getItem('token');\n//         const headers = { headers: { authorization: `Bearer ${token}` } }  \n//         axios.post('api/chat', body, headers)\n//         .then(res => {\n//             dispatch(sendNewChatSuccess());\n//         }).catch(err => {\n//             dispatch(sendNewChatFailed());\n//             console.log(err)\n//         })\n//     }\n// }\n\n// export const sendNewChatStart = () => {\n//     return {\n//         type: actionTypes.SEND_NEW_CHAT_START,\n//     }\n// }\n\n// export const sendNewChatSuccess = () => {\n//     return {\n//         type: actionTypes.SEND_MESSAGE_SUCCESS,\n//     }\n// }\n\n// export const sendNewChatFailed = () => {\n//     return {\n//         type: actionTypes.SEND_NEW_CHAT_FAILED,\n//     }\n// }\n\n//--------- ADD DUMMY CAHT -----------------------------------------------------\n\nexport const newChat = (chatId, chatPartner, self) => {\n    return dispatch => {\n        if(chatId){\n            dispatch(changeChat(chatId));\n            document.getElementById('chatForm').focus();\n        } else {\n            dispatch(createDummyChat(chatPartner, self));\n        }\n        dispatch(closeNewChatModal())\n    }\n}\n\nexport const changeChat = (chatId) => {\n    localStorage.setItem('currentChatId', chatId);\n    return {\n        type: actionTypes.CHANGE_CHAT,\n        chatId, \n    }\n}\n\nexport const createDummyChat = (chatPartner, self) => {\n    const dummyChatId = 'dummy' + chatPartner.userId\n    localStorage.setItem('currentChatId', dummyChatId);\n    return {\n        type: actionTypes.CREATE_DUMMY_CHAT,\n        chatPartner, \n        self\n    }\n}\n\n\n\n//--------- RESET CHAT -----------------------------------------------------\n\n\nexport const addNewUsers = (users) => {\n    return {\n        type: actionTypes.ADD_NEW_USERS,\n        users\n    }\n}\n\n\n//--------- FETCH NEW MESSAGES -----------------------------------------------------\n\nexport const fetchNewMessages = () => {\n    return dispatch => {\n        dispatch(fetchNewMessagesStart());\n        axios.get()\n        .then(res => {\n            dispatch(fetchNewMessagesSuccess());\n        }).catch(err => {\n            dispatch(fetchNewMessagesFailed());\n        })\n    }\n}\n\nexport const fetchNewMessagesStart = () => {\n    return {\n        type: actionTypes.FETCH_NEW_MESSAGES_START,\n    }\n}\n\nexport const fetchNewMessagesSuccess = () => {\n    return {\n        type: actionTypes.FETCH_NEW_MESSAGES_SUCCESS,\n    }\n}\n\nexport const fetchNewMessagesFailed = () => {\n    return {\n        type: actionTypes.FETCH_NEW_MESSAGES_FAILED,\n    }\n}\n\n\nexport const checkAndAddNewMessages = (notifications) => {\n    return {\n        type: actionTypes.CHECK_AND_ADD_NEW_MESSAGES, \n        notifications\n    }\n}\n\nexport const fetchNewChatStart = () => {\n    return {\n        type: actionTypes.FETCH_NEW_CHAT_START,\n    }\n}\n\nexport const fetchNewChatSuccess = (chat) => {\n    return {\n        type: actionTypes.FETCH_NEW_CHAT_SUCCESS,\n        chat\n    }\n}\n\nexport const fetchNewChatFailed = () => {\n    return {\n        type: actionTypes.FETCH_NEW_CHAT_FAILED,\n    }\n}\n\nexport const openChrisChat = (self) => {\n    return {\n        type: actionTypes.OPEN_CHRIS_CHAT,\n        self\n    }\n}\n\n","import axios from 'axios';\n\nimport { closeDropModal, switchTab } from './UIActions';\nimport { sendDropStart, sendDropSuccess, sendDropFailed} from './chatActions';\n\nimport * as actionTypes from './actionTypes';\n\n//-------- SWIPE  -----------------------------------------------------------------\n\nexport const scrollNext = (dropId, anonymousId ) => {\n    return dispatch => {\n        dispatch(scrollNextStart()); \n        if(!dropId.startsWith('no more')){\n            const url = `/api/drop/${dropId}/swipe`;\n            const token = localStorage.getItem('token');\n            const body = { like: true, anonymousId };\n            const headers = token ? { headers: { authorisation : `Bearer ${token}` } } : null;\n            axios.post(url, body, headers )\n            .then(res => {\n                console.log(res);\n                dispatch(scrollNextSuccess()); \n            })\n            .catch(err => {\n                console.log(err);\n                dispatch(scrollNextFailed());\n            })\n        }\n\n    }\n}\n\nexport const scrollNextStart = () => {\n    return {\n        type: actionTypes.SCROLL_NEXT_START,\n    }\n}\n\nexport const scrollNextSuccess = () => {\n    return {\n        type: actionTypes.SCROLL_NEXT_SUCCESS\n    }\n}\n\nexport const scrollNextFailed = () => {\n    return {\n        type: actionTypes.SCROLL_NEXT_FAILED\n    }\n}\n\n//-------- SCROLL UP  -----------------------------------------------------------------\n\n\nexport const scrollPrev = (dropId, anonymousId ) => {\n    return dispatch => {\n        dispatch(scrollPrevStart()); \n        if(!dropId.startsWith('no more')){\n            const url = `/api/drop/${dropId}/swipe`;\n            const token = localStorage.getItem('token');\n            const body = { like: true, anonymousId };\n            const headers = token ? { headers: { authorisation : `Bearer ${token}` } } : null;\n            axios.post(url, body, headers )\n            .then(res => {\n                console.log(res);\n                dispatch(scrollPrevSuccess()); \n            })\n            .catch(err => {\n                console.log(err);\n                dispatch(scrollPrevFailed());\n            })\n        }\n\n    }\n}\n\nexport const scrollPrevStart = () => {\n    return {\n        type: actionTypes.SCROLL_PREV_START,\n    }\n}\n\nexport const scrollPrevSuccess = () => {\n    return {\n        type: actionTypes.SCROLL_PREV_SUCCESS\n    }\n}\n\nexport const scrollPrevFailed = () => {\n    return {\n        type: actionTypes.SCROLL_PREV_FAILED\n    }\n}\n\n//-------- FETCH IDS -----------------------------------------------------------------\n\nexport const fetchIds = (token) => {\n    return dispatch => {\n        dispatch(fetchIdsStart())\n        const headers = token ? { authorization: 'Bearer ' + token } : null\n        axios.get('/api/drop/ids', headers )\n        .then(res => {\n            dispatch(setIds(res.data))\n            dispatch(fetchDrops(res.data))\n        })\n        .catch(err => {\n            dispatch(fetchIdsFailed())\n        })\n    }\n}\n\nexport const fetchIdsStart = () => {\n    return {\n        type: actionTypes.FETCH_IDS_START\n    }\n}\n\nexport const setIds = (ids) => {\n    return {\n        type: actionTypes.SET_IDS,\n        ids: ids\n    }\n}\n\nexport const fetchIdsFailed = () => {\n    return {\n        type: actionTypes.FETCH_IDS_FAILED\n    }\n}\n\n//-------- FETCH DROPS -----------------------------------------------------------------\n\nexport const fetchDrops = (ids) => {\n    return dispatch => {\n        dispatch(fetchDropsStart())\n        const headers = {};\n        const body = { ids: ids }\n        axios.post('/api/drop/drops', body, headers)\n        .then(res => {\n            dispatch(setDrops(res.data))\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch(fetchDropsFailed())\n        })\n    }\n}\n\nexport const fetchDropsStart  = () => {\n    return {\n        type: actionTypes.FETCH_DROPS_START\n    }\n}\n\nexport const setDrops  = (drops) => {\n    return {\n        type: actionTypes.SET_DROPS,\n        drops\n    }\n}\n\nexport const fetchDropsFailed  = (drops) => {\n    return {\n        type: actionTypes.FETCH_DROP_FAILED\n    }\n}\n\n//-------- SELECT COMMENT -------------------------------------------------------------------\n\nexport const selectComment = (commentId, path) => {\n    return {\n        type: actionTypes.SELECT_COMMENT,\n        commentId,\n        path\n    }\n}\n\nexport const unSelectComment = () => {\n    return {\n        type: actionTypes.UNSELECT_COMMENT\n    }\n}\n\nexport const selectSubComment = (commentId, path) => {\n    return {\n        type: actionTypes.SELECT_SUBCOMMENT,\n        commentId,\n        path\n    }\n}\n\nexport const unSelectSubComment = () => {\n    return {\n        type: actionTypes.UNSELECT_SUBCOMMENT,\n    }\n}\n \n//-------- SEND COMMENT -----------------------------------------------------------------\n\nexport const sendComment = ( dropId, comment ) => {\n    return dispatch => {\n        dispatch(sendCommentStart(dropId, comment))\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const url = `/api/drop/${dropId}/comment`;\n        const body = { comment: comment.comment };\n        axios.post(url, body, headers)\n        .then(res => {\n            dispatch(sendCommentSuccess(dropId, comment.id, res.data))\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch(sendCommentFailed(dropId, err))\n        })\n    }\n}\n\nexport const sendCommentStart = (dropId, comment) => {\n    return {\n        type: actionTypes.SEND_COMMENT_START,\n        dropId,\n        comment\n    }\n}\n\nexport const sendCommentSuccess = (dropId, randId, comment) => {\n    return {\n        type: actionTypes.SEND_COMMENT_SUCCESS,\n        dropId, \n        randId,\n        comment\n    }\n}\n\nexport const sendCommentFailed = (dropId, err) => {\n    return {\n        type: actionTypes.SEND_COMMENT_FAILED,\n        dropId, \n        err\n    }\n}   \n\n//-------- SEND SUBCOMMENT -----------------------------------------------------------------\n\n\nexport const sendSubComment = ( dropId, subComment, token ) => {\n    return dispatch => {\n        const commentId = subComment.parentPath.split('/')[0];\n        const randPath = subComment.parentPath + '/' + subComment.id;\n        dispatch(sendSubCommentStart(dropId, subComment));\n        const url = `/api/comment/${commentId}/sub`;\n        const headers = { headers: { authorization: `Bearer ${token}` } };\n        const body = { \n            actualComment: subComment.comment,\n            parentPath: subComment.parentPath\n        };\n        axios.post(url, body, headers)\n        .then(res => {\n            dispatch(sendSubCommentSuccess(dropId, randPath, res.data))\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch(sendSubCommentFailed(dropId, err))\n        })\n    }\n}\n\nexport const sendSubCommentStart = (dropId, subComment) => {\n    return {\n        type: actionTypes.SEND_SUBCOMMENT_START,\n        dropId,\n        subComment\n    }\n}\n\nexport const sendSubCommentSuccess = (dropId, randPath, subComment) => {\n    return {\n        type: actionTypes.SEND_SUBCOMMENT_SUCCESS,\n        dropId,\n        randPath, \n        subComment\n    }\n}\n\nexport const sendSubCommentFailed = (dropId, err) => {\n    return {\n        type: actionTypes.SEND_SUBCOMMENT_FAILED,\n        dropId, \n        err\n    }\n}   \n\n//---------------------------------------------------------------------------------------\n\nexport const setDropsNotLoaded = () => {\n    return {\n        type: actionTypes.SET_DROPS_NOT_LOADED\n    }\n}\n\n//-------- DELETE COMMENT -------------------------------------------------------------------\n\nexport const deleteComment = (dropId, commentId) => {\n    return dispatch => {\n        dispatch(deleteCommentStart(dropId, commentId))\n        const url = `api/comment/${commentId}`\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.delete(url, headers)\n        .then(() => {\n            dispatch(deleteCommentSuccess())\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch(deleteCommentFailed())\n        });\n    }\n}\n\nexport const deleteCommentStart = (dropId, commentId) => {\n    return {\n        type: actionTypes.DELETE_COMMENT_START,\n        dropId,\n        commentId,\n    }\n}\n\nexport const deleteCommentSuccess = () => {\n    return {\n        type: actionTypes.DELETE_COMMENT_SUCCESS,\n    }\n}\n\nexport const deleteCommentFailed = () => {\n    return {\n        type: actionTypes.DELETE_COMMENT_FAILED\n    }\n}\n\n\n// -------- FETCH DROP ----------------------------------------------------------\n\nexport const fetchDrop = (dropId, token) => {\n    return dispatch => {\n        dispatch(fetchDropStart(dropId))\n        if(dropId.startsWith('no')){\n            dispatch(fetchDropSuccess(dropId, { dropId, title: \"\", creatorId: \"6022396f28d69d22509a5d46\", comments: []}))\n        }else{\n            const url = dropId.startsWith('no more') ? 'apidrop/nomore' : `/api/drop/${dropId}`;\n            const headers = token ? { headers: { authorization: `Bearer ${token}` } } : null \n            axios.get(url, headers)\n            .then(res => {\n                dispatch(fetchDropSuccess(dropId, res.data))\n            }).catch(err => {\n                dispatch(fetchDropFailed(dropId))\n            })\n        }\n\n    }\n}\n\nexport const fetchDropStart = (dropId) => {\n    return {\n        type: actionTypes.FETCH_DROP_START,\n        dropId\n    }\n}\n\nexport const fetchDropSuccess = (dropId, drop) => {\n    return {\n        type: actionTypes.FETCH_DROP_SUCCESS,\n        dropId, \n        drop\n    }\n}\n\nexport const fetchDropFailed = (dropId) => {\n    return {\n        type: actionTypes.FETCH_DROP_FAILED, \n        dropId\n    }\n}\n\n//-------- FETCH MEME -----------------------------------------------------------------\n\n\nexport const fetchMemeStart = (dropId) => {\n    return {\n        type: actionTypes.FETCH_MEME_START,\n        dropId\n    }\n}\n\nexport const fetchMemeSuccess = (dropId) => {\n    return {\n        type: actionTypes.FETCH_MEME_SUCCESS,\n        dropId, \n    }\n}\n\n//--------- SELECT DROP TARGET -------------------------------------------------------\n\n\nexport const selectDropTarget = (chatId) => {\n    return {\n        type: actionTypes.SELECT_DROPTARGET,\n        chatId\n    }\n}\n\nexport const unSelectDropTarget = (chatId) => {\n    return {\n        type: actionTypes.UNSELECT_DROPTARGET,\n        chatId\n    }\n}\n\n//--------- SEND DROP ----------------------------------------------------------------\n\nexport const sendDrop = (targets, dropId, title, userId) => {\n    return dispatch => {\n        const randId = `${Date.now()}`;\n        const message = {\n            id: randId, \n            type: 'drop',\n            sender: userId,\n            sentTime: Date.now(),  \n            liked: [],\n            title,\n            dropId\n        }   \n        dispatch(closeDropModal());\n        dispatch(switchTab('chat'));\n        dispatch(resetDropTargets());\n        dispatch(sendDropStart(targets, message)); \n        const url = `/api/chat/dropMessage`;\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } };\n        const body = { \n            chatIds: targets,\n            dropId\n        };\n        axios.post(url, body, headers)\n        .then(res => {\n            console.log(res.data);\n            dispatch(sendDropSuccess(res.data.messageReplacements, res.data.chatReplacements, randId));\n        }).catch(err => {\n            console.log(err);\n            dispatch(sendDropFailed());\n        })\n    }\n}\n\nexport const resetDropTargets = () => {\n    return {\n        type: actionTypes.RESET_DROP_TARGETS, \n    }\n}\n\nexport const setMouseOverComments = (value) => {\n    return {\n        type: actionTypes.SET_MOUSE_OVER_COMMENTS, \n        value\n    }\n}","import axios from 'axios';\n\nimport * as actionTypes from './actionTypes';\nimport { setDropsNotLoaded } from './streamActions';\nimport { \n    closeMenu, \n    setUIStateonLogin,\n    setUIStateonLogout,\n    addToMenuStack\n} from './UIActions';\nimport { \n    setChatStateOnLogin,\n    checkAndAddNewMessages,\n    fetchNewChatSuccess,\n    fetchNewChatFailed,\n} from './chatActions';\n\nexport const logout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    localStorage.removeItem('expirationDate');\n    return {\n        type: actionTypes.LOGOUT\n    }\n}\n\nexport const checkAuthTimeout = (expirationTime) => {\n    return dispatch => {\n    }\n}\n\nexport const setAnonymousId = (anonymousId) => {\n    return {\n        type: actionTypes.SET_ANONYMOUS_ID,\n        anonymousId\n    }\n}\n\n\n//------ LOGIN -----------------------------------------------------------------------\n\n\nexport const login = (identifier, password) => {\n    return dispatch => {\n        dispatch(loginStart())\n        axios.post(\n            '/api/users/login', \n            JSON.stringify({\n                identification: identifier,\n                password: password\n            }), \n            { headers: { 'Content-Type': 'application/json' } }\n        ).then(res => {\n            const expirationDate = new Date(new Date().getTime() + res.data.expiresIn * 1000);\n            localStorage.setItem('token', res.data.token);\n            localStorage.setItem('expirationDate', expirationDate);\n            localStorage.setItem('user', JSON.stringify(res.data));\n            dispatch(loginSuccess(res.data));\n            dispatch(setDropsNotLoaded());\n            dispatch(setUIStateonLogin())\n            dispatch(setChatStateOnLogin(res.data))\n            dispatch(closeMenu());\n        }).catch(err => {\n            if(err.toJSON().message === 'Network Error'){\n                dispatch(loginFail(\"Check your connection, bro\"))\n            }else if(err.response && err.response.data && err.response.data.message){\n                dispatch(loginFail(err.response.data.message));\n            }else {\n                dispatch(loginFail(\"Something went wrong\"))\n            }\n        })\n    }\n}\n\nexport const loginStart = () => {\n    return {\n        type: actionTypes.LOGIN_START\n    };\n};\n\nexport const loginSuccess = (responseData) => {\n    return {\n        type: actionTypes.LOGIN_SUCCESS,\n        ...responseData\n    }\n}\n\nexport const loginFail = (message) => {\n    return {\n        type: actionTypes.LOGIN_FAIL,\n        error: message ? message : 'Something went wrong'\n    }\n}\n\n//------ SIGNUP ----------------------------------------------------------------------\n\nexport const signup = (name, email, handle, password, profilePic, src, newsletter) => {\n    return dispatch => {\n        dispatch(signupStart())\n        const url = '/api/users/signup';\n        const anonymousId = localStorage.getItem('anonymousId');\n        const formData = new FormData();\n        formData.append('name', name);\n        formData.append('email', email);\n        formData.append('handle', handle);\n        formData.append('password', password);\n        formData.append('profilePic', profilePic);\n        formData.append('newsletter', newsletter);\n        formData.append('anonymousId', anonymousId);\n        axios({\n            method: 'post',\n            url: url, \n            data: formData,\n            headers: { 'Content-Type': 'multipart/form-data' }\n        })\n        .then(res => {\n            console.log(res.data);\n            const expirationDate = new Date(new Date().getTime() + res.data.expiresIn * 1000);\n            localStorage.setItem('token', res.data.token);\n            localStorage.setItem('expirationDate', expirationDate);\n            localStorage.setItem('user', JSON.stringify(res.data));                \n            dispatch(signupSuccess(res.data, src));\n            dispatch(setDropsNotLoaded());\n            dispatch(setUIStateonLogin())\n            dispatch(setChatStateOnLogin(res.data))\n            dispatch(closeMenu());\n        }).catch(err => {\n            console.log(err)\n            dispatch(signupFail(err.response));\n        })\n    }\n}\n\nexport const signupStart = () => {\n    return {\n        type: actionTypes.SIGNUP_START\n    }\n}\n\nexport const signupSuccess = (responseData, profilePicSrc) => {\n    return {\n        type: actionTypes.SIGNUP_SUCCESS,\n        profilePicSrc,\n        ...responseData\n    }\n}\n\nexport const signupFail = (response) => {\n    return {\n        type: actionTypes.SIGNUP_FAIL,\n        error: response && response.data && response.data.message ? response.data.message : 'Something went wrong'\n    }\n}\n\n//------ CHECK EMAIL TAKEN ------------------------------------------------------------------\n\nexport const checkEmailTaken = (email) => {\n    return dispatch => {\n        dispatch(checkEmailTakenStart())\n        const url = '/api/users/checkEmail';\n        const body = { email }\n        axios.post(url, body)\n        .then(res => {\n            if(res.data && res.data.exists){\n                dispatch(emailAlreadyTaken(email));\n            } else {\n                dispatch(checkEmailTakenSuccess(res.data));\n                dispatch(addToMenuStack('CHOOSE_HANDLE'));\n            }\n        }).catch(err => {\n            dispatch(checkEmailTakenFailed(err))\n            console.log(err);\n        })\n        \n    }\n}\n\nexport const emailAlreadyTaken = (email) => {\n    return {\n        type: actionTypes.EMAIL_ALREADY_TAKEN,\n        email\n    }\n}\n\nexport const checkEmailTakenStart = () => {\n    return {\n        type: actionTypes.CHECK_EMAIL_TAKEN_START\n    }\n}\n\nexport const checkEmailTakenSuccess = (res) => {\n    console.log(res);\n    return {\n        type: actionTypes.CHECK_EMAIL_TAKEN_SUCCESS\n    }\n}\n\nexport const checkEmailTakenFailed = (err) => {\n    console.log(err);\n    return {\n        type: actionTypes.CHECK_EMAIL_TAKEN_FAILED\n    }\n}\n\n//------ CHECK HANDLE TAKEN ------------------------------------------------------------------\n\nexport const checkHandleTaken = (handle) => {\n    return dispatch => {\n        dispatch(checkHandleTakenStart())\n        const url = '/api/users/checkHandle';\n        const body = { handle }\n        axios.post(url, body)\n        .then(res => {\n            if(res.data && res.data.exists){\n                dispatch(handleAlreadyTaken(handle));\n            } else {\n                dispatch(checkHandleTakenSuccess(res.data));\n                dispatch(addToMenuStack('CHOOSE_PROFILE_PIC'));\n                console.log(document.getElementById('handle'))\n                document.getElementById('handle').focus(); \n            }\n        }).catch(err => {\n            dispatch(checkHandleTakenFailed(err))\n            console.log(err);\n        })\n        \n    }\n}\n\nexport const handleAlreadyTaken = (handle) => {\n    return {\n        type: actionTypes.HANDLE_ALREADY_TAKEN,\n        handle\n    }\n}\n\nexport const checkHandleTakenStart = () => {\n    return {\n        type: actionTypes.CHECK_HANDLE_TAKEN_START\n    }\n}\n\nexport const checkHandleTakenSuccess = (res) => {\n    console.log(res);\n    return {\n        type: actionTypes.CHECK_HANDLE_TAKEN_SUCCESS\n    }\n}\n\nexport const checkHandleTakenFailed = (err) => {\n    console.log(err);\n    return {\n        type: actionTypes.CHECK_HANDLE_TAKEN_FAILED\n    }\n}\n\n//------ CHECK AUTH STATE ----------------------------------------------------------------------\n\n\n\nexport const authCheckState = () => {\n    return dispatch => {\n        const token = localStorage.getItem('token');\n        if (!token) {\n            dispatch(setUIStateonLogout())\n            dispatch(logout());\n        } else {\n            const expirationDate = new Date(localStorage.getItem('expirationDate'));\n            if (expirationDate <= new Date()) {\n                dispatch(setUIStateonLogout())\n                dispatch(logout());\n            } else {\n                const user = JSON.parse(localStorage.getItem('user'));\n                dispatch(loginSuccess(user));\n                // dispatch(setDropsNotLoaded());\n                dispatch(setChatStateOnLogin(user));\n                dispatch(setUIStateonLogin())\n                dispatch(checkAuthTimeout((expirationDate.getTime() - new Date().getTime()) / 1000 ));\n                const url = '/api/users/refresh';\n                const headers =  { headers: {authorization: 'Bearer ' + token }};\n                axios.get(url, headers)\n                .then(res => {\n                    dispatch(loginSuccess(res.data));\n                    // dispatch(setDropsNotLoaded());\n                    dispatch(setChatStateOnLogin(res.data))\n                    const expirationDate = new Date(new Date().getTime() + res.data.expiresIn * 1000);\n                    localStorage.setItem('token', res.data.token);\n                    localStorage.setItem('expirationDate', expirationDate);\n                    localStorage.setItem('user', JSON.stringify(res.data)); \n                }).catch(err => {\n                    console.log(err);\n                })\n            }\n        }\n    };\n};\n\n\n\n//--------- SEND MESSAGES READ ---------------------------------------------\n\nexport const sendMessagesRead = (chatId, messageIds) => {\n    return dispatch => {\n        dispatch(sendMessagesReadStart(chatId))\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const url = `/api/chat/${chatId}/read`;\n        const body = {\n            messageIds\n        }\n        axios.post(url, body, headers)\n        .then(res => {\n            console.log(res);\n            dispatch(sendMessagesReadSuccess())\n        }).catch(err => {\n            console.log(err); \n            dispatch(sendMessagesReadFailed())\n        })\n    }\n}\n\nexport const sendMessagesReadStart = (chatId) => {\n    return {\n        type: actionTypes.MESSAGES_READ_START,\n        chatId\n    }\n}\n\nexport const sendMessagesReadSuccess = () => {\n    return {\n        type: actionTypes.MESSAGES_READ_SUCCESS,\n    }\n}\n\nexport const sendMessagesReadFailed = () => {\n    return {\n        type: actionTypes.MESSAGES_READ_FAILED,\n    }\n}\n\n\n//---- REFRESH NOTIFICATIONS ----------------------------------------------------\n\n\nexport const refreshNotifications = (notifications) => {\n    console.log(notifications);\n    return dispatch => {\n        dispatch(updateNotifications(notifications));\n        const messageNotifications = notifications.filter(n => n.type.startsWith('NEW_MESSAGE'));\n        if(messageNotifications.length > 0){\n            dispatch(checkAndAddNewMessages(messageNotifications))\n        }\n        const newChatNotifications = notifications.filter(n => n.type.startsWith('NEW_CHAT'));\n        if(newChatNotifications.length > 0 ){\n            newChatNotifications.forEach(n => {\n                const token = localStorage.getItem('token');\n                const headers = { headers: { authorization : `Bearer ${token}` } }\n                const url = `/api/chat/${n.chatId}`;\n                axios.get(url, headers)\n                .then(res => {\n                    console.log(res.data);\n                    dispatch(fetchNewChatSuccess(res.data));\n                }).catch(err => {\n                    console.log(err); \n                    dispatch(fetchNewChatFailed())\n                })\n\n            })\n        }\n    }\n}\n\nexport const updateNotifications = (notifications) => {\n    return {\n        type: actionTypes.UPDATE_NOTIFICATIONS,\n        notifications\n    }\n}\n\n//---- DELETE NOTIFICATION -------------------------------------------------------\n\nexport const deleteNotification = (notificationId) => {\n    return dispatch => {\n        dispatch(deleteNotificationStart(notificationId));\n        const url = `/api/users/notification/${notificationId}`;\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.delete(url, headers)\n        .then(res => {\n            console.log(res.data);\n            dispatch(deleteNotificationSuccess());\n        }).catch(err => {\n            console.log(err);\n            dispatch(deleteNotificationFailed());\n        })\n    }\n}\n\nexport const deleteNotificationStart = (notificationId) => {\n    return {\n        type: actionTypes.DELETE_NOTIFICATION_START,\n        notificationId\n    }\n}\n\nexport const deleteNotificationSuccess = (notificationId) => {\n    return {\n        type: actionTypes.DELETE_NOTIFICATION_SUCCESS,\n        notificationId\n    }\n}\n\nexport const deleteNotificationFailed = (notificationId) => {\n    return {\n        type: actionTypes.DELETE_NOTIFICATION_FAILED,\n        notificationId,\n    }\n}\n\n\n//---- SUBSCRIBE EMAIL LIST ------------------------------------------------------\n\nexport const subscribeEmailList = (email) => {\n    return dispatch => {\n        console.log(\"subscribeEmailListStart\");\n        dispatch(subscribeEmailListStart())\n        const url = '/api/users/emaillist'\n        const body = {email: email};\n        const headers = { }\n        axios.post(url, body, headers)\n        .then(res => {\n            dispatch(subscribeEmailListSuccess());\n        }).catch(err => {\n            console.log(err);\n            const message = err.response ? err.response.data ? err.response.data.message ? err.response.data.message : null : null : null;\n            dispatch(subscribeEmailListFailed(message));\n        })\n    }\n}\n\nexport const subscribeEmailListStart = () => {\n    return {\n        type:actionTypes.SUBSCRIBE_EMAIL_LIST_START\n    }\n}\n\nexport const subscribeEmailListSuccess = () => {\n    return {\n        type:actionTypes.SUBSCRIBE_EMAIL_LIST_SUCCESS\n    }\n}\n\nexport const subscribeEmailListFailed = (message) => {\n    return {\n        type:actionTypes.SUBSCRIBE_EMAIL_LIST_FAILED,\n        message\n    }\n}","import React, { Component } from 'react';\nimport classes from './Source.module.css';\n\nclass Source extends Component {\n\n\n    render(){\n        return(\n            <div className={classes.Source}>\n                <p className={classes.Header}>Source:</p>\n                <a  className={classes.Link} \n                    href={this.props.sourceURL}\n                    >\n                    {this.props.sourceURL}\n                </a>\n            </div>\n        )\n    }\n}\n\nexport default Source;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loader from 'react-loader-spinner'\n\nimport * as actions from '../../../../store/actions';\nimport Source from './Source/Source';\nimport classes from './Content.module.css';\n\n\nclass Content extends Component {\n\n    getLoader = () => {\n        if(this.props.position > 2) return null;\n        if(this.props.memeStatus !== 'loaded'){\n            return <Loader className={classes.Spinner} type=\"Puff\" color=\"#00BFFF\" height={50} width={50}/>\n        }\n    }\n \n    render() {\n        const src = this.props.dropId.startsWith('no') \n                    ? `${process.env.REACT_APP_MEME_SOURCE_URL}6022a6fec54847291bdee46c`\n                    : `${process.env.REACT_APP_MEME_SOURCE_URL}${this.props.dropId}`\n        return(\n            <div className={classes.Content}>\n                <div className={classes.ContentContainer}>\n                    {\n                        (this.props.memeStatus === 'loaded' || this.props.currentlyLoadingMemeId === this.props.dropId) && this.props.position < 10 \n                        ? <img \n                            alt={`Meme ${this.props.id}`} \n                            className={classes.Meme} \n                            src={src}\n                            onLoad={() => this.props.onFetchMemeSuccess(this.props.dropId)}/>\n                        : null\n                    }\n                    {this.getLoader()} \n                    {\n                        this.props.source ? \n                        <Source sourceURL={this.props.source} /> \n                        : null\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentlyLoadingMemeId: state.stream.currentlyLoadingMemeId\n    }\n  }\n  \n  const mapDispatchToProps = dispatch => {\n    return {\n        onFetchMemeSuccess: (dropId) => dispatch(actions.fetchMemeSuccess(dropId)),\n    }\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(Content);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport classes from './CommentMenu.module.css';\nimport TrashOpen from './TrashOpen.svg';\nimport TrashClosed from './TrashClosed.svg';\n\nimport * as actions from '../../../../../../store/actions/index';\n\nclass CommentMenu extends Component {\n\n    state ={\n        trashOpen: false,\n        deleteCommentOpen: false\n    }\n\n\n    render() {\n        return(\n            <div className={classes.CommentMenu}>\n                {/* <div className={classes.MenuItem}>screenshot mode </div> */}\n                {/* <div className={classes.Seperator}>|</div>  */}\n                { !this.props.userComment && this.props.token ? <div className={classes.MenuItem}>report</div> : null}\n                { !this.state.deleteCommentOpen \n                    ? this.props.userComment && this.props.token\n                        ? <img \n                            src={this.state.trashOpen ? TrashOpen : TrashClosed} \n                            alt='' \n                            className={classes.Trash}\n                            onMouseOver={() => this.setState({trashOpen: true})} \n                            onMouseOut={() => this.setState({trashOpen: false})}\n                            onClick={() => this.setState({deleteCommentOpen: true})}/>\n                        : null\n                    : null }\n                { this.state.deleteCommentOpen \n                    ? <div className={classes.DeleteDialog}>Delete Comment? \n                        <button className={classes.YesButton} onClick={() => this.props.onDeleteComment(this.props.dropId, this.props.commentId)}>yes</button>\n                        <button className={classes.NoButton} onClick={() => this.setState({deleteCommentOpen: false})}>no</button>\n                      </div>\n                    : null }\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.user.token,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onDeleteComment: (dropId, commentId) => dispatch(actions.deleteComment(dropId, commentId)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentMenu);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nimport classes from './Voting.module.css';\nimport * as actions from '../../../../../../store/actions/index';\n\n\nclass Voting extends Component {\n\n    constructor(props) {\n        super();\n        this.state = {\n            didUpvote: props.upvoted,\n            didDownvote: props.downvoted,\n            points: props.points\n        }\n    }\n\n    getArrow = (up, glow) => {\n        return(\n            <svg \n                className={`${up ? classes.up : classes.down} ${glow ? classes.glow : null}`} \n                onClick={up ? this.upvote : this.downvote} \n                width=\"60\" height=\"14\" viewBox=\"0 0 60 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M28.036 1.70084C29.1634 0.724555 30.8366 0.724556 31.964 1.70084L58.5583 24.7322C60.658 26.5506 59.372 30 56.5943 30H3.40566C0.628007 30 -0.658012 26.5506 1.4417 24.7322L28.036 1.70084Z\" \n                    fill={`${glow ? '#ffffff' : '#bbbbbb'}`}/>\n            </svg>\n        )\n    }\n\n\n    upvote = (event) => {\n        event.stopPropagation();\n        if(this.props.token){\n            if(!this.state.didUpvote){\n                let newState;\n                const route = this.props.path ? `/api/comment/${this.props.commentId}/voteSub` : `/api/comment/${this.props.commentId}/vote`\n                const body = this.props.path ? {vote: 'up', voterId: this.props.userId, path: this.props.path } : { vote: 'up' }\n                const headers = this.props.token ? { headers: { authorization: `Bearer ${this.props.token}` } } : null \n                axios.post(\n                    route, \n                    body,\n                    headers\n                ).then().catch(console.log);\n                if(this.state.didDownvote){ // Up:0 down:1\n                    newState = { didUpvote:true, didDownvote:false, points:this.state.points+2 }\n                } else {                    // Up:0 down:0\n                    newState = { didUpvote:true, didDownvote:false, points:this.state.points+1 }\n                }\n                this.setState(newState);\n            } \n        } else {\n            this.props.onOpenMenu(\"Create an Account to upvote Comments\");\n        }\n\n        // nothing should happen otherwise; either already upvoted or both are true (should not happen)\n    }\n\n    downvote = (event) => {\n        event.stopPropagation();\n        if(this.props.token){\n            if(!this.state.didDownvote){\n                const route = this.props.path ? `/api/comment/${this.props.commentId}/voteSub` : `/api/comment/${this.props.commentId}/vote`\n                const body = this.props.path ? {vote: 'down', voterId: this.props.userId, path: this.props.path } : { vote: 'down'}\n                const headers = this.props.token ? { headers: { authorization: `Bearer ${this.props.token}` } } : null \n                axios.post(\n                    route, \n                    body,\n                    headers\n                ).then().catch(console.log);\n                if(this.state.didUpvote){ // Up:1 down:0\n                    this.setState({ didDownvote:true, didUpvote:false, points:this.state.points-2 });\n                } else {                    // Up:0 down:0\n                    this.setState({ didDownvote:true, didUpvote:false, points:this.state.points-1 }); \n                }\n            }\n        } else {\n            this.props.onOpenMenu();\n        }\n        // nothing should happen otherwise; either already downvoted or both are true (should not happen)\n    }\n\n    unvote = (event) => {\n        event.stopPropagation();\n        if(!this.props.token){\n            this.props.onOpenMenu();\n        } else if(this.state.didDownvote || this.state.didUpvote){\n            const route = this.props.path ? `/api/comment/${this.props.commentId}/voteSub` : `/api/comment/${this.props.commentId}/vote`\n            const body = this.props.path ? {vote: 'neutral', voterId: this.props.userId, path: this.props.path } : { vote: 'neutral' }\n            const headers = this.props.token ? { headers: { authorization: `Bearer ${this.props.token}` } } : null \n            axios.post(\n                route, \n                body,\n                headers\n            ).then().catch(console.log);\n\n            if(this.state.didDownvote){\n                this.setState({ didDownvote:false, didUpvote:false, points:this.state.points+1})\n            } else if(this.state.didUpvote){\n                this.setState({ didDownvote:false, didUpvote:false, points:this.state.points-1});\n            } \n        }\n    }\n    \n    //transforms the exact number of up/downvotes to a more presentable String \n    getCountString = number => {\n        if(number >= 100000000){\n            return `${Math.floor(number/1000000)}M`\n        } else if(number >= 1000000){\n            const firstDigit = Math.floor(number/1000000);\n            const secondDigit = Math.floor((number-firstDigit*1000000)/100000);\n            return `${firstDigit}.${secondDigit}M`;\n        } else if(number >=100000) {\n            return `${Math.floor(number/1000)}K`;\n        } else if(number >= 1000){\n            const firstDigit = Math.floor(number/1000);\n            const secondDigit = Math.floor((number-firstDigit*1000)/100);\n            return `${firstDigit}.${secondDigit}K`;\n        }\n        return `${number}`\n    }\n\n    render(){\n        \n\n        return(\n            <div className={classes.voting}>\n                {this.getArrow(true, this.state.didUpvote)}\n                <div \n                    className={classes.points}\n                    title={`${this.state.points} points`}\n                    onClick={this.unvote}\n                >\n                    {this.getCountString(this.state.points)}\n                </div>\n                {this.getArrow(false, this.state.didDownvote)}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      darkmode: state.ui.darkmode,\n      token: state.user.token,\n      userId: state.user.userId\n    }\n  }\n  \n  const mapDispatchToProps = dispatch => {\n    return {\n        onOpenMenu: () => dispatch(actions.openMenu()),\n    }\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(Voting);","import React, { Component } from 'react';\nimport { connect } from 'react-redux'; \nimport classes from './AuthorPic.module.css';\nimport DefaultPic from '../../../../../media/DefaultProfilePic.png';\n\nclass AuthorPic extends Component {\n\n\n    render(){\n        let profilePicSrc = DefaultPic;\n        if(this.props.authorId && this.props.authorId === this.props.selfId){\n            if(this.props.profilePicSrc){\n                profilePicSrc = this.props.profilePicSrc;\n            }else {\n                if(this.props.token && this.props.hasProfilePic){\n                    profilePicSrc = `${process.env.REACT_APP_PROFILE_PICTURES_SOURCE_URL}` + this.props.selfId; \n                }\n            }\n        }\n        return (\n            <img \n                src={profilePicSrc} \n                className={classes.AuthorPic} \n                style={{left: `${this.props.depth*this.props.indent}px`}}\n                alt=' '/>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        hasProfilePic: state.user.hasProfilePic,\n        selfId: state.user.userId,\n        token: state.user.token,\n\n    }\n}\n\nexport default connect(mapStateToProps, null)(AuthorPic);","import React from 'react';\n\nimport classes from './Backdrop.module.css';\n\nconst backdrop = (props) => (\n        <div \n            style={props.zIndex ? {zIndex: `${props.zIndex}`} : null }\n            className={classes.Backdrop} \n            onClick={props.clicked}\n        ></div> \n);\n\nexport default backdrop;","import React, { Component } from 'react';\n\nimport classes from './Branches.module.css';\n\nconst INDENT = 17;\n\nconst HIDDENCOLOR = '#333333';\n\n\nclass Branches extends Component {\n\n\n    getRoot = (i) => {\n        let styles = { left: `${11 + this.props.treeString.length * INDENT}px` }\n        return(\n        <svg className={classes.Root} style={styles} width={\"2px\"} height={`${this.props.height}px`} viewBox={`0 0 2 ${this.props.height}`} fill=\"#abcdef\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d={`M0 0H2V${this.props.height}H0V0Z`} fill={`${i >= this.props.hideBranches ? HIDDENCOLOR : '#ffffff'}`} />\n        </svg>\n        )\n    }\n\n    getL = (i) => {\n        return(\n            <svg style={this.generateBoneStyles(i + 1, \"L\")} key={`${i}L`} width=\"6\" height=\"4\" viewBox=\"0 0 6 4\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M0 0H2V1V1C2 1.55228 2.44772 2 3 2V2H6V4H2C0.89543 4 0 3.10457 0 2V0Z\" fill={`${i >= this.props.hideBranches ? '#ffffff' : HIDDENCOLOR}`}/>\n            </svg>\n        )\n    }\n\n    getC = (i) => {\n        return(\n            <svg style={this.generateBoneStyles(i + 1, \"connector\")} key={`${i}-connector`} width=\"4\" height=\"2\" viewBox=\"0 0 4 2\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M0 0H4V2H0V0Z\" fill={`${i >= this.props.hideBranches ? '#ffffff' : HIDDENCOLOR}`}/>\n            </svg>\n        )\n        \n    }\n\n    generateLine = (depth, type) => {\n        let height = 0;\n        switch (type) {\n            case \"I\": height = this.props.height + 22; break;\n            case \"IL\": height = 53; break;\n            case \"start\": height = this.props.height; break;\n            default: console.log(\"DIESE NACHRICHT SOLLE NIE KOMMEN\");\n        }\n        return (\n            <svg\n            key={depth}\n            style={this.generateBoneStyles(depth, type)}\n            width={\"2px\"}\n            height={`${height}px`}\n            viewBox={`0 0 2 ${height}`}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            >\n                <path d={`M0 0H2V${height}H0V0Z`} fill={`${depth >= this.props.hideBranches ? '#ffffff' : HIDDENCOLOR}`} />\n            </svg>\n        );\n    };\n\n\n    generateBones = boneComponents => {\n        let bones = [];\n        //Generate Bone Components\n        for (let i = 0; i < boneComponents.length; i++) {\n            switch (boneComponents[i]) {\n            case \" \": break;\n            case \"I\": bones.push(this.generateLine(i, \"I\")); break;\n            case \"T\": bones.push(this.generateLine(i, \"I\"));\n                      bones.push(this.getC(i));break;\n            case \"L\": bones.push(this.generateLine(i, \"IL\"));\n                      bones.push(this.getL(i));\n                      let pathArr = this.props.path.split(\"/\");\n                      pathArr.pop();\n                      break;\n            default: console.log(\"ERROR: unwanted Character in BuildBone\");\n            }\n        }\n        return bones;\n    };\n\n\n\n    generateBoneStyles = (depth, type) => {\n        let styles = {\n            top: \"-42px\",\n            position: \"absolute\",\n        };\n        switch (type) {\n            case \"start\": styles.top = \"25px\";\n                        styles.left = `${11 + INDENT * depth}px`;break;\n            case \"I\":\n            case \"IL\": styles.left = `${11 + INDENT * depth}px`; break;\n            case \"L\": styles.left = `${INDENT * depth - 6}px`; styles.top = \"9px\"; break;\n            case \"connector\": styles.left = `${INDENT * depth - 4}px`; styles.top = \"12px\"; break;\n            default: console.log(\"Switch case ERROR\");\n        }\n        return styles;\n    };\n\n\n\n\n    render() {\n        return (\n            <div className={classes.branches}>\n                {this.generateBones(this.props.treeString)}\n                {this.props.root ? this.getRoot(this.props.depth) : null}\n            </div>\n        )\n    }\n}\n\nexport default Branches;","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport CommentMenu from '../../CommentMenu/CommentMenu';\nimport Voting from \"../../Voting/Voting\";\nimport AuthorPic from \"../../../AuthorPic/AuthorPic\";\nimport Backdrop from '../../../../../../UI/Backdrop/Backdrop';\nimport Branches from '../../Branches/Branches';\nimport * as streamActions from '../../../../../../../store/actions/index';\n\nimport classes from \"./SubComment.module.css\";\n\nconst INDENT = 17;\nconst COLOR_COMMENT_BACKGROUND = 'rgba(0, 2, 10, 0.6)';\nconst COLOR_COMMENT_SELECTED = 'rgba(87, 122, 161, 0.6)'\n\n\nclass SubComment extends Component {\n  \n  state = {\n    height: 0\n  }\n\n  componentDidMount() {\n    const height = this.divElement.clientHeight;\n    this.setState({ height });\n  }\n  \n  componentDidUpdate() {\n    const height = this.divElement.clientHeight;\n    if(this.state.height !== height){\n      this.setState({ height });\n    }\n  }\n\n  getRoot = () => {\n    if (this.props.comment.subComments && this.props.comment.subComments.length > 0)\n    return(\n    <svg\n      key={1001}\n      className={classes.Root}\n      width={\"2px\"}\n      height={`${this.state.height}px`}\n      viewBox={`0 0 2 ${this.state.height}`}\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d={`M0 0H20V${this.state.height}H0V0Z`} fill=\"green\" />\n    </svg>\n    )\n  };\n\n  getSpeechBubbleArrow = (selected, parentSelected, sending) => {\n    const color = selected || parentSelected ? COLOR_COMMENT_SELECTED : sending ? 'rgba(255,255,255,0.5)' : COLOR_COMMENT_BACKGROUND\n    return (\n      <svg className={classes.SpeechBubbleArrow} width=\"18\" height=\"28\" viewBox=\"0 0 18 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M17.1946 1.09753C15.127 2.89687 11.5635 5.9083 8 8.49986C5.64212 10.2146 7.62939e-06 9.99998 7.62939e-06 9.99998C7.62939e-06 9.99998 6.54393 10.8743 9.5 13.4999C13.3722 16.9392 13.9978 25.9679 14 25.9998L14 10C14 6.61858 15.1988 3.51715 17.1946 1.09753Z\" \n              fill= {color}/>\n      </svg>\n    )\n  }\n\n  clicked = (sending, selected) => {\n    if(sending){\n      return () => {console.log('Comment still sending; cant select yet')}\n    } else if(selected){\n      return this.props.onUnselectComment\n    } else {\n      return () => this.props.onSelectSubComment(this.props.commentId, this.props.path)\n    }\n  }\n\n\n  render() {\n\n    const selected = this.props.selectedComment === this.props.path;\n    const sending = this.props.sending.some(s => s.dropId === this.props.dropId && s.path === this.props.path)\n    const parentSelected = this.props.path.startsWith(this.props.selectedComment);\n    let backgroundStyleClasses = [classes.CommentBackground]\n    if(sending) backgroundStyleClasses.push(classes.sending);\n    if(selected || parentSelected) backgroundStyleClasses.push() \n\n    const commentStyle = { paddingLeft: `${this.props.depth * INDENT}px` };\n    const contentStyle = { left: `${this.props.depth * INDENT + 40}px`, maxWidth: `${545 - INDENT * this.props.depth}px`};\n\n    const hiddenBranches = parentSelected ? this.props.selectedComment.split('/').length -1 : selected ? this.props.depth : null;\n\n    return (\n      <div className={`${classes.CommentContainer} ${parentSelected || selected ? classes.selected : null}`}>\n        {selected ? <Backdrop clicked={ this.props.onUnselectComment }/> : null }\n        {selected ? <CommentMenu token={this.props.token} userComment={this.props.authorId === this.props.userId}/> : null}\n        <div className={classes.Comment} style={commentStyle}>\n          <AuthorPic depth={this.props.depth} indent={INDENT} authorId={this.props.authorId}/>\n          <div \n            className={backgroundStyleClasses.join(' ')} \n            ref={divElement => (this.divElement = divElement)}\n            onClick={this.clicked(sending, selected)}>\n            <Voting \n              upvoted={this.props.upVoted}\n              downvoted={this.props.downVoted}\n              points={this.props.points} \n              commentId={this.props.commentId}\n              path={this.props.path}/>\n            <div className={classes.SelectClickTarget} onClick={this.select}>\n              <span className={classes.actualComment} style={contentStyle}>\n                {this.props.actualComment}\n              </span>\n              {this.getSpeechBubbleArrow(selected, parentSelected, sending)}\n            </div>\n          </div>\n        </div>\n        <Branches \n          hideBranches={ hiddenBranches }\n          treeString={ this.props.treeString }\n          height={ this.state.height }\n          root={ selected || (this.props.subComments && this.props.subComments.length > 0) }\n          path={ this.props.path }\n          selected={ selected }\n        />\n          {/* {this.createSubComments(nextTreeString, depth)} */}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    selectedComment: state.stream.selectedComment,\n    sending: state.stream.sending,\n    token: state.user.token, \n    userId: state.user.userId\n  }\n}\n\nconst mapDispatchToProps = dispatch => { \n  return {\n    onSelectSubComment: (commentId, path) => dispatch(streamActions.selectSubComment(commentId, path)),\n    onUnselectComment: () => dispatch(streamActions.unSelectComment())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SubComment);\n","import React, { Component } from 'react'\nimport classes from './NeumorphismButton.module.css';\n\nclass NeumorphismButton extends Component {\n\n\n    render(){\n        let styleClasses = [classes.Button];\n        if(this.props.buttonType){\n            switch(this.props.buttonType) {\n                case 'SubmitComment': styleClasses.push(classes.SubmitComment); break;\n                // case 'PrimaryButton': styleClasses.push(classes.PrimaryButton); break;\n                default: console.log('no type given');\n            }\n        }\n        if(this.props.disabled) styleClasses.push(classes.Disabled);\n        if(this.props.colorTheme === 'light') styleClasses.push(classes.Light);\n        if(this.props.colorTheme === 'dark') styleClasses.push(classes.Dark);\n        return(\n            <button \n                onClick={this.props.clicked} \n                className={styleClasses.join(' ')}\n                disabled={this.props.disabled}>\n                {this.props.children}\n            </button>\n        )\n    }\n}\n\nexport default NeumorphismButton;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport * as streamActions from '../../../../../store/actions/index';\nimport classes from './CommentForm.module.css';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport AuthorPic from '../AuthorPic/AuthorPic';\n\nimport NeumorphismButton from '../../../../UI/NeumorphismButton/NeumorphismButton';\nimport Branches from '../Comment/Branches/Branches';\n\nconst INDENT = 17;\n\n\nclass CommentForm extends Component {\n\n    state = {\n        textareaValue: '',\n        disabled: true\n    }\n\n    inputChangedHandler = (event) => {\n        const newValue = event.target.value; \n        const disabled = newValue.trim() === '' || this.props.streamElements[0].id.startsWith(\"no more\");\n        this.setState({textareaValue: newValue, disabled: disabled});\n    }\n\n    submitHandler = (event) => {\n        event.preventDefault();\n        if(!this.props.token){\n            this.props.onOpenMenu();\n        } else {\n            this.setState({textareaValue: '', disabled: true});\n\n            if(!this.props.subComment) {\n                const newComment = {\n                    id: `${Date.now()}`,\n                    comment: this.state.textareaValue, \n                    authorId: this.props.userId, \n                    posted: new Date(), \n                    points: 0,\n                    subComments: [],\n                    path: '0'\n                }\n                this.props.onSendComment(this.props.dropId, newComment, this.props.token);\n            } else {\n                const newSubComment = {\n                    id: `${Date.now()}`,\n                    author: this.props.userId, \n                    points: 0, \n                    subComments: [],\n                    comment: this.state.textareaValue, \n                    parentPath: this.props.selectedComment\n                }\n                this.props.onSendSubComment(this.props.dropId, newSubComment, this.props.token )\n            }\n        }\n    }\n\n    getSpeechBubbleArrow() {\n        return(\n            <svg className={classes.SpeechBubbleArrow} width=\"18\" height=\"28\" viewBox=\"0 0 18 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M17.1946 1.09753C15.127 2.89687 11.5635 5.9083 8 8.49986C5.64212 10.2146 7.62939e-06 9.99998 7.62939e-06 9.99998C7.62939e-06 9.99998 6.54393 10.8743 9.5 13.4999C13.3722 16.9392 13.9978 25.9679 14 25.9998L14 10C14 6.61858 15.1988 3.51715 17.1946 1.09753Z\" fill= '#eeeeee'/>\n            </svg>\n        )\n    }\n\n    getArrowRight(){\n        return(\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g id=\"arrow_forward_24px\">\n                <path id=\"icon/navigation/arrow_forward_24px\" d=\"M12 4L10.59 5.41L16.17 11H4V13H16.17L10.59 18.59L12 20L20 12L12 4Z\" fill={this.state.disabled ? 'grey' : 'black'} fillOpacity=\"0.54\"/>\n                </g>\n            </svg>\n        )\n    }\n\n    getBranches = (depth, treeString) => {\n        if(!this.props.path) return null\n        return <Branches hideBranches={depth-1} treeString={treeString} height={61} path={this.props.path}/>\n    }\n\n    render(){\n        const depth = this.props.path ? this.props.path.split(\"/\").length : 0;\n        const commentInputStyles = { paddingLeft: `${depth * INDENT}px` };\n        const contentStyle = { left: `${(depth+1) * INDENT + 40}px`};\n        const treeString = this.props.treeString ? [...this.props.treeString.slice(1), 'L'] : ['L']\n\n        return(\n            <div className={classes.CommentForm}\n                style={this.props.path ? {zIndex: '200'} : null}>\n                <div className={classes.CommentInput} style={commentInputStyles}>\n                    <AuthorPic depth={depth} indent={INDENT} authorId={this.props.userId}/>\n                    <div className={classes.CommentInputBackground}>\n                        <div className={classes.actualCommentForm} style={contentStyle}>\n                            <TextareaAutosize \n                                className={classes.TextArea}\n                                onChange={this.inputChangedHandler} \n                                value={this.state.textareaValue}\n                                placeholder={this.props.path ? 'Write a response...' : 'Write a comment...'}/>\n                            <NeumorphismButton\n                                className={classes.SubmitButton} \n                                colorTheme='light'\n                                buttonType='SubmitComment'\n                                clicked={this.submitHandler} \n                                disabled={this.state.disabled} \n                                type='submit'>\n                                    {this.getArrowRight()}\n                            </NeumorphismButton>                            \n                            {this.getSpeechBubbleArrow()}\n                        </div>\n                    </div>\n                </div>\n                {this.getBranches(depth, treeString)}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        selectedComment: state.stream.selectedComment,\n        token: state.user.token,\n        userId: state.user.userId, \n        streamElements: state.stream.streamElements, \n    }\n}\n  \nconst mapDispatchToProps = dispatch => {\n    return {\n        onOpenMenu: () => dispatch(streamActions.openMenu()),\n        onSendComment: (dropId, comment, token) => dispatch(streamActions.sendComment(dropId, comment, token)),\n        onSendSubComment: (dropId, subComment, token) => dispatch(streamActions.sendSubComment(dropId, subComment, token)),    \n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentForm);","import React, { Component } from 'react';\n\nimport SubComment from './SubComment/SubComment';\nimport CommentForm from '../../CommentForm/CommentForm';\n\nclass SubCommentWrapper extends Component {\n\n    createSubComments = (nextTreeString, depth, selected) => {\n        const subComments = this.props.subComments.map((s, i) => {\n          const lastProp = selected ? false : i === this.props.subComments.length - 1 ? true : false;\n          return(\n            <SubCommentWrapper\n              {...s}\n              tree={nextTreeString}\n              last={lastProp}\n              depth={depth+1}\n              key={i}\n              dropId={this.props.dropId}\n              selectedCommentPath={this.props.selectedCommentPath}\n              actualComment={s.comment}\n              subComments={s.subComments}\n              commentId={this.props.commentId}\n              selected={selected}\n            />\n          )\n        })\n        return subComments;\n    };\n\n    render(){\n\n        const depth = this.props.path.split(\"/\").length - 1;\n        const selected = this.props.selectedCommentPath === this.props.path;\n        /////////////////////////////  tree algorithm // DO NOT FUCKING TOUCH   /////////////////////////////\n        let inheritance = this.props.tree ? this.props.tree : [];\n        let thisTreeString = this.props.last === true ? [...inheritance, \"L\"].slice(1) : [...inheritance, \"T\"].slice(1);\n        !this.props.selected && this.props.last === true && depth > 1 ? [...inheritance, \"L\"].slice(1) : [...inheritance, \"T\"].slice(1);\n        let nextTreeString = this.props.last === true ? [...inheritance, \" \"] : [...inheritance, \"I\"];\n        /////////////////////////////////////////////////////////////////////////////////////////////////////\n        \n        return (\n            <div className=\"SubCommentWrapper\">\n                <SubComment {...this.props} treeString={thisTreeString}/>\n                { this.createSubComments(nextTreeString, depth, selected)  }\n                {\n                  selected ? \n                  <CommentForm\n                    subComment\n                    dropId={this.props.dropId}\n                    path={this.props.path}\n                    treeString={nextTreeString}/> \n                  : null \n                }\n            </div>\n        )\n    }\n}\n\nexport default SubCommentWrapper;","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport SubCommentWrapper from './SubCommentWrapper/SubCommentWrapper';\nimport Voting from \"./Voting/Voting\";\nimport AuthorPic from \"../AuthorPic/AuthorPic\";\nimport Backdrop from '../../../../UI/Backdrop/Backdrop';\nimport CommentForm from '../CommentForm/CommentForm';\nimport CommentMenu from './CommentMenu/CommentMenu';\nimport * as streamActions from '../../../../../store/actions/index';\n\nimport classes from \"./Comment.module.css\";\n\n//import content from './Comment.js';\n\nexport const COLOR_COMMENT_BACKGROUND = 'rgba(0, 2, 10, 0.6)';\nexport const COLOR_COMMENT_BACKGORUND_HIGHLIGHTED = 'rgba(100, 0, 0, 0.6)';\nconst COLOR_COMMENT_SELECTED = 'rgba(87, 122, 161, 0.6)'\n\n\nclass Comment extends Component {\n  \n  state = {\n    height: 0\n  }\n\n  componentDidMount() {\n    const height = this.divElement.clientHeight;\n    this.setState({ height });\n  }\n  \n  componentDidUpdate() {\n    const height = this.divElement.clientHeight;\n    if(this.state.height !== height){\n      this.setState({ height });\n    }\n  }\n\n  getRoot(selected) {\n      if((this.props.comment.subComments && this.props.comment.subComments.length > 0) || selected){\n        return (\n          <svg \n            key={1000} \n            className={classes.Root} \n            width={\"2px\"} \n            height={`${this.state.height}px`} \n            viewBox={`0 0 2 ${this.state.height}`} \n            fill=\"none\" \n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path d={`M0 0H2V${this.state.height}H0V0Z`} fill=\"#ffffff\" />\n          </svg>\n        )\n       } else {\n         return null\n       } \n  }\n\n  createSubComments = (selected) => {\n      const subComments = this.props.comment.subComments.map((s, i) => {\n        const lastProp = i === this.props.comment.subComments.length - 1 && !selected ? true : false;\n        return(\n          <SubCommentWrapper\n            {...s}\n            parentSelected={selected}\n            tree={['I']}\n            last={lastProp}\n            depth={1}\n            key={i}\n            dropId={this.props.dropId}\n            selectedCommentPath={this.props.selectedComment}\n            commentId={this.props.comment.id}\n            actualComment={s.comment}\n            subComments={s.subComments}\n          />\n        )\n      })\n    return subComments;\n  };\n\n  getSpeechBubbleArrow = (selected, sending) => {\n    const color = selected ? COLOR_COMMENT_SELECTED : sending ? 'rgba(255,255,255,0.5)' : COLOR_COMMENT_BACKGROUND\n    return (\n      <svg className={classes.SpeechBubbleArrow} width=\"18\" height=\"28\" viewBox=\"0 0 18 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M17.1946 1.09753C15.127 2.89687 11.5635 5.9083 8 8.49986C5.64212 10.2146 7.62939e-06 9.99998 7.62939e-06 9.99998C7.62939e-06 9.99998 6.54393 10.8743 9.5 13.4999C13.3722 16.9392 13.9978 25.9679 14 25.9998L14 10C14 6.61858 15.1988 3.51715 17.1946 1.09753Z\" \n              fill= {color}/>\n      </svg>\n    )\n  }\n\n  clicked = (sending, selected) => {\n    if(sending){\n      return () => {console.log('Comment still sending; cant select yet')}\n    } else if(selected){\n      return this.props.onUnselectComment\n    }else if(!sending){\n      return () => this.props.onSelectComment(this.props.id, '/')\n    }\n  }\n\n\n  render() {\n    let backgroundStyleClasses = [classes.CommentBackground]\n    const selected = this.props.selectedComment === this.props.id\n    const sending = this.props.sending.some(c => c.randId === this.props.id); \n    if(sending) backgroundStyleClasses.push(classes.sending);\n    if(selected) backgroundStyleClasses.push(classes.selected);\n      return (\n      <div className={classes.CommentContainer}>\n        {selected ? <Backdrop zIndex={100} clicked={this.props.onUnselectComment}/> : null}\n        {selected ? <CommentMenu dropId={this.props.dropId} commentId={this.props.id} userComment={this.props.authorId === this.props.userId}/> : null}\n        <div className={`${classes.Comment} ${selected ? classes.selected : null}`}>\n          <AuthorPic depth={0} indent={0} neuMorphism={this.props.neuMorphism} authorId={this.props.authorId}/>\n          <div \n            className={backgroundStyleClasses.join(' ')}\n            onClick={this.clicked(sending, selected)}\n            ref={divElement => (this.divElement = divElement)}>\n            <Voting \n              upvoted={this.props.upVoted}\n              downvoted={this.props.downVoted}\n              commentId={this.props.id}\n              points={this.props.points} />\n            <div className={classes.SelectClickTarget}>\n              <span className={classes.actualComment}>\n                {this.props.comment.comment}\n              </span>\n              {this.getSpeechBubbleArrow(selected, sending)}\n            </div>\n          </div>\n          {this.getRoot(selected)}\n        </div>\n\n        {this.props.comment.subComments ? this.createSubComments(selected) : null}\n        {selected ? \n          <CommentForm \n            dropId={this.props.dropId}\n            subComment={true}\n            path={this.props.id}\n            treeString={this.props.subComments.length > 0 ? [] : null}/> \n          : null\n        }\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    selectedComment: state.stream.selectedComment,\n    sending: state.stream.sending,\n    userId: state.user.userId,\n    token: state.user.token\n  }\n}\n\nconst mapDispatchToProps = dispatch => { \n  return {\n    onSelectComment: (commentId, path) => dispatch(streamActions.selectComment(commentId, path)),\n    onUnselectComment: () => dispatch(streamActions.unSelectComment())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Comment);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loader from 'react-loader-spinner'\n\nimport * as actions from '../../../../store/actions/index';\n\nimport classes from './CommentSection.module.css';\nimport Comment from './Comment/Comment';\nimport CommentForm from './CommentForm/CommentForm';\n\n\n\n\nclass CommentSection extends Component {\n\n\n    componentDidUpdate = () => {\n    }\n\n    getComments = () => {\n        return this.props.comments.map(x => {\n            return(\n                <Comment \n                    {...x}\n                    key={x.id} \n                    comment={x} \n                    dropId={this.props.dropId} \n                />\n            )\n        })\n    }\n\n    getLoader = () => {\n        return(\n            <Loader \n                className={classes.Spinner} \n                type=\"ThreeDots\" \n                color=\"#00BFFF\" \n                height={30} \n                width={30}\n            />\n        )\n    }\n\n    render(){\n        if(this.props.position !== 1) return <div className={classes.hidden}></div>\n        return(\n            <div \n                style={{width: this.props.windowWidth/2 - 350}}\n                className={classes.CommentSection} \n                onMouseEnter={() => this.props.onSetMouseOverComments(true)} \n                onMouseLeave={() => this.props.onSetMouseOverComments(false)}\n                tabIndex='0'>\n                <CommentForm dropId={this.props.dropId} />\n                <div className={classes.comments}>\n                    { this.props.commentStatus === 'not loaded' ? this.getLoader() : this.getComments()}\n                </div>\n            </div>    \n        )\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onSetMouseOverComments: (overComments) => dispatch(actions.setMouseOverComments(overComments)),\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      darkmode: state.ui.darkmode, \n      windowWidth: state.ui.windowWidth,\n    }\n}\n  \n  \nexport default connect(mapStateToProps, mapDispatchToProps)(CommentSection);","import React, { Component } from \"react\";\nimport classes from \"./PrimaryButton.module.css\";\n\nclass PrimaryButton extends Component {\n  render() {\n    let buttonClasses = [classes.PrimaryButton];\n    if (this.props.theme) {\n      buttonClasses.push(classes.PrimaryButtonNeumorphism);\n    } else {\n      buttonClasses.push(classes.PrimaryButtonFlat);\n    }\n    if(this.props.disabled){\n      buttonClasses.push(classes.Disabled);\n    }\n\n    return (\n      <button className={buttonClasses.join(\" \")} onClick={this.props.disabled ? null : this.props.clicked}>\n        {this.props.children}\n      </button>\n    );\n  }\n}\nexport default PrimaryButton;\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../../store/actions/index';\nimport classes from \"./StreamElement.module.css\";\n\nimport Content from \"./Content/Content\";\nimport CommentSection from \"./CommentSection/CommentSection\";\nimport PrimaryButton from \"../../UI/PrimaryButton/PrimaryButton\";\n\n// import LogoForButton from '../../../media/LogoForButton.png';\n\nconst NEUMORPHISM = false;\n\n// const R = 200; //Distance eye to projection\n// const Y = 150; //vertical position of th object\n// const B = 1100; //width of the object\n// const X = 100; //Distance projection to element\n\nclass StreamElement extends Component {\n\n  componentDidUpdate = () => {\n    if(this.props.streamStatus === 'drops loaded' && this.props.dropStatus === 'not loaded' && this.props.id.length > 2){\n      this.props.onFetchDrop(this.props.id);\n    }\n  }\n\n  calcStyles2(pos) {\n    const transY = (pos - 1) * -2;\n    const transZ = (pos - 1) * -4;\n    const styles = {};\n    if (this.props.show === \"hidden\") {\n      styles.transform = `translate3d(0,100vh,0)`;\n    } else {\n      styles.transform = `translate3d( 0, ${transY}px, ${transZ}px)`;\n      styles.WebkitTransform = `translate3d( 0, ${transY}px, ${transZ}px)`;\n    }\n    return styles;\n  }\n\n  PrimaryButtonClicked = () => {\n    if(!this.props.token){\n      this.props.onOpenMenu('Create an Account and directly share Memes with friends here!');\n    } else {\n      this.props.onOpenDropModal();\n    }\n  }\n\n  render() {\n    let droppedToYouBy = [];\n\n    let cssClasses = [classes.StreamElement];\n\n    if (this.props.show === \"show\") cssClasses.push(classes.ShowDrop);\n    if (this.props.show === \"right\") cssClasses.push(classes.FadedRight);\n    if (this.props.show === \"left\")  cssClasses.push(classes.FadedLeft);\n    if (this.props.position === 1) {\n      if(this.props.halfLeft) cssClasses.push(classes.HalfLeft);\n      if(this.props.halfRight) cssClasses.push(classes.HalfRight);\n    }\n    cssClasses.push(this.props.darkmode ? classes.Dark : classes.Light)\n    \n    return (\n      <div\n        tabIndex=\"0\"\n        className={cssClasses.join(\" \")}\n        style={this.calcStyles2(this.props.position)}>\n        {droppedToYouBy}\n        {this.props.title ? <h3 className={classes.title}>{this.props.title}</h3>: null }\n        <CommentSection \n          position={this.props.position}\n          dropId={this.props.id} \n          comments={this.props.comments} \n          dropLoaded={this.props.status === 'drop loaded'}\n          commentStatus={this.props.dropStatus}/>  \n        <div className={classes.contentContainer}>\n          <Content \n            data={this.props.data}\n            position={this.props.position} \n            dropId={this.props.id} \n            status={this.props.status} \n            source={this.props.source}\n            memeStatus={this.props.memeStatus}/>\n          <PrimaryButton \n            theme={NEUMORPHISM} \n            clicked={this.PrimaryButtonClicked} \n            disabled={this.props.id.length < 4 || this.props.id.startsWith('no more')}>\n            <h3 className={classes.DROP}>Drop</h3>\n          </PrimaryButton>\n        </div>    \n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    darkmode: state.ui.darkmode,\n    token: state.user.token,\n    streamStatus: state.stream.streamStatus\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onOpenMenu: (authReason) => dispatch(actions.openMenu(authReason)),\n    onOpenDropModal: () => dispatch(actions.openDropModal()),\n    onFetchDrop: (dropId, token) => dispatch(actions.fetchDrop(dropId, token)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StreamElement);\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as streamActions from '../../store/actions/index';\n\nimport StreamElement from \"./StreamElement/StreamElement\";\nimport classes from \"./Stream.module.css\";\nimport RiverWhite from \"../../SVGs/RiverWhite.svg\";\nimport River from \"../../SVGs/river.svg\"\nimport RiverGlow from \"../../SVGs/RiverGlow.svg\";\nimport Boat from \"../../media/Boat.png\";\n\nclass Stream extends Component {\n\n  state = {\n    deltaYLastWheelEvent: 0,\n    wtfOpen: false,\n    \n  }\n\n  componentDidMount() {\n    document.addEventListener(\"keyup\", this.keyboardSwipeHandler, false);\n    document.addEventListener(\"wheel\", this.scrollHandler)\n  }\n\n  componentDidUpdate() {\n    if(this.props.streamStatus === 'nothing loaded'){\n      this.props.onFetchIds();\n    }\n  }\n\n  drop = (msg) => {\n    this.props.send(msg);\n    this.setState({\n      currentlyDropping: false,\n    });\n  };\n\n  //onKeyPrev\n  keyboardSwipeHandler = (event) => {\n    if (event.keyCode === 38) {\n      this.props.onScrollNext(this.props.streamElements[1].id, this.props.anonymousId)\n    } \n    if (event.keyCode === 40) {\n      this.props.onScrollNext(this.props.streamElements[1].id, this.props.anonymousId);\n    }\n  };\n\n  scrollHandler = (event) => {\n    if(// this.props.streamElements[1].memeStatus === 'loaded' &&\n       // this.props.streamElements[1].status === 'id loaded' && \n       !this.props.mouseOverComments &&\n       this.props.currentTab === 'stream' &&\n       !this.props.menuOpen){\n        // detect if user actually scrolled again or just scroll acceleration \n        // deltaY gets closer to 0 while decelerating (but with small hickups here and there -> tolerance of 20)\n        // when the last scroll event was longer than 0.2s ago and the delta is bigger, a new scroll must have happened\n        if(Math.abs(this.state.deltaYLastWheelEvent) - 20 > Math.abs(event.deltaY) \n           && Date.now() - this.props.timeStampLastScroll > 250){\n            console.log(\"DETECT SCROLL\")\n          // scroll up or down? \n          if(event.deltaY < 0){ \n            this.props.onScrollNext(this.props.streamElements[1].id, this.props.anonymousId);\n          }else{\n            this.props.onScrollNext(this.props.streamElements[1].id, this.props.anonymousId);\n          }\n        }\n      this.setState({deltaYLastWheelEvent: event.deltaY});\n    }\n  }\n\n  getRiver = () => {\n    return(\n      this.props.darkmode \n      ? <img src={RiverWhite} alt=\"\" className={classes.River} /> \n      : <img src={River} alt=\"\" className={classes.River} />\n    )\n  }\n\n  getRiverGlow = () => {\n    return (\n      this.props.darkmode \n      ? <img src={RiverGlow} alt=\"\" className={classes.RiverGlow} /> \n      : null\n    )\n  }\n\n  getStreamElements = () => {\n    let streamElements = [];\n    this.props.streamElements.forEach((element) => {\n      streamElements.unshift(\n        <StreamElement\n          key={element.id}\n          {...element}\n          dropping={this.droppingHandler}\n        />\n      );\n    });\n    return streamElements;\n  }\n\n  render = () => {\n    const styleClasses = [classes.Stream];\n    if (this.props.currentTab !== 'stream') {\n      styleClasses.push(classes.OutRight);\n    }\n    return (\n      <div className={styleClasses.join(\" \")}>\n        {this.getRiver()}\n        {this.getRiverGlow()}\n        <img src={Boat} alt=\"\" className={classes.Boat1} />\n        <img src={Boat} alt=\"\" className={classes.Boat2} />\n        {this.getStreamElements()}\n      </div>\n    );\n  };\n}\n\nconst mapStateToProps = state => {\n  return {\n    timeStampLastScroll: state.stream.timeStampLastScroll,\n    streamElements: state.stream.streamElements,\n    initialStreamLoad: state.stream.initialStreamLoad,\n    streamStatus: state.stream.streamStatus,\n    mouseOverComments: state.stream.mouseOverComments, \n\n    currentTab: state.ui.currentTab,\n    modalOpen: state.ui.modalOpen,\n    menuOpen: state.ui.menu.open,\n    darkmode: state.ui.darkmode,\n\n    anonymousId: state.user.anonymousId,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFetchIds: () => dispatch(streamActions.fetchIds()),\n    onScrollPrev: (dropId, anonymousId) => dispatch(streamActions.scrollPrev(dropId, anonymousId)),\n    onScrollNext: (dropId, anonymousId) => dispatch(streamActions.scrollNext(dropId, anonymousId)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Stream);\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner'; \n\nimport classes from './AddButton.module.css';\n\nclass AddButton extends Component {\n\n\n    getAddIcon = (inverted) => {\n        return (\n            <svg className={classes.AddIcon} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g id=\"person_add_24px\">\n                    <path id=\"icon/social/person_add_24px\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M15 12C17.21 12 19 10.21 19 8C19 5.78998 17.21 4 15 4C12.79 4 11 5.78998 11 8C11 10.21 12.79 12 15 12ZM15 6C16.1 6 17 6.90002 17 8C17 9.09998 16.1 10 15 10C13.9 10 13 9.09998 13 8C13 6.90002 13.9 6 15 6ZM7 18C7 15.34 12.33 14 15 14C17.67 14 23 15.34 23 18V20H7V18ZM9 18C9.21997 17.28 12.3101 16 15 16C17.7 16 20.8 17.29 21 18H9ZM6 12V15H4V12H1V10H4V7H6V10H9V12H6Z\" fill={inverted ? \"#444444\" : \"#abcdef\" } />\n                </g>\n            </svg>\n        )\n    }\n\n    getCheckMark = () => {\n        return(\n            <svg className={classes.AddIcon} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <g id=\"check_24px\">\n            <path id=\"icon/navigation/check_24px\" d=\"M8.79496 15.875L4.62496 11.705L3.20496 13.115L8.79496 18.705L20.795 6.70501L19.385 5.29501L8.79496 15.875Z\" fill=\"#abcdef\"/>\n            </g>\n            </svg>\n        )\n    }\n\n    render() {\n\n        let styleClasses = [classes.AddButton]\n        let button;\n        let title;\n        if(this.props.type==='sending'){\n            button = <Loader className={classes.Spinner} type=\"TailSpin\" color={this.props.inverted ? '#000000' : '#abcdef'} height={18} width={18}/>; \n            styleClasses.push(classes.Loading)\n            title = 'sending friend request...'\n        }\n        if(this.props.type==='accepting'){\n            button = <Loader className={classes.Spinner} type=\"TailSpin\" color={this.props.inverted ? '#000000' : '#abcdef'} height={18} width={18}/>; \n            styleClasses.push(classes.Loading)\n            title = 'accepting friend request...'\n        }\n        if(this.props.type === 'add'){\n            button = this.getAddIcon(this.props.inverted); \n            title = 'send friend request';\n            styleClasses.push(classes.GlowOnHover);\n            styleClasses.push(classes.Clickable);\n        }\n        if(this.props.type === 'received'){\n            button = <span className={classes.TextButton}>accept</span>;\n            title = 'accept friend request';\n            styleClasses.push(classes.AcceptButton);\n            styleClasses.push(classes.GlowOnHover);\n            styleClasses.push(classes.Clickable);\n        }\n        if(this.props.type === 'sent'){\n            button = <span className={classes.TextButton}>requested</span>;\n            title = 'friend request sent';\n        }\n        styleClasses.push(this.props.inverted ? classes.Inverted : classes.NotIverted);\n        \n        return(\n            <div \n                title={title} \n                className={styleClasses.join(' ')} \n                onClick={(event) => {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    this.props.clicked()\n                }}\n                >\n                {button}\n            </div>\n        )\n    }\n}\n\nexport default AddButton;","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport classes from \"./ChatPrev.module.css\";\nimport DefaultProfilePic from \"../../../../media/DefaultProfilePic.png\";\nimport AddButton from './AddButton/AddButton';\nimport Connector from './Connector.svg';\nimport * as actions from '../../../../store/actions/index';\n\n\nclass ChatPrev extends Component {\n\n  state={\n    connectorsOut: false\n  }\n\n  getConnector = (up) => {\n    return <img \n      src={Connector} \n      alt='' \n      className={`${up ? classes.ConnectorUp : classes.ConnectorDown}`}/>\n  }\n\n  getButton = (chatPartner, active) => {\n    let buttonType;\n    let buttonClick = () => console.log('Nothing should happen');\n    if(!this.props.friends.some(friend => friend.userId === chatPartner.userId)){\n      buttonType = 'add';\n      buttonClick = () => this.props.onSendFriendRequest(chatPartner, this.props.chatId.startsWith('request') ? this.props.chatId : null);\n    }\n    if(this.props.sentFriendRequests.some(user => user.userId === chatPartner.userId)){\n      buttonType= 'sent';\n    }\n    if(this.props.sendingFriendRequests.some(user => user.userId === chatPartner.userId)){\n      buttonType='sending';\n    }\n    if(this.props.acceptingFriendRequests.some(user => user.userId === chatPartner.userId)){\n      buttonType='accepting';\n    }\n    if(this.props.receivedFriendRequests.some(user => user.userId === chatPartner.userId)){\n      buttonType='received';\n      buttonClick = () => this.props.onAcceptFriendRequest(chatPartner);\n    }\n    return buttonType ? <AddButton type={buttonType} clicked={buttonClick} inverted={active}/> : null;\n  }\n\n  render() {\n    const unreadMessages = this.props.notifiaction\n      .filter(n => (n.type.startsWith('NEW_MESSAGE') && n.chatId === this.props.chatId)\n        || (n.type.startsWith('NEW_CHAT') && n.chatId === this.props.chatId)); \n    const notifiactionStype = unreadMessages.length > 99 \n      ? classes.TrippleDigit : unreadMessages.length > 9 \n        ? classes.DoubleDigit : classes.SingleDigit\n    const chatPartner = this.props.members.filter(m => m.userId !== this.props.userId)[0];\n    if(!chatPartner) console.log(this.props.members, this.props.userId);\n    const name = chatPartner.name;\n    const preview = this.props.messages.length > 0 ? this.props.messages[this.props.messages.length-1].text : '@' + chatPartner.handle;\n    const profilePicSrc = chatPartner.profilePic ? `${process.env.REACT_APP_PROFILE_PICTURES_SOURCE_URL}` + chatPartner.userId : DefaultProfilePic;\n\n    const active = this.props.chatId === this.props.currentChatId;\n    let styleClasses = [classes.ChatPrev];\n    if(active) styleClasses.push(classes.Active);\n\n    return (\n      <div onClick={this.props.clicked} className={styleClasses.join(\" \")}>\n        {active ? this.getConnector(true) : null } \n        {active ? this.getConnector(false) : null } \n        <img src={profilePicSrc} alt=\" \" className={classes.ProfilePic}/>\n        <div className={classes.Info}>\n          <h3 className={classes.Name}>{name}</h3>\n          <p className={classes.Preview}>{preview}</p>\n        </div>\n        { \n          unreadMessages.length > 0\n          ? <div className={notifiactionStype}>\n                  <span className={classes.NotificationCount}>{unreadMessages.length}</span>\n            </div> \n          : null \n        }\n    {this.getButton(chatPartner, active)}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    darkmode: state.ui.darkmode,\n\n    currentChatId: state.chat.currentChatId,\n    unreadMessages: state.chat.unreadMessages, \n    seenUpdatesChats: state.chat.seenUpdatesChats,\n    chats: state.chat.chats,\n    allUsers: state.chat.allUsers,\n    friends: state.chat.friends,\n    acceptingFriendRequests: state.chat.acceptingFriendRequests,\n    sendingFriendRequests: state.chat.sendingFriendRequests,\n    sentFriendRequests: state.chat.sentFriendRequests, \n    receivedFriendRequests: state.chat.receivedFriendRequests,\n\n    notifiaction: state.user.notifications,\n    token: state.user.token,\n    userId: state.user.userId,\n\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onChangeChat: (chatId) => dispatch(actions.changeChat(chatId)),\n    onSendFriendRequest: (user) => dispatch(actions.sendFriendRequest(user)),\n    onAcceptFriendRequest: (user) => dispatch(actions.acceptFriendRequest(user)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatPrev);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loader from 'react-loader-spinner';\n\nimport ChatPrev from './ChatPrev/ChatPrev';\nimport classes from './ChatPreviews.module.css';\nimport * as actions from '../../../store/actions/index';\n\n\nclass ChatPreviews extends Component {\n\n    state = {\n      searching: false,\n      searchInput: ''\n    }\n\n    componentDidUpdate = () => {\n      if(this.searchInput) this.searchInput.focus();\n    }\n\n    clicked = (chatId) => {\n      this.props.onChangeChat(chatId);\n      document.getElementById('chatForm').focus();\n    }\n\n    getChats = () => {\n      let chats = [];\n      if(this.props.chatsStatus === 'loading'){\n        chats = \n        <div className={classes.LoaderContainer}>\n          <Loader \n            className={classes.Spinner} \n            type=\"ThreeDots\" \n            color=\"#00BFFF\" \n            height={30} \n            width={30}/> \n        </div>\n      }else {\n        chats = this.props.chats\n        .sort((chatA, chatB) => chatB.lastInteraction - chatA.lastInteraction)\n        .map(chat => {\n            return (\n              <ChatPrev \n                {...chat}\n                key={chat.chatId}\n                clicked={() => this.clicked(chat.chatId)}\n              /> \n            )\n          })\n        \n      }\n      return chats\n    }\n\n    getSearchIcon() {\n      return (\n        <svg className={classes.SearchIcon} onClick={this.state.searching ? () => this.closeSearch() : () => this.openSearch()} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <g id=\"search_24px\">\n          <path id=\"icon/action/search_24px\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M14.965 14.255H15.755L20.745 19.255L19.255 20.745L14.255 15.755V14.965L13.985 14.685C12.845 15.665 11.365 16.255 9.755 16.255C6.16504 16.255 3.255 13.345 3.255 9.755C3.255 6.16501 6.16504 3.255 9.755 3.255C13.345 3.255 16.255 6.16501 16.255 9.755C16.255 11.365 15.665 12.845 14.6851 13.985L14.965 14.255ZM5.255 9.755C5.255 12.245 7.26501 14.255 9.755 14.255C12.245 14.255 14.255 12.245 14.255 9.755C14.255 7.26501 12.245 5.255 9.755 5.255C7.26501 5.255 5.255 7.26501 5.255 9.755Z\" fill={'#ffffff'}/>\n          </g>\n        </svg>\n      )\n    }\n\n    getSearchInput = () => {\n      if(this.state.searching){\n        return (\n          <input \n          placeholder={\"Search by username or @handle\"}\n          ref={(input) => { this.searchInput = input; }} \n          type=\"text\" \n          value={this.state.searchInput} \n          onChange={this.onSearchInput}\n          className={classes.SearchInput}/> \n        )\n      }\n      return null;\n    }\n\n    openSearch = () => {\n      this.setState({searching: true})\n    }\n\n    closeSearch = () => {\n      this.setState({searching: false, searchInput: ''})\n    }\n\n    onSearchInput = (event) => {\n      this.setState({searchInput: event.target.value});\n    }\n\n    getNewChatIcon = () => {\n      return(\n        <svg className={classes.AddChatIcon} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <g id=\"chat_bubble_outline_24px\">\n          <path id=\"icon/communication/chat_bubble_outline_24px\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M4 2H20C21.1 2 22 2.89999 22 4V16C22 17.1 21.1 18 20 18H6L2 22V4C2 2.89999 2.90002 2 4 2ZM6 16H20V4H4V18L6 16Z\" fill=\"#ffffff\"/>\n          <rect id=\"Rectangle 6\" x=\"7\" y=\"9\" width=\"10\" height=\"2\" fill=\"#ffffff\"/>\n          <rect id=\"Rectangle 7\" x=\"11\" y=\"5\" width=\"2\" height=\"10\" fill=\"#ffffff\"/>\n          </g>\n        </svg>\n      )\n    }\n\n    getNewChatButton = () => {\n      if(!this.state.searching){\n        return(\n          <div className={classes.NewChatContainer} onClick={this.props.token ? this.props.onOpenNewChatModal : null}>\n            {this.getNewChatIcon()}\n            <h3 className={classes.NewChatMessage}>new chat</h3>\n          </div>\n        )\n      }\n      return null;\n    }\n\n    render(){\n        return(\n            <div className={classes.ChatPreviews}>\n                <div className={classes.Header}>\n                  {/* <div className={classes.SearchContainer}>\n                    {this.getSearchIcon()}\n                      {this.getSearchInput()}\n                  </div> */}\n                </div> \n                {this.getNewChatButton()}\n                <div className={classes.ScrollContainer}>\n                  {this.getChats()}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      userId: state.user.userId,\n      token: state.user.token,\n      notifications: state.user.notifications,\n\n      chats: state.chat.chats,\n      chatsStatus: state.chat.chatsStatus,\n      currentChatId: state.chat.currentChatId,\n      height: state.chat.formHeight,\n      \n      receivedFriendRequests: state.chat.receivedFriendRequests,\n      acceptingFriendRequests: state.chat.acceptingFriendRequests,\n\n      friends: state.chat.friends,\n      friendsStatus: state.chat.friendsStatus,\n\n      allUsers: state.chat.allUsers,\n      allUsersStatus: state.chat.allUsersStatus,\n\n      currentTab: state.ui.currentTab,\n      darkmode: state.ui.currentTab,\n\n    }\n  }\n  \n  const mapDispatchToProps = dispatch => {\n    return {\n      onFetchAllUsers: () => dispatch(actions.fetchAllUsers()),\n      onChangeChat: (chatId, user, self, inputRef) => dispatch(actions.changeChat(chatId, user, self, inputRef)), \n      onOpenNewChatModal: () => dispatch(actions.openNewChatModal()),\n    }\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(ChatPreviews);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport classes from './ChatForm.module.css';\n\nimport NeumorphismButton from '../../../UI/NeumorphismButton/NeumorphismButton';\n\nimport * as actions from '../../../../store/actions/index';\n\n\nclass ChatForm extends Component { \n    \n    state = {\n        inputValue: ''\n    }\n\n    componentDidMount(){\n        window.addEventListener('keypress', this.enterHandler);\n    }\n\n\n    onInput = event => {\n        this.setState({inputValue: event.target.value});\n    }\n\n    enterHandler = (event) => {\n        if(event.keyCode === 13 && !event.shiftKey && this.state.inputValue.length > 0 ){\n            event.preventDefault();\n            this.submitHandler();\n        }\n    }\n\n    submitHandler = () => {\n        if(this.props.currentChatId.startsWith('dummy')){\n            const currentChat = this.props.chats.find(c => c.chatId === this.props.currentChatId);\n            const self = currentChat.members.find(m => m.userId === this.props.userId);\n            const chatPartner = currentChat.members.find(m => m.userId !== this.props.userId);\n            if(this.props.creatingChats.some(id => id === this.props.currentChatId)){\n                this.props.onAddMessageToBuffer(this.props.currentChatId, this.state.inputValue, this.props.userId);\n            }else {\n                this.props.onSendFirstMessageNewChat(this.props.currentChatId, self, chatPartner, this.state.inputValue);\n\n            }\n        }else {\n            this.props.onSendTextMessage(this.props.currentChatId, this.state.inputValue, this.props.userId);\n        }\n        this.setState({inputValue: ''});\n    }\n\n    getArrowRight = () => {\n        return(\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g id=\"arrow_forward_24px\">\n                <path id=\"icon/navigation/arrow_forward_24px\" d=\"M12 4L10.59 5.41L16.17 11H4V13H16.17L10.59 18.59L12 20L20 12L12 4Z\" fill={this.state.inputValue.length === 0 ? 'grey' : 'black'} fillOpacity=\"0.54\"/>\n                </g>\n            </svg>\n        )\n    }  \n\n    render() {\n        return(\n            <div className={classes.ChatInput}>\n                <div className={classes.TextareaContainer}\n                    // onDragEnter={() => setDragging(true)}\n                    // onDragLeave={() => setDragging(false)}>\n                >\n                    <textarea \n                        id=\"chatForm\"\n                        className={classes.Textarea} \n                        style={{height: `${this.props.formHeight+5}px`}}\n                        value={this.state.inputValue}\n                        rows={1}\n                        onChange={this.onInput}\n                    />                \n                    <NeumorphismButton\n                        colorTheme='light'\n                        buttonType='SubmitComment'\n                        clicked={this.submitHandler} \n                        className={classes.SubmitButton} \n                        type='submit'>\n                            {this.getArrowRight()}\n                    </NeumorphismButton>\n                </div> \n            </div>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentChatLoaded: state.chat.currentChatLoaded,\n        formHeight: state.chat.formHeight,\n        chats: state.chat.chats,\n        currentChatId: state.chat.currentChatId,\n        chatInput: state.chat.chatInput,\n        creatingChats: state.chat.creatingChats,\n\n        userId: state.user.userId,\n        handle: state.user.handle,\n        profilePic: state.user.hasProfilePic, \n        name: state.user.name,\n\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onChangeFormHeight: (height) => dispatch(actions.changeFormHeight(height)),\n        onSendTextMessage: (chatId, text, userId) => dispatch(actions.sendTextMessage(chatId, text, userId)), \n        onSendFirstMessageNewChat: (dummyChatId, self, chatPartner, text) => dispatch(actions.sendFirstMessageNewChat(dummyChatId, self, chatPartner, text)),\n        onAddMessageToBuffer: (dummyChatId, text, userId) => dispatch(actions.addMessageToBuffer(dummyChatId, text, userId)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatForm);","import React, { Component } from \"react\";\n\nimport classes from \"./Message.module.css\";\n\nimport StupidFuckingFace from '../../../../media/stupidfuckingface.jpeg';\n\nclass Message extends Component {\n\n  \n\n  getMessage = () => {\n    switch(this.props.type){\n      case 'text': return <p className={classes.Text}>{this.props.text}</p>\n      case 'image': return ([\n        <img className={classes.Image} /*src={this.props.src}*/ src={StupidFuckingFace} alt='' key='image' />,\n        this.props.text ? <p className={classes.Text} key='description'>{this.props.text}</p> : null\n      ])\n      case 'drop': \n        return ( \n          <div>\n            {this.props.title ? <p className={classes.Text}>{this.props.title}</p> : null }\n            <img className={classes.Drop} src={`https://storage.googleapis.com/drop-meme-bucket/meme-${this.props.dropId}`} key='drop' alt='could not load meme. Refresh motherfucker.'/>\n          </div>\n        )\n      default: return null\n    }\n  }\n\n  render() {\n    const containerStyleclasses = [classes.MessageContainer];\n    if(this.props.sent){\n      containerStyleclasses.push(classes.Sent);\n    }else{\n      containerStyleclasses.push(classes.Received);\n    }\n    if(this.props.sending){\n      containerStyleclasses.push(classes.Sending);\n    }\n    if(this.props.messageNew){\n      containerStyleclasses.push(classes.New);\n    } \n    return (\n      <div className={containerStyleclasses.join(' ')}>\n        {/* <Sender sender={this.props.sender}/> */}\n        <div className={classes.Message}>\n          {this.getMessage()}\n          {/* <span className={classes.Time}>{new Date(this.props.time).getHours()}</span> */}\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\nexport default Message;\n","import React, { useEffect, createRef } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../store/actions/index';\n\nimport classes from './ChatWindow.module.css';\nimport ChatForm from './ChatForm/ChatForm';\nimport Message from './Message/Message';\n\nconst ChatWindow = props => {\n\n\n  useEffect(() => {\n    scrollToBottom();\n    if(props.currentTab === 'chat'){\n      const currentMessageNotificatios = props.notifications.filter(n => n.type.startsWith('NEW_MESSAGE') && n.chatId === props.currentChatId);\n      if(currentMessageNotificatios.length > 0){\n        const messageIds = currentMessageNotificatios.map(n => n.message.id);\n        props.onSendMessagesRead(props.currentChatId, messageIds);\n      }\n      const currentNewChatNotifications = props.notifications.find(n => {\n        if(n.type.startsWith('NEW_CHAT')){\n          console.log('FOUND NEW CHAT NOTIFICATON');\n          console.log(props.currentChatId);\n          console.log(n.chatId);\n          if(n.chatId === props.currentChatId) return true;\n        }\n        return false;\n      })\n      if(currentNewChatNotifications){\n        console.log('Found new Chat Notification')\n        console.log(currentNewChatNotifications);\n        props.onDeleteNotification(currentNewChatNotifications.id);\n      }\n    }\n\n  })\n\n  const scrollToBottom = (smooth) => {\n    bottomRef.current.scrollIntoView({behavior: smooth ? 'smooth' : 'auto', block: \"start\", inline: \"nearest\"});\n  }\n\n  const bottomRef = createRef()\n\n\n  let messages = [];\n  let foundAllOldMessages = false;\n  const currentChat = props.chats.find((x) => x.chatId === props.currentChatId);\n  if(currentChat){\n    currentChat.messages.forEach(message => {\n      if(!message.new){\n        messages.push(\n          <Message           \n            {...message} \n            key={message.id}\n            sent={props.userId === message.sender}\n          />\n        )\n      } else {\n        if(!foundAllOldMessages){\n          messages.push(\n            <div key='separator' className={classes.NewMessageSeparator}>new messages</div>\n          )\n          foundAllOldMessages = true;\n        }\n        messages.push(\n          <Message           \n            {...message} \n            new\n            key={message.id}\n            sent={props.userId === message.sender}\n          />\n        )\n      }\n    })\n  }\n  let styleClasses = [classes.ChatWindow];\n  styleClasses.push(props.windowWidth < 1277 ? classes.SmallChatWindow : classes.BigChatWindow);\n  return (\n    <div className={styleClasses.join(' ')}>\n      <div\n        className={classes.Messages} \n        style={{height: `calc(80vh-${props.formHeight}px)`}}>\n        <p className={classes.NotEncryptedMessage}>\n          This Chat is not yet end-to-end encrypted. <br/>\n          Or encrypted. But it is end-to-end, lol. <br/>\n          What I mean is maybe don't send nudes here just yet. <br/>\n        </p>\n        {/* {oldMessages}\n        {newMessages.length > 0 ? <div className={classes.NewMessageSeparator}>new messages</div> : null }\n        {newMessages} */}\n        {messages}\n        <div style={{ height: \"90px\"}} ref={bottomRef}></div>\n      </div>\n      <ChatForm inputRef={props.inputRef}/>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => {\n    return {\n      windowWidth: state.ui.windowWidth,\n\n      height: state.chat.formHeight,\n      currentTab: state.ui.currentTab,\n\n      chatsStatus: state.chat.chatsStatus,\n      currentChatId: state.chat.currentChatId,\n      chats: state.chat.chats,\n      unreadMessages: state.chat.unreadMessages,\n\n      userId: state.user.userId, \n      notifications: state.user.notifications,\n    }\n  }\n  \n  const mapDispatchToProps = dispatch => {\n    return {\n      onSendMessagesRead: (chatId, messageIds) => dispatch(actions.sendMessagesRead(chatId, messageIds)),\n      onDeleteNotification: (notificationId) => dispatch(actions.deleteNotification(notificationId)),\n    }\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(ChatWindow);","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../store/actions/index'; \n\nimport classes from \"./Chat.module.css\";\nimport ChatPrevs from './ChatPreviews/ChatPreviews';\nimport ChatWindow from './ChatWindow/ChatWindow';\nimport PrimaryButton from '../UI/PrimaryButton/PrimaryButton';\n\nclass Chat extends Component {\n\n  state = {\n    textInput: 'placeholder'\n  }\n  \n  componentDidUpdate = () => {\n    const unbufferMessage = this.props.messageBuffer.find(m => !m.dummyChatId.startsWith('dummy') && !m.sending); \n    if(unbufferMessage){\n      console.log('Sending Message');\n      console.log(unbufferMessage); \n      this.props.onSendMessageFromBuffer(\n        unbufferMessage.id, \n        unbufferMessage.dummyChatId, \n        unbufferMessage.dummyMessageId,\n        unbufferMessage.text\n      );\n    }\n  }\n\n  setChatFormInputValue = (event) => {\n    this.setState({textInput: event.target.value})\n  }\n\n  changeChat = (chatId) => {\n    this.props.onChangeChat(chatId, null, null, this.state.textInput);\n    this.props.onChangeShouldDeleteInput(true);\n  }\n\n  getNotLoggedInMessage = () => {\n    return(\n      <div className={classes.NotLoggedInContainer}>\n        <div className={classes.NotLoggedInMessage}>\n          <div className={classes.InnerContainer}>\n            <PrimaryButton clicked={this.props.onOpenMenu}><h3>Log in</h3></PrimaryButton>\n            or\n            <PrimaryButton clicked={this.props.onOpenMenu}><h3>Create Account</h3></PrimaryButton> \n            to chat with friends!\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    const styleClasses = [classes.Chat];\n    if (this.props.currentTab === 'stream') styleClasses.push(classes.OutLeft);\n    if (this.props.currentTab === 'creator') styleClasses.push(classes.OutRight);\n    return (\n      <div className={styleClasses.join(\" \")}>\n        { !this.props.token ? this.getNotLoggedInMessage() : null }\n        <ChatPrevs/>\n        <ChatWindow/>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentTab: state.ui.currentTab,\n    token: state.user.token,\n    chats: state.stream.chats,\n    messageBuffer: state.chat.messageBuffer,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onOpenMenu: () => dispatch(actions.openMenu()),\n    onChangeChat: (chatId, self, user, inputValue) => dispatch(actions.changeChat(chatId, self, user, inputValue)),\n    onSendMessageFromBuffer: (id, dummyChatId, dummyMessageId, text) => dispatch(actions.sendMessageFromBuffer(id, dummyChatId, dummyMessageId, text)), \n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Chat);\n","import React from 'react';\nimport useFitText from 'use-fit-text'; \n\nimport classes from './TextElement.module.css'; \n\nconst AutoResizeTextElement = (props) => {\n\n    const { fontSize, ref } = useFitText(); \n\n    const {font, height, width, fontWeight, verticalAlign, elementId } = props.element;\n\n    const verticalAlignClass = \n    verticalAlign === 'top' ? classes.topAlign \n    : verticalAlign === 'bottom' ? classes.bottomAlign \n    : classes.middleAlign;\n\n    return(\n        <div\n            contentEditable={props.editing}\n            suppressContentEditableWarning\n            type='text' \n            id={`${elementId}-input`}\n            className={`${classes.TextInput} ${verticalAlignClass}`} \n            // onDoubleClick={this.onTextFocus}\n            style={{\n                fontFamily: font,\n                fontWeight: fontWeight,\n                height,\n                width\n            }}\n            onInput={(e) => props.onTextInput(e, elementId)}>\n                <div \n                    ref={ref}\n                    style={{ fontSize, height, width }}\n                >\n                    {props.text}\n                </div>\n        </div>\n    )\n}\n\nexport default AutoResizeTextElement; ","import React from 'react';\nimport AutoResizeTextElement from './AutoResizeTextElement';\n\nimport classes from './TextElement.module.css'; \n\nconst TextElement = (props) => {\n\n    const {\n        font, \n        fixedDimensions, \n        fontWeight, \n        verticalAlign, \n        elementId \n    } = props.element;\n\n    const verticalAlignClass = \n    verticalAlign === 'top' ? classes.topAlign \n    : verticalAlign === 'bottom' ? classes.bottomAlign \n    : classes.middleAlign;\n\n    if(fixedDimensions) return <AutoResizeTextElement {...props} />\n\n    return(\n        <div\n            contentEditable={props.editing}\n            suppressContentEditableWarning\n            type='text' \n            id={`${elementId}-input`}\n            className={`${classes.TextInput} ${verticalAlignClass}`} \n            // onDoubleClick={this.onTextFocus}\n            style={{\n                fontFamily: font,\n                fontWeight: fontWeight\n            }}\n            onInput={(e) => props.onTextInput(e, elementId)}>\n            {props.text}\n        </div>\n    )\n}\n\nexport default TextElement; ","import React, { Component } from 'react';\n\nimport * as classes from './Element.module.css';\nimport TextElement from './TextElement/TextElement';\n\n\n\nclass Element extends Component {\n\n    getStyles = () => {\n        let { height, width, posX, posY, rotation, font, fontSize, textAlign, fontWeight, underline, italic, color, textStroke, elementId } = this.props.element;\n        let left = posX;\n        let top = posY;\n        if(!this.props.inPreview){\n            const { offsetX, offsetY } = this.props.perspective;\n            left += offsetX\n            top += offsetY\n        }\n        return {\n            height: `${height}px`, \n            width: `${width}px`,\n            left: `${left}px`,\n            top: `${top}px`,\n            transform: `rotate(${rotation}deg)`,\n            fontFamily: `${font},Oswald,Impact`,\n            fontSize: `${fontSize}pt`,\n            textAlign: textAlign, \n            fontWeight: fontWeight,\n            fontStyle: italic ? 'italic' : 'normal',\n            backgroundColor: color,\n            textDecoration: underline ? 'underline' : 'none',\n            WebkitTextStrokeColor: textStroke ? \"black\" : null,\n            WebkitTextStrokeWidth: textStroke ? \"0.06rem\": null,\n            textShadow: textStroke ? \"0px 0px 0.1rem  #000\" : null,\n            cursor: this.props.editingId === elementId || this.props.inPreview ? null : 'grab', \n        }\n    }\n\n    getContent = () => {\n        const {color, elementId, imgSrc, text } = this.props.element;\n        switch(this.props.type){\n            case 'text': \n                return(\n                    <TextElement\n                        element={this.props.element}\n                        onInput={this.props.onTextInput}\n                        text={text}\n                        editing={this.props.editingId === elementId}\n                        onTextInput={this.props.onTextInput}\n                    />\n                )\n            case 'image': \n                return(\n                    <img\n                        src={imgSrc}\n                        className={classes.Image}\n                        id={`${elementId}-image`}\n                        onLoad={this.props.onImageLoad}\n                        alt=''\n                    />\n                )\n            case 'rect':\n                return (\n                    <div \n                        className={classes.Rect}\n                        style={{backgroundColor: color}}\n                    >\n                    </div>\n                )\n            default: return null;\n        }\n    }\n\n    highlighed = () => {\n        if(this.props.selected || !this.props.selectedLines) return false;\n        let Hlines = [];\n        let Vlines = [];\n        Hlines.push(this.props.element.posY)\n        Hlines.push((2* this.props.element.posY + this.props.element.height)/2)\n        Hlines.push(this.props.element.posY + this.props.element.height)\n        Vlines.push(this.props.element.posX)\n        Vlines.push((2* this.props.element.posX + this.props.element.width)/2)\n        Vlines.push(this.props.element.posX + this.props.element.width)\n        return Vlines.includes(this.props.selectedLines.v) || Hlines.includes(this.props.selectedLines.h);\n    }\n\n    mouseDown = (e) => {\n        e.stopPropagation(); \n        if(this.props.editingId !== this.props.element.elementId && !this.props.inPreview){\n            this.props.elementMouseDown(e, this.props.element.elementId);\n        }\n    }\n\n    mouseUp = (e) => {\n        e.stopPropagation();\n        if(this.props.editingId !== this.props.element.elementId && !this.props.inPreview){\n            this.props.select(e, this.props.element.elementId);\n        }\n    }\n\n    doubleClick = (e) => {\n        if(!this.props.inPreview){\n            if(this.props.element.type === 'text'){\n                this.props.selectAndEdit(e, this.props.element.elementId);\n            } else {\n                this.props.select(e, this.props.element.elementId);\n            }\n        }\n    }\n\n    render() {  \n        let styleClasses = [classes.Element];\n        if(this.highlighed()) styleClasses.push(classes.highlight);\n        return(\n            <div className={styleClasses.join(' ')}\n                onDoubleClick={this.doubleClick}\n                onMouseDown={this.mouseDown}\n                onMouseUp={this.mouseUp}\n                style={this.getStyles()}\n                id={`element-${this.props.element.elementId}`}\n            >\n                {this.getContent()}\n            </div>\n        )\n    }\n}\n\nexport default Element;","import React, { Component } from 'react';\nimport classes from './Line.module.css';\n\n\nclass Line extends Component {\n\n\n    render() {\n        const { offsetX, offsetY } = this.props.perspective; \n        const horizontal = this.props.left === 0;\n        return(\n            <div \n                className={horizontal ? classes.HL : classes.VL}\n                style={{\n                    top: horizontal ? `${this.props.top + offsetY}px` : '0',\n                    left: !horizontal ? `${this.props.left + offsetX}px` : '0'\n                }}>    \n            </div>\n        )\n    }\n}\n\nexport default Line;","import React, { useRef } from 'react';\nimport classes from './TopMenu.module.css';\n\nconst TopMenu = props => {\n\n    const inputFile = useRef(null) \n\n    const getRectangleIcon = () => {\n        return(\n            <svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect width=\"26\" height=\"26\" rx=\"3\" fill=\"white\"/>\n            </svg>\n\n        )\n    }\n\n    // const getNewCircleIcon = () => {\n    //     return(\n    //         <svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n    //             <path d=\"M26 13C26 20.1797 20.1797 26 13 26C5.8203 26 0 20.1797 0 13C0 5.8203 5.8203 0 13 0C20.1797 0 26 5.8203 26 13Z\" fill=\"white\"/>\n    //         </svg>\n    //     )\n    // }\n\n    const getNewTextElementIcon = () => {\n        return(\n            <svg width=\"23\" height=\"26\" viewBox=\"0 0 23 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M0 0H22.5V3H0V0Z\" fill=\"white\"/>\n                <path d=\"M0 3H3V7H0V3Z\" fill=\"white\"/>\n                <path d=\"M20 3H22.5V7H20V3Z\" fill=\"white\"/>\n                <path d=\"M7 23H16V26H7V23Z\" fill=\"white\"/>\n                <path d=\"M10 3H13V26H10V3Z\" fill=\"white\"/>\n            </svg>\n        )\n    }\n\n    const getNewImageIcon = () => {\n        return(\n            <svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M0.411133 20.9529L7.36393 14.0001L8.77815 15.4143L1.82535 22.3671L0.411133 20.9529Z\" fill=\"white\"/>\n                <path d=\"M10.0928 19.2714L19.3641 10.0001L20.7783 11.4143L11.507 20.6856L10.0928 19.2714Z\" fill=\"white\"/>\n                <path d=\"M7.41406 14L12.8181 19.404L11.4039 20.8182L5.99985 15.4142L7.41406 14Z\" fill=\"white\"/>\n                <path d=\"M19.4141 10L25.778 16.364L24.3638 17.7782L17.9998 11.4142L19.4141 10Z\" fill=\"white\"/>\n                <circle cx=\"9.5\" cy=\"8.5\" r=\"2.5\" stroke=\"white\" strokeWidth=\"2\"/>\n                <rect x=\"1\" y=\"1\" width=\"24\" height=\"24\" rx=\"1\" stroke=\"white\" strokeWidth=\"2\"/>\n            </svg>\n\n        )\n    }\n\n    const getShareIcon = () => {\n        return(\n            <svg \n                className={classes.shareIcon}\n                width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <line x1=\"10.4472\" y1=\"17.1056\" x2=\"20.4472\" y2=\"22.1056\" stroke=\"#fff\" strokeWidth=\"2\"/>\n                <line x1=\"9.55279\" y1=\"13.1056\" x2=\"19.5528\" y2=\"8.10557\" stroke=\"#fff\" strokeWidth=\"2\"/>\n                <circle cx=\"6\" cy=\"15\" r=\"5\" stroke=\"#fff\" strokeWidth=\"2\"/>\n                <circle cx=\"24\" cy=\"24\" r=\"5\" stroke=\"#fff\" strokeWidth=\"2\"/>\n                <circle cx=\"24\" cy=\"6\" r=\"5\" stroke=\"#fff\" strokeWidth=\"2\"/>\n            </svg>\n\n        )\n    }\n\n    const getDownLoadIcon = () => {\n        return(\n            <svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M1 26H6V33H34V26H39V35C39 36.6569 37.6569 38 36 38H4C2.34315 38 1 36.6569 1 35V26Z\" fill=\"#ffffff\"/>\n                <path d=\"M16 1C16 0.447716 16.4477 0 17 0H23C23.5523 0 24 0.447715 24 1V18H28.8439C29.6953 18 30.1572 18.996 29.6073 19.6459L20.7634 30.0978C20.3639 30.5699 19.6361 30.5699 19.2366 30.0978L10.3927 19.6459C9.84279 18.996 10.3047 18 11.1561 18H16V1Z\" fill=\"#ffffff\"/>\n            </svg>\n        )\n    }\n\n    const onFileInput =  (event) => {\n        console.log(\"FILE INPUT\")\n        let posX = 100;\n        let posY = 100;  \n        for(let i=0; i<event.target.files.length;i++){\n            let fr = new FileReader(); \n            fr.onload = () => {\n                let image = new Image(); \n                image.src = fr.result; \n                image.onload = () => {\n                    props.addElements([{\n                        type: 'image', \n                        elementId: `${Date.now()}${i}`, \n                        height: image.height,\n                        width: image.width,\n                        posX, \n                        posY,\n                        imgSrc: image.src,\n                        rotation: 0,\n                    }])\n                }\n            }\n            fr.readAsDataURL(event.target.files[i]); \n            posX += 20; \n            posY += 20; \n        }\n    }\n\n    const addImageClickHandler = () => {\n        inputFile.current.click();\n    }\n\n    return(\n        <div className={classes.TopMenu}>\n            <div className={classes.LeftAlign}>\n                <div \n                    className={classes.MenuItem}\n                    onClick={() => props.addElements([{\n                        type: 'rect', \n                        elementId: `${Date.now()}`,\n                        posX: 100,\n                        posY: 100,\n                        height: 400,\n                        width: 400,\n                        color: '#FF8592',\n                        rotation: 0,\n                    }])}\n                >\n                    {getRectangleIcon()}\n                </div>\n                <div \n                    className={classes.MenuItem}\n                    onClick={() => props.addElements([{\n                        type: 'text', \n                        elementId: `${Date.now()}`,\n                        height: 60,\n                        width: 400, \n                        posX: 100,\n                        posY: 300,\n                        text: 'Text Element 3',\n                        font: 'Oswald',\n                        fontSize: '30',\n                        fontWeight: '700',\n                        textAlign: 'center',\n                        fixedWidth: true,\n                        underline: false, \n                        italic: false, \n                        textStroke: true,\n                        rotation: 0,\n                }])}>\n                    {getNewTextElementIcon()}\n                </div>\n                <div \n                    className={classes.MenuItem}\n                    onClick={addImageClickHandler}>\n                    {getNewImageIcon()}\n                </div>\n            </div>\n            <div className={classes.RightAlign}>\n                <div \n                    className={classes.MenuItem}\n                    onClick={props.openExportModal}>\n                    {getShareIcon()}\n                </div>\n                <div \n                    className={classes.MenuItem}\n                    onClick={props.openExportModal}>\n                    {getDownLoadIcon()}\n                </div>\n            </div>\n            <input type='file' id='file' multiple ref={inputFile} style={{display: 'none'}} onInput={onFileInput}/>\n        </div>\n    )\n}\n\nexport default TopMenu;"," import React, { Component } from 'react';\n import classes from './SelectionMenu.module.css';\n\n import Element from '../Element/Element';\n\n class SelectionMenu extends Component {\n\n    leftAlignIcon = () => {\n        const strokeColor = this.props.element.textAlign === 'left' ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.element.textAlign === 'left' ? classes.alignActive : classes.alignInactive} \n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                {/* <rect x=\"1.5\" y=\"1.5\" width=\"37\" height=\"37\" rx=\"3.5\" stroke=\"white\" stroke-width=\"3\"/> */}\n                <line x1=\"7\" y1=\"8\" x2=\"33\" y2=\"8\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"7\" y1=\"20\" x2=\"30\" y2=\"20\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"7\" y1=\"32\" x2=\"27\" y2=\"32\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"7\" y1=\"14\" x2=\"22\" y2=\"14\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"7\" y1=\"26\" x2=\"22\" y2=\"26\" stroke={strokeColor} strokeWidth=\"2\"/>\n            </svg>\n        )\n    }\n\n    centerAlignIcon = () => {\n        const strokeColor = this.props.element.textAlign === 'center' ? '#11192c' : '#ffffff';\n        return (\n            <svg \n                className={this.props.element.textAlign === 'center' ? classes.alignActive : classes.alignInactive} \n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                {/* <rect x=\"1.5\" y=\"1.5\" width=\"37\" height=\"37\" rx=\"3.5\" stroke=\"white\" stroke-width=\"3\"/> */}\n                <line x1=\"7\" y1=\"8\" x2=\"33\" y2=\"8\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"9\" y1=\"20\" x2=\"32\" y2=\"20\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"10\" y1=\"32\" x2=\"30\" y2=\"32\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"13\" y1=\"14\" x2=\"28\" y2=\"14\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"13\" y1=\"26\" x2=\"28\" y2=\"26\" stroke={strokeColor} strokeWidth=\"2\"/>\n            </svg>\n        )\n    }\n\n    rightAlignIcon = () => {\n        const strokeColor = this.props.element.textAlign === 'right' ? '#11192c' : '#ffffff';\n        return (\n            <svg \n                className={this.props.element.textAlign === 'right' ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                {/* <rect x=\"-1.5\" y=\"1.5\" width=\"37\" height=\"37\" rx=\"3.5\" transform=\"matrix(-1 0 0 1 37 0)\" stroke=\"white\" stroke-width=\"3\"/> */}\n                <line stroke={strokeColor} y1=\"-1\" x2=\"26\" y2=\"-1\" transform=\"matrix(-1 0 0 1 33 9)\" strokeWidth=\"2\"/>\n                <line stroke={strokeColor} y1=\"-1\" x2=\"23\" y2=\"-1\" transform=\"matrix(-1 0 0 1 33 21)\" strokeWidth=\"2\"/>\n                <line stroke={strokeColor} y1=\"-1\" x2=\"20\" y2=\"-1\" transform=\"matrix(-1 0 0 1 33 33)\" strokeWidth=\"2\"/>\n                <line stroke={strokeColor} y1=\"-1\" x2=\"16\" y2=\"-1\" transform=\"matrix(-1 0 0 1 33 15)\" strokeWidth=\"2\"/>\n                <line stroke={strokeColor} y1=\"-1\" x2=\"16\" y2=\"-1\" transform=\"matrix(-1 0 0 1 33 27)\" strokeWidth=\"2\"/>\n            </svg>\n        )\n    }\n\n    topAlignIcon = () => {\n        const strokeColor = this.props.element.verticalAlign === 'top' ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.element.verticalAlign === 'top' ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <line stroke={strokeColor} x1=\"6\" y1=\"7\" x2=\"34\" y2=\"7\" strokeWidth=\"2\"/>\n                <path fill={strokeColor} d=\"M20.7071 10.2929C20.3166 9.90237 19.6834 9.90237 19.2929 10.2929L12.9289 16.6569C12.5384 17.0474 12.5384 17.6805 12.9289 18.0711C13.3195 18.4616 13.9526 18.4616 14.3431 18.0711L20 12.4142L25.6569 18.0711C26.0474 18.4616 26.6805 18.4616 27.0711 18.0711C27.4616 17.6805 27.4616 17.0474 27.0711 16.6569L20.7071 10.2929ZM21 33V11H19V33H21Z\"/>\n            </svg>\n        )\n    }\n\n    middleAlignIcon = () => {\n        const strokeColor = this.props.element.verticalAlign === 'middle' ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.element.verticalAlign === 'middle' ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <line stroke={strokeColor} x1=\"6\" y1=\"20\" x2=\"34\" y2=\"20\" strokeWidth=\"2\"/>\n                <path fill={strokeColor} d=\"M20.7071 23.2929C20.3166 22.9024 19.6834 22.9024 19.2929 23.2929L12.9289 29.6569C12.5384 30.0474 12.5384 30.6805 12.9289 31.0711C13.3195 31.4616 13.9526 31.4616 14.3431 31.0711L20 25.4142L25.6569 31.0711C26.0474 31.4616 26.6805 31.4616 27.0711 31.0711C27.4616 30.6805 27.4616 30.0474 27.0711 29.6569L20.7071 23.2929ZM21 34L21 24H19V34H21Z\"/>\n                <path fill={strokeColor} d=\"M19.2929 16.7071C19.6834 17.0976 20.3166 17.0976 20.7071 16.7071L27.0711 10.3431C27.4616 9.95262 27.4616 9.31946 27.0711 8.92893C26.6805 8.53841 26.0474 8.53841 25.6569 8.92893L20 14.5858L14.3431 8.92893C13.9526 8.53841 13.3195 8.53841 12.9289 8.92893C12.5384 9.31946 12.5384 9.95262 12.9289 10.3431L19.2929 16.7071ZM19 6V16H21V6H19Z\"/>\n                </svg>\n        )\n    }\n\n    bottomAlignIcon = () => {\n        const strokeColor = this.props.element.verticalAlign === 'bottom' ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.element.verticalAlign === 'bottom' ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <line stroke={strokeColor} x1=\"34\" y1=\"33\" x2=\"6\" y2=\"33\" strokeWidth=\"2\"/>\n                <path fill={strokeColor} d=\"M19.2929 29.7071C19.6834 30.0976 20.3166 30.0976 20.7071 29.7071L27.0711 23.3431C27.4616 22.9526 27.4616 22.3195 27.0711 21.9289C26.6805 21.5384 26.0474 21.5384 25.6569 21.9289L20 27.5858L14.3431 21.9289C13.9526 21.5384 13.3195 21.5384 12.9289 21.9289C12.5384 22.3195 12.5384 22.9526 12.9289 23.3431L19.2929 29.7071ZM19 7V29H21V7H19Z\"/>\n            </svg>\n        )\n    }\n\n    italicIcon = () => {\n        const strokeColor = this.props.element.italic ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.element.italic ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M16 8C16 7.44772 16.4477 7 17 7H28C28.5523 7 29 7.44772 29 8V9C29 9.55228 28.5523 10 28 10H24.7899C24.3268 10 23.9243 10.3179 23.8171 10.7684L19.2932 29.7684C19.1436 30.3968 19.6201 31 20.266 31H23C23.5523 31 24 31.4477 24 32V33C24 33.5523 23.5523 34 23 34H12C11.4477 34 11 33.5523 11 33V32C11 31.4477 11.4477 31 12 31H15.2101C15.6732 31 16.0757 30.6821 16.1829 30.2316L20.7068 11.2316C20.8564 10.6032 20.3799 10 19.734 10H17C16.4477 10 16 9.55228 16 9V8Z\" fill={strokeColor}/>\n            </svg>\n        )\n    }\n\n    underlineIcon = () => {\n        const strokeColor = this.props.element.underline ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.element.underline ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M11 32C11 31.4477 11.4477 31 12 31H28C28.5523 31 29 31.4477 29 32V33C29 33.5523 28.5523 34 28 34H12C11.4477 34 11 33.5523 11 33V32Z\" fill={strokeColor}/>\n                <path d=\"M12 8C12 7.44772 12.4477 7 13 7H15C15.5523 7 16 7.44772 16 8V22C16 22.5523 15.5523 23 15 23H13C12.4477 23 12 22.5523 12 22V8Z\" fill={strokeColor}/>\n                <path d=\"M24 8C24 7.44772 24.4477 7 25 7H27C27.5523 7 28 7.44772 28 8V22C28 22.5523 27.5523 23 27 23H25C24.4477 23 24 22.5523 24 22V8Z\" fill={strokeColor}/>\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M16 17.7358C13.6088 18.6868 12 20.4643 12 22.5C12 26 15.5817 28 20 28C24.4183 28 28 26 28 22.5C28 20.4643 26.3912 18.6868 24 17.7358V21C24 25 20 25 20 25C20 25 16 25 16 21V17.7358Z\" fill={strokeColor}/>\n            </svg>\n        )\n    }\n\n    stopPropagation = (e) => {\n        //e.stopPropagation();\n    }\n\n    editHeight = (e) => {\n        this.props.edit(this.props.element.elementId, {\n            ...this.props.element, \n            height: e.target.value,\n        });\n    }\n\n    editWidth = (e) => {\n        this.props.edit(this.props.element.elementId, {\n            ...this.props.element, \n            width: e.target.value,\n        });\n    }\n\n    editX = (e) => {\n        this.props.edit(this.props.element.elementId, {\n            ...this.props.element, \n            posX: Number(e.target.value),\n        });\n    }\n\n    editY = (e) => {\n        this.props.edit(this.props.element.elementId, {\n            ...this.props.element, \n            posY: Number(e.target.value),\n        });\n    }\n\n    editRotation = (e) => {\n        this.props.edit(this.props.element.elementId, {\n            ...this.props.element, \n            rotation: Number(e.target.value) % 360,\n        });\n    }\n\n    editFont = (e) => {\n        console.log(e.target.value);\n        this.props.edit(this.props.element.elementId, {\n            ...this.props.element, \n            font: e.target.value,\n        });\n    }\n\n    editFontSize = (e) => {\n        console.log(e.target.value);\n        this.props.edit(this.props.element.elementId, {\n            ...this.props.element, \n            fontSize: e.target.value,\n        });\n    }\n\n    editTextAlign = (value) => {\n        this.props.edit(this.props.element.elementId, {\n            ...this.props.element, \n            textAlign: value,\n        });\n    }\n\n    editFontWeight = (e) => {\n        this.props.edit(this.props.element.elementId, {\n            ...this.props.element, \n            fontWeight: e.target.value,\n        });\n    }\n\n    editFixedDimensions = (value) => {\n        this.props.edit(this.props.element.elementId, {\n            ...this.props.element, \n            fixedDimensions: value,\n        });\n    }\n\n    editUnderline = () => {\n        this.props.edit(this.props.element.elementId, {\n            ...this.props.element, \n            underline: !this.props.element.underline,\n        });\n    }\n\n    editItalic = () => {\n        this.props.edit(this.props.element.elementId, {\n            ...this.props.element, \n            italic: !this.props.element.italic,\n        });\n    }\n\n    editVerticalAlign = (value) => {\n        this.props.edit(this.props.element.elementId, {\n            ...this.props.element, \n            verticalAlign: value\n        });\n    }\n\n    editColor = (e) => {\n        console.log(\"Editing color: \", e.target.value)\n        this.props.edit(this.props.element.elementId, {\n            ...this.props.element, \n            color: e.target.value\n        })\n    }\n\n    calcCorners = (element) => {\n        let corners = [];\n        const { posY, posX, height, width, rotation } = element;\n        const centerX = posX + 0.5 * width;\n        const centerY = posY + 0.5 * height;\n        const hyp = Math.sqrt((height/2) ** 2 + (width/2) ** 2);\n    \n        // corner 1 & 3\n        const degAtRotZero1 = Math.atan(width / height) * 180 / Math.PI;\n        const deg1 =  degAtRotZero1 + rotation; \n        const deltaX1 = hyp * Math.sin(Math.PI * 2 * deg1 / 360);\n        const deltaY1 = hyp * Math.cos(Math.PI * 2 * deg1 / 360);\n        corners.push({ x: centerX + deltaX1, y: centerY - deltaY1 })\n        corners.push({ x: centerX - deltaX1, y: centerY + deltaY1 })\n    \n        // corner 2 & 4\n        const degAtRotZero2 = Math.atan(- width / height) * 180 / Math.PI;\n        const deg2 =  degAtRotZero2 + rotation; \n        const deltaX2 = hyp * Math.sin(Math.PI * 2 * deg2 / 360);\n        const deltaY2 = hyp * Math.cos(Math.PI * 2 * deg2 / 360);\n        corners.push({ x: centerX - deltaX2, y: centerY + deltaY2 })\n        corners.push({ x: centerX + deltaX2, y: centerY - deltaY2 })\n        return corners;\n    }\n\n    getEdges = (corners) => {\n        let left = 1000000;\n        let top = 1000000;\n        let right = -1000000;\n        let bottom = -1000000;\n        corners.forEach( corner => {\n          const { x, y } = corner;\n          if(x < left) left = x;\n          if(x > right) right = x;\n          if(y < top) top = y;\n          if(y > bottom) bottom = y;\n        })\n        return { top, bottom, left, right };\n      }\n\n    getPreview = () => {\n        let e = this.props.element;\n        let { height, width, posX, posY, type, rotation, font, fontSize, textAlign, fontWeight, underline, italic, color, textStroke, elementId } = this.props.element;\n        let element;\n        const corners = this.calcCorners(e);\n        const { top, bottom, left, right } = this.getEdges(corners); \n        const totalHeight = bottom - top;\n        const totalWidth = right - left; \n        let scaleFactor = 1;\n        if(totalHeight < totalWidth){\n            scaleFactor = 180 / totalWidth\n        }else{\n            scaleFactor = 180 / totalHeight\n        }\n        let modifiedElement = {\n            ...e,\n            posX: posX - left,\n            posY: posY - top,\n        }\n        const styles = {\n            zoom: scaleFactor,\n            height: `${totalHeight}px`,\n            width: `${totalWidth}px`,\n            position: 'absolute',\n            left: '50%',\n            top: '50%',\n            transform: 'translate(-50%,-50%)',\n        }\n        switch(type){\n            case 'text': \n                element = \n                    <div style={styles}>\n                        <Element \n                            inPreview\n                            type='text'\n                            key={`prev-${elementId}`}\n                            element={modifiedElement}\n                        />\n                    </div>\n                break;\n            case 'rect': \n                element = \n                    <div style={styles}>\n                        <Element \n                            inPreview\n                            type='rect'\n                            key={`prev-${elementId}`}\n                            element={modifiedElement}\n                        />\n                    </div>\n                break;\n            case 'image': \n                element = \n                    <div style={styles}>\n                        <Element \n                        inPreview\n                        type='image'\n                        key={`prev-${elementId}`}\n                        element={modifiedElement}\n                        />\n                    </div>\n                break;\n            default: console.log('Invalid Element Type!'); \n        }\n        return(\n            <div>\n                {element}\n            </div>\n        )\n    }\n\n    render(){\n        if(!this.props.element) return null;\n        const { type, color, posX, posY, height, width, rotation, fontSize, font, fontWeight, fixedDimensions } = this.props.element;\n\n        return (\n            <div className={classes.SelectionMenu} onClick={this.stopPropagation} onMouseUp={this.stopPropagation}>\n                <div>\n                    <div className={classes.previewContainer}>\n                        <div className={classes.preview}>\n                            {this.getPreview()}\n                        </div>\n                    </div>\n                    <div className={classes.flex}>\n                        <div className={classes.inputWrapper}>\n                            <span>Height:</span>\n                            <input className={classes.input} onChange={this.editHeight} type='number' value={height}/>\n                        </div>\n                        <div className={classes.inputWrapper}>\n                            <span>Width:</span>\n                            <input className={classes.input} onChange={this.editWidth} type='number' value={width}/>\n                        </div>\n                    </div>\n                    <div className={classes.flex}>\n                        <div className={classes.inputWrapper}>\n                            <span>X:</span>\n                            <input className={classes.input}  onChange={this.editX} type='number' value={posX}/>\n                        </div>\n                        <div className={classes.inputWrapper}>\n                            <span>Y:</span>\n                            <input className={classes.input} onChange={this.editY} type='number' value={posY}/>\n                        </div>\n                    </div>\n                    <div className={classes.flex}>\n                        <div className={classes.inputWrapper}>\n                            <span>deg:</span>\n                            <input className={classes.input}  onChange={this.editRotation} type='number' value={rotation}/>\n                        </div>\n                    </div>\n                </div>\n                { type === \"text\" ? \n                    <div className={classes.textOptions}>\n                        <div className={classes.flex}>\n                            <div className={classes.fontSelector}> \n                                <select onChange={this.editFont} value={font}>\n                                    <option value=\"Impact\">Impact</option>\n                                    <option value=\"Arial\">Arial</option>\n                                    <option value=\"Times\">Times</option>\n                                    <option value=\"Verdana\">Verdana</option>\n                                </select>\n                            </div>\n                            <div className={classes.inputWrapper}>\n                                <input className={classes.input} onChange={this.editFontSize} type='number' value={fontSize}/>\n                            </div>\n                        </div>\n                        <div className={classes.flexSpaceBetween}>\n                            <div className={classes.flex}>\n                                <div className={classes.alignIcon} onClick={() => this.editTextAlign(\"left\")}>\n                                    {this.leftAlignIcon()}\n                                </div>\n                                <div className={classes.alignIcon} onClick={() => this.editTextAlign(\"center\")}>\n                                    {this.centerAlignIcon()}\n                                </div>\n                                <div className={classes.alignIcon} onClick={() => this.editTextAlign(\"right\")}>\n                                    {this.rightAlignIcon()}\n                                </div>\n                            </div>\n                            <div className={classes.flex}>\n                                <div className={classes.alignIcon} onClick={() => this.editVerticalAlign(\"top\")}>\n                                {this.topAlignIcon()}\n                                </div>\n                                <div className={classes.alignIcon} onClick={() => this.editVerticalAlign(\"middle\")}>\n                                {this.middleAlignIcon()}\n                                </div>\n                                <div className={classes.alignIcon} onClick={() => this.editVerticalAlign(\"bottom\")}>\n                                {this.bottomAlignIcon()}\n                                </div>\n                            </div>\n                        </div>\n                        <div className={classes.flex}>\n                            <div className={classes.fontWeight}>\n                                <select onChange={this.editFontWeight} value={fontWeight}>\n                                    {/* <option value=\"900\">Black</option>\n                                    <option value=\"800\">ExtraBold</option> */}\n                                    <option value=\"700\">Bold</option>\n                                    {/* <option value=\"600\">SemiBold</option>\n                                    <option value=\"500\">Medium</option> */}\n                                    <option value=\"400\">Regular</option>\n                                    {/* <option value=\"300\">Light</option>\n                                    <option value=\"200\">ExtraLight</option>\n                                    <option value=\"100\">Thin</option> */}\n                                </select>\n                            </div>\n                            <div className={classes.alignIcon} onClick={this.editItalic}>\n                                {this.italicIcon()}\n                            </div>\n                            <div className={classes.alignIcon} onClick={this.editUnderline}>\n                                {this.underlineIcon()}\n                            </div>\n                        </div>\n\n\n                        <div className={classes.textBoxTypeOptions}>\n                            <div onClick={() => this.editFixedDimensions(false)}>\n                                <input type=\"checkbox\" onChange={() => this.editFixedDimensions(false)} checked={!fixedDimensions}/> fixed width & font size\n                            </div>\n                            <div onClick={() => this.editFixedDimensions(true)}>\n                                <input type=\"checkbox\" onChange={() => this.editFixedDimensions(true)} checked={fixedDimensions}/> fixed textbox size\n                            </div>\n                        </div>\n                    </div>\n                : null }\n                { type === \"rect\" ? \n                    <div className={classes.colorOptions}>\n                        <div className={classes.colorInputContainer}>\n                            <div className={classes.colorInputBackground} style={{background: color}}></div>\n                            <input \n                                type='color' \n                                onChange={this.editColor} \n                                value={color} \n                                className={classes.colorInput}\n                            />\n                        </div>\n                        <p>background</p>\n                    </div>\n                : null }\n            </div>\n        )\n    }\n }\n\n export default SelectionMenu;","import React, { Component } from 'react';\nimport classes from './ResizeHandler.module.css';\n\n\nclass ResizeHandler extends Component {\n\n    componentDidMount = () => {\n        let element = document.getElementById(`rsh-${this.props.dir}`);\n        if(element){\n            element.addEventListener('onmousedown', this.handleResizeMouseDown);\n        }\n    }\n\n    componentWillUnmount = () => {\n        let element = document.getElementById(`rsh-${this.props.dir}`);\n        if(element){\n            element.removeEventListener('onmousedown', this.handleResizeMouseDown)\n        }\n    }\n\n    handleResizeMouseDown = e => {\n        e.stopPropagation();\n        this.props.resizeMouseDown(e, this.props.dir, this.props.elementId);\n    }\n\n    getStyleClasses = () => {\n        let styles = [this.props.dir.length > 1 ? classes.Corner : classes.Edge];\n        switch(this.props.dir){ \n            case 'NW': styles.push(classes.NW);break;\n            case 'NE': styles.push(classes.NE);break;\n            case 'SW': styles.push(classes.SW);break;\n            case 'SE': styles.push(classes.SE);break;\n            case 'N': styles.push(classes.N);break;\n            case 'W': styles.push(classes.W);break;\n            case 'S': styles.push(classes.S);break;\n            case 'E': styles.push(classes.E);break;\n            default: console.log(\"Invalid direction for resize hanlder\");\n        }\n        return styles;\n    } \n\n\n    render() {\n        return(\n            <div \n                id={`rsh-${this.props.dir}`}\n                className={this.getStyleClasses().join(' ')} \n                onMouseDown={e => this.props.resizeMouseDown(e, this.props.dir, this.props.elementId)}>\n            </div>\n        )\n    }\n}\n\nexport default ResizeHandler;","import React, { Component } from 'react';\nimport ResizeHandler from '../Element/ResizeHandler/ResizeHandler';\nimport classes from './SelectionFrame.module.css';\n\nclass SelectionFrame extends Component {\n\n\n    getResizeHandlers = () => {\n        let resizeHandlers = [];\n        if(this.props.editingId) return null; \n        if(this.props.element.type === 'text' && !this.props.element.fixedDimensions){\n                resizeHandlers.push('W','E');\n        } else {\n            resizeHandlers.push('NW','SW','NE','SE');\n            if(this.props.element.height > 30){\n                resizeHandlers.push('E','W');\n            }\n            if(this.props.element.width > 30){\n                resizeHandlers.push('N','S');\n            }\n        } \n        return resizeHandlers.map(r => {\n            return (\n                <ResizeHandler \n                    key={r} \n                    dir={r} \n                    elementId={this.props.element.elementId} \n                    resizeMouseDown={this.props.resizeMouseDown}\n                />\n            )\n        });\n    }\n\n    doubleClick = e => {\n        if(this.props.element.type === 'text'){\n            this.props.selectAndEdit(e, this.props.element.elementId)\n        }\n    }\n\n    getStyles = () => {\n        const { height, width, posX, posY, rotation } = this.props.element;\n        const { offsetX, offsetY } = this.props.perspective;\n        let styles = {\n            height: `${height}px`, \n            width: `${width}px`,\n            left: `${posX + offsetX}px`,\n            top: `${posY + offsetY}px`,\n            transform: `rotate(${rotation}deg)`,\n        }\n        if(this.props.editingId){\n            styles.pointerEvents = 'none'; \n        }else {\n            styles.cursor = 'grab';\n        }\n        return styles; \n    }\n\n    onMouseDown = (e) => {\n        if(this.props.editingId !== this.props.element.elementId){\n            this.props.elementMouseDown(e, this.props.element.elementId)\n        }\n    }\n\n    render(){\n        return(\n            <div \n                className={classes.SelectionFrame} \n                style={this.getStyles()}\n                onMouseDown={this.onMouseDown}\n                onMouseUp={this.mouseUp}\n                onDoubleClick={this.doubleClick}\n                >\n                {this.getResizeHandlers()}\n            </div>           \n        );\n    }\n}\n\nexport default SelectionFrame;","import React, { Component } from 'react';\n\nimport classes from './ExportModal.module.css';\n\nimport * as htmlToImage from 'html-to-image';\n\nimport Element from '../Element/Element';\nimport PrimaryButton from '../../UI/PrimaryButton/PrimaryButton';\nimport Loader from 'react-loader-spinner'; \n\n\nclass ExportModal extends Component {\n\n    state={\n        height: 0,\n        width: 0, \n        downloadFormat: 'jpg', // jpg, png, svg\n        linkRef: React.createRef(), \n        imagesLoaded: 0, \n        imageCreationStarted: false, \n        downloadLoading: false,\n    }\n\n    componentDidMount = () => {\n        const height = this.divElement.clientHeight;\n        const width = this.divElement.clientWidth;\n        this.setState({ height, width });\n    }\n\n    componentDidUpdate = () => {\n        const height = this.divElement.clientHeight;\n        const width = this.divElement.clientWidth;\n        if(height !== this.state.height || width !== this.state.width){\n            this.setState({ height, width });\n        }\n    }\n\n    calcContentMetrics = () => {\n        let leftBorder = 10000000000;\n        let rightBorder = -10000000000;\n        let topBorder = 10000000000;\n        let bottomBorder = -10000000000;\n        \n        this.props.elements.forEach(element => {\n            if(element.posX < leftBorder) leftBorder =  element.posX;\n            if(element.posX + element.width > rightBorder) rightBorder =  element.posX + element.width;\n            if(element.posY < topBorder) topBorder =  element.posY;\n            if(element.posY + element.height > bottomBorder) bottomBorder =  element.posY + element.height;\n        })\n        return {\n            leftBorder,\n            rightBorder,\n            topBorder, \n            bottomBorder,\n            contentWidth: rightBorder-leftBorder,\n            contentHeight: bottomBorder-topBorder,\n        };\n    }\n\n    setDownloadFormat = (e) => {\n        console.log(e.target.value);\n        this.setState({downloadFormat: e.target.value});\n    }\n\n    onDownLoad = () => {\n            const node = document.getElementById('preview');\n            this.setState({downloadStarted: true}); \n            //png\n            if(this.state.downloadFormat === \"png\"){\n                htmlToImage.toPng(node)\n                .then(dataUrl => {\n                    const link = document.createElement('a');\n                    link.setAttribute('download',`FileName.${this.state.downloadFormat}`);\n                    link.href = dataUrl;\n                    document.body.appendChild(link);\n                    link.click();\n                    if(link && link.parentNode){\n                        link.parentNode.removeChild(link);\n                    }\n                    this.props.closeExportModal(); \n                }).catch(err => {\n                    console.log(\"png downloadError\")\n                    console.log(err);\n                })\n            }\n    \n            // jpg\n            if(this.state.downloadFormat === \"jpg\"){\n                htmlToImage.toJpeg(node)\n                .then(dataUrl => {\n                    const link = document.createElement('a');\n                    link.setAttribute('download',`FileName.${this.state.downloadFormat}`);\n                    link.href = dataUrl;\n                    document.body.appendChild(link);\n                    link.click();\n                    if(link && link.parentNode){\n                        link.parentNode.removeChild(link);\n                    }\n                    this.props.closeExportModal(); \n                }).catch(err => {\n                    console.log(\"SETTING URL ERROR\")\n                    console.log(err);\n                })\n            }\n    \n            // svg\n            if(this.state.downloadFormat === \"png\"){\n                htmlToImage.toSvg(node)\n                .then(dataUrl => {\n                    const link = document.createElement('a');\n                    link.setAttribute('download',`FileName.${this.state.downloadFormat}`);\n                    link.href = dataUrl;\n                    document.body.appendChild(link);\n                    link.click();\n                    if(link && link.parentNode){\n                        link.parentNode.removeChild(link);\n                    }\n                    this.props.closeExportModal(); \n                }).catch(err => {\n                    console.log(\"SETTING URL ERROR\")\n                })\n            }\n    }\n\n    getElements = (elements) => {\n\n        // TODO: redo/replace this with real orders and z-index\n        const orderedElements = [\n          ...elements.filter(e => e.type !== 'text'),\n          ...elements.filter(e => e.type === 'text')\n        ]\n    \n        return orderedElements.map(e => {\n          // const highlight = this.state.dragging && this.state.\n            switch(e.type){\n                case 'text': \n                    return(\n                        <Element \n                        inPreview\n                        type='text'\n                        key={`exp-${e.elementId}`}\n                        element={e}\n                        />\n                    ) \n                case 'rect': \n                    return(\n                        <Element \n                            inPreview\n                            type='rect'\n                            key={`exp-${e.elementId}`}\n                            element={e}\n                        />\n                    )\n                case 'image': \n                    return(\n                        <Element \n                        inPreview\n                        type='image'\n                        key={`exp-${e.elementId}`}\n                        element={e}\n                        />\n                    )\n                default: console.log('Invalid Element Type!'); return null; \n            }\n        })\n    }\n\n    render(){\n        const {\n            leftBorder,\n            topBorder, \n            contentWidth,\n            contentHeight\n        } = this.calcContentMetrics();\n\n        const aspectRatioContainer = this.state.width/this.state.height;\n        const aspectRatioContent = contentWidth/contentHeight; \n\n        let previewStyles = {\n            height: contentHeight,\n            width: contentWidth\n        };\n        \n        if(aspectRatioContent < aspectRatioContainer) {\n            const scaleFactorY = this.state.height / contentHeight; \n            if(contentHeight > this.state.height){\n                previewStyles.zoom = scaleFactorY; \n            }\n        } else {\n            const scaleFactorX =  this.state.width / contentWidth \n            if(contentWidth > this.state.width){\n                previewStyles.zoom = scaleFactorX; \n            }\n        }\n\n        const transformedElements = this.props.elements.map(element => {\n            return {\n                ...element,\n                posX: element.posX - leftBorder,\n                posY: element.posY - topBorder,\n            }\n        })\n\n\n        return(\n            <div className={classes.ExportModal}>\n                <div className={classes.Background} onClick={this.props.closeExportModal}></div>\n                <div className={classes.Modal}>\n                    <div id=\"previewContainer\" className={classes.PreviewContainer} ref={ (divElement) => { this.divElement = divElement } }>\n                        <div \n                            className={classes.Preveiw} \n                            style={previewStyles}\n                            >\n                                <div id=\"preview\" className={classes.DownloadWrapper}>\n                                    {\n                                        this.getElements(transformedElements)\n                                    }\n                                </div>\n                        </div>\n                    </div>\n                    <div className={classes.DownloadOptions}>\n                        <div className={classes.DownloadContainer}>\n                            <select onChange={this.setDownloadFormat} value={this.state.downloadFormat}>\n                                <option value=\"png\" label=\"png\"/>\n                                <option value=\"jpg\" label=\"jpg\"/>\n                                <option value=\"svg\" label=\"svg\"/>\n                            </select>\n                            <PrimaryButton clicked={this.onDownLoad} disabled={this.state.downloadLoading}>\n                                {\n                                    !this.state.downloadLoading\n                                    ? <h3>Download</h3> \n                                    :  <Loader \n                                        className={classes.Spinner} \n                                        type=\"ThreeDots\" \n                                        color=\"#FFFFFF\" \n                                        height={30} \n                                        width={30}/>\n                                }\n                            </PrimaryButton>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ExportModal;","import React, { Component } from 'react'\n// import classes from './ImageDragNDrop.module.css'; \n\nclass ImageDragNDrop extends Component {\n  state = {\n    drag: false\n  }\n  dropRef = React.createRef()\n\n  handleDragIn = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    console.log(\"drag in\"); \n    this.dragCounter++\n    if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\n      this.setState({drag: true})\n    }\n  }\n  handleDragOut = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    console.log(\"drag out\"); \n    this.dragCounter--\n    if (this.dragCounter === 0) {\n      this.setState({drag: false})\n    }\n  }\n  handleDrop = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    this.setState({drag: false})\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      this.props.handleDrop(e.dataTransfer.files)\n      e.dataTransfer.clearData()\n      this.dragCounter = 0;     \n    }\n  }\n  componentDidMount() {\n    let div = this.dropRef.current\n    div.addEventListener('dragenter', this.handleDragIn)\n    div.addEventListener('dragleave', this.handleDragOut)\n    div.addEventListener('drop', this.handleDrop)\n  }\n  componentWillUnmount() {\n    let div = this.dropRef.current\n    div.removeEventListener('dragenter', this.handleDragIn)\n    div.removeEventListener('dragleave', this.handleDragOut)\n    div.removeEventListener('drop', this.handleDrop)\n  }\n  render() {\n    return (\n      <div\n        style={{display: 'inline-block', position: 'relative', height: \"100%\", width: \"100%\"}}\n        ref={this.dropRef}\n      >\n        {this.state.dragging &&\n          <div \n            style={{\n              border: 'dashed grey 4px',\n              backgroundColor: 'rgba(255,255,255,.8)',\n              zIndex: 9999, \n              height: \"100%\", \n              width: \"100%\",\n            }}\n          >\n            <div \n              style={{\n                position: 'absolute',\n                top: '50%',\n                right: 0,\n                left: 0,\n                textAlign: 'center',\n                color: 'grey',\n                fontSize: 36\n              }}\n            >\n              <div>drop here :)</div>\n            </div>\n          </div>\n        }\n        {this.props.children}\n      </div>\n    )\n  }\n}\nexport default ImageDragNDrop","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../store/actions/index';\nimport classes from \"./Creator.module.css\";\nimport Element from \"./Element/Element\";\nimport Line from \"./Line/Line\";\nimport TopMenu from \"./TopMenu/TopMenu\";\nimport SelectionMenu from \"./SelectionMenu/SelectionMenu\";\nimport SelectionFrame from \"./SelectionFrame/SelectionFrame\";\nimport ExportModal from \"./ExportModal/ExportModal\";\nimport ImageDragNDrop from \"./ImageDragNDrop/ImageDragNDrop\";\n// import ChrisDrunk from './ChrisDrunk.jpg'; \nimport Washington from './Washington.jpeg';\nimport Monument from './Washington_Monument.jpeg';\n\nconst JUMP_TO_LINE_TOLERANZ = 4;\n\nclass Creator extends Component {\n\n  state = {\n    dragging: false, \n    draggingFile: false, \n    selectedId: '9',\n    editingId: null, \n    selectedHline: null,\n    selectedVline: null,\n    exportModalOpen: false,\n    files: [], \n    perspective: {\n      offsetX: 200,\n      offsetY: 200\n    },\n    elements: [\n      {\n        type: 'text', \n        elementId: '5',\n        height: 170,\n        width: 570, \n        posX: 15,\n        posY: 15,\n        text: 'Y\\'all ever notice that the Washington monument looks absolutely NOTHING like George Washington?',\n        font: 'Oswald',\n        fontSize: '28.5',\n        fontWeight: '700',\n        textAlign: 'center',\n        verticalAlign: 'top', \n        fixedDimensions: true,\n        underline: false, \n        italic: false, \n        textStroke: true,\n        rotation: 0,\n      },\n      {\n        type: 'rect',\n        elementId: '8',\n        posX: 0,\n        posY: 0,\n        height: 200,\n        width: 600,\n        color: '#000000',\n        rotation: 0,\n      },\n      {\n        type: 'image',\n        elementId: '11',\n        imgSrc: Washington,\n        posX: 0,\n        posY: 200,\n        height: 365,\n        width: 300,\n        rotation: 0,\n      },\n      {\n        type: 'image',\n        elementId: '12',\n        imgSrc: Monument,\n        posX: 300,\n        posY: 200,\n        height: 365,\n        width: 300,\n        rotation: 0,\n      }\n    ],\n  }\n\n\n  /// SELECT /////////////////////////////////////////////////\n\n  select = (e, elementId) => {\n    e.stopPropagation();\n    e.preventDefault();\n    if(this.state.editingId){\n      const element = document.getElementById(`${this.state.editingId}-input`);\n      element.blur();\n    }\n    this.setState({\n      selectedId: elementId, \n      editingId: null\n    })\n  }\n\n  selectAndEdit = (e, elementId) => {\n    e.stopPropagation();\n    e.preventDefault();\n    this.setState({\n      selectedId: elementId,\n      editingId: elementId\n    })\n    const element = document.getElementById(`${elementId}-input`);\n    setTimeout(() => {\n      console.log(\"focusing\")\n      element.focus();\n    }, 0); \n  }\n\n  backgroundMouseUp = (e) => {\n    if(!this.state.dragging){\n      if(this.state.editingId){\n        const element = document.getElementById(`${this.state.editingId}-input`);\n        element.blur();\n        this.setState({ editingId: null, draggingFile: false })\n      }else{\n        this.setState({\n          selectedId: null, draggingFile: false \n        });\n      }\n    }\n  }\n\n  /// REPOSITION /////////////////////////////////////////////////\n\n  elementMouseDown = (e, elementId) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const element = this.state.elements.find(e => e.elementId === elementId);\n    const prevX = element.posX;\n    const prevY = element.posY;\n    const prevMouseX = e.clientX;\n    const prevMouseY = e.clientY;\n    const { Hlines, Vlines } = this.getLines(elementId);\n    const mousemove = (e) => {\n      let newX = prevX - prevMouseX + e.clientX;\n      let newY = prevY - prevMouseY + e.clientY;\n      let selectedHline = null;\n      let selectedVline = null; \n      Hlines.forEach(l => {\n        if(Math.abs(l-newY) < JUMP_TO_LINE_TOLERANZ){\n           newY = l;\n           selectedHline = l;\n        } \n        if(Math.abs(l-(newY+element.height)) < JUMP_TO_LINE_TOLERANZ){\n          newY = l - element.height;\n          selectedHline = l;\n        }\n        if(Math.abs(l-(2*newY+element.height)/2) < JUMP_TO_LINE_TOLERANZ){\n          newY = l - 0.5 * element.height;\n          selectedHline = l;\n        }\n      })\n      Vlines.forEach(l => {\n        if(Math.abs(l-newX) < JUMP_TO_LINE_TOLERANZ){\n           newX = l;\n           selectedVline = l;\n        } \n        if(Math.abs(l-(newX+element.width)) < JUMP_TO_LINE_TOLERANZ){\n          newX = l - element.width\n          selectedVline = l;\n        }\n        if(Math.abs(l-(2*newX+element.width)/2) < JUMP_TO_LINE_TOLERANZ){\n          newX = l - 0.5 * element.width\n          selectedVline = l;\n        }\n      })\n      let elementsNew = this.state.elements.map(e => {\n        if(e.elementId !== elementId){\n          return e;\n        }else{\n          return ({\n            ...element,\n            posX: newX,\n            posY: newY,\n          })\n        }\n      });\n      this.setState({\n        selectedId: elementId, \n        selectedHline: selectedHline,\n        selectedVline: selectedVline,\n        elements: elementsNew,\n      });\n    } \n\n    const mouseup = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      window.removeEventListener('mousemove', mousemove);\n      window.removeEventListener('mouseup', mouseup);\n      this.setState({\n        selectedHline: null, \n        selectedVline: null,\n        dragging: false\n      })\n    }\n\n    window.addEventListener('mousemove', mousemove);\n    window.addEventListener('mouseup', mouseup);\n    this.setState({\n      selectedId: elementId,\n      dragging: true, \n    })\n  }\n\n  onTextInput = (e, elementId) => {\n    const selectionOffsetBefore = window.getSelection().focusOffset;\n    let elementsNew = this.state.elements.filter(e => e.elementId !== elementId);\n    const element = this.state.elements.find(e => e.elementId === elementId);\n    let elem = document.getElementById(`${elementId}-input`);\n    console.log(elem.offsetHeight, element.height)\n    let newHeight = element.fixedDimensions ? element.height : elem.offsetHeight; \n    this.setState({\n      elements: [\n        ...elementsNew,\n        {\n          ...element,\n          height: newHeight,\n          text: e.target.textContent\n        }\n      ]\n    }, () => {\n      let range = document.createRange(); \n      let selection = window.getSelection();\n      if(!element.fixedDimensions){\n        if(elem.childNodes.length > 0){\n          range.setStart(elem.childNodes[0], selectionOffsetBefore); \n          range.collapse(true); \n          selection.removeAllRanges(); \n          selection.addRange(range); \n          elem.focus(); \n        }\n      } else {\n        if(elem.childNodes.length > 0 && elem.childNodes[0].childNodes.length > 0){\n          range.setStart(elem.childNodes[0].childNodes[0], selectionOffsetBefore); \n          range.collapse(true); \n          selection.removeAllRanges(); \n          selection.addRange(range); \n          elem.focus(); \n        }\n      }\n    });\n  }\n\n  adjustTextElementHeight = (elementId) => {\n    let elementsNew = this.state.elements.filter(e => e.elementId !== elementId);\n    const element = this.state.elements.find(e => e.elementId === elementId);\n    const elem = document.getElementById(`${elementId}-input`);\n    elem.innerHTML = element.text;\n    console.log(elem.offsetHeight, element.height) \n    console.log(elementsNew); \n    this.setState({\n      elements: [\n        ...elementsNew,\n        {\n          ...element,\n          height: elem.offsetHeight,\n        }\n      ]\n    });\n  }\n\n  /// ADD //////////////////////////////////////////////////\n\n  addElements = (elements) => {\n    this.setState({\n      elements: [...this.state.elements, ...elements],\n      selectedId: elements[elements.length-1].elementId,\n    })\n  }\n\n  handleImageDrop = (files) => {\n    let fileList = this.state.files\n    for (var i = 0; i < files.length; i++) {\n      if (!files[i].name) return\n      fileList.push(files[i].name)\n      console.log(files[i]); \n    }\n    this.setState({files: fileList})\n  }\n\n  ///  RESIZE  /////////////////////////////////////////////////\n\n  resizeMouseDown = (e, dir, elementId) => {\n    console.log('RESIZE MOUSE DOWN');\n    e.preventDefault();\n    e.stopPropagation(); \n    const element = this.state.elements.find(e => e.elementId === elementId);\n    const aspectRatio = element.width / element.height;\n    const prevWidth = element.width;\n    const prevHeight = element.height;\n    const prevX = element.posX;\n    const prevY = element.posY;\n    const mouseStartX = e.clientX;\n    const mouseStartY = e.clientY;\n\n    const resizeMouseMouve = (e) => {\n        let newWidth = prevWidth;\n        let newHeight = prevHeight;\n        let newX = prevX;\n        let newY = prevY;\n        let newFontSize = element.fontSize;\n\n        const diffWidth = e.clientX - mouseStartX;\n        const diffHeight = e.clientY - mouseStartY;\n\n        const { Hlines, Vlines } = this.getLines(elementId);\n        let selectedHline = null;\n        let selectedVline = null; \n\n        let fixedAspectRatio = element.type === 'image'; \n        if(e.shiftKey) fixedAspectRatio = !fixedAspectRatio; \n\n        switch(dir) {\n            case 'E': \n                newWidth += diffWidth;\n                Vlines.forEach(l => {\n                  if(Math.abs(newX + newWidth - l) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = l - prevX;\n                    selectedVline = l;\n                  }  \n                });\n                break;\n            case 'S': \n                newHeight += diffHeight; \n                Hlines.forEach(l => {\n                  if(Math.abs(newY + newHeight - l) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = l - prevY;\n                    selectedHline = l;\n                  }  \n                });\n                break; \n            case 'W': \n                newWidth -= diffWidth;\n                newX += diffWidth;\n                Vlines.forEach(l => {\n                  if(Math.abs(l-newX) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = prevX + prevWidth - l;\n                    newX = l;\n                    selectedVline = l;\n                  }  \n                });\n                break;    \n            case 'N': \n                newHeight -= diffHeight;\n                newY += diffHeight;\n                Hlines.forEach(l => {\n                  if(Math.abs(l-newY) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = prevY + prevHeight - l;\n                    newY = l;\n                    selectedHline = l;\n                  }  \n                });\n                break;                 \n            case 'SE':\n                newWidth += diffWidth; \n                newHeight = fixedAspectRatio ? newWidth / aspectRatio : newHeight + diffHeight; \n                Vlines.forEach(l => {\n                  if(Math.abs(newX + newWidth - l) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = l - prevX;\n                    selectedVline = l;\n                  }  \n                });\n                Hlines.forEach(l => {\n                  if(Math.abs(newY + newHeight - l) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = l - prevY;\n                    selectedHline = l;\n                  }  \n                });\n                break; \n            case 'NE':\n                newWidth += diffWidth; \n                newHeight = fixedAspectRatio ? newWidth / aspectRatio : newHeight - diffHeight;\n                newY += prevHeight - newHeight; \n                Hlines.forEach(l => {\n                  if(Math.abs(l-newY) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = prevY + prevHeight - l;\n                    newY = l;\n                    selectedHline = l;\n                  }  \n                });\n                Vlines.forEach(l => {\n                  if(Math.abs(newX + newWidth - l) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = l - prevX;\n                    selectedVline = l;\n                  }  \n                });\n                break; \n            case 'SW':\n                newWidth -= diffWidth; \n                newHeight = fixedAspectRatio ? newWidth / aspectRatio : newHeight + diffHeight; \n                newX += prevWidth - newWidth; \n                Hlines.forEach(l => {\n                  if(Math.abs(newY + newHeight - l) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = l - prevY;\n                    selectedHline = l;\n                  }  \n                });\n                Vlines.forEach(l => {\n                  if(Math.abs(l-newX) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = prevX + prevWidth - l;\n                    newX = l;\n                    selectedVline = l;\n                  }  \n                });\n                break;\n            case 'NW':\n                newWidth -= diffWidth; \n                newHeight = fixedAspectRatio ? newWidth / aspectRatio : newHeight - diffHeight;\n                newX += prevWidth - newWidth; \n                newY += prevHeight - newHeight; \n                Hlines.forEach(l => {\n                  if(Math.abs(l-newY) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = prevY + prevHeight - l;\n                    newY = l;\n                    selectedHline = l;\n                  }  \n                });\n                Vlines.forEach(l => {\n                  if(Math.abs(l-newX) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = prevX + prevWidth - l;\n                    newX = l;\n                    selectedVline = l;\n                  }  \n                });\n                break; \n            default: console.log('Invalid dir', dir)\n        }\n\n        if(element.type === 'text'){\n          const elem = document.getElementById(`${elementId}-input`);\n          if(!element.fixedDimensions){\n            newHeight = elem.offsetHeight;\n          } else {\n            if(elem.offsetHeight > newHeight){\n              newFontSize = element.fontSize - 2; \n            }\n          }\n        }\n\n        let elementsNew = this.state.elements.map(E => {\n          if(E.elementId === elementId){\n            return {\n              ...element,\n                width: newWidth, \n                height: newHeight,\n                posX: newX,\n                posY: newY,\n                fontSize: newFontSize\n            }\n          }else{\n            return E\n          }\n        });\n        this.setState({\n          dragging: true,\n          elements: elementsNew,\n          selectedHline: selectedHline,\n          selectedVline: selectedVline,\n        });\n    }\n    const mouseup = (e) => {\n      console.log(\"RESIZE MOUSE UP\");\n      e.preventDefault();\n      e.stopPropagation(); \n      window.removeEventListener('mousemove', resizeMouseMouve);\n      window.removeEventListener('mouseup', mouseup);\n      this.setState({\n        selectedHline: null, \n        selectedVline: null,\n        dragging: false\n      })\n    }\n    window.addEventListener('mousemove', resizeMouseMouve);\n    window.addEventListener('mouseup', mouseup);\n  }\n\n  edit = (elementId, newElement) => {\n    const newElements = this.state.elements.map(e => {\n      if(e.elementId === elementId){\n        return newElement\n      }else{\n        return e;\n      }\n    })\n    this.setState({ elements: newElements, editingId: null })\n  }\n\n  /// EXPORT /////////////////////////////////////// \n\n  closeExportModal = () => {\n    this.setState({exportModalOpen: false})\n  }\n\n  openExportModal = () => {\n    this.setState({exportModalOpen: true})\n  }\n  \n  /// RENDER /////////////////////////////////////////////////\n\n  getElements = (elements, inPreview, onImgeLoad) => {\n\n    // TODO: redo/replace this with real orders and z-index\n    const orderedElements = [\n      ...elements.filter(e => e.type !== 'text'),\n      ...elements.filter(e => e.type === 'text')\n    ]\n\n    return orderedElements.map(e => {\n      // const highlight = this.state.dragging && this.state.\n      switch(e.type){\n        case 'text': \n          return(\n            <Element \n              inPreview={inPreview}\n              currentlyEditing={this.state.editingId === e.elementId}\n              type='text'\n              key={`${inPreview ? 'prev' : ''}-${e.elementId}`}\n              element={e}\n              editingId={this.state.editingId}\n              selected={e.elementId === this.state.selectedId}\n              perspective={this.state.perspective}\n              edit={this.edit}\n              select={this.select}\n              selectAndEdit={this.selectAndEdit}\n              elementMouseDown={this.elementMouseDown}\n              onTextInput={this.onTextInput}\n              selectedLines={{h: this.state.selectedHline, v: this.state.selectedVline}}\n            />\n          ) \n        case 'rect': \n            return(\n              <Element \n                inPreview={inPreview}\n                currentlyEditing={this.state.editingId === e.elementId}\n                type='rect'\n                key={`${inPreview ? 'prev' : ''}-${e.elementId}`}\n                element={e}\n                selected={e.elementId === this.state.selectedId}\n                perspective={this.state.perspective}\n                select={this.select}\n                elementMouseDown={this.elementMouseDown}\n                selectedLines={{h: this.state.selectedHline, v: this.state.selectedVline}}\n              />\n            )\n        case 'image': \n          return(\n            <Element \n              inPreview={inPreview}\n              currentlyEditing={this.state.editingId === e.elementId}\n              type='image'\n              key={`${inPreview ? 'prev' : ''}-${e.elementId}`}\n              element={e}\n              selected={e.elementId === this.state.selectedId}\n              perspective={this.state.perspective}\n              select={this.select}\n              elementMouseDown={this.elementMouseDown}\n              onImageLoad={onImgeLoad}\n              selectedLines={{h: this.state.selectedHline, v: this.state.selectedVline}}\n            />\n          )\n        default: console.log('Invalid Element Type!'); return null; \n      }\n    })\n  }\n\n  calcCorners = (element) => {\n    console.log(\"CALC CORNERS\");\n    let corners = [];\n    const { posY, posX, height, width, rotation } = element;\n    const centerX = posX + 0.5 * width;\n    const centerY = posY + 0.5 * height;\n    const hyp = Math.sqrt((height/2) ** 2 + (width/2) ** 2);\n\n    // corner 1 & 3\n    const degAtRotZero1 = Math.atan(width / height) * 180 / Math.PI;\n    const deg1 =  degAtRotZero1 + rotation; \n    const deltaX1 = hyp * Math.sin(Math.PI * 2 * deg1 / 360);\n    const deltaY1 = hyp * Math.cos(Math.PI * 2 * deg1 / 360);\n    corners.push({ x: centerX + deltaX1, y: centerY - deltaY1 })\n    corners.push({ x: centerX - deltaX1, y: centerY + deltaY1 })\n\n    // corner 2 & 4\n    const degAtRotZero2 = Math.atan(- width / height) * 180 / Math.PI;\n    const deg2 =  degAtRotZero2 + rotation; \n    const deltaX2 = hyp * Math.sin(Math.PI * 2 * deg2 / 360);\n    const deltaY2 = hyp * Math.cos(Math.PI * 2 * deg2 / 360);\n    corners.push({ x: centerX - deltaX2, y: centerY + deltaY2 })\n    corners.push({ x: centerX + deltaX2, y: centerY - deltaY2 })\n    return corners;\n  }\n\n  getEdges = (corners) => {\n    let left = 1000000;\n    let top = 1000000;\n    let right = -1000000;\n    let bottom = -1000000;\n    corners.forEach( corner => {\n      const { x, y } = corner;\n      if(x < left) left = x;\n      if(x > right) right = x;\n      if(y < top) top = y;\n      if(y > bottom) bottom = y;\n    })\n    return { top, bottom, left, right };\n  }\n\n  getLines = (excludeId) => {\n    let Hlines = [];\n    let Vlines = [];\n    this.state.elements.forEach(element => {\n      if(excludeId !== element.elementId){\n        const { posY, posX, height, width } = element;\n        const centerX = posX + 0.5 * width;\n        const centerY = posY + 0.5 * height;\n        const corners = this.calcCorners(element); \n        const { top, bottom, left, right } = this.getEdges(corners);\n\n        Hlines.push(top);      \n        Hlines.push(centerY);\n        Hlines.push(bottom);\n\n        Vlines.push(left);      \n        Vlines.push(centerX);\n        Vlines.push(right);\n      } \n    });\n    const lines = {\n      Hlines: [...new Set(Hlines)],\n      Vlines: [...new Set(Vlines)]\n    }\n    return lines; \n  }\n\n  shouldElementHighlight = (elementId) => {\n    if(!this.state.selectedHline && !this.state.selectedHline) return false;\n    if(elementId === this.state.selectedId) return false;\n    const element = this.state.elements.find(e => e.elementId === elementId);\n    let Hlines = [];\n    let Vlines = [];\n    Hlines.push(element.posY)\n    Hlines.push(element.posY + element.height)\n    Hlines.push((2* element.posY + element.height)/2)\n    Vlines.push(element.posX)\n    Vlines.push(element.posX + element.width)\n    Vlines.push((2* element.posX + element.width)/2)\n    console.log(element);\n    console.log(Hlines);\n    console.log(Vlines);\n    console.log(this.state.selectedVline);\n    console.log(Vlines.includes(this.state.selectedVline))\n    if(Hlines.includes(this.state.selectedHline)) return true; \n    if(Vlines.includes(this.state.selectedVline)) return true; \n    return false;\n  }\n\n  renderLines = () => {\n    let lines = [];\n    if(this.state.selectedHline){\n      lines.push(\n        <Line \n          key={`HL-${this.state.selectedHline}`} \n          top={this.state.selectedHline} \n          left={0}\n          perspective={this.state.perspective}\n        />\n      )\n    }\n    if(this.state.selectedVline){\n      lines.push(\n        <Line \n          key={`VL-${this.state.selectedVline}`} \n          top={0} \n          left={this.state.selectedVline}\n          perspective={this.state.perspective}\n        />\n      )\n    }\n    return lines; \n  }\n\n  // two finger touch on trackpad \n  wheel = (e) => {\n    e.stopPropagation()\n    if(e.ctrlKey && e.deltaY !== 0){\n      console.log(\"ZOOM\", e.deltaY < 0 ? \"IN\":\"OUT\", \"DETECTED\", e.deltaY)\n    } else {\n      // move the entire canvas in any direction \n      let offsetXNew = this.state.perspective.offsetX - e.deltaX;\n      let offsetYNew = this.state.perspective.offsetY - e.deltaY;\n      if(offsetXNew > 50000 || offsetXNew < -50000) offsetXNew = this.state.perspective.offsetX;\n      if(offsetYNew > 50000 || offsetYNew < -50000) offsetYNew = this.state.perspective.offsetY;\n      this.setState({\n        perspective: {\n          offsetX: offsetXNew,\n          offsetY: offsetYNew\n        }\n      })\n    }\n  }\n\n  calcOriginStyles = () => {\n    let styles = {\n      left: `${this.state.perspective.offsetX}px`, \n      top: `${this.state.perspective.offsetY}px`,\n      position: \"absolute\",\n      height: \"5px\",\n      width: \"5px\",\n      backgroundColor: \"red\",\n      zIndex: 10000\n    }\n    return styles\n  }\n\n  calcGridStyles = () => {\n    const { offsetX, offsetY } = this.state.perspective;\n    let styles = {\n      position: \"absolute\",\n      left: `${-50000 + offsetX}px`,\n      top: `${-50000 + offsetY}px`,\n      height: `${104000}px`,\n      width: `${104000}px`,\n    }\n    return styles\n  }\n\n\n  render() {\n    const styleClasses = [classes.Creator];\n    if (this.props.currentTab === 'stream') styleClasses.push(classes.OutLeftLeft);\n    if (this.props.currentTab === 'chat') styleClasses.push(classes.OutLeft);\n    const selected = this.state.elements.find(e => e.elementId === this.state.selectedId);\n    return (\n      <div \n        className={styleClasses.join(\" \")}\n        onTouchStart={e => console.log(\"TOUCH START\")}\n        onTouchEnd={e => console.log(\"TOUCH END\")}\n        onWheel={this.wheel}\n      >\n        <ImageDragNDrop handleDrop={this.handleImageDrop}>\n          <TopMenu \n            addElements={this.addElements}\n            openExportModal={this.openExportModal}\n          />\n          { \n            this.state.exportModalOpen && \n              <ExportModal \n                closeExportModal={this.closeExportModal}\n                getElements={this.getElements}\n                elements={this.state.elements}\n              /> \n          }\n          <div className={classes.canvas}>\n            {\n              selected && \n                <SelectionFrame \n                  element={selected}\n                  editingId={this.state.editingId}\n                  perspective={this.state.perspective}\n                  resizeMouseDown={this.resizeMouseDown}\n                  elementMouseDown={this.elementMouseDown}\n                  selectAndEdit={this.selectAndEdit}\n                /> \n            } \n            { this.getElements(this.state.elements) }\n            {/* {\n              this.state.draggingFile && \n              <div className={classes.draggingOverlay}>Drop Images Here</div>\n            } */}\n            <div \n              onMouseUp={this.backgroundMouseUp}\n              className={classes.grid} \n              style={this.calcGridStyles()}\n            ></div>\n            { this.renderLines() }\n          </div>\n          {/* <div className={classes.origin} style={this.calcOriginStyles()}></div> */}\n          <SelectionMenu\n            edit={this.edit}\n            element={selected}\n          /> \n        </ImageDragNDrop>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentTab: state.ui.currentTab,\n    darkmode: state.ui.currentTab,\n    sending: state.user.sendingSubscribeEmailList, \n    sent: state.user.sentSubscribeEmailList, \n    emailListError: state.user.emailListError,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSubscribeEmailList: (email) => dispatch(actions.subscribeEmailList(email)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Creator);\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport { NavLink } from \"react-router-dom\";\n\n\nimport classes from \"./Navigation.module.css\";\n\nimport * as UIActions from '../../store/actions/index';\n\nclass Navigation extends Component {\n  render() {\n    const chatNotifications = this.props.notifications.filter(n => {\n      if(n.type.startsWith('NEW_MESSAGE')) return true;\n      if(n.type.startsWith('NEW_CHAT')) return true;\n      return false;\n    })\n    const notifiactionStyle = chatNotifications.length > 99 \n    ? classes.TrippleDigit : chatNotifications.length > 9 \n      ? classes.DoubleDigit : classes.SingleDigit\n    return (\n      <div className={classes.Navigation}>\n        <nav>\n          <ul>\n          <li>\n              <NavLink style={{ textDecoration: \"none\" }} to=\"/creator\">\n                <span\n                  className={this.props.currentTab === \"creator\" ? classes.active : classes.inactive}\n                  onClick={() => this.props.onSwitchTab(\"creator\")}\n                >\n                  Creator\n                </span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink style={{ textDecoration: \"none\", position: 'relative' }} to=\"/chat\">\n                {\n                  chatNotifications.length > 0 \n                    ? <div className={notifiactionStyle}>\n                        <span className={classes.NotificationCount}>\n                          {chatNotifications.length}\n                        </span>\n                      </div> \n                    : null \n                }\n                <span\n                  className={this.props.currentTab === \"chat\" ? classes.active : classes.inactive}\n                  onClick={() => {\n                    this.props.onSwitchTab(\"chat\");\n                    document.getElementById('chatForm').focus();\n                  }}\n                >\n                  Chat\n                </span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink style={{ textDecoration: \"none\" }} to=\"/stream\">\n                <span\n                  className={this.props.currentTab === \"stream\" ? classes.active : classes.inactive }\n                  onClick={() => this.props.onSwitchTab(\"stream\")}\n                >\n                  Stream\n                </span>\n              </NavLink>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentTab: state.ui.currentTab,\n    darkmode: state.ui.darkmode,\n    allUsersStatus: state.chat.allUsersStatus,\n\n    notifications: state.user.notifications\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSwitchTab: (tab) => dispatch(UIActions.switchTab(tab)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Navigation);\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport classes from \"./UserPrev.module.css\";\nimport DefaultProfilePic from \"../../../media/DefaultProfilePic.png\";\nimport AddButton from '../../Chat/ChatPreviews/ChatPrev/AddButton/AddButton';\nimport * as actions from '../../../store/actions/index';\n\n\nclass UserPrev extends Component {\n\n  getButton = () => {\n    let buttonType;\n    let buttonClick = () => console.log('Nothing should happen');\n\n    // ADD BUTTON\n    if(!this.props.friends.some(friend => friend.userId === this.props.userId)){\n      buttonType = 'add';\n      buttonClick = () => this.props.onSendFriendRequest(this.props.user);\n    } \n\n    // LOADING BUTTON\n    if(this.props.sendingFriendRequests.some(user => user.userId === this.props.userId) || \n       this.props.acceptingFriendRequests.some(user => user.userId === this.props.userId)){\n         buttonType='loading';\n    }\n\n    // CHECK BUTTON\n    if(this.props.sentFriendRequests.some(user => user.userId === this.props.userId)){\n      buttonType = 'sent';\n    } \n\n    //ACCEPT BUTTON\n    if(this.props.receivedFriendRequests.some(user => user.userId === this.props.userId)){\n      buttonType='received';\n      buttonClick = () => this.props.onAcceptFriendRequest(this.props.user);\n    } \n    if(!buttonType){\n      return null;\n    }else {\n      return <AddButton type={buttonType} clicked={buttonClick} />\n    }\n  }\n\n  clicked = () => {\n    const existingChat = this.props.chats.find(chat => chat.members.some(user => user.userId === this.props.userId));\n    if(existingChat){\n      this.props.onChangeChat(existingChat.chatId); \n      this.props.onCloseNewChatModal();\n    }else{\n      const self = {\n        name: this.props.selfName,\n        handle: this.props.selfHandle,\n        userId: this.props.selfId,\n        profilePic: this.props.selfHasPfilePic,\n      }\n      const chatPartner = this.props.user;\n      this.props.onCreateDummyChat(chatPartner, self);\n      this.props.onCloseNewChatModal();\n    }\n  }\n\n  render() {\n    const profilePicSrc = this.props.profilePic ? `${process.env.REACT_APP_PROFILE_PICTURES_SOURCE_URL}` + this.props.userId : DefaultProfilePic;\n    return (\n      <div onClick={this.clicked} className={classes.ChatPrev}>\n        <img src={profilePicSrc} alt=\" \" className={classes.ProfilePic}/>\n        <div className={classes.Info}>\n          <h3 className={classes.Name}>{this.props.name}</h3>\n          <p className={classes.Preview}>@{this.props.handle}</p>\n        </div>\n        {this.getButton()}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    darkmode: state.ui.darkmode,\n    currentChatId: state.chat.currentChatId,\n    currentUserId: state.user.userId,\n    unreadMessages: state.chat.unreadMessages, \n    seenUpdatesChats: state.chat.seenUpdatesChats,\n    token: state.user.token,\n    chats: state.chat.chats,\n    allUsers: state.chat.allUsers,\n\n    selfId: state.user.userId,\n    selfName: state.user.name,\n    selfHandle: state.user.handle,\n    selfHasPfilePic: state.user.hasProfilePic,\n\n    friends: state.chat.friends,\n    acceptingFriendRequests: state.chat.acceptingFriendRequests,\n    sendingFriendRequests: state.chat.sendingFriendRequests,\n    sentFriendRequests: state.chat.sentFriendRequests, \n    receivedFriendRequests: state.chat.receivedFriendRequests,\n\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onCreateDummyChat: (chatPartner, self) => dispatch(actions.createDummyChat(chatPartner, self)),\n    onChangeChat: (chatId) => dispatch(actions.changeChat(chatId)),\n\n    onSendFriendRequest: (user) => dispatch(actions.sendFriendRequest(user)),\n    onAcceptFriendRequest: (user) => dispatch(actions.acceptFriendRequest(user)),\n\n    onCloseNewChatModal: () => dispatch(actions.closeNewChatModal()),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserPrev);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'; \nimport * as actions from '../../store/actions/index';\nimport UserPrev from './UserPrev/UserPrev';\n\nimport classes from './NewChatModal.module.css';\nimport Backdrop from '../UI/Backdrop/Backdrop';\nimport Loader from 'react-loader-spinner';\n\nclass NewChatModal extends Component {\n\n    state = {\n      searchInput: '',\n      searching: true\n    }\n\n    componentDidMount = () => {\n      if(this.props.allUsersStatus === 'not loaded'){\n        this.props.onFetchAllUsers();\n      }\n    }\n\n    componentDidUpdate = () => {\n      console.log()\n    }\n\n    getAllUsers = () => {\n      let allUsers = null;\n      if(this.props.allUsersStatus === 'loading'){\n        allUsers = \n        <div className={classes.LoaderContainer}>\n          <Loader \n            className={classes.Spinner} \n            type=\"ThreeDots\" \n            color=\"#00BFFF\" \n            height={30} \n            width={30}/> \n        </div>\n      }\n      if(this.props.allUsersStatus === 'loaded'){ \n        allUsers = \n        <div>\n          {\n            this.props.allUsers\n            .filter(user => {\n              return user.name.toLowerCase().includes(this.state.searchInput.toLowerCase()) \n                      && user.userId !== this.props.logedinUserId\n                      && !this.props.friends.some(f => f.userId === user.userId)\n            })\n            .map(user => {\n              return (\n                <UserPrev \n                  user={user}\n                  {...user}\n                  inputRef={this.props.inputRef} \n                  key={'s' + user.userId}\n                  preview={user.handle}\n                />\n              )\n            })\n          }\n        </div>\n      }\n      return allUsers\n    }\n\n    getFriends = () => {\n      const friends = this.props.friends\n      .filter(friend => friend.name.toLowerCase().includes(this.state.searchInput.toLowerCase()) \n      )\n      .map(friend => {\n        return (\n          <UserPrev \n            user={friend}\n            {...friend}\n            inputRef={this.props.inputRef} \n            key={'f' + friend.userId}\n            preview={friend.handle}\n          />\n        )\n      })\n      return friends;\n    }\n\n    onSearchInput = (event) => {\n      this.setState({searchInput: event.target.value});\n    }\n\n    getSearchIcon() {\n      return (\n        <svg className={classes.SearchIcon} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <g id=\"search_24px\">\n          <path id=\"icon/action/search_24px\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M14.965 14.255H15.755L20.745 19.255L19.255 20.745L14.255 15.755V14.965L13.985 14.685C12.845 15.665 11.365 16.255 9.755 16.255C6.16504 16.255 3.255 13.345 3.255 9.755C3.255 6.16501 6.16504 3.255 9.755 3.255C13.345 3.255 16.255 6.16501 16.255 9.755C16.255 11.365 15.665 12.845 14.6851 13.985L14.965 14.255ZM5.255 9.755C5.255 12.245 7.26501 14.255 9.755 14.255C12.245 14.255 14.255 12.245 14.255 9.755C14.255 7.26501 12.245 5.255 9.755 5.255C7.26501 5.255 5.255 7.26501 5.255 9.755Z\" fill={'#ffffff'}/>\n          </g>\n        </svg>\n      )\n    }\n\n    getSearchInput = () => {\n      if(this.state.searching){\n        return (\n          <input \n          spellCheck='false'\n          placeholder={\"Search by username or @handle\"}\n          ref={(input) => { this.searchInput = input; }} \n          type=\"text\" \n          value={this.state.searchInput} \n          onChange={this.onSearchInput}\n          className={classes.SearchInput}/> \n        )\n      }\n      return null;\n    }\n\n    render() {\n        return(\n            <div>\n              <Backdrop show={this.props.modalOpen} clicked={this.props.onCloseNewChatMenu} />\n              <div className={classes.Modal}>\n                <h2>New Chat</h2>\n                <div className={classes.SearchContainer}>\n                  {this.getSearchIcon()}\n                  {this.getSearchInput()}\n                </div>\n                <div className={classes.ScrollContainer}>\n                  {this.getFriends()}\n                  {this.getAllUsers()} \n                </div>\n              </div>\n            </div>\n\n           )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        logedinUserId: state.user.userId, \n\n        allUsersStatus: state.chat.allUsersStatus,\n        allUsers: state.chat.allUsers,\n\n        friends: state.chat.friends,\n        chats: state.chat.chats,\n\n        sendingFriendRequests: state.chat.sendingFriendRequests, \n        sentFriendRequests: state.chat.sentFriendRequests, \n        failedFriendRequest: state.chat.failedFriendRequest,\n\n        receivedFriendRequests: state.chat.receivedFriendRequests,\n\n        token: state.user.token, \n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFetchAllUsers: () => dispatch(actions.fetchAllUsers()),\n    onCloseNewChatMenu: () => dispatch(actions.closeNewChatModal()),\n    onSendFriendRequest: (userId, token) => dispatch(actions.sendFriendRequest(userId, token)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewChatModal);\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport classes from \"./ChatPrev.module.css\";\nimport DefaultProfilePic from \"../../../media/DefaultProfilePic.png\";\nimport * as actions from '../../../store/actions/index';\n\n\nclass ChatPrev extends Component {\n\n  clicked = () => {\n    if(this.props.dropTargets.some(id => id === this.props.chatId)){\n      this.props.onUnSelectDropTarget(this.props.chatId)\n    } else {\n      this.props.onSelectDropTarget(this.props.chatId)\n\n    }\n  }\n\n  render() {\n    const profilePicSrc = this.props.profilePic ? `${process.env.REACT_APP_PROFILE_PICTURES_SOURCE_URL}` + this.props.userId : DefaultProfilePic;\n    const selected = this.props.dropTargets.some(id => id === this.props.chatId);\n    return (\n      <div onClick={this.clicked} className={`${classes.ChatPrev} ${selected ? classes.selected : ''}`}>\n        <img src={profilePicSrc} alt=\" \" className={classes.ProfilePic}/>\n        <div className={classes.Info}>\n          <h3 className={classes.Name}>{this.props.name}</h3>\n          <p className={classes.Preview}>@{this.props.handle}</p>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    darkmode: state.ui.darkmode,\n    dropTargets: state.stream.dropTargets\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSelectDropTarget: (chatId) => dispatch(actions.selectDropTarget(chatId)),\n    onUnSelectDropTarget: (chatId) => dispatch(actions.unSelectDropTarget(chatId)),\n    onCloseNewChatModal: () => dispatch(actions.closeNewChatModal()),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatPrev);\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'; \nimport * as actions from '../../store/actions/index';\n\n\nimport classes from './DropModal.module.css';\nimport Backdrop from '../UI/Backdrop/Backdrop';\nimport ChatPrev from './ChatPrev/ChatPrev';\nimport PrimaryButton from '../UI/PrimaryButton/PrimaryButton';\n\nclass DropModal extends Component {\n\n    state = {\n      searchInput: '',\n      searching: true\n    }\n\n    componentDidMount = () => {\n      if(this.props.allUsersStatus === 'not loaded'){\n        this.props.onFetchAllUsers();\n      }\n    }\n\n    getFriends = () => {\n      const friends = this.props.friends\n      .filter(friend => friend.name.toLowerCase().includes(this.state.searchInput.toLowerCase()) \n      )\n      .map(friend => {\n        return (\n          <ChatPrev \n            user={friend}\n            {...friend}\n            key={'f' + friend.userId}\n            preview={friend.handle}\n          />\n        )\n      })\n      return friends;\n    }\n\n    getChats = () => {\n      return this.props.chats.map(chat => {\n        const chatPartner = chat.members.find(m => m.userId !== this.props.userId);\n        return(\n          <ChatPrev\n            chatId={chat.chatId}\n            user={chatPartner}\n            {...chatPartner}\n            key={chat.chatId}/>\n        )\n      })\n    }\n\n    onSearchInput = (event) => {\n      this.setState({searchInput: event.target.value});\n    }\n\n    getSearchIcon = () => {\n      return (\n        <svg className={classes.SearchIcon} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <g id=\"search_24px\">\n          <path id=\"icon/action/search_24px\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M14.965 14.255H15.755L20.745 19.255L19.255 20.745L14.255 15.755V14.965L13.985 14.685C12.845 15.665 11.365 16.255 9.755 16.255C6.16504 16.255 3.255 13.345 3.255 9.755C3.255 6.16501 6.16504 3.255 9.755 3.255C13.345 3.255 16.255 6.16501 16.255 9.755C16.255 11.365 15.665 12.845 14.6851 13.985L14.965 14.255ZM5.255 9.755C5.255 12.245 7.26501 14.255 9.755 14.255C12.245 14.255 14.255 12.245 14.255 9.755C14.255 7.26501 12.245 5.255 9.755 5.255C7.26501 5.255 5.255 7.26501 5.255 9.755Z\" fill={'#ffffff'}/>\n          </g>\n        </svg>\n      )\n    }\n\n    send = () => {\n      this.props.onSendDrop(this.props.dropTargets, this.props.streamElements[1].id, this.props.title, this.props.userId);\n      document.getElementById('chatForm').focus();\n    }\n\n    render() {\n        const targetNames = this.props.dropTargets\n          .map(targetId => {\n            return this.props.chats.find(chat => chat.chatId === targetId).name;\n          })\n          .map(name => name.split(' ')[0]);\n\n        return(\n            <div>\n              <Backdrop show={this.props.modalOpen} clicked={this.props.onCloseDropModal} />\n              <div className={classes.Modal}>\n                <h2>Select Chat</h2>\n                <div className={classes.SearchContainer}>\n                  {this.getSearchIcon()}\n                  <input \n                    placeholder={\"Search by username or @handle\"}\n                    ref={(input) => { this.searchInput = input; }} \n                    type=\"text\" \n                    value={this.state.searchInput} \n                    onChange={this.onSearchInput}\n                    className={classes.SearchInput}/>\n                  </div>\n                <div className={classes.ScrollContainer}>\n                  {this.getChats()}\n                </div>\n                <PrimaryButton \n                  theme={false} \n                  clicked={() => this.send(this.props.streamElements[0].id)} \n                  disabled={this.props.dropTargets.length === 0}>\n                  {\n                    this.props.dropTargets.length > 0 \n                    ? <h3>Drop to {targetNames.join(', ')}</h3>\n                    : <h3>Drop</h3>\n                  }\n                </PrimaryButton>\n              </div>\n            </div>\n\n           )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        chats: state.chat.chats,\n\n        userId: state.user.userId,\n        token: state.user.token,\n\n        streamElements: state.stream.streamElements,\n        dropTargets: state.stream.dropTargets,\n\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSendDrop: (targets, dropId, title, selfId) => dispatch(actions.sendDrop(targets, dropId, title, selfId)),\n    onFetchAllUsers: () => dispatch(actions.fetchAllUsers()),\n    onCloseDropModal: () => dispatch(actions.closeDropModal()),\n    onSendFriendRequest: (userId, token) => dispatch(actions.sendFriendRequest(userId, token)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DropModal);\n","import React, { Component } from 'react';\n\nimport classes from './Footer.module.css';\n\nclass Footer extends Component {\n\n    getInstagramIcon = () => {\n        return(\n            <svg className={classes.Icon} viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect width=\"26\" height=\"26\" rx=\"3\" fill=\"#121218\"/>\n                <g clipPath=\"url(#clip0)\">\n                <g filter=\"url(#filter0_dd)\">\n                <path d=\"M13 4.80184C15.6701 4.80184 15.9864 4.812 17.0408 4.86011C18.0158 4.90461 18.5453 5.06752 18.8977 5.20443C19.3644 5.38583 19.6976 5.60257 20.0475 5.95248C20.3974 6.30239 20.6142 6.63555 20.7955 7.10229C20.9325 7.4547 21.0954 7.98419 21.1399 8.95914C21.188 10.0136 21.1982 10.3299 21.1982 13C21.1982 15.6701 21.188 15.9864 21.1399 17.0409C21.0954 18.0158 20.9325 18.5453 20.7955 18.8978C20.6142 19.3645 20.3974 19.6976 20.0475 20.0476C19.6976 20.3975 19.3644 20.6142 18.8977 20.7956C18.5453 20.9325 18.0158 21.0954 17.0408 21.1399C15.9865 21.188 15.6703 21.1982 13 21.1982C10.3297 21.1982 10.0134 21.188 8.95914 21.1399C7.98415 21.0954 7.45466 20.9325 7.10229 20.7956C6.63551 20.6142 6.30235 20.3975 5.95244 20.0476C5.60253 19.6976 5.38579 19.3645 5.20443 18.8978C5.06748 18.5453 4.90457 18.0158 4.86007 17.0409C4.81196 15.9864 4.8018 15.6701 4.8018 13C4.8018 10.3299 4.81196 10.0136 4.86007 8.95918C4.90457 7.98419 5.06748 7.4547 5.20443 7.10229C5.38579 6.63555 5.60253 6.30239 5.95244 5.95248C6.30235 5.60257 6.63551 5.38583 7.10229 5.20443C7.45466 5.06752 7.98415 4.90461 8.9591 4.86011C10.0136 4.812 10.3299 4.80184 13 4.80184ZM13 3C10.2841 3 9.94362 3.01151 8.87701 3.06018C7.81259 3.10876 7.08569 3.27779 6.44958 3.52501C5.79199 3.78056 5.23432 4.1225 4.67839 4.67843C4.12246 5.23436 3.78052 5.79203 3.52497 6.44962C3.27775 7.08573 3.10872 7.81263 3.06014 8.87705C3.01147 9.94362 3 10.2842 3 13C3 15.7159 3.01147 16.0564 3.06014 17.123C3.10872 18.1874 3.27775 18.9143 3.52497 19.5504C3.78052 20.208 4.12246 20.7657 4.67839 21.3216C5.23432 21.8775 5.79199 22.2195 6.44958 22.475C7.08569 22.7223 7.81259 22.8913 8.87701 22.9399C9.94362 22.9885 10.2841 23 13 23C15.7158 23 16.0564 22.9885 17.1229 22.9399C18.1874 22.8913 18.9143 22.7223 19.5504 22.475C20.208 22.2195 20.7656 21.8775 21.3216 21.3216C21.8775 20.7657 22.2194 20.208 22.475 19.5504C22.7222 18.9143 22.8912 18.1874 22.9398 17.123C22.9885 16.0564 23 15.7159 23 13C23 10.2842 22.9885 9.94362 22.9398 8.87705C22.8912 7.81263 22.7222 7.08573 22.475 6.44962C22.2194 5.79203 21.8775 5.23436 21.3216 4.67843C20.7656 4.1225 20.208 3.78056 19.5504 3.52501C18.9143 3.27779 18.1874 3.10876 17.1229 3.06018C16.0564 3.01151 15.7158 3 13 3ZM13 7.86487C10.1639 7.86487 7.86483 10.164 7.86483 13C7.86483 15.8361 10.1639 18.1352 13 18.1352C15.836 18.1352 18.1351 15.8361 18.1351 13C18.1351 10.164 15.836 7.86487 13 7.86487ZM13 16.3334C11.159 16.3334 9.66663 14.841 9.66663 13C9.66663 11.1591 11.159 9.66667 13 9.66667C14.8409 9.66667 16.3333 11.1591 16.3333 13C16.3333 14.841 14.8409 16.3334 13 16.3334ZM19.538 7.66199C19.538 8.32474 19.0008 8.86201 18.338 8.86201C17.6753 8.86201 17.138 8.32474 17.138 7.66199C17.138 6.99924 17.6753 6.462 18.338 6.462C19.0008 6.462 19.538 6.99924 19.538 7.66199Z\" fill=\"white\"/>\n                </g>\n                </g>\n                <defs>\n                <filter id=\"filter0_dd\" x=\"-7\" y=\"-7\" width=\"40\" height=\"40\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n                <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"2.5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0\"/>\n                <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n                </filter>\n                <clipPath id=\"clip0\">\n                <rect width=\"26\" height=\"26\" fill=\"white\"/>\n                </clipPath>\n                </defs>\n            </svg>\n        )\n    }\n\n    getTwitterIcon = () => {\n        return(\n            <svg className={classes.Icon} viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g clipPath=\"url(#clip0)\">\n                <rect width=\"26\" height=\"26\" rx=\"3\" fill=\"#121218\"/>\n                <g filter=\"url(#filter0_dd)\">\n                <path d=\"M10.1025 19.208C16.232 19.208 19.586 14.125 19.586 9.7245C19.586 9.5815 19.586 9.4385 19.5795 9.2955C20.2295 8.8275 20.795 8.236 21.2435 7.5665C20.6455 7.833 20.002 8.0085 19.326 8.093C20.015 7.6835 20.5415 7.027 20.795 6.247C20.1515 6.6305 19.4365 6.9035 18.676 7.053C18.065 6.403 17.2005 6 16.245 6C14.4055 6 12.9105 7.495 12.9105 9.3345C12.9105 9.5945 12.943 9.848 12.995 10.095C10.226 9.9585 7.769 8.626 6.1245 6.611C5.8385 7.105 5.676 7.677 5.676 8.288C5.676 9.445 6.2675 10.4655 7.158 11.0635C6.612 11.044 6.0985 10.8945 5.65 10.6475C5.65 10.6605 5.65 10.6735 5.65 10.693C5.65 12.305 6.8005 13.657 8.3215 13.9625C8.042 14.0405 7.7495 14.0795 7.444 14.0795C7.2295 14.0795 7.0215 14.06 6.82 14.021C7.2425 15.347 8.4775 16.309 9.9335 16.335C8.7895 17.232 7.353 17.765 5.793 17.765C5.5265 17.765 5.26 17.752 5 17.7195C6.469 18.6555 8.224 19.208 10.1025 19.208Z\" fill=\"white\"/>\n                </g>\n                </g>\n                <defs>\n                <filter id=\"filter0_dd\" x=\"-5\" y=\"-4\" width=\"36.2435\" height=\"33.208\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n                <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"2.5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0\"/>\n                <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n                </filter>\n                <clipPath id=\"clip0\">\n                <rect width=\"26\" height=\"26\" fill=\"white\"/>\n                </clipPath>\n                </defs>\n            </svg>\n        )\n    }\n\n    getFacebookIcon = () => {\n        return (\n            <svg className={classes.Icon} width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g clipPath=\"url(#clip0)\">\n                <path d=\"M22.75 26H3.25C1.456 26 0 24.544 0 22.75V3.25C0 1.456 1.456 0 3.25 0H22.75C24.544 0 26 1.456 26 3.25V22.75C26 24.544 24.544 26 22.75 26Z\" fill=\"#121218\"/>\n                <g filter=\"url(#filter0_dd)\">\n                <path d=\"M20.2137 15.9373L20.8356 11.7748H16.9452V9.07489C16.9452 7.93585 17.4877 6.82493 19.2301 6.82493H21V3.28124C21 3.28124 19.3945 3 17.8603 3C14.6548 3 12.5616 4.99403 12.5616 8.6024V11.7748H9V15.9373H12.5616V26.1746C12.5616 26.1746 12.5616 26.1746 14.5714 26.1746C16.9286 26.1746 16.9286 26.1746 16.9286 26.1746L16.9452 15.9373H20.2137Z\" fill=\"white\"/>\n                </g>\n                </g>\n                <defs>\n                <filter id=\"filter0_dd\" x=\"-1\" y=\"-7\" width=\"32\" height=\"43.1746\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n                <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"2.5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0\"/>\n                <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n                </filter>\n                <clipPath id=\"clip0\">\n                <rect width=\"26\" height=\"26\" fill=\"white\"/>\n                </clipPath>\n                </defs>\n            </svg>\n        )\n    }\n\n    getTumblrIcon = () => {\n        return (\n            <svg className={classes.Icon} viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g clipPath=\"url(#clip0)\">\n                <rect width=\"26\" height=\"26\" rx=\"3\" fill=\"#121218\"/>\n                <g filter=\"url(#filter0_dd)\">\n                <path d=\"M14.3459 22C11.9512 22 10.1752 20.6102 10.1752 17.2768V11.9435H8V9.05085C10.3947 8.35028 11.3925 6.0226 11.5022 4H13.9867V8.58757H16.8803V11.9435H13.9867V16.5876C13.9867 17.9774 14.6053 18.4633 15.5931 18.4633H17V22H14.3459Z\" fill=\"white\"/>\n                </g>\n                </g>\n                <defs>\n                <filter id=\"filter0_dd\" x=\"-2\" y=\"-6\" width=\"29\" height=\"38\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n                <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"2.5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0\"/>\n                <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n                </filter>\n                <clipPath id=\"clip0\">\n                <rect width=\"26\" height=\"26\" fill=\"white\"/>\n                </clipPath>\n                </defs>\n            </svg>\n\n        )\n    }\n\n    getPinterestIcon = () => {\n        return ( \n            <svg className={classes.Icon} width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g clipPath=\"url(#clip0)\">\n                <rect width=\"26\" height=\"26\" rx=\"3\" fill=\"#121218\"/>\n                <g filter=\"url(#filter0_dd)\">\n                <path d=\"M11.5352 4.06354C8.33129 4.416 5.13873 6.97042 5.00696 10.6193C4.92413 12.8473 5.56603 14.5187 7.71763 14.988C8.6513 13.3648 7.41644 13.0068 7.22444 11.8325C6.43571 7.02051 12.8566 3.7389 16.2167 7.09842C18.5415 9.42467 17.0111 16.5815 13.2613 15.8376C9.66969 15.1271 15.0195 9.43023 12.1526 8.31163C9.82216 7.40265 8.58354 11.0924 9.68851 12.9252C9.04096 16.0769 7.6461 19.0469 8.21082 23C10.0424 21.6903 10.6598 19.1823 11.1662 16.5667C12.0867 17.1176 12.578 17.6908 13.7526 17.7799C18.0841 18.1101 20.503 13.5188 19.9119 9.28368C19.3867 5.52904 15.5842 3.61833 11.5352 4.06354Z\" fill=\"white\"/>\n                </g>\n                </g>\n                <defs>\n                <filter id=\"filter0_dd\" x=\"-5\" y=\"-6\" width=\"35\" height=\"39\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n                <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"2.5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0\"/>\n                <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n                </filter>\n                <clipPath id=\"clip0\">\n                <rect width=\"26\" height=\"26\" fill=\"white\"/>\n                </clipPath>\n                </defs>\n            </svg>\n\n        )\n    }\n\n\n    getSocialButtons = () => {\n        return(\n            <div className={classes.SocialButtons}>\n                <a href='https://twitter.com/drops_meme' className={classes.Link} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {this.getTwitterIcon()}  \n                </a>\n                <a href='https://www.instagram.com/meme_drops/' className={classes.Link}  target=\"_blank\" rel=\"noopener noreferrer\">\n                    {this.getInstagramIcon()}\n                </a>\n                <a href='https://www.facebook.com/mememedrop' className={classes.Link} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {this.getFacebookIcon()} \n                </a>\n                <a href='https://www.tumblr.com/blog/memedrops' className={classes.Link} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {this.getTumblrIcon()}  \n                </a>\n                <a href='https://www.pinterest.de/memedrops/' className={classes.Link} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {this.getPinterestIcon()} \n                </a>\n            </div>\n        )\n    }\n\n    render() {\n        return (\n            <div className={classes.Footer}>\n                {this.getSocialButtons()}\n            </div>\n        )\n    }\n}\n\nexport default Footer;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport classes from './MenuScreen.module.css';\n\nimport { ReactComponent as ArrowBack } from './arrow_back.svg'\n\nimport * as actions from '../../../store/actions/index';\n\n\n\nclass MenuScreen extends Component {\n\n    getArrowBack = () => {\n          return (\n            <div className={classes.BackButton}>\n                <ArrowBack className={classes.ArrowBack} onClick={this.props.onPopFromMenuStack}/>\n            </div>\n          )\n      }\n\n    render() {\n        return(\n            <div className={`${classes.MenuScreen} ${this.props.pos === -1 ? classes.left : this.props.pos === 1 ? classes.right : null}`}>\n                {this.props.currentDepth !== 0 ? this.getArrowBack() : null}\n                {this.props.children}\n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = state => {\n    return {\n        authReason: state.user.authReason, \n        loginOrSignup: state.ui.loginOrSignup,\n        currentDepth: state.ui.menu.currentDepth, \n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onPopFromMenuStack: () => dispatch(actions.popFromMenuStack()), \n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuScreen);","import React, { Component } from 'react';\n\nimport classes from './MenuItem.module.css';\n\nclass MenuItem extends Component {\n    render() {\n        return(\n            <div className={`${classes.MenuItem} ${this.props.invalid ? classes.Invalid : ''}`}>\n                {this.props.children}\n            </div>\n        )\n    }\n}\n\nexport default MenuItem;","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport Dropzone from 'react-dropzone';\nimport * as actions from '../../../store/actions/index';\n\n\n\nimport MenuScreen from '../MenuScreen/MenuScreen';\nimport PrimaryButton from '../../UI/PrimaryButton/PrimaryButton'; \nimport MenuItem from \"../MenuItem/MenuItem\";\nimport Loader from \"react-loader-spinner\";\n\nimport classes from \"./AuthMenu.module.css\";\nimport ProfilePicPlaceholder from './ProfilePicPlaceholder.svg'; \n\nconst UNACCEPTABLE_PASSWORDS = ['12345', '123456', '1234567', '12345678', '123456789', '1234567890']\n\n\nclass AuthMenu extends Component { \n\n  state = {\n    loginEmail: {\n        value: '',\n        touched: false,\n        valid: false,\n    },\n    loginPassword: {\n        value: '',\n        touched: false,\n        valid: false,\n    },\n    name: {\n        value: '',\n        touched: false,\n        valid: false,\n    },\n    password: {\n        value: '',\n        touched: false,\n        valid: false,\n        errorMessage: 'Min 5 Characters'\n    },\n    secondPassword: {\n        value: '', \n        touched: false,\n        valid: false,\n    },\n    email: {\n        value: '',\n        touched: false,\n        valid: false,\n    },\n    handle: {\n        value: '',\n        touched: false,\n        valid: false,\n    },\n    profilePic: {\n        tooUgly: true,\n        src: null,\n        file: null, \n    },\n    userConditions: {\n        value: true,\n        touched: false,\n    }, \n    newsletter: true,\n}\n\n//--------- LOGIN EMAIL --------------------------------------------------------\n\nonInputLoginEmail = (event) => {\n    const email = event.target.value;\n    const valid = email ? /^\\S+@\\S+\\.\\S+$/.test(email) : false;\n    this.setState({ \n        loginEmail: {\n            ...this.state.loginEmail,\n            value: event.target.value,\n            errorMessage: valid ? null : 'Please enter valid email.',\n            valid: valid\n        }\n    })  \n}\n\nonLeaveLoginEmailFocus = () => {\n    this.setState({\n        loginEmail: {\n            ...this.state.loginEmail, \n            touched: true\n        }\n    })\n}\n\n//--------- LOGIN PASSWORD -----------------------------------------------------\n\n\nonInputLoginPassword = (event) => {\n    const password = event.target.value;\n    this.setState({ \n        loginPassword: {\n            ...this.state.loginPassword, \n            value: password\n        }\n    })\n}\n\nonLeaveLoginPasswordFocus = () => {\n    this.setState({\n        loginPassword: {\n            ...this.state.loginPassword,\n            touched: true\n        }\n    })\n}\n\n//--------- NAME ---------------------------------------------------------\n\nonInputName = (event) => {\n    const name = event.target.value;\n    const valid =  name ? name.length > 3 && name.length < 20  : false\n    this.setState({ \n        name: {\n            ...this.state.name, \n            value: event.target.value,\n            errorMessage: valid ? null : '4-20 characters',\n            valid: valid\n        }\n    })\n}\n\nonLeaveNameFocus = () => {\n    this.setState({\n        name: {\n            ...this.state.name, \n            touched: true\n        }\n    })\n}\n\n//--------- PROFILE PIC --------------------------------------------------\n\n\nonUploadprofilePic = (acceptedFiles) => {\n    if(acceptedFiles && acceptedFiles.length > 0){\n        const file = Array.from(acceptedFiles)[0];\n        const src = window.URL.createObjectURL(file)\n        this.setState({\n            profilePic :{ \n                file, \n                src,\n                tooUgly: false\n            }\n        });\n    }\n}\n\nonRemoveProfilePic = (event) => {\n    this.setState({\n        profilePic: {\n            tooUgly: true,\n            src: null,\n            file: null, \n        },\n    })\n}\n\n\n\n//--------- EMAIL --------------------------------------------------------\n\nonInputEmail = (event) => {\n    const email = event.target.value;\n    const valid = email ? /^\\S+@\\S+\\.\\S+$/.test(email) : false;\n    this.setState({ \n        email: {\n            value: event.target.value,\n            errorMessage: valid ? null : 'Please enter valid email.',\n            valid: valid\n        }\n    })  \n}\n\nonLeaveEmailFocus = () => {\n    this.setState({\n        email: {\n            ...this.state.email, \n            touched: true\n        }\n    })\n}\n\n//--------- HANDLE -------------------------------------------------------\n\nonInputHandle = (event) => {\n    const handle = event.target.value.startsWith('@') ? event.target.value.substring(1) : event.target.value;\n    let errorMessage = '';\n    if(handle.length < 4 || handle.length > 14) errorMessage = '4-14 characters.'; \n    if(!/^[a-zA-Z]+$/.test(handle)) errorMessage = 'letters only!';\n    this.setState({ \n        handle: {\n            ...this.state.handle, \n            value: handle,\n            errorMessage,\n            valid: errorMessage === '',\n        }\n    })  \n}\n\nonLeaveHandleFocus = () => {\n    this.setState({\n        handle: {\n            ...this.state.handle, \n            touched: true\n        }\n    })\n}\n\n//--------- PASSWORD -----------------------------------------------------\n\n\nonInputPassword = (event) => {\n    const password = event.target.value;\n    let valid = true; \n    let errorMessage;\n    if(!password || password.length < 5){\n        valid = false;\n        errorMessage = 'Min 5 Characters';\n    } else if(UNACCEPTABLE_PASSWORDS.includes(password)){\n        valid = false;\n        errorMessage = 'Really? Can u please chose another password?';\n    } else if(password.length > 30){\n        valid = false;\n        errorMessage = 'Max 30 characters'\n    }\n    this.setState({ \n        password: {\n            ...this.state.password,\n            value: event.target.value,\n            errorMessage,\n            valid: valid\n        }\n    })\n}\n\n\nonLeavePasswordFocus = () => {\n    this.setState({\n        password: {\n            ...this.state.password,\n            touched: true\n        }\n    })\n}\n\n//--------- SECOND PASSWORD  ---------------------------------------------\n\nonInputSecondPassword = (event) => {\n    const password = event.target.value;\n    const valid = password === this.state.password.value;\n    const errorMessage = valid ? null : 'Passwords do not match.';\n\n    this.setState({ \n        secondPassword: {\n            ...this.state.secondPassword,\n            value: event.target.value,\n            errorMessage,\n            valid: valid\n        }\n    })\n}\n\nonLeaveSecondPasswordFocus = () => {\n    this.setState({\n        secondPassword: {\n            ...this.state.secondPassword,\n            touched: true\n        }\n    })\n}\n\n//--------- USER CONDITIONS & NEWSLETTER  --------------------------------\n\nonChangeUserconditions = (event) => {\n    this.setState(prevState => {\n        return { \n            userConditions: {\n                ...prevState.userConditions,\n                value: !prevState.userConditions.value \n            }\n        }\n    })\n}\n\nonChangeNewsletter = (event) => {\n    this.setState(prevState => {\n        return { \n            newsletter: !prevState.newsletter \n        }\n    })\n}\n\n  componentDidUpdate = () => {\n    if(this.props.shouldMoveRight) {\n      this.props.onMoveRight()\n    }; \n    if(this.props.menuStack[this.props.menuStack.length-1] === 'CHOOSE_HANDLE'){\n        document.getElementById('handle').focus(); \n    }\n  }\n\n  createAccount = () => {\n    console.log(`\n        src:      ${this.state.profilePic.src}\n        name:     ${this.state.name.value}\n        password: ${this.state.password.value}\n        handle:   ${this.state.handle.value}\n        email:    ${this.state.email.value}\n        file:     ${this.state.profilePic.file}\n    `)\n    this.props.onSignup(\n        this.state.name.value, \n        this.state.email.value, \n        this.state.handle.value, \n        this.state.password.value, \n        this.state.profilePic.file,\n        this.state.profilePic.src, \n        this.state.newsletter\n    );\n  }\n\n  login = (event) => {\n    event.preventDefault();\n    this.props.onLogin(this.state.loginEmail.value, this.state.loginPassword.value)\n  }\n\n  signup = (event) => {\n    event.preventDefault();\n    if(this.state.email.valid && this.state.password.valid && this.state.secondPassword.valid && this.state.name.valid){\n        this.props.checkEmailTaken(this.state.email.value);\n    }else {\n        this.setState({\n            email: { ...this.state.email, touched: true },\n            password: { ...this.state.password, touched: true },\n            secondPassword: { ...this.state.secondPassword, touched: true },\n            name: { ...this.state.name, touched: true },\n        })\n    }\n  }\n\n  chooseHandle = (event) => {\n      event.preventDefault(); \n      if(this.state.handle.valid){\n        this.props.checkHandleTaken(this.state.handle.value);\n      }else{\n          this.setState({\n              handle: { ...this.state.handle, touched: true }\n          })\n      }\n  }\n\n\n  getMenuScreens = () => {\n    return this.props.menuStack.map((s,i) => {\n        const pos = this.props.menuStack[this.props.currentDepth] === s ? 0 : i < this.props.currentDepth ? -1 : 1\n        let content = []; \n        switch(s){\n            case 'AUTH': \n                const loginErrorMessage = !this.state.loginEmail.valid & this.state.loginEmail.touched ? 'Not a valid email' : this.props.loginError;\n                let emailErrorMessage, \n                    passwordErrorMessage, \n                    secondPasswordErrorMessage;\n                if(!this.state.email.valid && this.state.email.touched) emailErrorMessage = 'Not a valid email';\n                if(this.props.takenEmails.some(e => e === this.state.email.value)) emailErrorMessage = 'There already exists an account with that email.';\n                if(!this.state.password.valid && this.state.password.touched) passwordErrorMessage = this.state.password.errorMessage;\n                if(!this.state.secondPassword.valid && this.state.secondPassword.touched) secondPasswordErrorMessage = this.state.secondPassword.errorMessage;\n            \n                content.push(\n                    <MenuItem key={s + 'login'}>\n                        <form onSubmit={this.login}>\n                            <input\n                                onAnimationStart={this.onInputEmail}\n                                className={classes.TextInput}\n                                element=\"input\"\n                                id=\"emailLogin\"\n                                type=\"email\"\n                                placeholder='email'\n                                spellCheck='false'\n                                value={this.state.loginEmail.value}\n                                onChange={this.onInputLoginEmail}\n                                onBlur={this.onLeaveLoginEmailFocus}\n                            />\n                            <input\n                                onAnimationStart={this.onInputLoginPassword}\n                                className={classes.TextInput}\n                                element=\"input\"\n                                type=\"password\"\n                                placeholder='password'\n                                value={this.state.loginPassword.value}\n                                onChange={this.onInputLoginPassword}\n                                onBlur={this.onLeaveLoginPasswordFocus}\n                            />\n                            {\n                                loginErrorMessage ? \n                                <div className={classes.ErrorMessage}>\n                                    {loginErrorMessage}\n                                </div>\n                                :null\n                            }\n\n                            <PrimaryButton clicked={this.login}>\n                                { this.props.loginLoading \n                                ? <Loader \n                                    className={classes.Spinner} \n                                    type=\"ThreeDots\" \n                                    color=\"#FFFFFF\" \n                                    height={30} \n                                    width={30}/> \n                                : <h3>Login</h3> }\n                            </PrimaryButton>\n                        </form>\n                    </MenuItem>)\n                content.push(\n                    <MenuItem key={s + 'signup'}>\n                        <form onSubmit={this.signup}>\n                            <input\n                                className={classes.TextInput}\n                                element=\"input\"\n                                id=\"emailSignup\"\n                                type=\"email\"\n                                placeholder='email'\n                                value={this.state.email.value}\n                                onChange={this.onInputEmail}\n                                onAnimationStart={this.onInputEmail}\n                                onBlur={this.onLeaveEmailFocus}\n                            />\n                            {\n                                emailErrorMessage ? \n                                <div className={classes.ErrorMessage}>\n                                    {emailErrorMessage}\n                                </div>\n                                : null\n                            }\n                            <input\n                                className={classes.TextInput}\n                                element=\"input\"\n                                type=\"password\"\n                                placeholder='password'\n                                value={this.state.password.value}\n                                onChange={this.onInputPassword}\n                                onAnimationStart={this.onInputPassword}\n                                onBlur={this.onLeavePasswordFocus}\n                            />\n                            {\n                                passwordErrorMessage ? \n                                <div className={classes.ErrorMessage}>\n                                    {passwordErrorMessage}\n                                </div>\n                                :null\n                            }\n                            <input\n                                className={classes.TextInput}\n                                element=\"input\"\n                                type=\"password\"\n                                placeholder='repeat password'\n                                value={this.state.secondPassword.value}\n                                onChange={this.onInputSecondPassword}\n                                onAnimationStart={this.onInputSecondPassword}\n                                onBlur={this.onLeaveSecondPasswordFocus}\n                            />\n                            {\n                                secondPasswordErrorMessage ? \n                                <div className={classes.ErrorMessage}>\n                                    {secondPasswordErrorMessage}\n                                </div>:null\n                            }\n                            <input \n                                className={classes.TextInput}\n                                id=\"name\" \n                                placeholder=\"Your Name\"\n                                type=\"text\"\n                                value={this.state.name.value}\n                                onChange={this.onInputName}\n                                onAnimationStart={this.onInputName}\n                            />\n                            <div className={classes.CheckboxContainer}>\n                                <input \n                                    type='checkbox' \n                                    onChange={this.onChangeUserconditions} \n                                    checked={this.state.userConditions.value}/>\n                                <p onClick={this.onChangeUserconditions} className={classes.CheckboxText}>\n                                    accept user conditions & shit\n                                </p>\n                            </div>\n                            <div className={classes.CheckboxContainer}>\n                                <input \n                                    type='checkbox' \n                                    onChange={this.onChangeNewsletter} \n                                    checked={this.state.newsletter}/>\n                                <p onClick={this.onChangeNewsletter} className={classes.CheckboxText}>\n                                    Receive an email for every big new feature\n                                </p>\n                            </div>\n                            <PrimaryButton type=\"submit\" clicked={(event) => this.signup(event)}>\n                                { \n                                    this.props.checkEmailLoading \n                                    ? <Loader \n                                        className={classes.Spinner} \n                                        type=\"ThreeDots\" \n                                        color=\"#FFFFFF\" \n                                        height={30} \n                                        width={30}/> \n                                    : <h3>Create Account</h3>\n                                }\n                            </PrimaryButton>\n                        </form>\n                    </MenuItem>\n                );\n                break; \n            case 'CHOOSE_HANDLE': \n                let handleErrorMessage;\n                if(!this.state.handle.valid && this.state.handle.touched) handleErrorMessage = this.state.handle.errorMessage;\n                if(this.props.takenHandles.some(h => h === this.state.handle.value)) handleErrorMessage = 'Handle already taken'\n                content.push(\n                    <MenuItem  key={s}>\n                        <form onSubmit={this.chooseHandle}>\n                            <h3>Enter @ Handle:</h3>            \n                            <input\n                                className={classes.TextInput}\n                                element=\"input\"\n                                id=\"handle\"\n                                type=\"text\"\n                                placeholder=\"@elon\"\n                                value={'@' + this.state.handle.value}\n                                onChange={this.onInputHandle}\n                                onAnimationStart={this.onInputHandle}\n                                onBlur={this.onLeaveHandleFocus}\n                            />\n                            {\n                                handleErrorMessage ? \n                                <div className={classes.ErrorMessage}>\n                                    {handleErrorMessage}\n                                </div>:null\n                            }\n                            <PrimaryButton type=\"submit\" clicked={(event) => this.chooseHandle(event)}>\n                            { \n                                this.props.checkHandleLoading \n                                ? <Loader \n                                    className={classes.Spinner} \n                                    type=\"ThreeDots\" \n                                    color=\"#FFFFFF\" \n                                    height={30} \n                                    width={30}/> \n                                : <h3>Choose {this.state.handle.value}</h3>\n                            }\n                            </PrimaryButton>\n                        </form>\n                    </MenuItem>\n                ); \n                break; \n            case 'CHOOSE_PROFILE_PIC':\n                content.push(\n                    <MenuItem  key={s}>\n                        <h3>Profile Picture</h3>\n                        <input type='checkbox' onChange={this.onRemoveProfilePic} checked={this.state.profilePic.tooUgly}/> I'm too ugly<br/>\n                        <input type='checkbox' onChange={() => console.log('Upload Pic!')} checked={!this.state.profilePic.tooUgly}/> Upload picture\n                        <Dropzone onDrop={this.onUploadprofilePic}>\n                            {({getRootProps, getInputProps}) => (\n                                <section>\n                                <div {...getRootProps()}>\n                                    <input {...getInputProps()} />\n                                        <div className={classes.Dropzone}>\n                                        { \n                                            this.state.profilePic.src \n                                            ? <img \n                                                className={classes.ProfilePic}\n                                                src={this.state.profilePic.src} \n                                                alt='profilePic'/> \n                                            : <img \n                                                className={classes.ProfilePicPlaceholder} \n                                                src={ProfilePicPlaceholder} \n                                                alt='drag & drop profile Pic here'/>\n                                        }\n                                        </div> \n                                    </div>\n                                </section>\n                            )}\n                        </Dropzone>\n                        <PrimaryButton clicked={this.createAccount}>\n                        { \n                                this.props.signupLoading \n                                ? <Loader \n                                    className={classes.Spinner} \n                                    type=\"ThreeDots\" \n                                    color=\"#FFFFFF\" \n                                    height={30} \n                                    width={30}/> \n                                : <h3>Finish</h3>\n                            }\n                        </PrimaryButton>\n                    </MenuItem>\n                );\n                break; \n            default: console.log('INVALID ELEMENT ON MENU STACK');\n        }\n        return (\n            <MenuScreen screen={s} pos={pos} goBack={this.goBack} addToMenuStack={this.addToMenuStack}  key={s}>\n                {content}\n            </MenuScreen>\n        )\n    })\n  }\n\n\n  render() {\n    return (\n        <div className={classes.MenuItems}>\n          { this.getMenuScreens() }\n        </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n\n  return {\n    menuStack: state.ui.menu.menuStack, \n    loginLoading: state.user.loginLoading,\n    checkEmailLoading: state.user.checkEmailLoading,\n    signupLoading: state.user.signupLoading,\n    checkHandleLoading: state.user.checkHandleLoading,\n    shouldMoveRight: state.ui.menu.shouldMoveRight, \n\n    darkmode: state.ui.darkmode,\n    currentDepth: state.ui.menu.currentDepth, \n\n    name: state.user.name, \n    handle: state.user.handle,\n    token: state.user.token,\n\n    loginError: state.user.loginError, \n    signupError: state.user.signupError,\n    takenEmails: state.user.takenEmails,\n    takenHandles: state.user.takenHandles,\n\n    \n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onMoveRight: () => dispatch(actions.moveRight()),\n    onAddToMenuStack: (next) => dispatch(actions.addToMenuStack(next)), \n\n    checkEmailTaken: (email) => dispatch(actions.checkEmailTaken(email)),\n    checkHandleTaken: (handle) => dispatch(actions.checkHandleTaken(handle)),\n    onLogin: (email, password) => dispatch(actions.login(email, password)),\n    onSignup: (name, email, handle, password, file, src, newsletter) => dispatch(actions.signup(name, email, handle, password, file, src, newsletter)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthMenu);\n\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport * as actions from '../../../store/actions/index';\n\nimport MenuScreen from '../MenuScreen/MenuScreen';\nimport MenuItem from \"../MenuItem/MenuItem\";\n\nimport classes from \"./UserMenu.module.css\";\nimport LogoutIcon from './logout.svg';\n\n\n\nclass UserMenu extends Component { \n\n  state = {\n\n}\n\n  componentDidUpdate = () => {\n    if(this.props.shouldMoveRight) {\n      this.props.onMoveRight()\n    }; \n  }\n\n\n  getMenuScreens = () => {\n\n\n    return this.props.menuStack.map((s,i) => {\n        console.log(classes.LogoutContainer);\n        console.log('########################')\n        const pos = this.props.menuStack[this.props.currentDepth] === s ? 0 : i < this.props.currentDepth ? -1 : 1\n        let content = []; \n        switch(s){\n            case 'USER_MENU': \n                content.push(\n                    <MenuItem  key={s}>\n                        <div className={classes.LogoutContainer} onClick={this.props.onLogout}>\n                          <img className={classes.LogoutIcon} src={LogoutIcon} alt='logoutIcon'/>\n                          <p className={classes.LogoutText}>logout</p>\n                        </div>\n                    </MenuItem>\n                );\n                break; \n            default: console.log('INVALID ELEMENT ON MENU STACK');\n        }\n        return (\n            <MenuScreen screen={s} pos={pos} goBack={this.goBack} addToMenuStack={this.addToMenuStack}  key={s}>\n                {content}\n            </MenuScreen>\n        )\n    })\n  }\n\n\n  render() {\n    let menuClasses = [classes.Menu];\n    let lightButtonClasses = [classes.LightButton];\n    let darkButtonClasses = [classes.DarkButton];\n    if(this.props.darkmode){\n      menuClasses.push(classes.DarkMenu); \n      darkButtonClasses.push(classes.Active);\n      lightButtonClasses.push(classes.Inactive);\n    } else {\n      menuClasses.push(classes.LightMenu); \n      lightButtonClasses.push(classes.Active);\n      darkButtonClasses.push(classes.Inactive);\n    }\n    return (\n      <div className={classes.MenuItems}>\n        { this.getMenuScreens() }\n      </div>\n      \n    );\n  }\n}\n\nconst mapStateToProps = state => {\n\n  return {\n    menuStack: state.ui.menu.menuStack, \n    darkmode: state.ui.darkmode,\n    currentDepth: state.ui.menu.currentDepth, \n    shouldMoveRight: state.ui.menu.shouldMoveRight, \n\n    token: state.user.token,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onMoveRight: () => dispatch(actions.moveRight()),\n    onLogout: () => dispatch(actions.logout()), \n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\n\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../store/actions/index';\nimport classes from \"./SidePanel.module.css\";\nimport DefaultProfilePic from '../../media/DefaultProfilePic.png';\n\nimport AuthMenu from \"./AuthMenu/AuthMenu\";\nimport UserMenu from \"./UserMenu/UserMenu\";\n\n\n\nclass SidePanel extends Component {\n\n\n\n    getProfilePic = () => {\n        let profilePicSrc = DefaultProfilePic;\n        const token = localStorage.getItem('token');\n        if(this.props.profilePicSrc){\n            profilePicSrc = this.props.profilePicSrc;\n        }else {\n            if(token && this.props.hasProfilePic){\n                profilePicSrc = `${process.env.REACT_APP_PROFILE_PICTURES_SOURCE_URL}` + this.props.userId; \n            }\n        }\n        return(\n            <img \n                alt=''\n                className={`${classes.ProfilePic} ${this.props.menuOpen ? classes.MenuOpen : ''}`} \n                src={profilePicSrc}/>\n        )\n    }\n\n    render() {\n        let menuClasses = [classes.Menu, classes.DarkMode];\n        return (\n            <div className={classes.Container}>\n                { this.props.menuOpen ? <div className={classes.Overlay} onClick={this.props.onCloseMenu}></div> : null }\n                <div \n                    onClick={this.props.menuOpen ? this.props.onCloseMenu : this.props.onOpenMenu} \n                    className={classes.Assistant}>\n                    { this.getProfilePic() }\n                </div>\n                {\n                    this.props.menuOpen \n                    ? <div className={menuClasses.join(' ')}>\n                        <div className={classes.NameArea}>\n                        <h2 className={classes.Name}>{this.props.name}</h2>\n                        {\n                            this.props.token \n                            ? <p className={classes.Handle}>@{this.props.handle}</p>\n                            : null \n                        }\n                        </div>\n                        <hr/>\n                        { \n                            this.props.menuOpen \n                            ? this.props.token \n                                ? <UserMenu/> \n                                : <AuthMenu/> \n                            : null\n                        }\n                    </div>\n                    : null\n                }\n \n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        darkmode: state.ui.darkmode, \n        menuOpen: state.ui.menu.open,\n\n        token: state.user.token,\n        userId: state.user.userId,\n        handle: state.user.handle,\n        name: state.user.name, \n\n        hasProfilePic: state.user.hasProfilePic,\n        profilePicSrc: state.user.profilePicSrc,\n\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n      onOpenMenu: () => dispatch(actions.openMenu()),\n      onCloseMenu: () => dispatch(actions.closeMenu())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SidePanel);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions/index';\n\nimport classes from './Feedback.module.css';\n\nclass Feedback extends Component {\n\n    handleClicked = () => {\n        if(this.props.token && this.props.userId !== '6022396f28d69d22509a5d46'){\n            const self = {\n                handle: this.props.handle,\n                name: this.props.name, \n                profilePic: this.props.profilePic, \n                userId: this.props.userId\n            }\n            this.props.onSwitchTab('chat');\n            this.props.onOpenChrisChat(self);\n        }\n    }\n\n    render(){\n        return(\n            <div className={classes.Feedback}>\n                <h2>Got some feedback?<br/> Found a bug? <br/>Confused?</h2>\n                Send a screenshot or text me!<br/><br/>\n                +49 17682625207<br/>\n                on here: <span onClick={this.handleClicked} className={this.props.token ? classes.Link : null}>@chris</span><br/>\n                cloy202@gmail.com<br/>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.user.token,\n        userId: state.user.userId, \n        profilePic: state.user.profilePic, \n        handle: state.user.handle\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onOpenChrisChat: (self) => dispatch(actions.openChrisChat(self)),\n        onSwitchTab: (tab) => dispatch(actions.switchTab(tab)), \n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Feedback); ","import React, { Component } from \"react\";\nimport { Route, withRouter, Redirect } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nimport Stream from \"./components/Stream/Stream\";\nimport Chat from \"./components/Chat/Chat\";\nimport Creator from './components/Creator/Creator';\nimport Navigation from \"./components/Navigation/Navigation\";\nimport NewChatModal from './components/NewChatModal/NewChatModal';\nimport DropModal from './components/DropModal/DropModal';\nimport taktaktak from './media/taktaktak.jpg'; \n\nimport * as actions from './store/actions/index';\nimport Footer from \"./components/Footer/Footer\";\nimport SidePanel from \"./components/SidePanel/SidePanel\";\nimport Feedback from \"./components/Feedback/Feedback\";\n\nclass App extends Component {\n\n  componentDidMount = () => {\n    let anonymousId = localStorage.getItem('anonymousId');\n    if(!anonymousId) {\n      localStorage.setItem('anonymousId', 'anonymous'+Date.now());\n    }\n    this.props.onSetAnonymousId(anonymousId);\n    this.props.onTryAutoSignup();\n    this.props.onSetWindowWidth(window.innerWidth);\n    window.addEventListener('resize', () => this.props.onSetWindowWidth(window.innerWidth));\n      setInterval(() => {\n        if(this.props.token){\n          const token = localStorage.getItem('token');\n          const headers = { headers: { authorization : `Bearer ${token}` } }\n          const url = `/api/users/notifications`;\n          axios.get(url, headers)\n          .then(res => {\n              if(this.props.notifications.length !== res.data.length){\n                this.props.onRefreshNotifications(res.data);\n              }else {\n                const inComingIds = res.data.map(n => n.id);\n                this.props.notifications.map(n => n.id)\n                .forEach(id => {\n                  if(!inComingIds.some(iid => iid === id)){\n                    this.props.onRefreshNotifications(res.data);\n                  }\n                })\n              }\n          })\n          .catch(err => {\n            console.log(err);\n          })\n        }\n      }, 5000);\n  } \n\n  componentDidUpdate(){\n    if(this.props.anonymousId === ''){\n      let anonymousId = localStorage.getItem('anonymousId');\n      if(!anonymousId) {\n        localStorage.setItem('anonymousId', 'anonymous'+Date.now());\n      }\n      this.props.onSetAnonymousId(anonymousId);\n    }\n    if(this.props.windowWidth !== window.innerWidth){\n      this.props.onSetWindowWidth(window.innerWidth);\n    }\n  }\n\n  render() {\n\n    if(this.props.windowWidth < 600){\n      return (\n        <div className='DesktopOnlyMessage'>\n          Desktop only for now, sry. <br/>\n          ¯\\_(ツ)_/¯<br/>\n          App is coming soon though.<br/>\n          Working all day and night.<br/><br/>\n          <img src={taktaktak} alt='chris working' className='taktaktak'/>\n        </div>\n      )\n    }\n\n    return (\n        <div className='App'>\n          <div className={`Background ${this.props.darkmode ? 'Dark' : 'Light'}`}></div>\n          <Route path={['/stream', '/chat', '/creator']} component={Stream}/>\n          <Route path={['/stream', '/chat', '/creator']} component={Chat}/>\n          <Route path={['/stream', '/chat', '/creator']} component={Creator}/>\n          <Redirect to='/stream'/>\n          {this.props.newChatModalOpen ? <NewChatModal/> : null}\n          {this.props.dropModalOpen ? <DropModal/> : null}\n          <Navigation/>\n          <SidePanel/> \n          <Footer/>\n          <Feedback/>\n        </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    dropModalOpen: state.ui.dropModalOpen,\n    windowWidth: state.ui.windowWidth,\n    darkmode: state.ui.darkmode,\n    authOpen: state.user.authOpen,\n    newChatModalOpen: state.ui.newChatModalOpen,\n    notifications: state.user.notifications,\n    token: state.user.token,\n    anonymousId: state.user.anonymousId,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSetWindowWidth: (width) => dispatch(actions.setWindowWidth(width)),\n    onTryAutoSignup: () => dispatch(actions.authCheckState()),\n    onRefreshNotifications: (notifications) => dispatch(actions.refreshNotifications(notifications)),\n    onSetAnonymousId: (anonymousId) => dispatch(actions.setAnonymousId(anonymousId)),\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as actionTypes from '../actions/actionTypes';\n\n\nconst initialState = {\n    dropTargets: [],\n    selectedTargets: [],\n    dropIds: [],\n    streamStatus: 'nothing loaded',\n    streamElements: [\n        { position: -4, show: \"hidden\", id: \"-4\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded' },\n        { position: -3, show: \"hidden\", id: \"-3\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded' },\n        { position: -2, show: \"hidden\", id: \"-2\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded' },\n        { position: -1, show: \"hidden\", id: \"-1\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded' },\n        { position: 0, show: \"hidden\", id: \"0\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded' },\n        { position: 1, show: \"show\", id: \"1\", dropStatus: 'loaded', \n            comments: [\n                {\"id\":\"6299e12bbe4e51241f85b9ac\",\"comment\":\"fipw efojpw e\",\"author\":{\"userId\":\"602627eac021720012a01948\"},\"posted\":\"2022-06-03T10:23:39.669Z\",\"points\":0,\"subComments\":[\n                    {\"id\":\"629a004ebb58d226aba80031\",\"path\":\"6299e12bbe4e51241f85b9ac/0\",\"points\":0,\"comment\":\"grw\",\"subComments\":[\n                        {\"id\":\"629a0051bb58d226aba80033\",\"path\":\"6299e12bbe4e51241f85b9ac/0/0\",\"points\":0,\"comment\":\"reg\",\"subComments\":[]},\n                        {\"id\":\"629a0054bb58d226aba80035\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1\",\"points\":0,\"comment\":\"erger\",\"subComments\":[\n                            {\"id\":\"629a0058bb58d226aba80037\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0\",\"points\":0,\"comment\":\"gerger\",\"subComments\":[\n                                {\"id\":\"629a005cbb58d226aba80039\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0\",\"points\":0,\"comment\":\"gregerger\",\"subComments\":[\n                                    {\"id\":\"629a005fbb58d226aba8003b\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0\",\"points\":0,\"comment\":\"ergergerg\",\"subComments\":[\n                                        {\"id\":\"629a0062bb58d226aba8003d\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0\",\"points\":0,\"comment\":\"egrergerg\",\"subComments\":[\n                                            {\"id\":\"629a0065bb58d226aba8003f\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0\",\"points\":0,\"comment\":\"gegerg\",\"subComments\":[\n                                                {\"id\":\"629a0067bb58d226aba80041\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0\",\"points\":0,\"comment\":\"ergerge\",\"subComments\":[\n                                                    {\"id\":\"629a006bbb58d226aba80043\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"gergeger\",\"subComments\":[\n                                                        {\"id\":\"629a006ebb58d226aba80045\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"gerger\",\"subComments\":[\n                                                            {\"id\":\"629a0071bb58d226aba80047\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"ergergerg\",\"subComments\":[\n                                                                {\"id\":\"629a0074bb58d226aba80049\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"ergerg\",\"subComments\":[\n                                                                    {\"id\":\"629a0077bb58d226aba8004b\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"rgerg\",\"subComments\":[\n                                                                        {\"id\":\"629a007abb58d226aba8004d\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"greger\",\"subComments\":[\n                                                                            {\"id\":\"629a007ebb58d226aba8004f\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"ererg\",\"subComments\":[\n                                                                                {\"id\":\"629a0081bb58d226aba80051\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"gre\",\"subComments\":[\n                                                                                    {\"id\":\"629a0084bb58d226aba80053\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"erergerg\",\"subComments\":[\n                                                                                        {\"id\":\"629a0089bb58d226aba80055\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"regerg\",\"subComments\":[\n                                                                                            {\"id\":\"629a008fbb58d226aba80057\",\"path\":\"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0\",\"points\":0,\"comment\":\"ergerg\",\"subComments\":[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},\n        {\"id\":\"6299e12fbe4e51241f85b9ad\",\"comment\":\" fwlejkn f\",\"author\":{\"userId\":\"602627eac021720012a01948\"},\"posted\":\"2022-06-03T10:23:43.861Z\",\"points\":0,\"subComments\":[]},\n        {\"id\":\"629a0f82bb58d226aba8010c\",\"comment\":\"qd qiwo \",\"author\":{\"userId\":\"602627eac021720012a01948\"},\"posted\":\"2022-06-03T13:41:22.145Z\",\"points\":0,\"subComments\":[]},\n        {\"id\":\"629a1495bb58d226aba8010d\",\"comment\":\"oiwef eiowjfoi wje\",\"author\":{\"userId\":\"602627eac021720012a01948\"},\"posted\":\"2022-06-03T14:03:01.953Z\",\"points\":0,\"subComments\":[]}\n            ], \n            memeStatus: 'not loaded'\n        },\n        { position: 2, show: \"show\", id: \"2\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 3, show: \"show\", id: \"3\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 4, show: \"show\", id: \"4\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 5, show: \"show\", id: \"5\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 6, show: \"show\", id: \"6\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 7, show: \"show\", id: \"7\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 8, show: \"show\", id: \"8\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 9, show: \"show\", id: \"9\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 10, show: \"show\", id: \"10\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 11, show: \"show\", id: \"11\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 12, show: \"show\", id: \"12\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 13, show: \"show\", id: \"13\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 14, show: \"show\", id: \"14\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 15, show: \"show\", id: \"15\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 16, show: \"show\", id: \"16\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 17, show: \"show\", id: \"17\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 18, show: \"show\", id: \"18\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 19, show: \"show\", id: \"19\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 20, show: \"show\", id: \"20\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 21, show: \"show\", id: \"21\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n    ],\n    currentlyLoadingMemeId: '', \n    selectedComment: null,\n    sending: [],\n    timeStampLastScroll: 0,\n    mouseOverComments: false,\n}\n\n// ----- UTIL --------------------------------------------------------------------\n\nconst insertSubComment = (parentPath, subComments, comment) => {\n    return subComments.map(s => {\n        if(s.path === parentPath) return { ...s, subComments: [...s.subComments, comment] } \n        if(parentPath.startsWith(s.path)) return {...s, subComments: insertSubComment(parentPath, s.subComments, comment) }\n        else return s \n    })\n}\n\nconst replaceSubCommentId = (subComments, randPath, subComment) => {\n    return subComments.map(s => {\n        if(s.path === randPath){ \n            console.log(\"Reached SubComment\")\n            return { ...s, path: subComment.path} \n        }\n        else{\n            console.log('Going Deepa') \n            return {...s, subComments: replaceSubCommentId(s.subComments, randPath, subComment)}\n        }\n    })\n}\n\n// const scrollToTop = () => {\n//     const c = document.documentElement.scrollTop || document.body.scrollTop;\n//     if (c > 0) {\n//       window.requestAnimationFrame(scrollToTop);\n//       window.scrollTo(0, c - c / 10);\n//     }\n// };\n\nconst setDropsNotLoaded = (state, action) => {\n    const streamElementsNew = state.streamElements.map((s,i) => {\n        return {\n            ...s, \n            // show: i === 0 ? 'hidden' : 'show', \n            id: `${i}-${Date.now()}`, \n            status: 'not loaded', \n            dropStatus: 'not loaded', \n            comments: [], \n            memeStatus: 'not loaded'\n        }\n    })\n    return {\n        ...state, \n        streamElements: streamElementsNew,\n        streamStatus: 'nothing loaded'\n    }\n}\n\n// ----- FETCH IDS -----------------------------------------------------------\n\nconst fetchIdsStart = (state, action) => {\n    return {\n        ...state,\n        streamStatus: 'loading ids'\n    }\n}\n\nconst setIds = (state, action) => {\n    let activeIds = action.ids.slice(0, 21);\n    const ids = action.ids.slice(21, action.ids.length)\n    const streamElementsNew = state.streamElements.map((s, i) => {\n        if(s.position < 1){\n            return s\n        }else if(activeIds.length === 0){\n            return {...s, id: 'no more' + Math.random(), status: 'no more', memeStatus: 'not loaded'} \n        } else {\n            return { ...s, id: activeIds.pop(), status:'id loaded', memeStatus: 'not loaded'}\n        }\n    })\n    return {\n        ...state,\n        dropIds: ids,\n        currentlyLoadingMemeId: streamElementsNew[5].id,\n        streamElements: streamElementsNew,\n        streamStatus: 'ids loaded'\n    }\n}\n\nconst fetchIdsFailed = (state, action) => {\n    return { ...state, streamStatus: 'ids failed' }\n}\n\n\n// ----- FETCH DROPS ----------------------------------------------------------\n\nconst fetchDropsStart = (state, action) => {\n    return state;\n}\n\nconst setDrops = (state, action) => {\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.position === 0){\n            return { position: 0, show: \"hidden\", id: \"0\", dropStatus: 'loaded', comments: [], memeStatus: 'loading'}\n        }\n        const drop = action.drops.find(d => d.dropId === s.id); \n        if(drop){\n            return {\n                ...s,\n                comments: drop.comments.map(c => {return {...c, path:'0'}}),\n                title: drop.title ? drop.title : null,\n                source: drop.source ? drop.source : null,\n                dropStatus: 'loaded',\n            }\n        }else {\n            return s\n        }\n    })\n    \n    return {\n        ...state,\n        streamElements: streamElementsNew,\n        streamStatus: 'drops loaded'\n    }\n}\n\nconst fetchDropsFailed = (state, action) => {\n    return state;\n}\n\n// ----- FETCH MEME ----------------------------------------------------------\n\n\nconst fetchMemeSuccess = (state, action) => {\n    let nextPos; \n    let nextId = 'no more';\n    const streamElementsNew = state.streamElements.map(s => {\n        if(action.dropId === s.id){\n            nextPos = s.position + 1 \n            return {\n                ...s, \n                memeStatus: 'loaded'\n            }\n        } else if(s.position === nextPos) {\n            nextId = s.id\n            return s\n        } else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        streamElements: streamElementsNew,\n        currentlyLoadingMemeId: nextId\n    }\n}\n\nconst fetchMemeFailed = (state, action) => {\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            return {\n                ...s,\n                memeStatus: 'failed'\n            }\n        } else { return s }\n    })\n    return {\n        ...state, \n        streamElements: streamElementsNew\n    }\n}\n\n// ----- FETCH DROP ----------------------------------------------------------\n\nconst fetchDropStart = (state, action) => {\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            return {\n                ...s,\n                dropStatus: 'loading',\n            }\n        }else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        streamElements: streamElementsNew\n    }\n}\n\nconst fetchDropSuccess = (state, action) => {\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            return {\n                ...s,\n                ...action.drop,\n                comments: action.drop.comments ? action.drop.comments.map(c => {return {...c, path:'0'}}) : [],\n                title: action.drop.title ? action.drop.title : null,\n                source: action.drop.source ? action.drop.source : null,\n                dropStatus: 'loaded'\n            }\n        }else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        streamElements: streamElementsNew\n    }\n}\n\nconst fetchDropFailed = (state, action) => {\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            return {\n                ...s,\n                dropStatus: 'failed',\n            }\n        }else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        streamElements: streamElementsNew\n    }\n}\n\n\n// ----- SEND COMMENT ---------------------------------------------------------------------\n\nconst sendCommentStart = (state, action) => {\n    const sendingObject = { dropId: action.dropId, randId: action.comment.id }\n    const sendingNew = [...state.sending, sendingObject];\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            const commentsNew = [action.comment, ...s.comments];\n            return {\n                ...s,\n                comments: commentsNew\n            }\n        }else {\n            return s \n        }\n    })\n    return {\n        ...state,\n        sending: sendingNew, \n        streamElements: streamElementsNew,\n    }\n}\n\nconst sendCommentSuccess = (state, action) => {\n    console.log(action);\n    const sendingNew = state.sending.filter(c => c.randId !== action.randId);\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            const commentsNew = s.comments.map(c => {\n                if(c.id === action.comment.randId){\n                    return action.comment\n                }else {\n                    return c \n                }\n            })\n            return {\n                ...s, \n                comments: commentsNew\n            }\n        }else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        streamElements: streamElementsNew,\n        sending: sendingNew,\n    }\n}\n\nconst sendCommentFailed = (state, action) => {\n    console.log(action.err);\n    return {\n        ...state\n    }\n}\n\n// ----- SELECT DROP TARGET ------------------------------------------------------\n\nconst selectDropTarget = (state, action) => {\n    const dropTargetsNew = [...state.dropTargets, action.chatId]\n    return {\n        ...state,\n        dropTargets: dropTargetsNew\n    }\n}\n\nconst unselectDropTarget = (state, action) => {\n    const dropTargetsNew = state.dropTargets.filter(id => id !== action.chatId)\n    return {\n        ...state, \n        dropTargets: dropTargetsNew\n    }\n}\n\nconst resetDropTargets = (state, action) => {\n    return {\n        ...state,\n        dropTargets: []\n    }\n}\n\n// ----- SCROLL PREV -----------------------------------------------------------------------\n\nconst scrollPrevStart = (state, action) => {\n    //scrollToTop();\n    if(state.selectedComment){\n        return {\n            ...state,\n        selectedComment: null\n        }\n    } else {\n        const streamElementsNew = [\n            ...state.streamElements.map(s => {\n                return {\n                    ...s, \n                    position: s.position + 1,\n                    show: s.position + 1 < 1 ? 'hidden' : 'show'\n                }\n            })\n            .filter(s => {\n                return s.position + 1 <= 21 \n            }),\n            {\n                position: -4,\n                show: 'hidden',\n                id: `wrongDir-${Date.now()}`,\n                status: 'id loaded',\n                dropStatus: 'not loaded',\n                comments: []\n            }\n        ]\n        return {\n            ...state,\n            streamElements: streamElementsNew,\n            dropTargets: [],\n            timeStampLastScroll: Date.now()\n        }\n    }\n}\n\nconst scrollPrevSuccess = (state, action) => {\n    return {\n        ...state,\n    }\n}\n\nconst scrollPrevFailed = (state, action) => {\n    return {\n        ...state,\n    }\n}\n\n// ----- SCROLL NEXT -----------------------------------------------------------------------\n\nconst scrollNextStart = (state, action) => {\n    //scrollToTop();\n    if(state.selectedComment){\n        return {\n            ...state,\n        selectedComment: null\n        }\n    } else {\n        if(state.dropIds.length > 0) console.log('##################');\n        const nextId = state.dropIds.length !== 0 ? state.dropIds[0] : 'no more' + Date.now();\n        const dropIdsNew = state.dropIds.slice(1, state.dropIds.length); \n        const streamElementsNew = [\n            ...state.streamElements.map(s => {\n                return {\n                    ...s, \n                    position: s.position - 1,\n                    show: s.position-1 < 1 ? 'hidden' : 'show'\n                }\n            })\n            .filter(s => {\n                return s.position >= -4\n            }),\n            {\n                position: 21,\n                show: 'show',\n                id: nextId,\n                status: 'id loaded',\n                dropStatus: 'not loaded',\n                comments: []\n            }\n        ]\n        return {\n            ...state,\n            streamElements: streamElementsNew,\n            dropIds: dropIdsNew, \n            dropTargets: [],\n            timeStampLastScroll: Date.now()\n        }\n    }\n}\n\nconst scrollNextSuccess = (state, action) => {\n    return {\n        ...state,\n    }\n}\n\nconst scrollNextFailed = (state, action) => {\n    return {\n        ...state,\n    }\n}\n\n// ----- SELECT COMMENT ---------------------------------------------------------------------\n\n\nconst selectComment = (state, action) => {\n    return { ...state, selectedComment: action.commentId }\n}\n\nconst unselectComment = (state, action) => {\n    return { ...state, selectedComment: null }\n}\n\nconst selectSubComment = (state, action) => {\n    return { ...state, selectedComment: action.path }\n}\n\nconst unselectSubComment = (state) => {\n    return { ...state, selectedComment: null }\n}\n\n// ----- SEND SUBCOMMENT -------------------------------------------------------------------------\n\nconst sendSubCommentStart = (state, action) => {\n    const { dropId, subComment } = action; \n    const newPath = `${state.selectedComment}/${subComment.id}`;\n    const sendingNew = [...state.sending, {dropId: dropId, path: newPath}]\n    const newSubComment = {\n        id: subComment.id,\n        comment: subComment.comment,\n        path: newPath,\n        points: 0,\n        subComments: []\n    }\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === dropId){\n            const comments = s.comments.map(c => {\n                if(state.selectedComment.split('/')[0] === c.id){\n                    if(state.selectedComment.split('/').length > 1){\n                        return {...c, subComments: insertSubComment(state.selectedComment, c.subComments, newSubComment)}\n                    }else{\n\n                        return {...c, subComments: [...c.subComments, newSubComment]}\n                    }\n                }else {\n                    return c;\n                }\n            });\n            return {\n                ...s,\n                comments: comments\n            }\n        } else {\n            return s\n        }\n    })\n    return {\n        ...state, \n        streamElements: streamElementsNew, \n        sending: sendingNew,\n        selectedComment: null,\n    }\n}\n\nconst sendSubCommentSuccess = (state, action) => {\n    const { dropId, randPath, subComment } = action;\n    const sendingNew = state.sending.filter(s => {\n        return !(s.dropId === dropId && s.path === randPath)\n    })\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === dropId){\n            const commentsNew = s.comments.map(c => {\n                if(randPath.startsWith(c.id)){\n                    return {\n                        ...c, \n                        subComments: replaceSubCommentId(c.subComments, randPath, subComment)\n                    }\n                }else {\n                    return c\n                }\n            })\n            return {\n                ...s,\n                comments: commentsNew\n            }\n        }else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        sending: sendingNew,\n        streamElements: streamElementsNew\n    }\n}\n\nconst sendSubCommentFailed = (state, action) => {\n    return {\n        ...state\n    }\n}\n\nconst deleteCommentStart = (state, action) => {\n    const { dropId, commentId } = action;\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === dropId){\n            const commentsNew = s.comments.filter(c => c.id !== commentId);\n            return {\n                ...s,\n                comments: commentsNew\n            }\n        } else {\n            return s\n        }\n    })\n    return {\n        ...state, \n        streamElements: streamElementsNew, \n        selectedComment: null,\n    }\n}\n\nconst deleteCommentSuccess = (state, action) => {\n    return state\n}\n\nconst deleteCommentFailed = (state, action) => {\n    return state\n}\n\nconst setMouseOverComments = (state, action) => {\n    return {\n        ...state,\n        mouseOverComments: action.value\n    }\n}\n\nconst reducer = (state = initialState, action ) => {\n    switch( action.type ) {\n        case actionTypes.SELECT_DROPTARGET: return selectDropTarget(state, action);\n        case actionTypes.UNSELECT_DROPTARGET: return unselectDropTarget(state, action);\n        case actionTypes.RESET_DROP_TARGETS: return resetDropTargets(state, action);\n\n        case actionTypes.SCROLL_PREV_START: return scrollPrevStart(state, action);\n        case actionTypes.SCROLL_PREV_SUCCESS: return scrollPrevSuccess(state, action);\n        case actionTypes.SCROLL_PREV_FAILED: return scrollPrevFailed(state, action);\n\n        case actionTypes.SCROLL_NEXT_START: return scrollNextStart(state, action);\n        case actionTypes.SCROLL_NEXT_SUCCESS: return scrollNextSuccess(state, action);\n        case actionTypes.SCROLL_NEXT_FAILED: return scrollNextFailed(state, action);\n\n        case actionTypes.FETCH_IDS_START: return fetchIdsStart(state, action);\n        case actionTypes.SET_IDS: return setIds(state, action);\n        case actionTypes.FETCH_IDS_FAILED: return fetchIdsFailed(state, action);\n\n        case actionTypes.SELECT_COMMENT: return selectComment(state, action);\n        case actionTypes.UNSELECT_COMMENT: return unselectComment(state, action);\n        case actionTypes.SELECT_SUBCOMMENT: return selectSubComment(state, action);\n        case actionTypes.UNSELECT_SUBCOMMENT: return unselectSubComment(state);\n\n        case actionTypes.SET_DROPS_NOT_LOADED: return setDropsNotLoaded(state, action);\n\n        case actionTypes.FETCH_DROPS_START: return fetchDropsStart(state, action);\n        case actionTypes.SET_DROPS: return setDrops(state, action);\n        case actionTypes.FETCH_DROPS_FAILED: return fetchDropsFailed(state, action);\n\n        case actionTypes.FETCH_DROP_START: return fetchDropStart(state, action);\n        case actionTypes.FETCH_DROP_SUCCESS: return fetchDropSuccess(state, action);\n        case actionTypes.FETCH_DROP_FAILED: return fetchDropFailed(state, action);\n\n        case actionTypes.FETCH_MEME_SUCCESS: return fetchMemeSuccess(state, action);\n        case actionTypes.FETCH_MEME_FAILED: return fetchMemeFailed(state, action);\n \n        case actionTypes.SEND_COMMENT_START: return sendCommentStart(state, action);\n        case actionTypes.SEND_COMMENT_SUCCESS: return sendCommentSuccess(state, action);\n        case actionTypes.SEND_COMMENT_FAILED: return sendCommentFailed(state, action);\n\n        case actionTypes.DELETE_COMMENT_START: return deleteCommentStart(state, action);\n        case actionTypes.DELETE_COMMENT_SUCCESS: return deleteCommentSuccess(state, action);\n        case actionTypes.DELETE_COMMENT_FAILED: return deleteCommentFailed(state, action);\n\n        case actionTypes.SEND_SUBCOMMENT_START: return sendSubCommentStart(state, action);\n        case actionTypes.SEND_SUBCOMMENT_SUCCESS: return sendSubCommentSuccess(state, action);\n        case actionTypes.SEND_SUBCOMMENT_FAILED: return sendSubCommentFailed(state, action);\n\n        case actionTypes.SET_MOUSE_OVER_COMMENTS: return setMouseOverComments(state, action);\n    \n        default: return state;\n    }\n}\n\n\n\n\n\n\n\n\nexport default reducer; ","import * as actionTypes from '../actions/actionTypes';\n\nconst initialState = {\n    currentChatId: '1',\n    formHeight: 53,\n    chatInput: '',  \n    allUsers: [],\n    allUsersStatus: 'not loaded',\n\n    sendingFriendRequests: [],\n    sentFriendRequests: [],\n    failedFriendRequests: [],\n\n    receivedFriendRequests: [],\n    acceptingFriendRequests: [],\n    creatingChats: [],\n    messageBuffer: [],\n\n    friends: [\n        { userId: '42069',  name: 'Elon Musk',        handle: 'elon',    profilePic: false},\n        { userId: '12',     name: 'Tonald Drump',     handle: 'donald',  profilePic: false},\n        { userId: '12345',  name: 'Shrek',            handle: 'shrek',   profilePic: false},\n        { userId: '42069',  name: 'Rick Astley',      handle: 'rick',    profilePic: false},\n        { userId: '123456', name: 'Keano Reeeeeeeee', handle: 'Keano',   profilePic: false},\n        { userId: '122',    name: 'Michael Jordan',   handle: 'michael', profilePic: false},\n\n\n    ],\n    friendsStatus: 'not loaded',\n    chats: [\n        {\n            group: false,\n            chatId: '1',\n            members: [\n                { userId: '1', name: 'Username' }, \n                { userId: '42069', name: 'Elon Musk', handle: 'elon', profilePic: false }\n            ],\n            inputValue: '',\n            lastInteraction: 1611673082511,\n            messages: [ \n                {\n                    text: 'Whats poppin\\' Elon?',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '1',\n                    id: '1',\n                },\n                {\n                    text: 'Rocket goes brrrrrt',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '5',\n                    id: '2',\n                    new: true\n                },\n            ]\n        },\n        {\n            chatId: '2',\n            group: false,\n            members: [\n                { userId: '1'}, \n                { userId: '12', name: 'Tonald Drump', handle: 'donald', profilePic: false}\n            ],            \n            inputValue: '', \n            lastInteraction: 1611673082510,\n            messages: [\n                {\n                    text: 'I won. By a lot.',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '12',\n                    id: '1',\n                    new: true,\n                }\n            ],        \n        },\n        {\n            chatId: '3',\n            members: [\n                { userId: '1'}, \n                { userId: '12345', name: 'Shrek', profilePic: false}\n            ],             \n            inputValue: '', \n            lastInteraction: 1611673082509,\n            messages: [\n                {\n                    text: 'Get out of my swamp!',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '12345',\n                    id: '1',\n                    new: true\n                }\n            ],        \n        },\n        {\n            chatId: '4',\n            members: [\n                { userId: '1'}, \n                { userId: '123456', name: 'Keano Reeeeeeeee', profilePic: false}\n            ], \n            inputValue: '', \n            lastInteraction: 1611673082508,\n\n            messages: [\n                {\n                    text: 'I can do total sellout and they still love me lol',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '123456',\n                    id: '1',\n                }\n            ],\n        },\n        {\n            chatId: '5',\n            name: 'Rick Astley',\n            members: [\n                { userId: '1'}, \n                { userId: '42069', name: 'Rick Astley', profilePic: false}\n            ],            inputValue: '', \n            messages: [\n                {\n                    text: 'Never gonna give you up!',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '12345',\n                    id: '1',\n                },\n            ],        \n        },\n        {\n            chatId: '6',\n            members: [\n                { userId: '1'}, \n                { userId: '122', name: 'Michael Jordan', handle: 'michael', profilePic: false},\n            ],\n            inputValue: '', \n            lastInteraction: 1611673082507,\n            messages: [\n                {\n                    text: 'And I took that personally.',\n                    time: '14:32', \n                    sender: 'chris',\n                    id: 1,\n                    sent: true \n                }\n            ],        \n        },\n    ], \n    seenUpdatesChats: [],\n    users: [],\n    sendingMessages: [],\n    chatsStatus: 'not loaded',\n    currentChatLoaded: false, \n}\n\nconst reducer = (state = initialState, action) => {\n    switch(action.type) {\n        case actionTypes.SET_CHAT_STATE_ON_LOGIN: return setChatStateOnLogin(state, action);\n        case actionTypes.ADD_NEW_USERS: return addNewUsers(state, action);\n\n        case actionTypes.SEND_MESSAGE_START: return sendMessageStart(state, action);\n        case actionTypes.SEND_MESSAGE_SUCCESS: return sendMessageSuccess(state, action);\n        case actionTypes.SEND_MESSAGE_FAILED: return sendMessageFailed(state, action);\n\n        case actionTypes.SEND_DROP_START: return sendDropStart(state, action);\n        case actionTypes.SEND_DROP_SUCCESS: return sendDropSuccess(state, action);\n        case actionTypes.SEND_DROP_FAILED: return sendDropFailed(state, action);\n\n        case actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_START: return sendFirstMessageNewChatStart(state, action);\n        case actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_SUCCESS: return sendFirstMessageNewChatSuccess(state, action);\n        case actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_FAILED: return sendFirstMessageNewChatFailed(state, action);\n\n        case actionTypes.ADD_MESSAGE_TO_BUFFER: return addMessageToBuffer(state, action);\n        case actionTypes.SEND_MESSAGE_FROM_BUFFER_START: return sendMessageFromBufferStart(state, action);\n        case actionTypes.SEND_MESSAGE_FROM_BUFFER_SUCCESS: return sendMessageFromBufferSuccess(state, action);\n        case actionTypes.SEND_MESSAGE_FROM_BUFFER_FAILED: return sendMessageFromBufferFailed(state, action);\n         \n\n        case actionTypes.CHANGE_CHAT: return changeChat(state, action);\n        case actionTypes.CHANGE_CHAT_INPUT: return chatInputChangeHandler(state, action);\n        \n        case actionTypes.FETCH_ALL_USERS_START: return fetchAllUsersStart(state, action);\n        case actionTypes.FETCH_ALL_USERS_SUCCESS: return fetchAllUsersSuccess(state, action);\n        case actionTypes.FETCH_ALL_USERS_FAILED: return fetchAllUsersFailed(state, action);\n\n        case actionTypes.SEND_FRIEND_REQUEST_START: return sendFriendRequestStart(state, action);\n        case actionTypes.SEND_FRIEND_REQUEST_SUCCESS: return sendFriendRequestSuccess(state, action);\n        case actionTypes.SEND_FRIEND_REQUEST_FAILED: return sendFriendRequestFailed(state, action);\n\n        case actionTypes.ACCEPT_FRIEND_REQUEST_START: return acceptFriendRequestStart(state, action);\n        case actionTypes.ACCEPT_FRIEND_REQUEST_SUCCESS: return acceptFriendRequestSuccess(state, action);\n        case actionTypes.ACCEPT_FRIEND_REQUEST_FAILED: return acceptFriendRequestFailed(state, action);\n\n        case actionTypes.FETCH_CHATS_START: return fetchChatsStart(state, action);\n        case actionTypes.FETCH_CHATS_SUCCESS: return fetchChatsSuccess(state, action);\n        case actionTypes.FETCH_CHATS_FAILED: return fetchChatsFailed(state, action);\n\n        case actionTypes.FETCH_NEW_CHAT_START: return fetchNewChatStart(state, action);\n        case actionTypes.FETCH_NEW_CHAT_SUCCESS: return fetchNewChatSuccess(state, action);\n        case actionTypes.FETCH_NEW_CHAT_FAILED: return fetchNewChatFailed(state, action);\n\n        case actionTypes.CREATE_DUMMY_CHAT: return createDummyChat(state, action);\n        case actionTypes.CHECK_AND_ADD_NEW_MESSAGES: return checkAndAddNewMessages(state, action);\n        case actionTypes.OPEN_CHRIS_CHAT: return openChrisChat(state, action);\n\n\n        default: return state;\n    }\n}\n\n\n//----- LOG IN / OUT -----------------------------------------------------\n\nconst setChatStateOnLogin = (state, action) => {\n    const newTextMessagesNotifications = action.userdata.notifications.filter(n => n.type.startsWith('NEW_MESSAGE'));\n    const dummyChatsFromRequests = action.userdata.receivedFriendRequests\n    .filter(user => !action.userdata.chats.some(c => c.members.some(m => m.userId === user.userId)))\n    .map(user => {\n        console.log(user);\n        const self = {\n            userId: action.userdata.userId,\n            name: action.userdata.name,\n            handle: action.userdata.handle,\n            profilePic: action.userdata.profilePic,\n        }\n        const dummyChatId = `dummy${user.userId}`\n        return {\n            group: false,\n            messages: [],\n            chatId: dummyChatId,\n            members: [self, user],\n            name: user.name,\n            lastInteraction: Date.now(),\n        }\n    })\n    const chatsNew = [\n        ...action.userdata.chats.map(chat => {\n            const messages = chat.messages.map(message => {\n                if(newTextMessagesNotifications.some(n => n.chatId === chat.chatId && n.messageId === message.id)){\n                    return {\n                        ...message,\n                        new: true\n                    }\n                }else {\n                    return message\n                }\n            })\n            return {\n                ...chat,\n                messages\n            }\n        }),\n        ...dummyChatsFromRequests\n    ]\n    return {\n        ...state, \n        receivedFriendRequests: action.userdata.receivedFriendRequests, \n        sentFriendRequests: action.userdata.sentFriendRequests,\n        friends: action.userdata.friends,\n        chats: chatsNew,\n        currentChatId: action.userdata.chats.length > 0 ? action.userdata.chats[0].chatId : null,\n    }\n}\n\n\n\n//----- CHANGE CHAT ------------------------------------------------------\n\nconst changeChat = (state, action) => {\n    let chatInputNew;\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === state.currentChatId){\n            const messages = chat.messages.map(message => {\n                if(message.new){\n                    return {\n                        ...message,\n                        new: false\n                    }\n                }else {\n                    return message;\n                }\n            })\n            return {\n                ...chat,\n                messages,\n                inputValue: state.chatInput\n            }\n        } else if(chat.chatId === action.chatId){\n            chatInputNew = chat.inputValue; \n            return chat;\n        } else {\n            return chat\n        }\n    })\n    const seenUpdatesChatsNew = [...state.seenUpdatesChats, action.chatId]\n\n    return {\n        ...state,\n        chats: chatsNew, \n        inputValue: chatInputNew, \n        currentChatId: action.chatId,\n        seenUpdatesChats: seenUpdatesChatsNew, \n    }\n}\n\nconst chatInputChangeHandler = (state, action) => {\n    const chatInputNew = action.value;\n    return {\n        ...state,\n        chatInput: chatInputNew,\n    }\n}\n\n//----- SEND MESSAGE  -------------------------------------------------\n\nconst sendMessageStart = (state, action) => {\n    const { randId, text, userId } = action;\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === state.currentChatId){\n            return {\n                ...chat, \n                messages: [\n                    ...chat.messages,\n                    {\n                        received: [],\n                        seen: [],\n                        liked: [],\n                        text: text, \n                        sender: userId,\n                        time: new Date(),\n                        id: randId,\n                        type: 'text', \n                        sending: true\n                    }\n                ]\n            }\n        }\n        else {\n            return chat\n        }\n    })\n    const sendingMessagesNew = [...state.sendingMessages, {chatId: state.currentChatId, randId: action.randId}]\n    return {\n        ...state,\n        chats: chatsNew,\n        sendingMessages: sendingMessagesNew,\n        chatInput: '',\n        shouldDeleteInput: true\n    }\n}\n\nconst sendMessageSuccess = (state, action) => {\n    const sendingMessage = state.sendingMessages.find(m => m.randId === action.randId);\n    const sendingMessagesNew = state.sendingMessages.filter(m => m.randId !== action.randId);\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === sendingMessage.chatId){\n            const messagesNew = chat.messages.map(message => {\n                if(message.id === sendingMessage.randId){\n                    return action.message;\n                }else{\n                    return message\n                }\n            })\n            return {\n                ...chat,\n                messages: messagesNew\n            }\n        }else {\n            return chat\n        }\n    })\n    return {\n        ...state,\n        chats: chatsNew,\n        sendingMessages: sendingMessagesNew,\n    }\n}\n\nconst sendMessageFailed = (state, action) => {\n    return {\n        ...state\n    }\n}\n\n//----- SEND FIRST MESSAGE NEW CHAT -------------------------------------\n\nconst sendDropStart = (state, action) => {\n    const chatsNew = state.chats.map(chat => {\n        if(action.chatIds.some(id => id === chat.chatId)){\n            const messagesNew = [...chat.messages, action.message]\n            return {\n                ...chat,\n                messages: messagesNew\n            } \n        }else {\n            return chat\n        }\n    })\n    const sendingM = action.chatIds.map(chatId => { return { randId: action.message.id, chatId}})\n    const sendingMessagesNew = [...state.sendingMessages, ...sendingM]\n    return {\n        ...state,\n        chats: chatsNew,\n        sendingMessages: sendingMessagesNew,\n        currentChatId: action.chatIds[0],\n    }\n}\n\nconst sendDropSuccess = (state, action) => {\n    \n    const { messageReplacements, chatReplacements, randId } = action;\n    let currentChatIdNew = state.currentChatLoaded;\n    console.log(action)\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId.startsWith('dummy')){\n            console.log('FOUND DUMMY CHAT');\n            const chatReplacement = chatReplacements.find(r => `dummy${r.userId}` === chat.chatId); \n            if(chatReplacement){\n                console.log('FOUND A MATCHING REPLACEMENT');\n                currentChatIdNew = chatReplacement.chat.chatId;\n                return chatReplacement.chat;\n            }\n        }\n        const messageReplacement = messageReplacements.find(r => r.chatId === chat.chatId);\n        if(messageReplacement){\n            const messagesNew = chat.messages.map(message => {\n                if(message.id === randId){\n                    return messageReplacement.message\n                }else {\n                    return message\n                }\n            })\n            return {\n                ...chat,\n                messages: messagesNew\n            }\n        } else {\n            return chat\n        }\n    })\n    return {\n        ...state,\n        chats: chatsNew,\n        currentChatId: currentChatIdNew, \n    }\n}\n\nconst sendDropFailed = (state, action) => {\n    return {\n        ...state\n    }\n}\n\n//----- SEND FIRST MESSAGE NEW CHAT -------------------------------------\n\nconst sendFirstMessageNewChatStart = (state, action) => {\n    const { dummyChatId, randId, message, self } = action;\n    console.log(action);\n    const newMessage = {\n        received: [],\n        seen: [],\n        liked: [],\n        text: message, \n        sender: self.userId,\n        time: new Date(),\n        id: randId,\n        type: 'text', \n        sent: true, \n        sending: true\n    }\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === dummyChatId){\n            return {\n                ...chat,\n                messages: [newMessage],\n            }\n        }else{\n            return chat\n        }\n    });\n    const creatingChatsNew = [...state.creatingChats, dummyChatId];\n    return {\n        ...state,\n        chats: chatsNew,\n        creatingChats: creatingChatsNew\n    }\n}\n\nconst sendFirstMessageNewChatSuccess = (state, action) => {\n    const { dummyChatId, createdChat, self, chatPartner } = action;\n    const currentChatIdNew = state.currentChatId === dummyChatId ? createdChat.chatId : state.currentChatId;\n    const dummyChatMessages = state.chats.find(c => c.chatId === dummyChatId).messages;\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === dummyChatId){\n            console.log('FOUND DUMMY CHAT');\n            return {\n                ...createdChat, \n                messages: [...createdChat.messages, ...dummyChatMessages.slice(1, dummyChatMessages.length)],\n                members: [self, chatPartner],\n            }\n        } else {\n            return chat\n        }\n    })\n    const messageBufferNew = state.messageBuffer.map(message => {\n        if(message.dummyChatId === dummyChatId){\n            return {\n                ...message, \n                dummyChatId: createdChat.chatId\n            }\n        }else {\n            return message\n        }\n    })\n    const creatingChatsNew = state.creatingChats.filter(id => id !== dummyChatId);\n    return {\n        ...state, \n        chats: chatsNew,\n        currentChatId: currentChatIdNew,\n        messageBuffer: messageBufferNew, \n        creatingChats: creatingChatsNew,\n    }\n}\n\nconst sendFirstMessageNewChatFailed = (state, action) => {\n    return {\n        ...state, \n    }\n}\n\n//----- ADD_MESSAGE_TO_BUFFER ------------------------------------------\n\nconst addMessageToBuffer = (state, action) => {\n    const { dummyChatId, dummyMessageId, text, userId } = action; \n    const messageBufferNew = [...state.messageBuffer, {\n        dummyChatId,\n        dummyMessageId, \n        text, \n        id: `${Date.now()}`\n    }]\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === state.currentChatId){\n            return {\n                ...chat, \n                messages: [\n                    ...chat.messages,\n                    {\n                        received: [],\n                        seen: [],\n                        liked: [],\n                        text: text, \n                        sender: userId,\n                        time: new Date(),\n                        id: dummyMessageId,\n                        type: 'text', \n                        sending: true\n                    }\n                ]\n            }\n        }\n        else {\n            return chat\n        }\n    })\n    return {\n        ...state,\n        messageBuffer: messageBufferNew,\n        chats: chatsNew\n    }\n}\n\nconst sendMessageFromBufferStart = (state, action) => {\n    const { id } = action;\n    const messageBufferNew = state.messageBuffer.map(m => {\n        if(m.id === id){\n            return {\n                ...m, \n                sending: true\n            }\n        }else {\n            return m; \n        }\n    })\n    return {\n        ...state, \n        messageBuffer: messageBufferNew\n    }\n}\n\n//////////////////////////////////////////////////////////////////////\n\nconst sendMessageFromBufferSuccess = (state, action) => {\n    const { id, response } = action;;\n    const bufferMessage = state.messageBuffer.find(m => m.id === id);\n    console.log(bufferMessage);\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === bufferMessage.dummyChatId){\n            const messagesNew = chat.messages.map(m => {\n                if(m.id === bufferMessage.dummyMessageId){\n                    return response\n                }else{\n                    return m\n                }\n            })\n            return {\n                ...chat, \n                messages: messagesNew\n            }\n        }else {\n            return chat\n        }\n    })\n    const messageBufferNew = state.messageBuffer.filter(m => m.id !== id)\n    return {\n        ...state,\n        chats: chatsNew,\n        messageBuffer: messageBufferNew \n    }\n}\n\n///////////////////////////////////////////////////////////////////////\n\nconst sendMessageFromBufferFailed = (state, action) => {\n    const { id } = action;\n    const messageBufferNew = state.messageBuffer.map(m => {\n        if(m.id === id){\n            return {\n                ...m, \n                sending: false\n            }\n        }else {\n            return m; \n        }\n    })\n    return {\n        ...state, \n        messageBuffer: messageBufferNew\n    }\n}\n\n//----- FETCH ALL USERS -------------------------------------------------\n\nconst fetchAllUsersStart = (state, aciton) => {\n    return {\n        ...state,\n        allUsersStatus: 'loading'\n    }\n}\n\nconst fetchAllUsersSuccess = (state, action) => {\n    return {\n        ...state,\n        allUsersStatus: 'loaded',\n        allUsers: action.users, \n    }\n}\n\nconst fetchAllUsersFailed = (state, action) => {\n    return {\n        ...state,\n        allUsersStatus: 'failed'\n    }\n}\n\n//----- SEND FRIEND REQUEST --------------------------------------------------\n\nconst sendFriendRequestStart = (state, action) => {\n    const sendingFriendRequestsNew = [...state.sendingFriendRequests, action.user];\n    return {\n        ...state,\n        sendingFriendRequests: sendingFriendRequestsNew\n    }\n}\n\nconst sendFriendRequestSuccess = (state, action) => {\n    const sendingFriendRequestsNew = state.sendingFriendRequests.filter(user => user.userId !== action.user.userId);\n    const sentFriendRequestsNew = action.chat ? state.sentFriendRequests : [...state.sentFriendRequests, action.user];\n    let chatsNew = state.chats;\n    let currentChatIdNew = state.currentChatId;\n    let friendsNew = state.friends;\n    if(action.chat){\n        chatsNew = [\n            ...state.chats.filter(chat => chat.chatId !== action.chat.chatId && chat.chatId !== `dummy${action.user.userId}`),\n            action.chat\n        ]\n        currentChatIdNew = action.chat.chatId;\n        friendsNew = [...state.friends, action.user]\n    }\n    return {\n        ...state,\n        sentFriendRequests: sentFriendRequestsNew,\n        sendingFriendRequests: sendingFriendRequestsNew, \n        chats: chatsNew,\n        currentChatId: currentChatIdNew,\n        friends: friendsNew,\n    }\n}\n\nconst sendFriendRequestFailed = (state, action) => {\n    const sendingFriendRequestsNew = state.sendingFriendRequests.filter(user => user.userId !== action.user.userId);\n    const failedFriendRequestsNew = [...state.failedFriendRequests, action.user];\n\n    return {\n        ...state, \n        sendingFriendRequests: sendingFriendRequestsNew, \n        failedFriendRequests: failedFriendRequestsNew, \n    }\n}\n\n//----- ACCEPT FRIEND REQUEST --------------------------------------------------\n\n\nconst acceptFriendRequestStart = (state, action) => {\n    console.log('USER', action.user);\n    const receivedFriendRequestsNew = state.receivedFriendRequests.filter(user => user.userId !== action.user.userId);\n    const acceptingFriendRequestsNew = [...state.acceptingFriendRequests, action.user]; \n    return {\n        ...state, \n        receivedFriendRequests: receivedFriendRequestsNew,\n        acceptingFriendRequests: acceptingFriendRequestsNew\n    }\n}\n\nconst acceptFriendRequestSuccess = (state, action) => {\n    const { friend, chat } = action;\n    const acceptingFriendRequestsNew = state.acceptingFriendRequests.filter(user => user.userId !== friend.userId);\n    const friendsNew = [...state.friends, friend]; \n    const dummyId = `dummy${friend.userId}`\n    const chatsNew = [\n        ...state.chats.filter(c => c.chatId !== dummyId && c.chatId !== chat.chatId), \n        chat\n    ]\n    const currentChatIdNew = chat.chatId;\n    return {\n        ...state,\n        friends: friendsNew,\n        chats: chatsNew,\n        acceptingFriendRequests: acceptingFriendRequestsNew,\n        currentChatId: currentChatIdNew,\n    }\n}\n\nconst acceptFriendRequestFailed = (state, action) => {\n    const receivedFriendRequestsNew = [...state.receivedFriendRequests, action.user]\n    return {\n        ...state,\n        receivedFriendRequests: receivedFriendRequestsNew,\n    }\n}\n\n//----- FETCH CHATS --------------------------------------------------\n\nconst fetchChatsStart = (state, action) => {\n    return {\n        ...state, \n        chatsStatus: 'loading'\n    }\n}\n\nconst fetchChatsSuccess = (state, action) => {\n    const chatsNew = action.chats.map(chat => {\n        return {\n            ...chat,\n            inputValue: '',\n        }\n    })\n    const currentChatId = chatsNew.length > 0 ? chatsNew[0].chatId : null ;\n    return {\n        ...state,\n        chats: chatsNew,\n        currentChatId: currentChatId,\n        chatsStatus: 'loaded'\n    }\n}\n\nconst fetchChatsFailed = (state, action) => {\n    return {\n        ...state, \n        chatStatus: 'failed'\n    }\n}\n\n\n// ------------------------------------------------------\n\nconst createDummyChat = (state, action) => {\n    const dummyChatId = 'dummy' + action.chatPartner.userId\n    const alreadyExists = state.chats.some(chat => chat.chatId === dummyChatId);\n    const chatsNew = alreadyExists ? state.chats : [\n        {\n            group: false,\n            messages: [],\n            chatId: dummyChatId,\n            members: [action.self, action.chatPartner],\n            name: action.chatPartner.name,\n            lastInteraction: Date.now()\n        }, \n        ...state.chats]\n    return {\n        ...state,\n        chats: chatsNew,\n        currentChatId: dummyChatId\n    }\n}\n\nconst addNewUsers = (state, action) => {\n    const personsNew = [...state.users, ...action.users];\n    return {\n        ...state,\n        users: personsNew\n    }\n}\n\nconst removeDuplicateMessages = (messages) => {\n    let messageSet = [];\n    messages.forEach(message => {\n        if(!messageSet.some(m => m.id === message.id)){\n            messageSet.push(message);\n        }\n    })\n    return messageSet;\n}\n\nconst checkAndAddNewMessages = (state, action) => {\n    const chatsNew = state.chats.map(chat => {\n        const newMessagesThisChat = action.notifications\n            .filter(n => n.chatId === chat.chatId)\n            .map(n => {return {...n.message, new: true}})\n        if(newMessagesThisChat.length > 0){\n            const messagesNew = removeDuplicateMessages([...chat.messages, ...newMessagesThisChat]);\n            return {\n                ...chat,\n                messages: messagesNew\n            }\n        }else {\n            return chat\n        }\n    })\n\n    return {\n        ...state,\n        chats: chatsNew \n    }\n}\n\n//------ FETCH NEW CHAT ------------------------------------------------------------\n\nconst fetchNewChatStart = (state, action) => {\n    return {\n        ...state, \n    }\n}\n\nconst fetchNewChatSuccess = (state, action) => {\n    \n    const chatsNew = [...state.chats.filter(chat => chat.chatId !== action.chat.chatId), action.chat]\n    return {\n        ...state, \n        chats: chatsNew\n    }\n}\n\nconst fetchNewChatFailed = (state, action) => {\n    return {\n        ...state, \n    }\n}\n\n//------ OPEN CHRIS CHAT -----------------------------------------------------------\n\nconst openChrisChat = (state, action) => {\n    console.log('CHRIS CHAT ID', `dummy${process.env.REACT_APP_CHRIS_ID}`)\n    const existingChrisChat = state.chats\n        .find(chat => chat.chatId === `dummy${process.env.REACT_APP_CHRIS_ID}` \n           || chat.members.some(m => m.userId === `${process.env.REACT_APP_CHRIS_ID}`)); \n    const currentChatIdNew = existingChrisChat ? existingChrisChat.chatId : `dummy${process.env.REACT_APP_CHRIS_ID}`;\n    const chatsNew = existingChrisChat ? state.chats : [...state.chats, {\n        group: false,\n        name: 'Chris Loy',\n        messages: [],\n        chatId: `dummy${process.env.REACT_APP_CHRIS_ID}`,\n        members: [action.self, {\n            name: 'Chris Loy',\n            handle: 'chris',\n            userId: `${process.env.REACT_APP_CHRIS_ID}`, \n            profilePic: true\n        }],\n        lastInteraction: Date.now(),\n    }]\n    return {\n        ...state, \n        chats: chatsNew, \n        currentChatId: currentChatIdNew,\n    }\n}\n\n\nexport default reducer;","import * as actionTypes from '../actions/actionTypes';\n\nconst initialState = {\n    anonymousId: '',\n    token: null,\n    name: null,\n    handle: null,\n    userId: '1',\n    error: null,\n    loading: null,\n    checkEmailLoading: false,\n    checkHandleLoading: false,\n    takenEmails: [],\n    takenHandles: [],\n    signupLoading: false,\n    authOpen: false, \n    authReason: null,\n    hasProfilePic: false,\n    profilePicSrc: null,\n    receivedFriendRequests: [],\n    sendingSubscribeEmailList: false,\n    sentSubscribeEmailList: false,\n    notifications: [\n        {\n            type: 'TEXT_MESSAGE',\n            chatId: '2',\n            message:{\n                text: 'I won. By a lot.',\n                time: '14:32', \n                type: 'text',\n                sender: '12',\n                id: '1',\n            }\n        },\n        {\n            type: 'TEXT_MESSAGE',\n            chatId: '3',\n            message: {\n                text: 'Get out of my swamp!',\n                time: '14:32', \n                type: 'text',\n                sender: '12345',\n                id: '1',\n            }\n        },\n    ], \n    deletingNotifications: [],\n}\n\nconst setAnonymousId = (state, action) => {\n    return {\n        ...state,\n        anonymousId: action.anonymousId\n    }\n}\n\n//------ LOGIN ---------------------------------------------------\n\nconst loginStart = (state) => {\n    return { \n        ...state, \n        loginLoading: true \n    }\n}\n\nconst loginSuccess = (state, action) => {\n    return { \n        ...state, \n        loginLoading: false, \n        loginError: null, \n        signupError: null, \n        hasProfilePic: action.profilePic,\n        name: action.name,\n        handle: action.handle,\n        userId: action.userId, \n        token: action.token,\n        email: action.email,\n        friends: action.friends,\n        receivedFriendRequests: action.receivedFriendRequests,\n        notifications: action.notifications\n    }\n}\n\nconst loginFail = (state, action) => {\n    return { \n        ...state, \n        loginLoading: false, \n        loginError: action.error \n    }\n}\n\n//------ SIGNUP --------------------------------------------------\n\n\nconst signupStart = ( state) => {\n    return { \n        ...state, \n        signupLoading: true \n    }\n}\n\nconst signupFail = (state, action) => {\n    return { \n        ...state, \n        signupLoading: false, \n        signupError: action.error \n    }\n}\n\nconst signupSuccess = (state, action) => {\n    return { \n        ...state, \n        signupLoading: false, \n        error: null, \n        hasProfilePic: action.profilePic,\n        name: action.name,\n        handle: action.handle,\n        userId: action.userId, \n        token: action.token,\n        email: action.email,\n        profilePicSrc: action.profilePicSrc,\n        friends: action.friends,\n        receivedFriendRequests: [],\n        notifications: [],\n        sendingSubscribeEmailList: false,\n    }\n}\n\n//------ CHECK EMAIL TAKEN ---------------------------------------\n\nconst checkEmailTakenStart = (state, action) => {\n    return {\n        ...state,\n        checkEmailLoading: true,\n    }\n}\n\nconst checkEmailTakenSuccess = (state, action) => {\n    return {\n        ...state,\n        checkEmailLoading: false,\n    }\n}\n\nconst checkEmailTakenFailed = (state, action) => {\n    return {\n        ...state,\n        checkEmailLoading: false,\n    }\n}\n\nconst emailAlreadyTaken = (state, action) => {\n    return {\n        ...state,\n        checkEmailLoading: false,\n        takenEmails: [\n            ...state.takenEmails,\n            action.email\n        ]\n    }\n}\n\n//------ CHECK HANDLE TAKEN ---------------------------------------\n\nconst checkHandleTakenStart = (state, action) => {\n    return {\n        ...state,\n        checkHandleLoading: true,\n    }\n}\n\nconst checkHandleTakenSuccess = (state, action) => {\n    return {\n        ...state,\n        checkHandleLoading: false,\n    }\n}\n\nconst checkHandleTakenFailed = (state, action) => {\n    return {\n        ...state,\n        checkHandleLoading: false,\n    }\n}\n\nconst handleAlreadyTaken = (state, action) => {\n    return {\n        ...state,\n        checkHandleLoading: false,\n        takenHandles: [\n            ...state.takenHandles,\n            action.handle\n        ]\n    }\n}\n\n//------ MESSAGES READ -------------------------------------------\n\nconst messagesReadStart = (state, action) => {\n    const notificationsNew = state.notifications\n        .filter(n => !(n.type.startsWith('NEW_MESSAGE') && n.chatId === action.chatId))\n    return {\n        ...state,\n        notifications: notificationsNew\n    }\n}\n\nconst messagesReadSuccess = (state, action) => {\n    return state\n}\n\nconst messagesReadFailed = (state, action) => {\n    return state\n}\n\n//------ UPDATE NOTIFICATIONS -------------------------------------\n\n\nconst checkAndAddNewMessages = (state, action) => {\n    return state\n}\n\nconst updateNotifications = (state, action) => {\n    return {\n        ...state,\n        notifications: action.notifications\n    }\n}\n\n//------ SUBSCRIBE EMAIL LIST -------------------------------------\n\nconst subscribeEmailListStart = (state, action) => {\n    return {\n        ...state,\n        sendingSubscribeEmailList: true\n    }\n}\n\nconst subscribeEmailListSuccess = (state, action) => {\n    return {\n        ...state,\n        sendingSubscribeEmailList: false,\n        sentSubscribeEmailList: true\n    }\n}\n\nconst subscribeEmailListFailed = (state, action) => {\n    return {\n        ...state,\n        emailListError: action.message,\n        sendingSubscribeEmailList: false,\n        sentSubscribeEmailList: false\n    }\n}\n\nconst deleteNotificationStart = (state, action) => {\n    const toDelte = state.notifications.find(n => n.id === action.notificationId);\n    console.log(toDelte);\n    const notificationsNew = state.notifications.filter(n => n.id !== action.notificationId);\n    const deletingNotificationsNew = [...state.deletingNotifications, toDelte];\n    return {\n        ...state,\n        notifications: notificationsNew,\n        deletingNotifications: deletingNotificationsNew,\n    }\n}\n\nconst deleteNotificationSuccess = (state, action) => {\n    const deletingNotificationsNew = state.deletingNotifications.filter(n => n.id === action.notificationId)\n    return {\n        ...state,\n        deletingNotifications: deletingNotificationsNew,\n    }\n}\n\nconst deleteNotificationFailed = (state, action) => {\n    return {\n        ...state,\n    }\n}\n\nconst reducer = (state = initialState, action ) => {\n    switch( action.type ) {\n        case actionTypes.SET_ANONYMOUS_ID: return setAnonymousId(state, action);\n\n        case actionTypes.LOGIN_START: return loginStart(state, action);\n        case actionTypes.LOGIN_SUCCESS: return loginSuccess(state, action);\n        case actionTypes.LOGIN_FAIL: return loginFail(state, action);\n\n        case actionTypes.SIGNUP_START: return signupStart(state, action);\n        case actionTypes.SIGNUP_SUCCESS: return signupSuccess(state, action);\n        case actionTypes.SIGNUP_FAIL: return signupFail(state, action);\n\n        case actionTypes.CHECK_EMAIL_TAKEN_START: return checkEmailTakenStart(state, action);\n        case actionTypes.CHECK_EMAIL_TAKEN_SUCCESS: return checkEmailTakenSuccess(state, action);\n        case actionTypes.CHECK_EMAIL_TAKEN_FAILED: return checkEmailTakenFailed(state, action);\n        case actionTypes.EMAIL_ALREADY_TAKEN: return emailAlreadyTaken(state, action);\n\n        case actionTypes.CHECK_HANDLE_TAKEN_START: return checkHandleTakenStart(state, action);\n        case actionTypes.CHECK_HANDLE_TAKEN_SUCCESS: return checkHandleTakenSuccess(state, action);\n        case actionTypes.CHECK_HANDLE_TAKEN_FAILED: return checkHandleTakenFailed(state, action);\n        case actionTypes.HANDLE_ALREADY_TAKEN: return handleAlreadyTaken(state, action);\n\n        case actionTypes.MESSAGES_READ_START: return messagesReadStart(state, action);\n        case actionTypes.MESSAGES_READ_SUCCESS: return messagesReadSuccess(state, action);\n        case actionTypes.MESSAGES_READ_FAILED: return messagesReadFailed(state, action);\n\n        case actionTypes.CHECK_AND_ADD_NEW_MESSAGES: return checkAndAddNewMessages(state, action);\n\n        case actionTypes.UPDATE_NOTIFICATIONS: return updateNotifications(state, action);\n\n        case actionTypes.SUBSCRIBE_EMAIL_LIST_START: return subscribeEmailListStart(state, action);\n        case actionTypes.SUBSCRIBE_EMAIL_LIST_SUCCESS: return subscribeEmailListSuccess(state, action);\n        case actionTypes.SUBSCRIBE_EMAIL_LIST_FAILED: return subscribeEmailListFailed(state, action);\n\n        case actionTypes.DELETE_NOTIFICATION_START: return deleteNotificationStart(state, action);\n        case actionTypes.DELETE_NOTIFICATION_SUCCESS: return deleteNotificationSuccess(state, action);\n        case actionTypes.DELETE_NOTIFICATION_FAILED: return deleteNotificationFailed(state, action);\n\n        default: return state;\n    }\n}\n\nexport default reducer; ","import * as actionTypes from '../actions/actionTypes';\n\nconst initialState = {\n    darkmode: true,\n    dropModalOpen: false,\n    currentTab: 'stream',\n    menu: {\n        open: false,\n        menuStack: ['AUTH'],\n        currentDepth: 0,\n        shouldMoveRight: false,\n    },\n    newChatModalOpen: false,\n    windowWidth: 1080,\n    loginOrSignup: 'login',\n}\n\nconst scrollToTop = () => {\n    const c = document.documentElement.scrollTop || document.body.scrollTop;\n    if (c > 0) {\n      window.requestAnimationFrame(scrollToTop);\n      window.scrollTo(0, c - c / 10);\n    }\n};\n\nconst reducer = (state = initialState, action ) => {\n    switch( action.type ) {\n        case actionTypes.GO_DARK: \n            console.log('Bravo 6 going dark')\n            return {\n                ...state,\n                darkmode: true\n            }\n        case actionTypes.GO_LIGHT: \n            return {\n                ...state,\n                darkmode: false\n            }\n        case actionTypes.SWITCH_TAB: \n            scrollToTop()\n            return {\n                ...state,\n                currentTab: action.tab\n            }\n        case actionTypes.OPEN_DROP_MODAL: \n            return {\n                ...state,\n                dropModalOpen: true\n            }\n        case actionTypes.CLOSE_DROP_MODAL: \n            return {\n                ...state,\n                dropModalOpen: false\n            }\n        case actionTypes.OPEN_MENU: \n            return {\n                ...state,\n                menu: {\n                    ...state.menu,\n                    open: true\n                }\n            }\n        case actionTypes.CLOSE_MENU: \n            return {\n                ...state,\n                menu: {\n                    ...state.menu,\n                    open: false\n                }\n            }\n        case actionTypes.OPEN_NEW_CHAT_MODAL: \n            return {\n                ...state,\n                newChatModalOpen: true\n            }\n        case actionTypes.CLOSE_NEW_CHAT_MODAL: \n            return {\n                ...state,\n                newChatModalOpen: false\n            }\n        case actionTypes.SET_WINDOW_WIDTH: \n            return {\n                ...state, \n                windowWidth: action.width\n            }\n        case actionTypes.SET_UI_STATE_ON_LOGIN: \n            return {\n                ...state, \n                menu: {\n                    open: false,\n                    menuStack: ['USER_MENU'],\n                    currentDepth: 0,\n                },\n            }\n        // case actionTypes.SET_UI_STATE_ON_LOGOUT: \n        //     return {\n        //         ...state, \n        //         menu: {\n        //             open: true,\n        //             menuStack: ['AUTH'],\n        //             currentDepth: 0,\n        //         }\n        //     }\n        case actionTypes.ADD_TO_MENU_STACK: \n            return {\n                ...state,\n                menu: {\n                    ...state.menu,\n                    shouldMoveRight: true, \n                    menuStack: [...state.menu.menuStack, action.next]\n                    \n                }\n            }\n        case actionTypes.POP_FROM_MENU_STACK: \n            return {\n                ...state, \n                menu: {\n                    ...state.menu,\n                    currentDepth: state.menu.currentDepth-1,\n                    menuStack: state.menu.menuStack.slice(0, state.menu.menuStack.length-1)\n                }\n            }\n        case actionTypes.MOVE_MENU_RIGHT: \n            return {\n                ...state, \n                menu: {\n                    ...state.menu,\n                    shouldMoveRight: false, \n                    currentDepth: state.menu.currentDepth + 1 \n                }\n            }\n        default: return state;\n    }\n}\n\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { createStore, combineReducers, compose, applyMiddleware  } from 'redux';\nimport thunk from 'redux-thunk';\nimport axios from 'axios';\n\nimport * as actions from './store/actions/actionTypes';\nimport StreamReducer from './store/reducers/StreamReducer';\nimport ChatReducer from './store/reducers/ChatReducer';\nimport UserReducer from './store/reducers/UserReducer';\nimport UIReducer from './store/reducers/UIReducer'\n\naxios.defaults.baseURL = `${process.env.REACT_APP_BACKEND_URL}`;\n\nconst appReducer = combineReducers({\n    user: UserReducer,\n    chat: ChatReducer,\n    stream: StreamReducer,\n    ui: UIReducer,\n});\n\nconst rootReducer = (state, action) => {\n    if(action.type === actions.LOGOUT){\n        state = undefined;\n    }\n    return appReducer(state, action);\n}\n\nconst composeEnhancers = (process.env.NODE_ENV === 'development' ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : null) || compose;\n\n\nconst store = createStore(\n    rootReducer, /* preloadedState, */\n    composeEnhancers(\n        applyMiddleware(thunk)\n    )\n  );\n\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>\n    , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}