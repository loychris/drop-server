(this["webpackJsonpdrop-stream-frontend"]=this["webpackJsonpdrop-stream-frontend"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports={SelectionMenu:"SelectionMenu_SelectionMenu__Z2ojO",flex:"SelectionMenu_flex__15n15",flexSpaceBetween:"SelectionMenu_flexSpaceBetween__24DeG",inputWrapper:"SelectionMenu_inputWrapper__3hFux",input:"SelectionMenu_input__3orDM",alignIcons:"SelectionMenu_alignIcons__3h8DA",alignIcon:"SelectionMenu_alignIcon__1OtCb",alignActive:"SelectionMenu_alignActive__2hj9a",alignInactive:"SelectionMenu_alignInactive__2E3LX",textBoxTypeOptions:"SelectionMenu_textBoxTypeOptions__30bQ5",fontSelector:"SelectionMenu_fontSelector__3j2fj"}},,,function(e,t,n){e.exports={MenuItems:"AuthMenu_MenuItems__3rNnh",BackButton:"AuthMenu_BackButton__37MYS",Dropzone:"AuthMenu_Dropzone__1q8ct",ProfilePicPlaceholder:"AuthMenu_ProfilePicPlaceholder__324KV",ProfilePic:"AuthMenu_ProfilePic__1bHlH",TextInput:"AuthMenu_TextInput__13WDk",Invaid:"AuthMenu_Invaid__2SyHm",onAutoFillStart:"AuthMenu_onAutoFillStart__13px6",Textinput:"AuthMenu_Textinput__2ehuS",onAutoFillCancel:"AuthMenu_onAutoFillCancel__3M0RO",ErrorMessage:"AuthMenu_ErrorMessage__2ZQks",CreateAccount:"AuthMenu_CreateAccount__3rr2F",CheckboxText:"AuthMenu_CheckboxText__3DRRH",CheckboxContainer:"AuthMenu_CheckboxContainer__3hbZz"}},,,,function(e,t,n){e.exports={AddButton:"AddButton_AddButton__247dH",Spinner:"AddButton_Spinner__VKy9T",AddIcon:"AddButton_AddIcon__15XCF",Inverted:"AddButton_Inverted__19rUX",AddIconGLow:"AddButton_AddIconGLow__Boows",Clickable:"AddButton_Clickable__VUiJp",TextButton:"AddButton_TextButton__19czF"}},,function(e,t,n){e.exports={LogoutContainer:"UserMenu_LogoutContainer__256hM",LogoutIcon:"UserMenu_LogoutIcon__1thmb",LogoutText:"UserMenu_LogoutText__1BpvJ",MenuItems:"UserMenu_MenuItems__knxvC"}},,,,function(e,t,n){e.exports={ChatPrev:"ChatPrev_ChatPrev__3fJMz",ProfilePic:"ChatPrev_ProfilePic__2fF2Q",Link:"ChatPrev_Link__1nvmI",Active:"ChatPrev_Active__2B2Xo",Preview:"ChatPrev_Preview__11hWt",Info:"ChatPrev_Info__2FAib",Name:"ChatPrev_Name__LGoDf",ConnectorUp:"ChatPrev_ConnectorUp__EQSim",ConnectorDown:"ChatPrev_ConnectorDown__2pwH6",SingleDigit:"ChatPrev_SingleDigit__3gW4S",DoubleDigit:"ChatPrev_DoubleDigit__1TOYN",TrippleDigit:"ChatPrev_TrippleDigit__10R-l",NotificationCount:"ChatPrev_NotificationCount__3_GZ6"}},function(e,t,n){e.exports={Footer:"Footer_Footer__238hM",SocialButtons:"Footer_SocialButtons__1QO7E",Link:"Footer_Link__2v7FB",Icon:"Footer_Icon__2abUb"}},function(e,t,n){e.exports={Stream:"Stream_Stream__1p-EH",OutRight:"Stream_OutRight__2aEf-",River:"Stream_River__1O9az",RiverGlow:"Stream_RiverGlow__mAxa8",Boat1:"Stream_Boat1__1Z0Du",Boat2:"Stream_Boat2__3IrRP",wtfButton:"Stream_wtfButton__3i49j",wtfContainer:"Stream_wtfContainer__3DD06",SubLine:"Stream_SubLine__MVszT",EmojiButton:"Stream_EmojiButton__2W_FH",LeftThumb:"Stream_LeftThumb__3tnvu",RightThumb:"Stream_RightThumb__2xIpX"}},function(e,t,n){e.exports={MessageContainer:"Message_MessageContainer__gf0e5",Sent:"Message_Sent__2XCKT",Received:"Message_Received__1847w",Message:"Message_Message__1uVPF",Text:"Message_Text__2KRx3",Sending:"Message_Sending__1OvWC",Image:"Message_Image__jO4GU",Drop:"Message_Drop__Tob2B",Time:"Message_Time__2J939"}},function(e,t,n){e.exports={Navigation:"Navigation_Navigation__1tTPb",active:"Navigation_active__1Sofg",inactive:"Navigation_inactive__HaPCz",SingleDigit:"Navigation_SingleDigit__2RgMU",DoubleDigit:"Navigation_DoubleDigit__1ow4U",TrippleDigit:"Navigation_TrippleDigit__10ipn",NotificationCount:"Navigation_NotificationCount__daxOy"}},function(e,t,n){e.exports={StreamElement:"StreamElement_StreamElement__3OCsm",Light:"StreamElement_Light__2TtLJ",Dark:"StreamElement_Dark__2dlJY",LogoForButton:"StreamElement_LogoForButton__1AJ3s",title:"StreamElement_title__1alnv",hideCommentsButton:"StreamElement_hideCommentsButton__2tvUl",showCommentsButton:"StreamElement_showCommentsButton__378tv",ShowDrop:"StreamElement_ShowDrop__1aiJj"}},function(e,t,n){e.exports={CommentContainer:"Comment_CommentContainer__1pRtV",Comment:"Comment_Comment__3-CQ4",Root:"Comment_Root__2CJ9O",actualComment:"Comment_actualComment__2e5Xa",CommentBackground:"Comment_CommentBackground__2ay4r",selected:"Comment_selected__1Cjjs",sending:"Comment_sending__2ZFQ6",SpeechBubbleArrow:"Comment_SpeechBubbleArrow__2Bk8e"}},function(e,t,n){e.exports={ChatPreviews:"ChatPreviews_ChatPreviews__fzX0l",SearchContainer:"ChatPreviews_SearchContainer__Ej40j",SearchInput:"ChatPreviews_SearchInput__GTzsf",SearchIcon:"ChatPreviews_SearchIcon__1xA98",NewChatContainer:"ChatPreviews_NewChatContainer__B-M_c",AddChatIcon:"ChatPreviews_AddChatIcon__2Ywob",NewChatMessage:"ChatPreviews_NewChatMessage__1YuwC",ScrollContainer:"ChatPreviews_ScrollContainer__3gP52",EmptyMessage:"ChatPreviews_EmptyMessage__DTHP9",LoaderContainer:"ChatPreviews_LoaderContainer__1-XQ1",Spinner:"ChatPreviews_Spinner__1xiTt"}},function(e,t,n){e.exports={Corner:"ResizeHandler_Corner__3-KWA",Edge:"ResizeHandler_Edge__1xF-y",NW:"ResizeHandler_NW__TAwmj",SW:"ResizeHandler_SW__3WC-T",SE:"ResizeHandler_SE__1GarH",NE:"ResizeHandler_NE__dMKUa",N:"ResizeHandler_N__3ZPKg",S:"ResizeHandler_S__2Tcvz",W:"ResizeHandler_W__2yN16",E:"ResizeHandler_E__HY2p2"}},function(e,t,n){e.exports={Container:"SidePanel_Container__2n4dm",Overlay:"SidePanel_Overlay__3H8RD",ProfilePic:"SidePanel_ProfilePic__2088H",MenuOpen:"SidePanel_MenuOpen__3zM5A",Menu:"SidePanel_Menu__1Le88",NameArea:"SidePanel_NameArea__uF_F1",Handle:"SidePanel_Handle__3Hwhr",Name:"SidePanel_Name__10lm8",MenuItems:"SidePanel_MenuItems__2Im6n",LightMenu:"SidePanel_LightMenu__3snu5",DarkMenu:"SidePanel_DarkMenu__3io-a"}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABCKSURBVHgBbVrbj15VFV/r9JvpMJ1pO0xvM9MCrZS29AJtgZaSQhCIMYZIiClKxPDmi+8+8mB80L/AN4wQxQtRX4yXCCYEFCGoUCwVAwHbQu9MW9rOzHfWcu912/t8M4Vvvu+cs88+a63fWr+19jobf/vKy9zvt9CmT79N3y2BHKfvdI4X+i2SnyPi/kKLbTUu3cPpOjIxQPqfiICYOf1BZoJ8nuQayzU5Tr85D5LzhPpFcj2Pk9vbdJYhPSsP5Dx/HpVlkWOwf4go4yFfTEf57qZpUJ6VDpp8EbNoKHPnW/LfPAnoJTkAOUkysTxJZFSlUO9LyiWFsoiQBYKskE7JzPYtNtA/PokqZyNQlKdWn23Tos2CNsxlkssig84tz8yns1HcAD0bhKA6ZM0VDRXBFQIVOivBYh2xth6H1fMzMCOSz+Q55dCUyGjKP0LVKyOs92YYRMl0D2YlQebPD0/oijBiRAQww5HcpLbUK6pvgwaqC42NKQIGOxvu6hZh5UoYCOPYpAxuOc7G0XGiBMRwxtVbNsH0fftlTnHRrLA4BWUXV6QAwnBJSkEMRRF9lngIub9weICiKELbMcX1Hjsyal8bpIKa4PYbPXbsXjILurXsGaKkqU2K2PD4GEwd2g+90VFYuDoHn77xL4k7BDY3LHFqAqo7gMcuG+I6bxVQCGEA8mN3YEGpYQ5LoAerC80hqVocKgzzj9Z0cEWTJFgmiBjjLzz2EAyNj8qYdXv3wNo7dysheQxaYOm8FGi4a7IZliwI/dPxIgaLUTZv0DGND0R3Jlb2gyAF9RJ9jqJJ6l7iisjFslSMpRZPQ2YO78OhsVEQ9iG9npVcdeuWENRiO5FLyxan+nxHlYpMqG4iMWgKK9lBrViENjbGcgNWMVIw/rM/CBzOjzaNyB33o5ObHk/u2ILr7thhbpcFLp/1d90Fy1dPiGuJ4iRGE5IAiythRKd5E8Po3xBG9Nh1P3IUmZWomgIzGCtScINYDpRl1ZASqSjPJqFti4dwI3cpXL5yDDbcs1sFdfTsd5582dAw3PTAg9BbMe521+d7nuTC/3JfdlcqICh61AEnHaK6NRuCgE3tyyTGQkanxo6Pc7gNCppOAGTPN3Bt7NbHH4Lh8RXZYqqgWU1RUKF7o2MwfeA+KSS4MrQmdTAXzKnCnN7mJqNNrQtEbketE6N5mCkohQLazRjsCU4WlWDmliRoizg5JpAqYpk6uAeGxlZIwlbGTnfZb0fQUR1duwHW773HztkcxpiOhipjqcwyXeV0QeNBSFW4NeqWVvpwYciItjLYFHcichJXO7hywyvHeOrAropuIRCMcq41t7NzE7fuhLGpTWpEoOJRZMkq8lpFPFDc2FAWlzQ3Z7Z006jszmbulequVBSR2Kx1hrBI5E7xxm1fexgV3jruOBQlKixXSIdhw77D4rIdFCCIzc8JY5JWPcLqQjolX2plleNM5cUGsYOSC4zlIW46Z7IYw0oqfhJh5uBuSQl57tYK0Y4yzB0mrYkHe8Mwtfew5ruWuHZ5z5cQYBgZsoVr7Zb+MU9sCvMF1crArLjWBFTcUX9bLizI58HDKZFP37s7ECgIgsSfoGjxCOGexbXz75Ebp2Biy05BwISuSYMZYhWB5qZovGJy+KWSLhqD1HxT3Mz9P+jWGA5DGPU3CXwFhmD7kUeKEgQDCmCgRq0ZmJzpumiu2X4Alo9PBnIKU2HHcNFAVAryigg1TzoLNyWUDJKIEf3pMakE4B7LgXaiGFx357aUz7JrYokxQ0+XPgx1Dht00w6DpnNrd94PmhwZtbYRybwU03hA9OKcgxjIUobFrFUyGU5PDWkSYCtfwwWr+pJjYasugpxdc+OhO+IcmFIxxlCNEGi77gl2TqsXHZMRXLVppxmDLDWJVTHkIQp2j9LROMRjMi3ME4LsnqtrKgRdyFauGZ8oSoSgVeKZQ7th2fBQuA+HW5kSAF3GZOiwK1N9vZyf2LwPlo2MOblhEBuXuLd1qRwIMfka1aAOBFV4cqBMV9L1HUDFsLpaAC3hMnqY6k3La7XboaUE6Lpp6+SzWCmqXFTqsmYYJm7epyUalzRmfCNMayEYiDl/cpUJGvaFrsZULGwryN3xw7d9xb79yMNVXFVKupUrJdxNqUau+hTlCqpj67fBDaunXQZBsq4/TaKQQXs+xV2zCRqBC6qyDOK+YhGp5cjrz7zyxcnbN6dYWVEhBB23i2olmlFcFdsYxMJVytDfGGPzmNWb9gsrkDWphIBtASx1cGnnYADDnjctTXApWu2iIylFalQTWino8Jl7dy1SijvpATvnNH2gJ/Jg20EGLQSlxyMrp9NngyqghJFDS2VCKc6wdlkrxB30VIuyeTcX1+JStdtYyzMCNuOaHbfgsKDnwmAn93lKiPhqy/y+tB50z7YtZFankCzv6o13a+HOVqpVC2IKCKGAwl7p5JZFqdjN1BAMmhfPxN5jAe11Ql6R39ZBjTqsWLlc5eN1VUOeIqx2JFuaFOS7XjEyNg295WOhRGX8wgEqoeZGuVGTfWc9GIypGnlgm1W1ZBubXgs3rJnoCOLBGp9OvEHHVamOSXNd7xdpnqSOgZwXxtZsB/YCxgiUZIWLSMXzIiDz//l6Uzze6DfClJC9AIDCqzfu2KwxFG4HUWsuVoojeXMn1ioyWuQFdSxzzL9y3R7hBjmBEOtPCrq2fo0YQDroQkA5BqXZS9oRE33IGknaCQcjHaXhlZunK7fruuIgzXeVqdx38FqQ0GIPEETTb2yWw8j4TGldKoKs8tfxG90BIaMGHNIqQYanUqwkRKBVW2agGeppORaTQhBDN+/VZFF9WjbEi6LQQa8wKnPlAem7NzLpz2QvuE0xmaqtKxlDsqHIfMiRAp1JTWZLswm9mSp+sqDQEWywBKPBQpq7RqgVz7L5um+wqvHxI2MbrX8qLf68mNUWfDCo1p9gXbf8uJ67oNGqRp8mcz/2BMojk6uwU2YFSVSuWlG8GKPlRTEGPBBjnm6ofGjAWHnc0PJJVd66YqgpWt88Wbsi50aSRa4uGXoVw1iO1zZvnCsPwtx6Z6qVKgL+5SfPwsvPPQsXTp2A6a074PCRp2HvI49BqZsKmZATU/p+8w/PwZt/eh4unT8Fa2e2wZ7DT8K2vY9WblqMsay30tOBBQ1Yfxa0FwhOoIZsgrjnJGQVtr/2sjzK2kPU4hvzqqHt8yLrvv7rF+HFH3wP/N+p94/Bz7//Xbjy2SU49NWnQhmoySV9v/PKb+ClF34Y9509eRz+/MIzcP3KZdh14OtVbPvCWO9D9VPMDSp7J6iIGohmAFvwipxUGr4ef5osAz2yUzCQ27KyLyf0lvr32q9+DIO5karYe/OPzy9539uv/rSTI6MwkLmsE65IssOG/m7RX8CqorJcygHLmmi1NEOdF70KZasB5y593o0ZU/TEe/9eUtCLp09ai2GQUVXZMx8fX/K+yxdPWRxWiEsFNK9xrUqyxlvwhiqvSmshng4aS5aiudatEiPadsvIOcOk4/71+S5rmpVvnN64pKBTW7aX/FblODfMqsnpJe+b3HBbl0nVmWBhftbrWWlZkBaw5aUPaR6UgttWF1rJMGOV5XMFU1b4wbAA185erIjFiYLhgSefXlLQg499qyrhurkyn9z30DeXvG/XwW90YlWLF4D+3KyypgFiuY852FEVz3+1VZPegTz6xJFn+i2hv2ltSfsu2g5gSZ55JZJfey8bvQHHpjeURC1KAty0ay9MrJ+B86dOwpUL52D1+o3wxae+A3d/+YmS2C1nSldN7kfYcPNuGJ+YhtlzJ+Hq5fMwvnoK7nrw27Bj/+Mxt7tnVvHKheNp3P+gRJ6qExnf8iL768ZsjR+9+Evu9/vQ7+ddE/3EksTzC33ZSdFfaGEh76TI19PvoVUrYeujX1ImjY/mOv/dLpAoQZ0xNk6+aeAeu68e2/p4HWvUACeO/wKuJQU984BmNttpkdZ+jSrbNE2UbpoHOUb7ewqxApW1omws+PzcBezPzec2dEnWzIvKLLBSzVuQ4OOYB1i1SzpRN1elXBQMNNdBT7uKLL15L9dsbZDfb8QSsDEOqd7OstekaiR7prIm8ul33oNoSbSLmbFOzuRVSctLKFSPK4TSWel7kzgpc+Xif8MIwo8mn7+nsOCLFb7L3jjNom1LKVWNLZ2kFyobDtKAFk8fPWZWxECvlF5dREsdijEGBlYa9foQqjLOO3HW34UzJ15l4Qm1uL0+qK0PxQBt6ec37szS/HUJTUmggqSSTmayOTj97rGoMV04XgKlyH9cyEWEqnIiUFdx8tYil9ibPXcUFuY+0/4tQiRy9Dxomxac7Y1spChvYCB0uHpl5vHpsSPBnAadeOsf0F6fK6jVNSNDpxCnwfiq3HCRW/s6z87n51F/Ds6dfC2W6tZTQs95Khu557D/Dhfl6nW05UbwlipXa778R/aNJSkz0fznpZdAa0TuJO/B9VxslerEKZdmMXfP57gL66Y/Z0++CvPXZzG2lph/k7uorSb8mKwzxTauCbRELmnKq6LR+2f7T+sHMwBf/vQT/vjvry+BSo0aKuW3JU6NrOSg9oD6uqGUkUvl3luFEyx523pUk0QdqOrBSjQmj63oTY1wVdtmBRarVKymrkBSAHxy7Ch89MbfLIyxWD4IpcRpW8coV6uDiGNlTamy0u9zp/6aPq+p2QUiXeLIglY5wptNulnBqy/3GAOpx0YgQSygCLHtLLQ3VrZlRF0AfMNbLpiPH4ULH33IW+//SnpJu6KUcFT1Q8kfWBferhx38uD89Uvw6Ye/hyuXPmYXPpZEFeF5MnfkVDECJ82UIEWPHhNHavCEDB1LyM1altrC0cshB2zu6mU8+rufpVdeW3ntzbfj8hWTSvnu6lG3Qri0r150tQFwdfYEXDzzLnx29qjcA7aHjvXNUuEFI/m8RzWWf6wdptBOVkIkLNuDsscw2xJ1qaX+huVdvSglJZjtSLJk66wmAlz46Die/+BYag6tgPG1t8Boarn3hsehNzSWHjYc8TZ/9RL056/D57Nn4NqlMykNvM/z12arioSDJaW/ab3SsmYHXw9GmaZbKNmpIsixx6aQ5kH97claCckWvlrHV+YA62yUF47atE1udvUynP3g7TTHP1OsthVL6lImuS7qwlVe6uS4kgfrXlUXtGzndORMegkTR8x3GaY52co2AUpYQXc6yQZWI5horLJPKDdb0rRYxfLWmEuq4FLy2XV3e66uGefJY6pGV+waZpPLEjgH27qS/ix0HCuSBNcjciaxIUjoMElx0equ3VLJsO8CrpM2ukQcnTeOyatiAbnkIdR36tXGI42v4jk2T/4hfc6EcpshLxtjRRDb/sW29mMnH91IG8NkS3NsI5FevwW3uK0iiSXZR5mEVBRB34vpRW8rdZmyWjEIQ7kHSm4Tgsibz424AqUSa1jIBcx1tfenLVHxquK6EDsQsw69imrVwvVkphhHXmXEaheRFQN2zRs7VBDkcCP27VgiSLhW7Z4ey9lQ5Lu0kJxRKzHd/fLuekUzIay/q5WExmmPSwI3tKjOTUbRutDK1m4zPTv9qw0whK2KBe7MqfTA3m63PQIalxKwvqNQN6HnYhkoalPoIAhRuMT+7qScp49Az77/DyKrHJV+C7k0AAAAAElFTkSuQmCC"},function(e,t,n){e.exports={TextInput:"TextElement_TextInput__1KrCZ",topAlign:"TextElement_topAlign__iMBaG",middleAlign:"TextElement_middleAlign__2ZxBb",bottomAlign:"TextElement_bottomAlign__3cJU0"}},function(e,t,n){e.exports={CommentContainer:"SubComment_CommentContainer__3pN14",Comment:"SubComment_Comment__3QuPl",Root:"SubComment_Root__3euip",CommentBackground:"SubComment_CommentBackground__2YwBN",actualComment:"SubComment_actualComment__A31dE",unselectRect:"SubComment_unselectRect__MO8ow",sending:"SubComment_sending__3HKiD",selected:"SubComment_selected__3zWkG",CommentBackgroundNeumorphism:"SubComment_CommentBackgroundNeumorphism__3JPk3",SpeechBubbleArrow:"SubComment_SpeechBubbleArrow__1pXFE"}},function(e,t,n){e.exports={TopMenu:"TopMenu_TopMenu__KNG5p",LeftAlign:"TopMenu_LeftAlign__2xUF9",RightAlign:"TopMenu_RightAlign__2nWqm",MenuItem:"TopMenu_MenuItem__VTSNx"}},function(e,t,n){e.exports={ExportModal:"ExportModal_ExportModal__1dqm9",Background:"ExportModal_Background__RsbW8",Modal:"ExportModal_Modal__1lp19",PreviewContainer:"ExportModal_PreviewContainer__1E3j6",Preveiw:"ExportModal_Preveiw__NOHR9",DownloadOptions:"ExportModal_DownloadOptions__2nYOZ",DownloadWrapper:"ExportModal_DownloadWrapper__1H_WS"}},,function(e,t,n){e.exports={CommentForm:"CommentForm_CommentForm__2ziHj",CommentInput:"CommentForm_CommentInput__2JXGs",CommentInputBackground:"CommentForm_CommentInputBackground__1TW1s",SpeechBubbleArrow:"CommentForm_SpeechBubbleArrow__3gt-i",TextArea:"CommentForm_TextArea__82bTZ",InputContainer:"CommentForm_InputContainer__2Kt2i",toplevel:"CommentForm_toplevel__2NYbc"}},function(e,t,n){e.exports={Modal:"NewChatModal_Modal__3n-er",SearchContainer:"NewChatModal_SearchContainer__1PZ0o",SearchInput:"NewChatModal_SearchInput__33tyc",SearchIcon:"NewChatModal_SearchIcon__1DLA0",ScrollContainer:"NewChatModal_ScrollContainer__1XoBc",LoaderContainer:"NewChatModal_LoaderContainer__1M8IG",Spinner:"NewChatModal_Spinner__3J-6G"}},,function(e,t,n){e.exports={CommentMenu:"CommentMenu_CommentMenu__3B8Xo",MenuItem:"CommentMenu_MenuItem__l5Lxn",Seperator:"CommentMenu_Seperator__3O3Yx",Trash:"CommentMenu_Trash__um9o6",DeleteDialog:"CommentMenu_DeleteDialog__1AU-G",YesButton:"CommentMenu_YesButton__PmqGu",NoButton:"CommentMenu_NoButton__2NJ_f"}},function(e,t,n){e.exports={Chat:"Chat_Chat__3NjUX",OutLeft:"Chat_OutLeft__1_mEV",OutRight:"Chat_OutRight__YGIUX",NotLoggedInContainer:"Chat_NotLoggedInContainer__2Hcrs",NotLoggedInMessage:"Chat_NotLoggedInMessage__Bn3g9",InnerContainer:"Chat_InnerContainer__rd9e-"}},function(e,t,n){e.exports={ChatWindow:"ChatWindow_ChatWindow__3ZoYy",BigChatWindow:"ChatWindow_BigChatWindow__19t_d",SmallChatWindow:"ChatWindow_SmallChatWindow__2GHo6",Messages:"ChatWindow_Messages__1N3ql",NotEncryptedMessage:"ChatWindow_NotEncryptedMessage__bqLT2",Loader:"ChatWindow_Loader__2w4-b",NewMessageSeparator:"ChatWindow_NewMessageSeparator__2uQ7X"}},function(e,t,n){e.exports={ChatPrev:"ChatPrev_ChatPrev__1lyZi",selected:"ChatPrev_selected__y6ntP",Preview:"ChatPrev_Preview__1ByQn",ProfilePic:"ChatPrev_ProfilePic__1R9OE",Link:"ChatPrev_Link__1gyEA",Active:"ChatPrev_Active__2SofW",Info:"ChatPrev_Info__2XPhd",Name:"ChatPrev_Name__11Zqr",ConnectorUp:"ChatPrev_ConnectorUp__3UBMQ",ConnectorDown:"ChatPrev_ConnectorDown__1juAG",Notifiaction:"ChatPrev_Notifiaction__1pdd1"}},function(e,t,n){e.exports={voting:"Voting_voting__3vVRy",up:"Voting_up__3cj2v",down:"Voting_down__3d4pn",points:"Voting_points__34ens",glow:"Voting_glow__21-0a"}},function(e,t,n){e.exports={Button:"NeumorphismButton_Button__3Mhi_",Light:"NeumorphismButton_Light__1hn8R",Dark:"NeumorphismButton_Dark__3fV4M",SubmitComment:"NeumorphismButton_SubmitComment__1CjOP",Disabled:"NeumorphismButton_Disabled__3xpGV"}},function(e,t,n){e.exports={ChatPrev:"UserPrev_ChatPrev__2Fkpd",ProfilePic:"UserPrev_ProfilePic__3_nZY",Link:"UserPrev_Link__2yoHm",Active:"UserPrev_Active__3CTz3",Preview:"UserPrev_Preview__28pMt",Info:"UserPrev_Info__2DeeM",Name:"UserPrev_Name__21Zdo",ConnectorUp:"UserPrev_ConnectorUp__OHqYY",ConnectorDown:"UserPrev_ConnectorDown__3dfXw",Notifiaction:"UserPrev_Notifiaction__oO-da"}},function(e,t,n){e.exports={Modal:"DropModal_Modal__izsVc",SearchContainer:"DropModal_SearchContainer__3meeK",SearchInput:"DropModal_SearchInput__1qIWA",SearchIcon:"DropModal_SearchIcon__BxKrh",ScrollContainer:"DropModal_ScrollContainer__2Un2N",LoaderContainer:"DropModal_LoaderContainer__2155I",Spinner:"DropModal_Spinner__1SZUx"}},function(e,t,n){e.exports={MenuScreen:"MenuScreen_MenuScreen__37x6c",left:"MenuScreen_left__2KbP-",right:"MenuScreen_right__16duB",LogoutText:"MenuScreen_LogoutText__2aVtF",CheckboxText:"MenuScreen_CheckboxText__3QIIk",CheckboxContainer:"MenuScreen_CheckboxContainer__AE6qE",Dropzone:"MenuScreen_Dropzone__2vjFT",ProfilePicPlaceholder:"MenuScreen_ProfilePicPlaceholder__1GWyr",ProfilePic:"MenuScreen_ProfilePic__2iQ_F",BackButton:"MenuScreen_BackButton__1q91L"}},,,function(e,t,n){e.exports={Content:"Content_Content__3juYp",ContentContainer:"Content_ContentContainer__3CNVh",Spinner:"Content_Spinner__27jW_",Meme:"Content_Meme__1e2JB"}},function(e,t,n){e.exports={PrimaryButton:"PrimaryButton_PrimaryButton__2q7QZ",PrimaryButtonFlat:"PrimaryButton_PrimaryButtonFlat__36rlY",PrimaryButtonNeumorphism:"PrimaryButton_PrimaryButtonNeumorphism__Gt2M2",Disabled:"PrimaryButton_Disabled__1O0bV"}},function(e,t,n){e.exports={ChatInput:"ChatForm_ChatInput__1kLXn",TextareaContainer:"ChatForm_TextareaContainer__22FgX",Textarea:"ChatForm_Textarea__EcqJR"}},function(e,t,n){e.exports={Element:"Element_Element__3cgSw",highlight:"Element_highlight__32Nsz",Image:"Element_Image__2dEuO",Rect:"Element_Rect__121rk",text:"Element_text__mgt81"}},,,,,,,,function(e,t,n){e.exports={Source:"Source_Source__2tzeb",Header:"Source_Header__ID_zx",Link:"Source_Link__2KUn5"}},function(e,t,n){e.exports={CommentSection:"CommentSection_CommentSection__g3AjZ",comments:"CommentSection_comments__2KHFw",ShowMoreComments:"CommentSection_ShowMoreComments__3-Tdf",NeuMorphism:"CommentSection_NeuMorphism__1Nepv",Spinner:"CommentSection_Spinner__2zJe0"}},function(e,t,n){e.exports={Creator:"Creator_Creator__12J2i",Content:"Creator_Content__38q3Z",Blinking:"Creator_Blinking__3a5Xa",blinker:"Creator_blinker__u2hUA",OutLeft:"Creator_OutLeft__1ttKS",OutLeftLeft:"Creator_OutLeftLeft__2SQ0t",SendingWrapper:"Creator_SendingWrapper__cUrbo",Form:"Creator_Form__2GT40",SendButton:"Creator_SendButton__pJL7m",ErrorMessage:"Creator_ErrorMessage__1iWUe",Checkmark:"Creator_Checkmark__20ycc",Spinner:"Creator_Spinner__dq7fA",Sending:"Creator_Sending__3AyYF",Disabled:"Creator_Disabled__sZMz-",TakTakTak:"Creator_TakTakTak__3tHwA"}},,,,function(e,t,n){e.exports={selected:"Branches_selected__69WnF",Root:"Branches_Root__VPCsi"}},function(e,t,n){e.exports=n.p+"static/media/Boat.3dbd1766.png"},function(e,t,n){e.exports={HL:"Line_HL__3cneY",VL:"Line_VL__327lv"}},,function(e,t,n){e.exports={MenuItem:"MenuItem_MenuItem__7Q6zk",Invalid:"MenuItem_Invalid__vbVHW"}},function(e,t,n){e.exports={Feedback:"Feedback_Feedback__OO24w",Link:"Feedback_Link__2Kk4p"}},,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/TrashOpen.72dbd9cc.svg"},function(e,t,n){e.exports=n.p+"static/media/TrashClosed.031e471e.svg"},function(e,t,n){e.exports={AuthorPic:"AuthorPic_AuthorPic__1aedT",NeuMorphism:"AuthorPic_NeuMorphism__2A3xt"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},,function(e,t,n){e.exports=n.p+"static/media/RiverWhite.be3b1447.svg"},function(e,t,n){e.exports=n.p+"static/media/river.8e9135cd.svg"},function(e,t,n){e.exports=n.p+"static/media/RiverGlow.af772977.svg"},function(e,t,n){e.exports=n.p+"static/media/Connector.40fb2d2c.svg"},function(e,t,n){e.exports=n.p+"static/media/stupidfuckingface.68ec9ee5.jpeg"},function(e,t,n){e.exports={SelectionFrame:"SelectionFrame_SelectionFrame__1CYUc"}},function(e,t,n){e.exports=n.p+"static/media/ChrisDrunk.7d51e42e.jpg"},,function(e,t,n){e.exports=n.p+"static/media/taktaktak.ef08bdad.jpg"},function(e,t,n){e.exports=n.p+"static/media/ProfilePicPlaceholder.571b6741.svg"},,function(e,t,n){e.exports=n.p+"static/media/logout.1120a8e8.svg"},,,function(e,t,n){e.exports=n(155)},,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports={draggingOverlay:"ImageDragNDrop_draggingOverlay__1-Q8_"}},,function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),s=n(84),i=n.n(s),c=(n(111),n(2)),l=n(3),u=n(5),d=n(4),p=n(13),m=n(8),h=n(10),f=n.n(h),g=function(e){return{type:"SWITCH_TAB",tab:e}},E=function(e){return{type:"ADD_TO_MENU_STACK",next:e}},C=function(e){return{type:"SET_CHAT_STATE_ON_LOGIN",userdata:e}},_=function(){return function(e){e(v()),f.a.get("/api/users").then((function(t){e(W(t.data)),e(S(t.data))})).catch((function(t){console.log(t),e(b())}))}},v=function(){return{type:"FETCH_ALL_USERS_START"}},S=function(e){return{type:"FETCH_ALL_USERS_SUCCESS",users:e}},b=function(){return{type:"FETCH_ALL_USERS_FALIED"}},I=function(e,t,n,a){return{type:"SEND_MESSAGE_START",chatId:e,text:t,randId:n,userId:a}},w=function(e,t,n){return{type:"SEND_MESSAGE_SUCCESS",chatId:e,message:t,randId:n}},O=function(e,t){return{type:"SEND_MESSAGE_FAILED",chatId:e,randId:t}},y=function(e){return{type:"SEND_MESSAGE_FROM_BUFFER_START",id:e}},N=function(e,t){return{type:"SEND_MESSAGE_FROM_BUFFER_SUCCESS",id:e,response:t}},M=function(e){return{type:"SEND_MESSAGE_FROM_BUFFER_FAILED",id:e}},j=function(e,t,n,a){return{type:"SEND_FIRST_MESSAGE_NEW_CHAT_START",dummyChatId:e,randId:t,message:n,self:a}},k=function(e,t,n,a,r){return{type:"SEND_FIRST_MESSAGE_NEW_CHAT_SUCCESS",dummyChatId:e,randId:t,createdChat:n,self:a,chatPartner:r}},x=function(){return{type:"SEND_FIRST_MESSAGE_NEW_CHAT_FAILED"}},A=function(e){return function(t){console.log("Sending Friend Request"),t(T(e));var n=localStorage.getItem("token"),a={headers:{authorization:"Bearer ".concat(n)}};f.a.post("/api/users/addFriend",{friendId:e.userId},a).then((function(n){t(L(e,n.data.chat))})).catch((function(n){console.log(n),t(D(e))}))}},T=function(e){return{type:"SEND_FRIEND_REQUEST_START",user:e}},L=function(e,t){return{type:"SEND_FRIEND_REQUEST_SUCCESS",user:e,chat:t}},D=function(e){return{type:"SEND_FRIEND_REQUEST_FAILED",user:e}},R=function(e,t){return function(n){n(P(e));var a=localStorage.getItem("token"),r={headers:{authorization:"Bearer ".concat(a)}},o={friendId:e.userId,existingChatId:t};f.a.post("/api/users/acceptFriendRequest",o,r).then((function(e){n(F(e.data.friend,e.data.chat,t))})).catch((function(t){console.log(t),n(B(e))}))}},P=function(e){return{type:"ACCEPT_FRIEND_REQUEST_START",user:e}},F=function(e,t){return{type:"ACCEPT_FRIEND_REQUEST_SUCCESS",friend:e,chat:t}},B=function(e){return{type:"ACCEPT_FRIEND_REQUEST_FAILED",user:e}},H=function(e){return localStorage.setItem("currentChatId",e),{type:"CHANGE_CHAT",chatId:e}},U=function(e,t){var n="dummy"+e.userId;return localStorage.setItem("currentChatId",n),{type:"CREATE_DUMMY_CHAT",chatPartner:e,self:t}},W=function(e){return{type:"ADD_NEW_USERS",users:e}},V=function(e){return{type:"SWIPE_START",dir:e}},G=function(){return{type:"SWIPE_SUCCESS"}},q=function(){return{type:"SWIPE_FAILED"}},z=function(){return{type:"FETCH_IDS_START"}},Z=function(e){return{type:"SET_IDS",ids:e}},K=function(){return{type:"FETCH_IDS_FAILED"}},Y=function(e){return function(t){t(X());var n={ids:e};f.a.post("/api/drop/drops",n,{}).then((function(e){t(Q(e.data))})).catch((function(e){console.log(e),t(J())}))}},X=function(){return{type:"FETCH_DROPS_START"}},Q=function(e){return{type:"SET_DROPS",drops:e}},J=function(e){return{type:"FETCH_DROP_FAILED"}},$=function(e,t){return{type:"SEND_COMMENT_START",dropId:e,comment:t}},ee=function(e,t,n){return{type:"SEND_COMMENT_SUCCESS",dropId:e,randId:t,comment:n}},te=function(e,t){return{type:"SEND_COMMENT_FAILED",dropId:e,err:t}},ne=function(e,t){return{type:"SEND_SUBCOMMENT_START",dropId:e,subComment:t}},ae=function(e,t,n){return{type:"SEND_SUBCOMMENT_SUCCESS",dropId:e,randPath:t,subComment:n}},re=function(e,t){return{type:"SEND_SUBCOMMENT_FAILED",dropId:e,err:t}},oe=function(e,t){return{type:"DELETE_COMMENT_START",dropId:e,commentId:t}},se=function(){return{type:"DELETE_COMMENT_SUCCESS"}},ie=function(){return{type:"DELTE_COMMENT_FAILED"}},ce=function(e){return{type:"FETCH_DROP_START",dropId:e}},le=function(e,t){return{type:"FETCH_DROP_SUCCESS",dropId:e,drop:t}},ue=function(e){return{type:"FETCH_DROP_FAILED",dropId:e}},de=function(){return{type:"RESET_DROP_TARGETS"}},pe=n(1),me=function(){return localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("expirationDate"),{type:"LOGOUT"}},he=function(){return{type:"LOGIN_START"}},fe=function(e){return Object(pe.a)({type:"LOGIN_SUCCESS"},e)},ge=function(e){return{type:"AUTH_FAIL",error:e||"Something went wrong"}},Ee=function(){return{type:"SIGNUP_START"}},Ce=function(e,t){return Object(pe.a)({type:"SIGNUP_SUCCESS",profilePicSrc:t},e)},_e=function(e){return{type:"SIGNUP_FAIL",error:e&&e.data&&e.data.message?e.data.message:"Something went wrong"}},ve=function(e){return{type:"EMAIL_ALREADY_TAKEN",email:e}},Se=function(){return{type:"CHECK_EMAIL_TAKEN_START"}},be=function(e){return console.log(e),{type:"CHECK_EMAIL_TAKEN_SUCCESS"}},Ie=function(e){return console.log(e),{type:"CHECK_EMAIL_TAKEN_FAILED"}},we=function(e){return{type:"HANDLE_ALREADY_TAKEN",handle:e}},Oe=function(){return{type:"CHECK_HANDLE_TAKEN_START"}},ye=function(e){return console.log(e),{type:"CHECK_HANDLE_TAKEN_SUCCESS"}},Ne=function(e){return console.log(e),{type:"CHECK_HANDLE_TAKEN_FAILED"}},Me=function(e){return{type:"MESSAGES_READ_START",chatId:e}},je=function(){return{type:"MESSAGES_READ_SUCCESS"}},ke=function(){return{type:"MESSAGES_READ_FAILED"}},xe=function(e){return{type:"UPDATE_NOTIFICATIONS",notifications:e}},Ae=function(e){return{type:"DELETE_NOTIFICATION_START",notificationId:e}},Te=function(e){return{type:"DELETE_NOTIFICATION_SUCCESS",notificationId:e}},Le=function(e){return{type:"DELETE_NOTIFICATION_FAILED",notificationId:e}},De=function(){return{type:"SUBSCRIBE_EMAIL_LIST_SUCCESS"}},Re=function(){return{type:"SUBSCRIBE_EMAIL_LIST_SUCCESS"}},Pe=function(e){return{type:"SUBSCRIBE_EMAIL_LIST_FAILED",message:e}},Fe=n(27),Be=n.n(Fe),He=n(15),Ue=n.n(He),We=n(63),Ve=n.n(We),Ge=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:Ve.a.Source},o.a.createElement("p",{className:Ve.a.Header},"Source:"),o.a.createElement("a",{className:Ve.a.Link,href:this.props.sourceURL},this.props.sourceURL))}}]),n}(r.Component),qe=Ge,ze=n(52),Ze=n.n(ze),Ke=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getLoader=function(){return e.props.position>2?null:"loaded"!==e.props.memeStatus?o.a.createElement(Ue.a,{className:Ze.a.Spinner,type:"Puff",color:"#00BFFF",height:50,width:50}):void 0},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.dropId.startsWith("no")?"".concat("https://storage.googleapis.com/drop-meme-bucket/meme-","6022a6fec54847291bdee46c"):"".concat("https://storage.googleapis.com/drop-meme-bucket/meme-").concat(this.props.dropId);return o.a.createElement("div",{className:Ze.a.Content},o.a.createElement("div",{className:Ze.a.ContentContainer},("loaded"===this.props.memeStatus||this.props.currentlyLoadingMemeId===this.props.dropId)&&this.props.position<10?o.a.createElement("img",{alt:"Meme ".concat(this.props.id),className:Ze.a.Meme,src:t,onLoad:function(){return e.props.onFetchMemeSuccess(e.props.dropId)}}):null,this.getLoader(),this.props.source?o.a.createElement(qe,{sourceURL:this.props.source}):null))}}]),n}(r.Component),Ye=Object(m.b)((function(e){return{currentlyLoadingMemeId:e.stream.currentlyLoadingMemeId}}),(function(e){return{onFetchMemeSuccess:function(t){return e(function(e){return{type:"FETCH_MEME_SUCCESS",dropId:e}}(t))}}}))(Ke),Xe=n(64),Qe=n.n(Xe),Je=n(6),$e=n(41),et=n.n($e),tt=n(87),nt=n.n(tt),at=n(88),rt=n.n(at),ot=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={trashOpen:!1,deleteCommentOpen:!1},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:et.a.CommentMenu},!this.props.userComment&&this.props.token?o.a.createElement("div",{className:et.a.MenuItem},"report"):null,this.state.deleteCommentOpen?null:this.props.userComment&&this.props.token?o.a.createElement("img",{src:this.state.trashOpen?nt.a:rt.a,alt:"",className:et.a.Trash,onMouseOver:function(){return e.setState({trashOpen:!0})},onMouseOut:function(){return e.setState({trashOpen:!1})},onClick:function(){return e.setState({deleteCommentOpen:!0})}}):null,this.state.deleteCommentOpen?o.a.createElement("div",{className:et.a.DeleteDialog},"Delete Comment?",o.a.createElement("button",{className:et.a.YesButton,onClick:function(){return e.props.onDeleteComment(e.props.dropId,e.props.commentId)}},"yes"),o.a.createElement("button",{className:et.a.NoButton,onClick:function(){return e.setState({deleteCommentOpen:!1})}},"no")):null)}}]),n}(r.Component),st=Object(m.b)((function(e){return{token:e.user.token}}),(function(e){return{onDeleteComment:function(t,n){return e(function(e,t){return function(n){n(oe(e,t));var a="api/comment/".concat(t),r=localStorage.getItem("token"),o={headers:{authorization:"Bearer ".concat(r)}};f.a.delete(a,o).then((function(){n(se())})).catch((function(e){console.log(e),n(ie())}))}}(t,n))}}}))(ot),it=n(45),ct=n.n(it),lt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this)).getArrow=function(e,t){return o.a.createElement("svg",{className:"".concat(e?ct.a.up:ct.a.down," ").concat(t?ct.a.glow:null),onClick:e?a.upvote:a.downvote,width:"60",height:"14",viewBox:"0 0 60 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M28.036 1.70084C29.1634 0.724555 30.8366 0.724556 31.964 1.70084L58.5583 24.7322C60.658 26.5506 59.372 30 56.5943 30H3.40566C0.628007 30 -0.658012 26.5506 1.4417 24.7322L28.036 1.70084Z",fill:"".concat(t?"#ffffff":"#bbbbbb")}))},a.upvote=function(e){if(e.stopPropagation(),a.props.token){if(!a.state.didUpvote){var t,n=a.props.path?"/api/comment/".concat(a.props.commentId,"/voteSub"):"/api/comment/".concat(a.props.commentId,"/vote"),r=a.props.path?{vote:"up",voterId:a.props.userId,path:a.props.path}:{vote:"up"},o=a.props.token?{headers:{authorization:"Bearer ".concat(a.props.token)}}:null;f.a.post(n,r,o).then().catch(console.log),t=a.state.didDownvote?{didUpvote:!0,didDownvote:!1,points:a.state.points+2}:{didUpvote:!0,didDownvote:!1,points:a.state.points+1},a.setState(t)}}else a.props.onOpenMenu("Create an Account to upvote Comments")},a.downvote=function(e){if(e.stopPropagation(),a.props.token){if(!a.state.didDownvote){var t=a.props.path?"/api/comment/".concat(a.props.commentId,"/voteSub"):"/api/comment/".concat(a.props.commentId,"/vote"),n=a.props.path?{vote:"down",voterId:a.props.userId,path:a.props.path}:{vote:"down"},r=a.props.token?{headers:{authorization:"Bearer ".concat(a.props.token)}}:null;f.a.post(t,n,r).then().catch(console.log),a.state.didUpvote?a.setState({didDownvote:!0,didUpvote:!1,points:a.state.points-2}):a.setState({didDownvote:!0,didUpvote:!1,points:a.state.points-1})}}else a.props.onOpenMenu()},a.unvote=function(e){if(e.stopPropagation(),a.props.token){if(a.state.didDownvote||a.state.didUpvote){var t=a.props.path?"/api/comment/".concat(a.props.commentId,"/voteSub"):"/api/comment/".concat(a.props.commentId,"/vote"),n=a.props.path?{vote:"neutral",voterId:a.props.userId,path:a.props.path}:{vote:"neutral"},r=a.props.token?{headers:{authorization:"Bearer ".concat(a.props.token)}}:null;f.a.post(t,n,r).then().catch(console.log),a.state.didDownvote?a.setState({didDownvote:!1,didUpvote:!1,points:a.state.points+1}):a.state.didUpvote&&a.setState({didDownvote:!1,didUpvote:!1,points:a.state.points-1})}}else a.props.onOpenMenu()},a.getCountString=function(e){if(e>=1e8)return"".concat(Math.floor(e/1e6),"M");if(e>=1e6){var t=Math.floor(e/1e6),n=Math.floor((e-1e6*t)/1e5);return"".concat(t,".").concat(n,"M")}if(e>=1e5)return"".concat(Math.floor(e/1e3),"K");if(e>=1e3){var a=Math.floor(e/1e3),r=Math.floor((e-1e3*a)/100);return"".concat(a,".").concat(r,"K")}return"".concat(e)},a.state={didUpvote:e.upvoted,didDownvote:e.downvoted,points:e.points},a}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:ct.a.voting},this.getArrow(!0,this.state.didUpvote),o.a.createElement("div",{className:ct.a.points,title:"".concat(this.state.points," points"),onClick:this.unvote},this.getCountString(this.state.points)),this.getArrow(!1,this.state.didDownvote))}}]),n}(r.Component),ut=Object(m.b)((function(e){return{darkmode:e.ui.darkmode,token:e.user.token,userId:e.user.userId}}),(function(e){return{onOpenMenu:function(){return e({type:"OPEN_MENU"})}}}))(lt),dt=n(89),pt=n.n(dt),mt=n(32),ht=n.n(mt),ft=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=ht.a;return this.props.authorId&&this.props.authorId===this.props.selfId&&(this.props.profilePicSrc?e=this.props.profilePicSrc:this.props.token&&this.props.hasProfilePic&&(e="".concat("https://storage.googleapis.com/drop-profile-pictures-bucket/profilePic-")+this.props.selfId)),o.a.createElement("img",{src:e,className:pt.a.AuthorPic,style:{left:"".concat(this.props.depth*this.props.indent,"px")},alt:" "})}}]),n}(r.Component),gt=Object(m.b)((function(e){return{hasProfilePic:e.user.hasProfilePic,selfId:e.user.userId,token:e.user.token}}),null)(ft),Et=n(90),Ct=n.n(Et),_t=function(e){return o.a.createElement("div",{style:e.zIndex?{zIndex:"".concat(e.zIndex)}:null,className:Ct.a.Backdrop,onClick:e.clicked})},vt=n(69),St=n.n(vt),bt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getRoot=function(t){var n={left:"".concat(11+17*e.props.treeString.length,"px")};return o.a.createElement("svg",{className:St.a.Root,style:n,width:"2px",height:"".concat(e.props.height,"px"),viewBox:"0 0 2 ".concat(e.props.height),fill:"#abcdef",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 0H2V".concat(e.props.height,"H0V0Z"),fill:"".concat(t>=e.props.hideBranches?"#333333":"#ffffff")}))},e.getL=function(t){return o.a.createElement("svg",{style:e.generateBoneStyles(t+1,"L"),key:"".concat(t,"L"),width:"6",height:"4",viewBox:"0 0 6 4",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 0H2V1V1C2 1.55228 2.44772 2 3 2V2H6V4H2C0.89543 4 0 3.10457 0 2V0Z",fill:"".concat(t>=e.props.hideBranches?"#ffffff":"#333333")}))},e.getC=function(t){return o.a.createElement("svg",{style:e.generateBoneStyles(t+1,"connector"),key:"".concat(t,"-connector"),width:"4",height:"2",viewBox:"0 0 4 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 0H4V2H0V0Z",fill:"".concat(t>=e.props.hideBranches?"#ffffff":"#333333")}))},e.generateLine=function(t,n){var a=0;switch(n){case"I":a=e.props.height+22;break;case"IL":a=53;break;case"start":a=e.props.height;break;default:console.log("DIESE NACHRICHT SOLLE NIE KOMMEN")}return o.a.createElement("svg",{key:t,style:e.generateBoneStyles(t,n),width:"2px",height:"".concat(a,"px"),viewBox:"0 0 2 ".concat(a),xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 0H2V".concat(a,"H0V0Z"),fill:"".concat(t>=e.props.hideBranches?"#ffffff":"#333333")}))},e.generateBones=function(t){for(var n=[],a=0;a<t.length;a++)switch(t[a]){case" ":break;case"I":n.push(e.generateLine(a,"I"));break;case"T":n.push(e.generateLine(a,"I")),n.push(e.getC(a));break;case"L":n.push(e.generateLine(a,"IL")),n.push(e.getL(a)),e.props.path.split("/").pop();break;default:console.log("ERROR: unwanted Character in BuildBone")}return n},e.generateBoneStyles=function(e,t){var n={top:"-42px",position:"absolute"};switch(t){case"start":n.top="25px",n.left="".concat(11+17*e,"px");break;case"I":case"IL":n.left="".concat(11+17*e,"px");break;case"L":n.left="".concat(17*e-6,"px"),n.top="9px";break;case"connector":n.left="".concat(17*e-4,"px"),n.top="12px";break;default:console.log("Switch case ERROR")}return n},e}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:St.a.branches},this.generateBones(this.props.treeString),this.props.root?this.getRoot(this.props.depth):null)}}]),n}(r.Component),It=n(34),wt=n.n(It),Ot=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={height:0},e.getRoot=function(){if(e.props.comment.subComments&&e.props.comment.subComments.length>0)return o.a.createElement("svg",{key:1001,className:wt.a.Root,width:"2px",height:"".concat(e.state.height,"px"),viewBox:"0 0 2 ".concat(e.state.height),fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 0H20V".concat(e.state.height,"H0V0Z"),fill:"green"}))},e.getSpeechBubbleArrow=function(e,t,n){var a=e||t?"rgba(87, 122, 161, 0.6)":n?"rgba(255,255,255,0.5)":"rgba(0, 2, 10, 0.6)";return o.a.createElement("svg",{className:wt.a.SpeechBubbleArrow,width:"18",height:"28",viewBox:"0 0 18 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1946 1.09753C15.127 2.89687 11.5635 5.9083 8 8.49986C5.64212 10.2146 7.62939e-06 9.99998 7.62939e-06 9.99998C7.62939e-06 9.99998 6.54393 10.8743 9.5 13.4999C13.3722 16.9392 13.9978 25.9679 14 25.9998L14 10C14 6.61858 15.1988 3.51715 17.1946 1.09753Z",fill:a}))},e.clicked=function(t,n){return t?function(){console.log("Comment still sending; cant select yet")}:n?e.props.onUnselectComment:function(){return e.props.onSelectSubComment(e.props.commentId,e.props.path)}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.divElement.clientHeight;this.setState({height:e})}},{key:"componentDidUpdate",value:function(){var e=this.divElement.clientHeight;this.state.height!==e&&this.setState({height:e})}},{key:"render",value:function(){var e=this,t=this.props.selectedComment===this.props.path,n=this.props.sending.some((function(t){return t.dropId===e.props.dropId&&t.path===e.props.path})),a=this.props.path.startsWith(this.props.selectedComment),r=[wt.a.CommentBackground];n&&r.push(wt.a.sending),(t||a)&&r.push();var s={paddingLeft:"".concat(17*this.props.depth,"px")},i={left:"".concat(17*this.props.depth+40,"px"),maxWidth:"".concat(545-17*this.props.depth,"px")},c=a?this.props.selectedComment.split("/").length-1:t?this.props.depth:null;return o.a.createElement("div",{className:"".concat(wt.a.CommentContainer," ").concat(a||t?wt.a.selected:null)},t?o.a.createElement(_t,{clicked:this.props.onUnselectComment}):null,t?o.a.createElement(st,{token:this.props.token,userComment:this.props.authorId===this.props.userId}):null,o.a.createElement("div",{className:wt.a.Comment,style:s},o.a.createElement(gt,{depth:this.props.depth,indent:17,authorId:this.props.authorId}),o.a.createElement("div",{className:r.join(" "),ref:function(t){return e.divElement=t},onClick:this.clicked(n,t)},o.a.createElement(ut,{upvoted:this.props.upVoted,downvoted:this.props.downVoted,points:this.props.points,commentId:this.props.commentId,path:this.props.path}),o.a.createElement("div",{className:wt.a.SelectClickTarget,onClick:this.select},o.a.createElement("span",{className:wt.a.actualComment,style:i},this.props.actualComment),this.getSpeechBubbleArrow(t,a,n)))),o.a.createElement(bt,{hideBranches:c,treeString:this.props.treeString,height:this.state.height,root:t||this.props.subComments&&this.props.subComments.length>0,path:this.props.path,selected:t}))}}]),n}(r.Component),yt=Object(m.b)((function(e){return{selectedComment:e.stream.selectedComment,sending:e.stream.sending,token:e.user.token,userId:e.user.userId}}),(function(e){return{onSelectSubComment:function(t,n){return e(function(e,t){return{type:"SELECT_SUBCOMMENT",commentId:e,path:t}}(t,n))},onUnselectComment:function(){return e({type:"UNSELECT_COMMENT"})}}}))(Ot),Nt=n(38),Mt=n.n(Nt),jt=n(91),kt=n(46),xt=n.n(kt),At=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=[xt.a.Button];if(this.props.buttonType)switch(this.props.buttonType){case"SubmitComment":e.push(xt.a.SubmitComment);break;default:console.log("no type given")}return this.props.disabled&&e.push(xt.a.Disabled),"light"===this.props.colorTheme&&e.push(xt.a.Light),"dark"===this.props.colorTheme&&e.push(xt.a.Dark),o.a.createElement("button",{onClick:this.props.clicked,className:e.join(" "),disabled:this.props.disabled},this.props.children)}}]),n}(r.Component),Tt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={textareaValue:"",disabled:!0},e.inputChangedHandler=function(t){var n=t.target.value,a=""===n.trim()||e.props.streamElements[0].id.startsWith("no more");e.setState({textareaValue:n,disabled:a})},e.submitHandler=function(t){if(t.preventDefault(),e.props.token)if(e.setState({textareaValue:"",disabled:!0}),e.props.subComment){var n={id:"".concat(Date.now()),author:e.props.userId,points:0,subComments:[],comment:e.state.textareaValue,parentPath:e.props.selectedComment};e.props.onSendSubComment(e.props.dropId,n,e.props.token)}else{var a={id:"".concat(Date.now()),comment:e.state.textareaValue,authorId:e.props.userId,posted:new Date,points:0,subComments:[],path:"0"};e.props.onSendComment(e.props.dropId,a,e.props.token)}else e.props.onOpenMenu()},e.getBranches=function(t,n){return e.props.path?o.a.createElement(bt,{hideBranches:t-1,treeString:n,height:61,path:e.props.path}):null},e}return Object(l.a)(n,[{key:"getSpeechBubbleArrow",value:function(){return o.a.createElement("svg",{className:Mt.a.SpeechBubbleArrow,width:"18",height:"28",viewBox:"0 0 18 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1946 1.09753C15.127 2.89687 11.5635 5.9083 8 8.49986C5.64212 10.2146 7.62939e-06 9.99998 7.62939e-06 9.99998C7.62939e-06 9.99998 6.54393 10.8743 9.5 13.4999C13.3722 16.9392 13.9978 25.9679 14 25.9998L14 10C14 6.61858 15.1988 3.51715 17.1946 1.09753Z",fill:"#eeeeee"}))}},{key:"getArrowRight",value:function(){return o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"arrow_forward_24px"},o.a.createElement("path",{id:"icon/navigation/arrow_forward_24px",d:"M12 4L10.59 5.41L16.17 11H4V13H16.17L10.59 18.59L12 20L20 12L12 4Z",fill:this.state.disabled?"grey":"black",fillOpacity:"0.54"})))}},{key:"render",value:function(){var e=this.props.path?this.props.path.split("/").length:0,t={paddingLeft:"".concat(17*e,"px")},n={left:"".concat(17*(e+1)+40,"px")},a=this.props.treeString?[].concat(Object(Je.a)(this.props.treeString.slice(1)),["L"]):["L"];return o.a.createElement("div",{className:Mt.a.CommentForm,style:this.props.path?{zIndex:"200"}:null},o.a.createElement("div",{className:Mt.a.CommentInput,style:t},o.a.createElement(gt,{depth:e,indent:17,authorId:this.props.userId}),o.a.createElement("div",{className:Mt.a.CommentInputBackground},o.a.createElement("div",{className:Mt.a.actualCommentForm,style:n},o.a.createElement(jt.a,{className:Mt.a.TextArea,onChange:this.inputChangedHandler,value:this.state.textareaValue,placeholder:this.props.path?"Write a response...":"Write a comment..."}),o.a.createElement(At,{className:Mt.a.SubmitButton,colorTheme:"light",buttonType:"SubmitComment",clicked:this.submitHandler,disabled:this.state.disabled,type:"submit"},this.getArrowRight()),this.getSpeechBubbleArrow()))),this.getBranches(e,a))}}]),n}(r.Component),Lt=Object(m.b)((function(e){return{selectedComment:e.stream.selectedComment,token:e.user.token,userId:e.user.userId,streamElements:e.stream.streamElements}}),(function(e){return{onOpenMenu:function(){return e({type:"OPEN_MENU"})},onSendComment:function(t,n,a){return e(function(e,t){return function(n){n($(e,t));var a=localStorage.getItem("token"),r={headers:{authorization:"Bearer ".concat(a)}},o="/api/drop/".concat(e,"/comment"),s={comment:t.comment};f.a.post(o,s,r).then((function(a){n(ee(e,t.id,a.data))})).catch((function(t){console.log(t),n(te(e,t))}))}}(t,n))},onSendSubComment:function(t,n,a){return e(function(e,t,n){return function(a){var r=t.parentPath.split("/")[0],o=t.parentPath+"/"+t.id;a(ne(e,t));var s="/api/comment/".concat(r,"/sub"),i={headers:{authorization:"Bearer ".concat(n)}},c={actualComment:t.comment,parentPath:t.parentPath};f.a.post(s,c,i).then((function(t){a(ae(e,o,t.data))})).catch((function(t){console.log(t),a(re(e,t))}))}}(t,n,a))}}}))(Tt),Dt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).createSubComments=function(t,a,r){return e.props.subComments.map((function(s,i){var c=!r&&i===e.props.subComments.length-1;return o.a.createElement(n,Object.assign({},s,{tree:t,last:c,depth:a+1,key:i,dropId:e.props.dropId,selectedCommentPath:e.props.selectedCommentPath,actualComment:s.comment,subComments:s.subComments,commentId:e.props.commentId,selected:r}))}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.path.split("/").length-1,t=this.props.selectedCommentPath===this.props.path,n=this.props.tree?this.props.tree:[],a=!0===this.props.last?[].concat(Object(Je.a)(n),["L"]).slice(1):[].concat(Object(Je.a)(n),["T"]).slice(1);!this.props.selected&&!0===this.props.last&&e>1?[].concat(Object(Je.a)(n),["L"]).slice(1):[].concat(Object(Je.a)(n),["T"]).slice(1);var r=!0===this.props.last?[].concat(Object(Je.a)(n),[" "]):[].concat(Object(Je.a)(n),["I"]);return o.a.createElement("div",{className:"SubCommentWrapper"},o.a.createElement(yt,Object.assign({},this.props,{treeString:a})),this.createSubComments(r,e,t),t?o.a.createElement(Lt,{subComment:!0,dropId:this.props.dropId,path:this.props.path,treeString:r}):null)}}]),n}(r.Component),Rt=n(28),Pt=n.n(Rt),Ft=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={height:0},e.createSubComments=function(t){return e.props.comment.subComments.map((function(n,a){var r=a===e.props.comment.subComments.length-1&&!t;return o.a.createElement(Dt,Object.assign({},n,{parentSelected:t,tree:["I"],last:r,depth:1,key:a,dropId:e.props.dropId,selectedCommentPath:e.props.selectedComment,commentId:e.props.comment.id,actualComment:n.comment,subComments:n.subComments}))}))},e.getSpeechBubbleArrow=function(e,t){var n=e?"rgba(87, 122, 161, 0.6)":t?"rgba(255,255,255,0.5)":"rgba(0, 2, 10, 0.6)";return o.a.createElement("svg",{className:Pt.a.SpeechBubbleArrow,width:"18",height:"28",viewBox:"0 0 18 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1946 1.09753C15.127 2.89687 11.5635 5.9083 8 8.49986C5.64212 10.2146 7.62939e-06 9.99998 7.62939e-06 9.99998C7.62939e-06 9.99998 6.54393 10.8743 9.5 13.4999C13.3722 16.9392 13.9978 25.9679 14 25.9998L14 10C14 6.61858 15.1988 3.51715 17.1946 1.09753Z",fill:n}))},e.clicked=function(t,n){return t?function(){console.log("Comment still sending; cant select yet")}:n?e.props.onUnselectComment:t?void 0:function(){return e.props.onSelectComment(e.props.id,"/")}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.divElement.clientHeight;this.setState({height:e})}},{key:"componentDidUpdate",value:function(){var e=this.divElement.clientHeight;this.state.height!==e&&this.setState({height:e})}},{key:"getRoot",value:function(e){return this.props.comment.subComments&&this.props.comment.subComments.length>0||e?o.a.createElement("svg",{key:1e3,className:Pt.a.Root,width:"2px",height:"".concat(this.state.height,"px"),viewBox:"0 0 2 ".concat(this.state.height),fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 0H2V".concat(this.state.height,"H0V0Z"),fill:"#ffffff"})):null}},{key:"render",value:function(){var e=this,t=[Pt.a.CommentBackground],n=this.props.selectedComment===this.props.id,a=this.props.sending.some((function(t){return t.randId===e.props.id}));return a&&t.push(Pt.a.sending),n&&t.push(Pt.a.selected),o.a.createElement("div",{className:Pt.a.CommentContainer},n?o.a.createElement(_t,{zIndex:100,clicked:this.props.onUnselectComment}):null,n?o.a.createElement(st,{dropId:this.props.dropId,commentId:this.props.id,userComment:this.props.authorId===this.props.userId}):null,o.a.createElement("div",{className:"".concat(Pt.a.Comment," ").concat(n?Pt.a.selected:null)},o.a.createElement(gt,{depth:0,indent:0,neuMorphism:this.props.neuMorphism,authorId:this.props.authorId}),o.a.createElement("div",{className:t.join(" "),onClick:this.clicked(a,n),ref:function(t){return e.divElement=t}},o.a.createElement(ut,{upvoted:this.props.upVoted,downvoted:this.props.downVoted,commentId:this.props.id,points:this.props.points}),o.a.createElement("div",{className:Pt.a.SelectClickTarget},o.a.createElement("span",{className:Pt.a.actualComment},this.props.comment.comment),this.getSpeechBubbleArrow(n,a))),this.getRoot(n)),this.props.comment.subComments?this.createSubComments(n):null,n?o.a.createElement(Lt,{dropId:this.props.dropId,subComment:!0,path:this.props.id,treeString:this.props.subComments.length>0?[]:null}):null)}}]),n}(r.Component),Bt=Object(m.b)((function(e){return{selectedComment:e.stream.selectedComment,sending:e.stream.sending,userId:e.user.userId,token:e.user.token}}),(function(e){return{onSelectComment:function(t,n){return e(function(e,t){return{type:"SELECT_COMMENT",commentId:e,path:t}}(t,n))},onUnselectComment:function(){return e({type:"UNSELECT_COMMENT"})}}}))(Ft),Ht=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).componentDidUpdate=function(){},e.getComments=function(){return e.props.comments.map((function(t){return o.a.createElement(Bt,Object.assign({},t,{key:t.id,comment:t,dropId:e.props.dropId}))}))},e.getLoader=function(){return o.a.createElement(Ue.a,{className:Qe.a.Spinner,type:"ThreeDots",color:"#00BFFF",height:30,width:30})},e}return Object(l.a)(n,[{key:"render",value:function(){return this.props.position>1?null:o.a.createElement("div",{className:Qe.a.CommentSection,tabIndex:"0"},o.a.createElement(Lt,{dropId:this.props.dropId}),o.a.createElement("div",{className:Qe.a.comments},"not loaded"===this.props.commentStatus?this.getLoader():this.getComments()))}}]),n}(r.Component),Ut=Object(m.b)((function(e){return{darkmode:e.ui.darkmode}}),(function(e){return{}}))(Ht),Wt=n(53),Vt=n.n(Wt),Gt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=[Vt.a.PrimaryButton];return this.props.theme?e.push(Vt.a.PrimaryButtonNeumorphism):e.push(Vt.a.PrimaryButtonFlat),this.props.disabled&&e.push(Vt.a.Disabled),o.a.createElement("button",{className:e.join(" "),onClick:this.props.disabled?null:this.props.clicked},this.props.children)}}]),n}(r.Component),qt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidUpdate=function(){"drops loaded"===e.props.streamStatus&&"not loaded"===e.props.dropStatus&&e.props.id.length>2&&e.props.onFetchDrop(e.props.id)},e.PrimaryButtonClicked=function(){e.props.token?e.props.onOpenDropModal():e.props.onOpenMenu("Create an Account and directly share Memes with friends here!")},e}return Object(l.a)(n,[{key:"calcStyles2",value:function(e){var t=-2*(e-1),n=-4*(e-1),a={};return"left"===this.props.show?a.transform="translate3d(-100vw,0,0)":"right"===this.props.show?a.transform="translate3d(+100vw,0,0)":1===this.props.position&&this.props.halfLeft?a.transform="translate3d(-5vw,0,0)":1===this.props.position&&this.props.halfRight?a.transform="translate3d(5vw,0,0)":(a.transform="translate3d( 0, ".concat(t,"px, ").concat(n,"px)"),a.WebkitTransform="translate3d( 0, ".concat(t,"px, ").concat(n,"px)")),a}},{key:"render",value:function(){var e=[],t=[Be.a.StreamElement];return"show"===this.props.show&&t.push(Be.a.ShowDrop),"right"===this.props.show&&t.push(Be.a.FadedRight),"left"===this.props.show&&t.push(Be.a.FadedLeft),1===this.props.position&&(this.props.halfLeft&&t.push(Be.a.HalfLeft),this.props.halfRight&&t.push(Be.a.HalfRight)),t.push(this.props.darkmode?Be.a.Dark:Be.a.Light),o.a.createElement("div",{tabIndex:"0",className:t.join(" "),style:this.calcStyles2(this.props.position)},e,this.props.title?o.a.createElement("h3",{className:Be.a.title},this.props.title):null,o.a.createElement(Ye,{data:this.props.data,position:this.props.position,dropId:this.props.id,status:this.props.status,source:this.props.source,memeStatus:this.props.memeStatus}),o.a.createElement(Gt,{theme:!1,clicked:this.PrimaryButtonClicked,disabled:this.props.id.length<4||this.props.id.startsWith("no more")},o.a.createElement("h3",{className:Be.a.DROP},"Drop")),o.a.createElement(Ut,{position:this.props.position,dropId:this.props.id,comments:this.props.comments,dropLoaded:"drop loaded"===this.props.status,commentStatus:this.props.dropStatus}))}}]),n}(r.Component),zt=Object(m.b)((function(e){return{darkmode:e.ui.darkmode,token:e.user.token,streamStatus:e.stream.streamStatus}}),(function(e){return{onOpenMenu:function(t){return e({type:"OPEN_MENU"})},onOpenDropModal:function(){return e({type:"OPEN_DROP_MODAL"})},onFetchDrop:function(t,n){return e(function(e,t){return function(n){if(n(ce(e)),e.startsWith("no"))n(le(e,{dropId:e,title:"",creatorId:"6022396f28d69d22509a5d46",comments:[]}));else{var a=e.startsWith("no more")?"apidrop/nomore":"/api/drop/".concat(e),r=t?{headers:{authorization:"Bearer ".concat(t)}}:null;f.a.get(a,r).then((function(t){n(le(e,t.data))})).catch((function(t){n(ue(e))}))}}}(t,n))}}}))(qt),Zt=n(24),Kt=n.n(Zt),Yt=n(92),Xt=n.n(Yt),Qt=n(93),Jt=n.n(Qt),$t=n(94),en=n.n($t),tn=n(70),nn=n.n(tn),an=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={timeStampLastSwipe:0,glowLeft:!1,glowRight:!1,wtfOpen:!1},e.drop=function(t){e.props.send(t),e.setState({currentlyDropping:!1})},e.onLightUp=function(t,n){e.setState({glowLeft:t,glowRight:n})},e.resetGlow=function(){e.setState({glowLeft:!1,glowRight:!1})},e.keypressHandler=function(t){e.props.menuOpen||"stream"!==e.props.currentTab||(37===t.keyCode?e.onLightUp(!0,!1):39===t.keyCode&&e.onLightUp(!1,!0))},e.keyboardSwipeHandler=function(t){37===t.keyCode&&e.state.glowLeft&&(e.resetGlow(),e.swipeHandler(!0)),39===t.keyCode&&e.state.glowRight&&(e.resetGlow(),e.swipeHandler(!1))},e.swipeHandler=function(t){"loaded"!==e.props.streamElements[1].memeStatus||"id loaded"!==e.props.streamElements[1].status||e.props.menuOpen||e.props.onSwipe(t?"left":"right",e.props.streamElements[1].id,e.props.anonymousId)},e.getLeftThumb=function(){return o.a.createElement("svg",{onMouseEnter:function(){return e.onLightUp(!0,!1)},onMouseLeave:e.resetGlow,onClick:function(){return e.swipeHandler(!0)},className:"".concat(Kt.a.LeftThumb," ").concat(Kt.a.ThumbGlow),xmlns:"http://www.w3.org/2000/svg",width:"130",height:"130",fill:"none",viewBox:"0 0 130 130"},o.a.createElement("g",{filter:e.state.glowLeft?"url(#filter0_dd)":null},o.a.createElement("path",{d:"M92.0177 42.2216C86.749 41.7113 81.6781 40.0051 76.5061 38.9511C71.0367 37.8369 65.5161 36.9958 59.996 36.1755C59.8856 36.1588 59.7815 36.1606 59.677 36.1593C59.5021 36.1246 59.3181 36.1045 59.1124 36.118C54.8811 36.3956 50.6969 37.0121 46.5264 37.7704C46.2564 37.8197 46.0373 37.9129 45.8468 38.0283C43.4346 38.5792 40.992 39.7617 39.706 41.9728C38.5827 43.9043 38.4274 46.0332 38.7441 48.1584C35.5408 51.0711 34.2384 54.8916 35.2674 59.1005C31.023 63.7101 30.8856 69.7316 35.1049 74.2518C32.5673 78.72 32.7345 83.6501 36.1271 87.7818C36.3481 88.0509 36.5897 88.2283 36.8385 88.3358C37.0378 88.4637 37.2695 88.5663 37.5521 88.6217C44.1235 89.912 50.8026 89.1964 56.2346 85.029C56.8084 84.5891 57.0592 84.001 57.0787 83.4154C57.1524 83.2013 57.2003 82.9769 57.2061 82.7408C57.2137 82.5954 57.2135 82.5431 57.2073 82.5629C57.2186 82.4842 57.2307 82.4048 57.2416 82.3264C57.2875 81.9574 57.3399 81.5913 57.348 81.2194C57.7083 81.2261 58.0682 81.2343 58.4276 81.2551C56.0659 89.8836 57.4168 107.446 70.3386 102.672C71.3364 102.304 71.7329 101.435 71.6951 100.596C71.7491 100.412 71.7878 100.217 71.7899 99.9984C71.8407 94.7175 72.8071 89.6863 75.6708 85.1557C79.1832 79.5986 85.1722 79.9545 91.0998 80.487C93.0124 80.6592 94.9675 81.0991 96.8947 80.9421C99.2743 80.7481 99.4179 80.0318 100.029 78.0768C100.093 77.8717 100.136 77.6509 100.132 77.3997C99.9446 66.6904 99.7468 55.9813 99.4002 45.2766C99.2947 42.0264 94.2329 42.4356 92.0177 42.2216ZM85.8764 76.1608C73.1836 75.8195 68.0886 87.454 67.7317 99.1557C59.9711 100.554 60.9928 86.8212 62.5297 81.7481C62.7796 81.7939 63.0303 81.8302 63.2803 81.8816C65.8529 82.4082 66.8733 78.4564 64.296 77.9292C58.8742 76.8186 53.4898 76.9097 48.0807 78.0418C45.5072 78.5803 46.672 82.4932 49.2338 81.9562C50.5776 81.675 51.9214 81.481 53.2665 81.3609C53.2636 81.4394 53.2641 81.4712 53.2681 81.4559C53.2568 81.5353 53.2447 81.614 53.2335 81.6932C53.2123 81.8678 53.1892 82.0425 53.17 82.217C48.8825 85.0867 43.9593 85.6635 38.8683 84.7218C36.495 81.7108 37.2792 78.2287 39.2829 75.2415C39.6301 74.7236 39.6888 74.22 39.5674 73.7785C39.6096 73.263 39.4299 72.7237 38.9118 72.2653C35.1986 68.9763 35.1719 64.9747 38.597 61.5133C39.3934 61.1316 39.93 60.3014 39.5488 59.2113C38.4344 56.0226 38.9522 53.0885 41.6972 50.9359C41.7838 50.8683 41.8523 50.7926 41.9246 50.7184C42.6631 50.3033 43.1851 49.4936 42.9311 48.4398C42.5823 46.9887 42.3754 45.2824 43.2633 43.9702C44.1753 42.6233 45.8378 42.1685 47.3419 41.8613C47.567 41.8149 47.7539 41.7357 47.9233 41.6435C51.6557 40.9717 55.3952 40.4461 59.1828 40.197C59.2266 40.1939 59.2634 40.1814 59.3058 40.177C68.4517 41.5391 77.5684 42.9647 86.4501 45.5993C86.5383 45.6254 86.6205 45.6327 86.705 45.6482C85.6635 55.8162 84.9157 65.9667 85.8764 76.1608ZM89.9725 76.3006C89.0178 66.4081 89.6823 56.5564 90.6733 46.6912C92.2358 46.7675 93.7982 46.8419 95.362 46.9151C95.6692 56.8222 95.861 66.7312 96.0347 76.6413C94.0083 76.655 91.989 76.5217 89.9725 76.3006Z",fill:e.state.glowLeft?"#ffffff":"#555555"}),o.a.createElement("path",{fillRule:"evenodd",d:"M65 15c-27.614 0-50 22.386-50 50s22.386 50 50 50 50-22.386 50-50-22.386-50-50-50zm0 4c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46z",clipRule:"evenodd",fill:e.state.glowLeft?"#ffffff":"#555555"})),o.a.createElement("defs",null,e.state.glowLeft?o.a.createElement("filter",{id:"filter0_dd",x:"0.13501",y:"0.13501",width:"131.73",height:"131.73",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"7.5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"}),o.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow",result:"shape"})):null))},e.getRightThumb=function(){return o.a.createElement("svg",{onMouseEnter:function(){return e.onLightUp(!1,!0)},onMouseLeave:e.resetGlow,onClick:function(){return e.swipeHandler(!1)},className:"".concat(Kt.a.RightThumb," ").concat(Kt.a.ThumbGlow),xmlns:"http://www.w3.org/2000/svg",width:"132",height:"132",fill:"none",viewBox:"0 0 132 132"},o.a.createElement("g",{filter:e.state.glowRight?"url(#filter0_dd1)":null},o.a.createElement("path",{d:"M38.571 88.32c5.26.603 10.3 2.397 15.453 3.542 5.449 1.209 10.954 2.146 16.459 3.063.11.018.214.018.318.022.175.037.358.06.564.05 4.236-.203 8.43-.746 12.613-1.432.27-.044.492-.134.684-.246 2.421-.508 4.884-1.648 6.209-3.837 1.157-1.911 1.35-4.037 1.07-6.167 3.253-2.857 4.622-6.654 3.667-10.88 4.324-4.535 4.566-10.553.426-15.146 2.616-4.424 2.534-9.356-.785-13.546a1.894 1.894 0 00-.702-.566 2.018 2.018 0 00-.709-.299c-6.547-1.404-13.238-.806-18.742 3.266a2.079 2.079 0 00-.872 1.599c-.077.213-.13.436-.14.672-.01.145-.01.198-.004.178l-.038.236c-.052.368-.111.733-.126 1.105-.36-.013-.72-.027-1.078-.054 2.512-8.587 1.467-26.17-11.536-21.622-1.004.35-1.416 1.212-1.392 2.052a2.16 2.16 0 00-.106.596c-.143 5.279-1.197 10.293-4.139 14.773-3.609 5.494-9.59 5.034-15.508 4.398-1.91-.205-3.856-.68-5.786-.556-2.383.152-2.539.866-3.184 2.81a2.108 2.108 0 00-.114.675c0 10.711.01 21.422.17 32.131.049 3.252 5.117 2.931 7.328 3.184zm6.733-33.826c12.685.563 17.982-10.981 18.543-22.675 7.784-1.262 6.523 12.45 4.898 17.496-.25-.05-.5-.09-.748-.147-2.564-.571-3.653 3.362-1.085 3.934 5.402 1.206 10.787 1.208 16.215.17 2.582-.493 1.486-4.425-1.085-3.933a34.786 34.786 0 01-4.042.525c.004-.079.004-.11 0-.095l.038-.237c.025-.174.05-.348.073-.523 4.337-2.794 9.27-3.285 14.343-2.254 2.32 3.052 1.476 6.52-.58 9.471-.356.512-.423 1.015-.31 1.458-.05.515.12 1.057.63 1.525 3.655 3.353 3.612 7.354.127 10.755-.803.368-1.354 1.189-.992 2.285 1.058 3.208.49 6.133-2.293 8.237-.088.066-.157.14-.23.213-.746.403-1.283 1.203-1.047 2.261.323 1.457.5 3.167-.41 4.463-.936 1.331-2.606 1.757-4.115 2.038a2.068 2.068 0 00-.585.207c-3.744.607-7.492 1.067-11.283 1.25-.044.002-.081.014-.123.018-9.121-1.522-18.212-3.106-27.046-5.895-.088-.028-.17-.037-.254-.054 1.219-10.148 2.144-20.284 1.361-30.493zm-4.093-.211c.782 9.907-.054 19.746-1.218 29.592-1.56-.103-3.121-.205-4.684-.305-.134-9.911-.153-19.822-.153-29.734 2.026.022 4.043.19 6.055.447z",fill:e.state.glowRight?"#ffffff":"#555555"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M66.8726 115.992C94.4827 115.51 116.474 92.7374 115.992 65.1274C115.51 37.5174 92.7374 15.5257 65.1274 16.0076C37.5174 16.4896 15.5257 39.2626 16.0076 66.8726C16.4896 94.4827 39.2626 116.474 66.8726 115.992ZM66.8028 111.993C92.204 111.55 112.436 90.5984 111.993 65.1972C111.55 39.796 90.5984 19.5636 65.1972 20.007C39.796 20.4504 19.5636 41.4016 20.007 66.8028C20.4504 92.204 41.4016 112.436 66.8028 111.993Z",fill:e.state.glowRight?"#ffffff":"#555555"})),o.a.createElement("defs",null,e.state.glowRight?o.a.createElement("filter",{id:"filter0_dd1",x:"0.13501",y:"0.13501",width:"131.73",height:"131.73",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"7.5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.08 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"}),o.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow",result:"shape"})):o.a.createElement("svg",{width:"102",height:"102",viewBox:"0 0 102 102",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M77.0177 27.2216C71.749 26.7113 66.6781 25.0051 61.5061 23.9511C56.0367 22.8369 50.5161 21.9958 44.996 21.1755C44.8856 21.1588 44.7815 21.1606 44.677 21.1593C44.5021 21.1246 44.3181 21.1045 44.1124 21.118C39.8811 21.3956 35.6969 22.0121 31.5264 22.7704C31.2564 22.8197 31.0373 22.9129 30.8468 23.0283C28.4346 23.5792 25.992 24.7617 24.706 26.9728C23.5827 28.9043 23.4274 31.0332 23.7441 33.1584C20.5408 36.0711 19.2384 39.8916 20.2674 44.1005C16.023 48.7101 15.8856 54.7316 20.1049 59.2518C17.5673 63.72 17.7345 68.6501 21.1271 72.7818C21.3481 73.0509 21.5897 73.2283 21.8385 73.3358C22.0378 73.4637 22.2695 73.5663 22.5521 73.6217C29.1235 74.912 35.8026 74.1964 41.2346 70.029C41.8084 69.5891 42.0592 69.001 42.0787 68.4154C42.1524 68.2013 42.2003 67.9769 42.2061 67.7408C42.2137 67.5954 42.2135 67.5431 42.2073 67.5629C42.2186 67.4842 42.2307 67.4048 42.2416 67.3264C42.2875 66.9574 42.3399 66.5913 42.348 66.2194C42.7083 66.2261 43.0682 66.2343 43.4276 66.2551C41.0659 74.8836 42.4168 92.4456 55.3386 87.6719C56.3364 87.3037 56.7329 86.435 56.6951 85.5962C56.7491 85.4124 56.7878 85.2169 56.7899 84.9984C56.8407 79.7175 57.8071 74.6863 60.6708 70.1557C64.1832 64.5986 70.1722 64.9545 76.0998 65.487C78.0124 65.6592 79.9675 66.0991 81.8947 65.9421C84.2743 65.7481 84.4179 65.0318 85.0285 63.0768C85.0926 62.8717 85.1359 62.6509 85.1315 62.3997C84.9446 51.6904 84.7468 40.9813 84.4002 30.2766C84.2947 27.0264 79.2329 27.4356 77.0177 27.2216ZM70.8764 61.1608C58.1836 60.8195 53.0886 72.454 52.7317 84.1557C44.9711 85.5539 45.9928 71.8212 47.5297 66.7481C47.7796 66.7939 48.0303 66.8302 48.2803 66.8816C50.8529 67.4082 51.8733 63.4564 49.296 62.9292C43.8742 61.8186 38.4898 61.9097 33.0807 63.0418C30.5072 63.5803 31.672 67.4932 34.2338 66.9562C35.5776 66.675 36.9214 66.481 38.2665 66.3609C38.2636 66.4394 38.2641 66.4712 38.2681 66.4559C38.2568 66.5353 38.2447 66.614 38.2335 66.6932C38.2123 66.8678 38.1892 67.0425 38.17 67.217C33.8825 70.0867 28.9593 70.6635 23.8683 69.7218C21.495 66.7108 22.2792 63.2287 24.2829 60.2415C24.6301 59.7236 24.6888 59.22 24.5674 58.7785C24.6096 58.263 24.4299 57.7237 23.9118 57.2653C20.1986 53.9763 20.1719 49.9747 23.597 46.5133C24.3934 46.1316 24.93 45.3014 24.5488 44.2113C23.4344 41.0226 23.9522 38.0885 26.6972 35.9359C26.7838 35.8683 26.8523 35.7926 26.9246 35.7184C27.6631 35.3033 28.1851 34.4936 27.9311 33.4398C27.5823 31.9887 27.3754 30.2824 28.2633 28.9702C29.1753 27.6233 30.8378 27.1685 32.3419 26.8613C32.567 26.8149 32.7539 26.7357 32.9233 26.6435C36.6557 25.9717 40.3952 25.4461 44.1828 25.197C44.2266 25.1939 44.2634 25.1814 44.3058 25.177C53.4517 26.5391 62.5684 27.9647 71.4501 30.5993C71.5383 30.6254 71.6205 30.6327 71.705 30.6482C70.6635 40.8162 69.9157 50.9667 70.8764 61.1608ZM74.9725 61.3006C74.0178 51.4081 74.6823 41.5564 75.6733 31.6912C77.2358 31.7675 78.7982 31.8419 80.362 31.9151C80.6692 41.8222 80.861 51.7312 81.0347 61.6413C79.0083 61.655 76.989 61.5217 74.9725 61.3006Z",fill:"white"}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M51.8726 100.992C79.4827 100.51 101.474 77.7374 100.992 50.1274C100.51 22.5174 77.7374 0.525694 50.1274 1.00763C22.5174 1.48956 0.525695 24.2626 1.00763 51.8726C1.48956 79.4827 24.2626 101.474 51.8726 100.992ZM51.8028 96.993C77.204 96.5496 97.4364 75.5984 96.993 50.1972C96.5496 24.796 75.5984 4.56364 50.1972 5.00702C24.796 5.4504 4.56364 26.4016 5.00702 51.8028C5.4504 77.204 26.4016 97.4364 51.8028 96.993Z",fill:"white"}))))},e.getRiver=function(){return e.props.darkmode?o.a.createElement("img",{src:Xt.a,alt:"",className:Kt.a.River}):o.a.createElement("img",{src:Jt.a,alt:"",className:Kt.a.River})},e.getRiverGlow=function(){return e.props.darkmode?o.a.createElement("img",{src:en.a,alt:"",className:Kt.a.RiverGlow}):null},e.getStreamElements=function(){var t=[];return e.props.streamElements.forEach((function(n){t.unshift(o.a.createElement(zt,Object.assign({halfLeft:e.state.glowLeft,halfRight:e.state.glowRight,key:n.id},n,{dropping:e.droppingHandler})))})),t},e.render=function(){var t=[Kt.a.Stream];return"stream"!==e.props.currentTab&&t.push(Kt.a.OutRight),o.a.createElement("div",{className:t.join(" ")},e.getRiver(),e.getRiverGlow(),o.a.createElement("img",{src:nn.a,alt:"",className:Kt.a.Boat1}),o.a.createElement("img",{src:nn.a,alt:"",className:Kt.a.Boat2}),e.getStreamElements(),e.getLeftThumb(),e.getRightThumb())},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.keyboardSwipeHandler,!1),document.addEventListener("keydown",this.keypressHandler,!1)}},{key:"componentDidUpdate",value:function(){"nothing loaded"===this.props.streamStatus&&this.props.onFetchIds()}}]),n}(r.Component),rn=Object(m.b)((function(e){return{timeStampLastSwipe:e.stream.timeStampLastSwipe,streamElements:e.stream.streamElements,initialStreamLoad:e.stream.initialStreamLoad,streamStatus:e.stream.streamStatus,currentTab:e.ui.currentTab,modalOpen:e.ui.modalOpen,menuOpen:e.ui.menu.open,darkmode:e.ui.darkmode,anonymousId:e.user.anonymousId}}),(function(e){return{onFetchIds:function(){return e((function(e){e(z());var n=t?{authorization:"Bearer "+t}:null;f.a.get("/api/drop/ids",n).then((function(t){e(Z(t.data)),e(Y(t.data))})).catch((function(t){e(K())}))}));var t},onSwipe:function(t,n,a){return e(function(e,t,n){return console.log("dir",e),console.log("anonymousId",n),function(a){if(a(V(e)),!t.startsWith("no more")){var r="/api/drop/".concat(t,"/swipe"),o=localStorage.getItem("token"),s={like:"right"===e,anonymousId:n},i=o?{headers:{authorisation:"Bearer ".concat(o)}}:null;console.log(i),f.a.post(r,s,i).then((function(e){console.log(e),a(G())})).catch((function(e){console.log(e),a(q())}))}}}(t,n,a))}}}))(an),on=n(42),sn=n.n(on),cn=n(22),ln=n.n(cn),un=n(16),dn=n.n(un),pn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getAddIcon=function(e){return o.a.createElement("svg",{className:dn.a.AddIcon,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"person_add_24px"},o.a.createElement("path",{id:"icon/social/person_add_24px",fillRule:"evenodd",clipRule:"evenodd",d:"M15 12C17.21 12 19 10.21 19 8C19 5.78998 17.21 4 15 4C12.79 4 11 5.78998 11 8C11 10.21 12.79 12 15 12ZM15 6C16.1 6 17 6.90002 17 8C17 9.09998 16.1 10 15 10C13.9 10 13 9.09998 13 8C13 6.90002 13.9 6 15 6ZM7 18C7 15.34 12.33 14 15 14C17.67 14 23 15.34 23 18V20H7V18ZM9 18C9.21997 17.28 12.3101 16 15 16C17.7 16 20.8 17.29 21 18H9ZM6 12V15H4V12H1V10H4V7H6V10H9V12H6Z",fill:e?"#444444":"#abcdef"})))},e.getCheckMark=function(){return o.a.createElement("svg",{className:dn.a.AddIcon,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"check_24px"},o.a.createElement("path",{id:"icon/navigation/check_24px",d:"M8.79496 15.875L4.62496 11.705L3.20496 13.115L8.79496 18.705L20.795 6.70501L19.385 5.29501L8.79496 15.875Z",fill:"#abcdef"})))},e}return Object(l.a)(n,[{key:"render",value:function(){var e,t,n=this,a=[dn.a.AddButton];return"sending"===this.props.type&&(e=o.a.createElement(Ue.a,{className:dn.a.Spinner,type:"TailSpin",color:this.props.inverted?"#000000":"#abcdef",height:18,width:18}),a.push(dn.a.Loading),t="sending friend request..."),"accepting"===this.props.type&&(e=o.a.createElement(Ue.a,{className:dn.a.Spinner,type:"TailSpin",color:this.props.inverted?"#000000":"#abcdef",height:18,width:18}),a.push(dn.a.Loading),t="accepting friend request..."),"add"===this.props.type&&(e=this.getAddIcon(this.props.inverted),t="send friend request",a.push(dn.a.GlowOnHover),a.push(dn.a.Clickable)),"received"===this.props.type&&(e=o.a.createElement("span",{className:dn.a.TextButton},"accept"),t="accept friend request",a.push(dn.a.AcceptButton),a.push(dn.a.GlowOnHover),a.push(dn.a.Clickable)),"sent"===this.props.type&&(e=o.a.createElement("span",{className:dn.a.TextButton},"requested"),t="friend request sent"),a.push(this.props.inverted?dn.a.Inverted:dn.a.NotIverted),o.a.createElement("div",{title:t,className:a.join(" "),onClick:function(e){e.preventDefault(),e.stopPropagation(),n.props.clicked()}},e)}}]),n}(r.Component),mn=n(95),hn=n.n(mn),fn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={connectorsOut:!1},e.getConnector=function(e){return o.a.createElement("img",{src:hn.a,alt:"",className:"".concat(e?ln.a.ConnectorUp:ln.a.ConnectorDown)})},e.getButton=function(t,n){var a,r=function(){return console.log("Nothing should happen")};return e.props.friends.some((function(e){return e.userId===t.userId}))||(a="add",r=function(){return e.props.onSendFriendRequest(t,e.props.chatId.startsWith("request")?e.props.chatId:null)}),e.props.sentFriendRequests.some((function(e){return e.userId===t.userId}))&&(a="sent"),e.props.sendingFriendRequests.some((function(e){return e.userId===t.userId}))&&(a="sending"),e.props.acceptingFriendRequests.some((function(e){return e.userId===t.userId}))&&(a="accepting"),e.props.receivedFriendRequests.some((function(e){return e.userId===t.userId}))&&(a="received",r=function(){return e.props.onAcceptFriendRequest(t)}),a?o.a.createElement(pn,{type:a,clicked:r,inverted:n}):null},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.notifiaction.filter((function(t){return t.type.startsWith("NEW_MESSAGE")&&t.chatId===e.props.chatId||t.type.startsWith("NEW_CHAT")&&t.chatId===e.props.chatId})),n=t.length>99?ln.a.TrippleDigit:t.length>9?ln.a.DoubleDigit:ln.a.SingleDigit,a=this.props.members.filter((function(t){return t.userId!==e.props.userId}))[0];a||console.log(this.props.members,this.props.userId);var r=a.name,s=this.props.messages.length>0?this.props.messages[this.props.messages.length-1].text:"@"+a.handle,i=a.profilePic?"".concat("https://storage.googleapis.com/drop-profile-pictures-bucket/profilePic-")+a.userId:ht.a,c=this.props.chatId===this.props.currentChatId,l=[ln.a.ChatPrev];return c&&l.push(ln.a.Active),o.a.createElement("div",{onClick:this.props.clicked,className:l.join(" ")},c?this.getConnector(!0):null,c?this.getConnector(!1):null,o.a.createElement("img",{src:i,alt:" ",className:ln.a.ProfilePic}),o.a.createElement("div",{className:ln.a.Info},o.a.createElement("h3",{className:ln.a.Name},r),o.a.createElement("p",{className:ln.a.Preview},s)),t.length>0?o.a.createElement("div",{className:n},o.a.createElement("span",{className:ln.a.NotificationCount},t.length)):null,this.getButton(a,c))}}]),n}(r.Component),gn=Object(m.b)((function(e){return{darkmode:e.ui.darkmode,currentChatId:e.chat.currentChatId,unreadMessages:e.chat.unreadMessages,seenUpdatesChats:e.chat.seenUpdatesChats,chats:e.chat.chats,allUsers:e.chat.allUsers,friends:e.chat.friends,acceptingFriendRequests:e.chat.acceptingFriendRequests,sendingFriendRequests:e.chat.sendingFriendRequests,sentFriendRequests:e.chat.sentFriendRequests,receivedFriendRequests:e.chat.receivedFriendRequests,notifiaction:e.user.notifications,token:e.user.token,userId:e.user.userId}}),(function(e){return{onChangeChat:function(t){return e(H(t))},onSendFriendRequest:function(t){return e(A(t))},onAcceptFriendRequest:function(t){return e(R(t))}}}))(fn),En=n(29),Cn=n.n(En),_n=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={searching:!1,searchInput:""},e.componentDidUpdate=function(){e.searchInput&&e.searchInput.focus()},e.clicked=function(t){e.props.onChangeChat(t),document.getElementById("chatForm").focus()},e.getChats=function(){return"loading"===e.props.chatsStatus?o.a.createElement("div",{className:Cn.a.LoaderContainer},o.a.createElement(Ue.a,{className:Cn.a.Spinner,type:"ThreeDots",color:"#00BFFF",height:30,width:30})):e.props.chats.sort((function(e,t){return t.lastInteraction-e.lastInteraction})).map((function(t){return o.a.createElement(gn,Object.assign({},t,{key:t.chatId,clicked:function(){return e.clicked(t.chatId)}}))}))},e.getSearchInput=function(){return e.state.searching?o.a.createElement("input",{placeholder:"Search by username or @handle",ref:function(t){e.searchInput=t},type:"text",value:e.state.searchInput,onChange:e.onSearchInput,className:Cn.a.SearchInput}):null},e.openSearch=function(){e.setState({searching:!0})},e.closeSearch=function(){e.setState({searching:!1,searchInput:""})},e.onSearchInput=function(t){e.setState({searchInput:t.target.value})},e.getNewChatIcon=function(){return o.a.createElement("svg",{className:Cn.a.AddChatIcon,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"chat_bubble_outline_24px"},o.a.createElement("path",{id:"icon/communication/chat_bubble_outline_24px",fillRule:"evenodd",clipRule:"evenodd",d:"M4 2H20C21.1 2 22 2.89999 22 4V16C22 17.1 21.1 18 20 18H6L2 22V4C2 2.89999 2.90002 2 4 2ZM6 16H20V4H4V18L6 16Z",fill:"#ffffff"}),o.a.createElement("rect",{id:"Rectangle 6",x:"7",y:"9",width:"10",height:"2",fill:"#ffffff"}),o.a.createElement("rect",{id:"Rectangle 7",x:"11",y:"5",width:"2",height:"10",fill:"#ffffff"})))},e.getNewChatButton=function(){return e.state.searching?null:o.a.createElement("div",{className:Cn.a.NewChatContainer,onClick:e.props.token?e.props.onOpenNewChatModal:null},e.getNewChatIcon(),o.a.createElement("h3",{className:Cn.a.NewChatMessage},"new chat"))},e}return Object(l.a)(n,[{key:"getSearchIcon",value:function(){var e=this;return o.a.createElement("svg",{className:Cn.a.SearchIcon,onClick:this.state.searching?function(){return e.closeSearch()}:function(){return e.openSearch()},width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"search_24px"},o.a.createElement("path",{id:"icon/action/search_24px",fillRule:"evenodd",clipRule:"evenodd",d:"M14.965 14.255H15.755L20.745 19.255L19.255 20.745L14.255 15.755V14.965L13.985 14.685C12.845 15.665 11.365 16.255 9.755 16.255C6.16504 16.255 3.255 13.345 3.255 9.755C3.255 6.16501 6.16504 3.255 9.755 3.255C13.345 3.255 16.255 6.16501 16.255 9.755C16.255 11.365 15.665 12.845 14.6851 13.985L14.965 14.255ZM5.255 9.755C5.255 12.245 7.26501 14.255 9.755 14.255C12.245 14.255 14.255 12.245 14.255 9.755C14.255 7.26501 12.245 5.255 9.755 5.255C7.26501 5.255 5.255 7.26501 5.255 9.755Z",fill:"#ffffff"})))}},{key:"render",value:function(){return o.a.createElement("div",{className:Cn.a.ChatPreviews},o.a.createElement("div",{className:Cn.a.Header}),this.getNewChatButton(),o.a.createElement("div",{className:Cn.a.ScrollContainer},this.getChats()))}}]),n}(r.Component),vn=Object(m.b)((function(e){return{userId:e.user.userId,token:e.user.token,notifications:e.user.notifications,chats:e.chat.chats,chatsStatus:e.chat.chatsStatus,currentChatId:e.chat.currentChatId,height:e.chat.formHeight,receivedFriendRequests:e.chat.receivedFriendRequests,acceptingFriendRequests:e.chat.acceptingFriendRequests,friends:e.chat.friends,friendsStatus:e.chat.friendsStatus,allUsers:e.chat.allUsers,allUsersStatus:e.chat.allUsersStatus,currentTab:e.ui.currentTab,darkmode:e.ui.currentTab}}),(function(e){return{onFetchAllUsers:function(){return e(_())},onChangeChat:function(t,n,a,r){return e(H(t,n,a,r))},onOpenNewChatModal:function(){return e({type:"OPEN_NEW_CHAT_MODAL"})}}}))(_n),Sn=n(43),bn=n.n(Sn),In=n(54),wn=n.n(In),On=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:""},e.onInput=function(t){e.setState({inputValue:t.target.value})},e.enterHandler=function(t){13===t.keyCode&&!t.shiftKey&&e.state.inputValue.length>0&&(t.preventDefault(),e.submitHandler())},e.submitHandler=function(){if(e.props.currentChatId.startsWith("dummy")){var t=e.props.chats.find((function(t){return t.chatId===e.props.currentChatId})),n=t.members.find((function(t){return t.userId===e.props.userId})),a=t.members.find((function(t){return t.userId!==e.props.userId}));e.props.creatingChats.some((function(t){return t===e.props.currentChatId}))?e.props.onAddMessageToBuffer(e.props.currentChatId,e.state.inputValue,e.props.userId):e.props.onSendFirstMessageNewChat(e.props.currentChatId,n,a,e.state.inputValue)}else e.props.onSendTextMessage(e.props.currentChatId,e.state.inputValue,e.props.userId);e.setState({inputValue:""})},e.getArrowRight=function(){return o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"arrow_forward_24px"},o.a.createElement("path",{id:"icon/navigation/arrow_forward_24px",d:"M12 4L10.59 5.41L16.17 11H4V13H16.17L10.59 18.59L12 20L20 12L12 4Z",fill:0===e.state.inputValue.length?"grey":"black",fillOpacity:"0.54"})))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keypress",this.enterHandler)}},{key:"render",value:function(){return o.a.createElement("div",{className:wn.a.ChatInput},o.a.createElement("div",{className:wn.a.TextareaContainer},o.a.createElement("textarea",{id:"chatForm",className:wn.a.Textarea,style:{height:"".concat(this.props.formHeight+5,"px")},value:this.state.inputValue,rows:1,onChange:this.onInput}),o.a.createElement(At,{colorTheme:"light",buttonType:"SubmitComment",clicked:this.submitHandler,className:wn.a.SubmitButton,type:"submit"},this.getArrowRight())))}}]),n}(r.Component),yn=Object(m.b)((function(e){return{currentChatLoaded:e.chat.currentChatLoaded,formHeight:e.chat.formHeight,chats:e.chat.chats,currentChatId:e.chat.currentChatId,chatInput:e.chat.chatInput,creatingChats:e.chat.creatingChats,userId:e.user.userId,handle:e.user.handle,profilePic:e.user.hasProfilePic,name:e.user.name}}),(function(e){return{onChangeFormHeight:function(t){return e(function(e){return{type:"CHANGE_FORM_HEIGHT",height:e}}(t))},onSendTextMessage:function(t,n,a){return e(function(e,t,n){return function(a){var r="".concat(Date.now());a(I(e,t,r,n));var o=localStorage.getItem("token"),s={headers:{authorization:"Bearer ".concat(o)}},i="/api/chat/".concat(e,"/textMessage"),c={type:"text",message:{text:t}};f.a.post(i,c,s).then((function(t){a(w(e,t.data,r))})).catch((function(t){console.log(t),a(O(e,r))}))}}(t,n,a))},onSendFirstMessageNewChat:function(t,n,a,r){return e(function(e,t,n,a){return function(r){var o=Date.now();r(j(e,o,a,t));var s=localStorage.getItem("token"),i={headers:{authorization:"Bearer ".concat(s)}},c={members:[t.userId,n.userId],message:a};f.a.post("/api/chat",c,i).then((function(a){console.log(a.data),r(k(e,o,a.data,t,n))})).catch((function(e){console.log("FIRST MESSAGE NEW CAHT ERROR"),console.log(e),r(x())}))}}(t,n,a,r))},onAddMessageToBuffer:function(t,n,a){return e(function(e,t,n){return{type:"ADD_MESSAGE_TO_BUFFER",dummyChatId:e,dummyMessageId:"".concat(Date.now()),text:t,userId:n}}(t,n,a))}}}))(On),Nn=n(25),Mn=n.n(Nn),jn=n(96),kn=n.n(jn),xn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getMessage=function(){switch(e.props.type){case"text":return o.a.createElement("p",{className:Mn.a.Text},e.props.text);case"image":return[o.a.createElement("img",{className:Mn.a.Image,src:kn.a,alt:"",key:"image"}),e.props.text?o.a.createElement("p",{className:Mn.a.Text,key:"description"},e.props.text):null];case"drop":return o.a.createElement("div",null,e.props.title?o.a.createElement("p",{className:Mn.a.Text},e.props.title):null,o.a.createElement("img",{className:Mn.a.Drop,src:"https://storage.googleapis.com/drop-meme-bucket/meme-".concat(e.props.dropId),key:"drop",alt:"could not load meme. Refresh motherfucker."}));default:return null}},e}return Object(l.a)(n,[{key:"render",value:function(){var e=[Mn.a.MessageContainer];return this.props.sent?e.push(Mn.a.Sent):e.push(Mn.a.Received),this.props.sending&&e.push(Mn.a.Sending),this.props.messageNew&&e.push(Mn.a.New),o.a.createElement("div",{className:e.join(" ")},o.a.createElement("div",{className:Mn.a.Message},this.getMessage()))}}]),n}(r.Component),An=Object(m.b)((function(e){return{windowWidth:e.ui.windowWidth,height:e.chat.formHeight,currentTab:e.ui.currentTab,chatsStatus:e.chat.chatsStatus,currentChatId:e.chat.currentChatId,chats:e.chat.chats,unreadMessages:e.chat.unreadMessages,userId:e.user.userId,notifications:e.user.notifications}}),(function(e){return{onSendMessagesRead:function(t,n){return e(function(e,t){return function(n){n(Me(e));var a=localStorage.getItem("token"),r={headers:{authorization:"Bearer ".concat(a)}},o="/api/chat/".concat(e,"/read"),s={messageIds:t};f.a.post(o,s,r).then((function(e){console.log(e),n(je())})).catch((function(e){console.log(e),n(ke())}))}}(t,n))},onDeleteNotification:function(t){return e(function(e){return function(t){t(Ae(e));var n="/api/users/notification/".concat(e),a=localStorage.getItem("token"),r={headers:{authorization:"Bearer ".concat(a)}};f.a.delete(n,r).then((function(e){console.log(e.data),t(Te())})).catch((function(e){console.log(e),t(Le())}))}}(t))}}}))((function(e){Object(r.useEffect)((function(){if(t(),"chat"===e.currentTab){var n=e.notifications.filter((function(t){return t.type.startsWith("NEW_MESSAGE")&&t.chatId===e.currentChatId}));if(n.length>0){var a=n.map((function(e){return e.message.id}));e.onSendMessagesRead(e.currentChatId,a)}var r=e.notifications.find((function(t){return!(!t.type.startsWith("NEW_CHAT")||(console.log("FOUND NEW CHAT NOTIFICATON"),console.log(e.currentChatId),console.log(t.chatId),t.chatId!==e.currentChatId))}));r&&(console.log("Found new Chat Notification"),console.log(r),e.onDeleteNotification(r.id))}}));var t=function(e){n.current.scrollIntoView({behavior:e?"smooth":"auto",block:"start",inline:"nearest"})},n=Object(r.createRef)(),a=[],s=!1,i=e.chats.find((function(t){return t.chatId===e.currentChatId}));i&&i.messages.forEach((function(t){t.new?(s||(a.push(o.a.createElement("div",{key:"separator",className:bn.a.NewMessageSeparator},"new messages")),s=!0),a.push(o.a.createElement(xn,Object.assign({},t,{new:!0,key:t.id,sent:e.userId===t.sender})))):a.push(o.a.createElement(xn,Object.assign({},t,{key:t.id,sent:e.userId===t.sender})))}));var c=[bn.a.ChatWindow];return c.push(e.windowWidth<1277?bn.a.SmallChatWindow:bn.a.BigChatWindow),o.a.createElement("div",{className:c.join(" ")},o.a.createElement("div",{className:bn.a.Messages,style:{height:"calc(80vh-".concat(e.formHeight,"px)")}},o.a.createElement("p",{className:bn.a.NotEncryptedMessage},"This Chat is not yet end-to-end encrypted. ",o.a.createElement("br",null),"Or encrypted. But it is end-to-end, lol. ",o.a.createElement("br",null),"What I mean is maybe don't send nudes here just yet. ",o.a.createElement("br",null)),a,o.a.createElement("div",{style:{height:"90px"},ref:n})),o.a.createElement(yn,{inputRef:e.inputRef}))})),Tn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={textInput:"placeholder"},e.componentDidUpdate=function(){var t=e.props.messageBuffer.find((function(e){return!e.dummyChatId.startsWith("dummy")&&!e.sending}));t&&(console.log("Sending Message"),console.log(t),e.props.onSendMessageFromBuffer(t.id,t.dummyChatId,t.dummyMessageId,t.text))},e.setChatFormInputValue=function(t){e.setState({textInput:t.target.value})},e.changeChat=function(t){e.props.onChangeChat(t,null,null,e.state.textInput),e.props.onChangeShouldDeleteInput(!0)},e.getNotLoggedInMessage=function(){return o.a.createElement("div",{className:sn.a.NotLoggedInContainer},o.a.createElement("div",{className:sn.a.NotLoggedInMessage},o.a.createElement("div",{className:sn.a.InnerContainer},o.a.createElement(Gt,{clicked:e.props.onOpenMenu},o.a.createElement("h3",null,"Log in")),"or",o.a.createElement(Gt,{clicked:e.props.onOpenMenu},o.a.createElement("h3",null,"Create Account")),"to use the Dropchat!",o.a.createElement("p",null,"Chat with friends and share memes!"))))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=[sn.a.Chat];return"stream"===this.props.currentTab&&e.push(sn.a.OutLeft),"creator"===this.props.currentTab&&e.push(sn.a.OutRight),o.a.createElement("div",{className:e.join(" ")},this.props.token?null:this.getNotLoggedInMessage(),o.a.createElement(vn,null),o.a.createElement(An,null))}}]),n}(r.Component),Ln=Object(m.b)((function(e){return{currentTab:e.ui.currentTab,token:e.user.token,chats:e.stream.chats,messageBuffer:e.chat.messageBuffer}}),(function(e){return{onOpenMenu:function(){return e({type:"OPEN_MENU"})},onChangeChat:function(t,n,a,r){return e(H(t,n,a,r))},onSendMessageFromBuffer:function(t,n,a,r){return e(function(e,t,n,a){return function(n){n(y(e));var r=localStorage.getItem("token"),o={headers:{authorization:"Bearer ".concat(r)}},s="/api/chat/".concat(t,"/textMessage"),i={type:"text",message:{text:a}};f.a.post(s,i,o).then((function(t){n(N(e,t.data))})).catch((function(t){n(M(e))}))}}(t,n,0,r))}}}))(Tn),Dn=n(65),Rn=n.n(Dn),Pn=n(55),Fn=n(30),Bn=n.n(Fn),Hn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){var t=document.getElementById("rsh-".concat(e.props.dir));t&&t.addEventListener("onmousedown",e.handleResizeMouseDown)},e.componentWillUnmount=function(){var t=document.getElementById("rsh-".concat(e.props.dir));t&&t.removeEventListener("onmousedown",e.handleResizeMouseDown)},e.handleResizeMouseDown=function(t){t.stopPropagation(),e.props.resizeMouseDown(t,e.props.dir,e.props.elementId)},e.getStyleClasses=function(){var t=[e.props.dir.length>1?Bn.a.Corner:Bn.a.Edge];switch(e.props.dir){case"NW":t.push(Bn.a.NW);break;case"NE":t.push(Bn.a.NE);break;case"SW":t.push(Bn.a.SW);break;case"SE":t.push(Bn.a.SE);break;case"N":t.push(Bn.a.N);break;case"W":t.push(Bn.a.W);break;case"S":t.push(Bn.a.S);break;case"E":t.push(Bn.a.E)}return t},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"rsh-".concat(this.props.dir),className:this.getStyleClasses().join(" "),onMouseDown:function(t){return e.props.resizeMouseDown(t,e.props.dir,e.props.elementId)}})}}]),n}(r.Component),Un=n(61),Wn=n.n(Un),Vn=n(33),Gn=n.n(Vn),qn=function(e){var t=Wn()(),n=t.fontSize,a=t.ref,r=e.element,s=r.font,i=r.height,c=r.width,l=r.fontWeight,u=r.verticalAlign,d=r.elementId,p="top"===u?Gn.a.topAlign:"bottom"===u?Gn.a.bottomAlign:Gn.a.middleAlign;return o.a.createElement("div",{contentEditable:e.editing,suppressContentEditableWarning:!0,type:"text",id:"".concat(d,"-input"),className:"".concat(Gn.a.TextInput," ").concat(p),style:{fontFamily:s,fontWeight:l,height:i,width:c},onInput:function(t){return e.onTextInput(t,d)}},o.a.createElement("div",{ref:a,style:{fontSize:n,height:i,width:c}},e.text))},zn=function(e){var t=Wn()(),n=(t.fontSize,t.ref,e.element),a=n.font,r=(n.height,n.width,n.fixedDimensions),s=n.fontWeight,i=n.verticalAlign,c=n.elementId,l="top"===i?Gn.a.topAlign:"bottom"===i?Gn.a.bottomAlign:Gn.a.middleAlign;return r?o.a.createElement(qn,e):o.a.createElement("div",{contentEditable:e.editing,suppressContentEditableWarning:!0,type:"text",id:"".concat(c,"-input"),className:"".concat(Gn.a.TextInput," ").concat(l),style:{fontFamily:a,fontWeight:s},onInput:function(t){return e.onTextInput(t,c)}},e.text)},Zn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getStyles=function(){var t=e.props.element,n=t.height,a=t.width,r=t.posX,o=t.posY,s=t.font,i=t.fontSize,c=t.textAlign,l=t.fontWeight,u=t.underline,d=t.italic,p=t.color,m=t.textStroke,h=t.elementId;return{height:"".concat(n,"px"),width:"".concat(a,"px"),left:"".concat(r,"px"),top:"".concat(o,"px"),fontFamily:"".concat(s,",Oswald,Impact"),fontSize:"".concat(i,"pt"),textAlign:c,fontWeight:l,fontStyle:d?"italic":"normal",backgroundColor:p,textDecoration:u?"underline":"none",WebkitTextStrokeColor:m?"black":null,WebkitTextStrokeWidth:m?"0.06rem":null,textShadow:m?"0px 0px 0.1rem  #000":null,cursor:e.props.editingId===h||e.props.inPreview?null:"grab"}},e.getContent=function(){var t=e.props.element,n=t.color,a=t.elementId,r=t.imgSrc,s=t.text;switch(e.props.type){case"text":return o.a.createElement(zn,{element:e.props.element,onInput:e.props.onTextInput,text:s,editing:e.props.editingId==a,onTextInput:e.props.onTextInput});case"image":return o.a.createElement("img",{src:r,className:Pn.Image,id:"".concat(a,"-image"),onLoad:e.props.onImageLoad});case"rect":return o.a.createElement("div",{className:Pn.Rect,style:{backgroundColor:n}});default:return null}},e.highlighed=function(){if(e.props.selected||!e.props.selectedLines)return!1;var t=[],n=[];return t.push(e.props.element.posY),t.push((2*e.props.element.posY+e.props.element.height)/2),t.push(e.props.element.posY+e.props.element.height),n.push(e.props.element.posX),n.push((2*e.props.element.posX+e.props.element.width)/2),n.push(e.props.element.posX+e.props.element.width),n.includes(e.props.selectedLines.v)||t.includes(e.props.selectedLines.h)},e.mouseDown=function(t){t.stopPropagation(),e.props.editingId===e.props.element.elementId||e.props.inPreview||e.props.elementMouseDown(t,e.props.element.elementId)},e.mouseUp=function(t){t.stopPropagation(),e.props.editingId===e.props.element.elementId||e.props.inPreview||e.props.select(t,e.props.element.elementId)},e.doubleClick=function(t){e.props.inPreview||("text"===e.props.element.type?e.props.selectAndEdit(t,e.props.element.elementId):e.props.select(t,e.props.element.elementId))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=[Pn.Element];return this.highlighed()&&e.push(Pn.highlight),o.a.createElement("div",{className:e.join(" "),onDoubleClick:this.doubleClick,onMouseDown:this.mouseDown,onMouseUp:this.mouseUp,style:this.getStyles(),id:"element-".concat(this.props.element.elementId)},this.getContent())}}]),n}(r.Component),Kn=n(71),Yn=n.n(Kn),Xn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:0===this.props.left?Yn.a.HL:Yn.a.VL,style:{top:"".concat(this.props.top,"px"),left:"".concat(this.props.left,"px")}})}}]),n}(r.Component),Qn=n(35),Jn=n.n(Qn),$n=function(e){var t=Object(r.useRef)(null);return o.a.createElement("div",{className:Jn.a.TopMenu},o.a.createElement("div",{className:Jn.a.LeftAlign},o.a.createElement("div",{className:Jn.a.MenuItem,onClick:function(){return e.addElements([{type:"rect",elementId:"".concat(Date.now()),posX:100,posY:100,height:400,width:400,color:"#FF8592"}])}},o.a.createElement("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("rect",{width:"26",height:"26",rx:"3",fill:"white"}))),o.a.createElement("div",{className:Jn.a.MenuItem,onClick:function(){return e.addElements([{type:"text",elementId:"".concat(Date.now()),height:60,width:400,posX:100,posY:300,text:"Text Element 3",font:"Oswald",fontSize:"30",fontWeight:"700",textAlign:"center",fixedWidth:!0,underline:!1,italic:!1,textStroke:!0}])}},o.a.createElement("svg",{width:"23",height:"26",viewBox:"0 0 23 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 0H22.5V3H0V0Z",fill:"white"}),o.a.createElement("path",{d:"M0 3H3V7H0V3Z",fill:"white"}),o.a.createElement("path",{d:"M20 3H22.5V7H20V3Z",fill:"white"}),o.a.createElement("path",{d:"M7 23H16V26H7V23Z",fill:"white"}),o.a.createElement("path",{d:"M10 3H13V26H10V3Z",fill:"white"}))),o.a.createElement("div",{className:Jn.a.MenuItem,onClick:function(){t.current.click()}},o.a.createElement("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0.411133 20.9529L7.36393 14.0001L8.77815 15.4143L1.82535 22.3671L0.411133 20.9529Z",fill:"white"}),o.a.createElement("path",{d:"M10.0928 19.2714L19.3641 10.0001L20.7783 11.4143L11.507 20.6856L10.0928 19.2714Z",fill:"white"}),o.a.createElement("path",{d:"M7.41406 14L12.8181 19.404L11.4039 20.8182L5.99985 15.4142L7.41406 14Z",fill:"white"}),o.a.createElement("path",{d:"M19.4141 10L25.778 16.364L24.3638 17.7782L17.9998 11.4142L19.4141 10Z",fill:"white"}),o.a.createElement("circle",{cx:"9.5",cy:"8.5",r:"2.5",stroke:"white",strokeWidth:"2"}),o.a.createElement("rect",{x:"1",y:"1",width:"24",height:"24",rx:"1",stroke:"white",strokeWidth:"2"})))),o.a.createElement("div",{className:Jn.a.RightAlign},o.a.createElement("div",{className:Jn.a.MenuItem,onClick:e.openExportModal},o.a.createElement("svg",{className:Jn.a.shareIcon,width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{x1:"10.4472",y1:"17.1056",x2:"20.4472",y2:"22.1056",stroke:"#fff",strokeWidth:"2"}),o.a.createElement("line",{x1:"9.55279",y1:"13.1056",x2:"19.5528",y2:"8.10557",stroke:"#fff",strokeWidth:"2"}),o.a.createElement("circle",{cx:"6",cy:"15",r:"5",stroke:"#fff",strokeWidth:"2"}),o.a.createElement("circle",{cx:"24",cy:"24",r:"5",stroke:"#fff",strokeWidth:"2"}),o.a.createElement("circle",{cx:"24",cy:"6",r:"5",stroke:"#fff",strokeWidth:"2"}))),o.a.createElement("div",{className:Jn.a.MenuItem,onClick:e.openExportModal},o.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M1 26H6V33H34V26H39V35C39 36.6569 37.6569 38 36 38H4C2.34315 38 1 36.6569 1 35V26Z",fill:"#ffffff"}),o.a.createElement("path",{d:"M16 1C16 0.447716 16.4477 0 17 0H23C23.5523 0 24 0.447715 24 1V18H28.8439C29.6953 18 30.1572 18.996 29.6073 19.6459L20.7634 30.0978C20.3639 30.5699 19.6361 30.5699 19.2366 30.0978L10.3927 19.6459C9.84279 18.996 10.3047 18 11.1561 18H16V1Z",fill:"#ffffff"})))),o.a.createElement("input",{type:"file",id:"file",multiple:!0,ref:t,style:{display:"none"},onInput:function(t){console.log("FILE INPUT");for(var n=100,a=100,r=function(r){var o=new FileReader;o.onload=function(){var t=new Image;t.src=o.result,t.onload=function(){e.addElements([{type:"image",elementId:"".concat(Date.now()).concat(r),height:t.height,width:t.width,posX:n,posY:a,imgSrc:t.src}])}},o.readAsDataURL(t.target.files[r]),n+=20,a+=20},o=0;o<t.target.files.length;o++)r(o)}}))},ea=n(59),ta=n(9),na=n.n(ta),aa=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).leftAlignIcon=function(){var t="left"===e.props.selected.textAlign?"#11192c":"#ffffff";return o.a.createElement("svg",{className:"left"===e.props.selected.textAlign?na.a.alignActive:na.a.alignInactive,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{x1:"7",y1:"8",x2:"33",y2:"8",stroke:t,strokeWidth:"2"}),o.a.createElement("line",{x1:"7",y1:"20",x2:"30",y2:"20",stroke:t,strokeWidth:"2"}),o.a.createElement("line",{x1:"7",y1:"32",x2:"27",y2:"32",stroke:t,strokeWidth:"2"}),o.a.createElement("line",{x1:"7",y1:"14",x2:"22",y2:"14",stroke:t,strokeWidth:"2"}),o.a.createElement("line",{x1:"7",y1:"26",x2:"22",y2:"26",stroke:t,strokeWidth:"2"}))},e.centerAlignIcon=function(){var t="center"===e.props.selected.textAlign?"#11192c":"#ffffff";return o.a.createElement("svg",{className:"center"===e.props.selected.textAlign?na.a.alignActive:na.a.alignInactive,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{x1:"7",y1:"8",x2:"33",y2:"8",stroke:t,strokeWidth:"2"}),o.a.createElement("line",{x1:"9",y1:"20",x2:"32",y2:"20",stroke:t,strokeWidth:"2"}),o.a.createElement("line",{x1:"10",y1:"32",x2:"30",y2:"32",stroke:t,strokeWidth:"2"}),o.a.createElement("line",{x1:"13",y1:"14",x2:"28",y2:"14",stroke:t,strokeWidth:"2"}),o.a.createElement("line",{x1:"13",y1:"26",x2:"28",y2:"26",stroke:t,strokeWidth:"2"}))},e.rightAlignIcon=function(){var t="right"===e.props.selected.textAlign?"#11192c":"#ffffff";return o.a.createElement("svg",{className:"right"===e.props.selected.textAlign?na.a.alignActive:na.a.alignInactive,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{stroke:t,y1:"-1",x2:"26",y2:"-1",transform:"matrix(-1 0 0 1 33 9)",strokeWidth:"2"}),o.a.createElement("line",{stroke:t,y1:"-1",x2:"23",y2:"-1",transform:"matrix(-1 0 0 1 33 21)",strokeWidth:"2"}),o.a.createElement("line",{stroke:t,y1:"-1",x2:"20",y2:"-1",transform:"matrix(-1 0 0 1 33 33)",strokeWidth:"2"}),o.a.createElement("line",{stroke:t,y1:"-1",x2:"16",y2:"-1",transform:"matrix(-1 0 0 1 33 15)",strokeWidth:"2"}),o.a.createElement("line",{stroke:t,y1:"-1",x2:"16",y2:"-1",transform:"matrix(-1 0 0 1 33 27)",strokeWidth:"2"}))},e.topAlignIcon=function(){var t="top"===e.props.selected.verticalAlign?"#11192c":"#ffffff";return o.a.createElement("svg",{className:"top"===e.props.selected.verticalAlign?na.a.alignActive:na.a.alignInactive,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{stroke:t,x1:"6",y1:"7",x2:"34",y2:"7",strokeWidth:"2"}),o.a.createElement("path",{fill:t,d:"M20.7071 10.2929C20.3166 9.90237 19.6834 9.90237 19.2929 10.2929L12.9289 16.6569C12.5384 17.0474 12.5384 17.6805 12.9289 18.0711C13.3195 18.4616 13.9526 18.4616 14.3431 18.0711L20 12.4142L25.6569 18.0711C26.0474 18.4616 26.6805 18.4616 27.0711 18.0711C27.4616 17.6805 27.4616 17.0474 27.0711 16.6569L20.7071 10.2929ZM21 33V11H19V33H21Z"}))},e.middleAlignIcon=function(){var t="middle"===e.props.selected.verticalAlign?"#11192c":"#ffffff";return o.a.createElement("svg",{className:"middle"===e.props.selected.verticalAlign?na.a.alignActive:na.a.alignInactive,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{stroke:t,x1:"6",y1:"20",x2:"34",y2:"20",strokeWidth:"2"}),o.a.createElement("path",{fill:t,d:"M20.7071 23.2929C20.3166 22.9024 19.6834 22.9024 19.2929 23.2929L12.9289 29.6569C12.5384 30.0474 12.5384 30.6805 12.9289 31.0711C13.3195 31.4616 13.9526 31.4616 14.3431 31.0711L20 25.4142L25.6569 31.0711C26.0474 31.4616 26.6805 31.4616 27.0711 31.0711C27.4616 30.6805 27.4616 30.0474 27.0711 29.6569L20.7071 23.2929ZM21 34L21 24H19V34H21Z"}),o.a.createElement("path",{fill:t,d:"M19.2929 16.7071C19.6834 17.0976 20.3166 17.0976 20.7071 16.7071L27.0711 10.3431C27.4616 9.95262 27.4616 9.31946 27.0711 8.92893C26.6805 8.53841 26.0474 8.53841 25.6569 8.92893L20 14.5858L14.3431 8.92893C13.9526 8.53841 13.3195 8.53841 12.9289 8.92893C12.5384 9.31946 12.5384 9.95262 12.9289 10.3431L19.2929 16.7071ZM19 6V16H21V6H19Z"}))},e.bottomAlignIcon=function(){var t="bottom"===e.props.selected.verticalAlign?"#11192c":"#ffffff";return o.a.createElement("svg",{className:"bottom"===e.props.selected.verticalAlign?na.a.alignActive:na.a.alignInactive,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{stroke:t,x1:"34",y1:"33",x2:"6",y2:"33",strokeWidth:"2"}),o.a.createElement("path",Object(ea.a)({fill:t,d:"M19.2929 29.7071C19.6834 30.0976 20.3166 30.0976 20.7071 29.7071L27.0711 23.3431C27.4616 22.9526 27.4616 22.3195 27.0711 21.9289C26.6805 21.5384 26.0474 21.5384 25.6569 21.9289L20 27.5858L14.3431 21.9289C13.9526 21.5384 13.3195 21.5384 12.9289 21.9289C12.5384 22.3195 12.5384 22.9526 12.9289 23.3431L19.2929 29.7071ZM19 7V29H21V7H19Z"},"fill",t)))},e.italicIcon=function(){var t=e.props.selected.italic?"#11192c":"#ffffff";return o.a.createElement("svg",{className:e.props.selected.italic?na.a.alignActive:na.a.alignInactive,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M16 8C16 7.44772 16.4477 7 17 7H28C28.5523 7 29 7.44772 29 8V9C29 9.55228 28.5523 10 28 10H24.7899C24.3268 10 23.9243 10.3179 23.8171 10.7684L19.2932 29.7684C19.1436 30.3968 19.6201 31 20.266 31H23C23.5523 31 24 31.4477 24 32V33C24 33.5523 23.5523 34 23 34H12C11.4477 34 11 33.5523 11 33V32C11 31.4477 11.4477 31 12 31H15.2101C15.6732 31 16.0757 30.6821 16.1829 30.2316L20.7068 11.2316C20.8564 10.6032 20.3799 10 19.734 10H17C16.4477 10 16 9.55228 16 9V8Z",fill:t}))},e.underlineIcon=function(){var t=e.props.selected.underline?"#11192c":"#ffffff";return o.a.createElement("svg",{className:e.props.selected.underline?na.a.alignActive:na.a.alignInactive,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M11 32C11 31.4477 11.4477 31 12 31H28C28.5523 31 29 31.4477 29 32V33C29 33.5523 28.5523 34 28 34H12C11.4477 34 11 33.5523 11 33V32Z",fill:t}),o.a.createElement("path",{d:"M12 8C12 7.44772 12.4477 7 13 7H15C15.5523 7 16 7.44772 16 8V22C16 22.5523 15.5523 23 15 23H13C12.4477 23 12 22.5523 12 22V8Z",fill:t}),o.a.createElement("path",{d:"M24 8C24 7.44772 24.4477 7 25 7H27C27.5523 7 28 7.44772 28 8V22C28 22.5523 27.5523 23 27 23H25C24.4477 23 24 22.5523 24 22V8Z",fill:t}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 17.7358C13.6088 18.6868 12 20.4643 12 22.5C12 26 15.5817 28 20 28C24.4183 28 28 26 28 22.5C28 20.4643 26.3912 18.6868 24 17.7358V21C24 25 20 25 20 25C20 25 16 25 16 21V17.7358Z",fill:t}))},e.stopPropagation=function(e){e.stopPropagation()},e.editHeight=function(t){e.props.edit(e.props.selected.elementId,Object(pe.a)(Object(pe.a)({},e.props.selected),{},{height:t.target.value}))},e.editWidth=function(t){e.props.edit(e.props.selected.elementId,Object(pe.a)(Object(pe.a)({},e.props.selected),{},{width:t.target.value}))},e.editX=function(t){e.props.edit(e.props.selected.elementId,Object(pe.a)(Object(pe.a)({},e.props.selected),{},{posX:t.target.value}))},e.editY=function(t){e.props.edit(e.props.selected.elementId,Object(pe.a)(Object(pe.a)({},e.props.selected),{},{posY:t.target.value}))},e.editFont=function(t){console.log(t.target.value),e.props.edit(e.props.selected.elementId,Object(pe.a)(Object(pe.a)({},e.props.selected),{},{font:t.target.value}))},e.editFontSize=function(t){console.log(t.target.value),e.props.edit(e.props.selected.elementId,Object(pe.a)(Object(pe.a)({},e.props.selected),{},{fontSize:t.target.value}))},e.editTextAlign=function(t){e.props.edit(e.props.selected.elementId,Object(pe.a)(Object(pe.a)({},e.props.selected),{},{textAlign:t}))},e.editFontWeight=function(t){e.props.edit(e.props.selected.elementId,Object(pe.a)(Object(pe.a)({},e.props.selected),{},{fontWeight:t.target.value}))},e.editFixedDimensions=function(t){e.props.edit(e.props.selected.elementId,Object(pe.a)(Object(pe.a)({},e.props.selected),{},{fixedDimensions:t}))},e.editUnderline=function(){e.props.edit(e.props.selected.elementId,Object(pe.a)(Object(pe.a)({},e.props.selected),{},{underline:!e.props.selected.underline}))},e.editItalic=function(){e.props.edit(e.props.selected.elementId,Object(pe.a)(Object(pe.a)({},e.props.selected),{},{italic:!e.props.selected.italic}))},e.editVerticalAlign=function(t){e.props.edit(e.props.selected.elementId,Object(pe.a)(Object(pe.a)({},e.props.selected),{},{verticalAlign:t}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;if(!this.props.selected)return null;var t=this.props.selected,n=t.type,a=(t.elementId,t.posX),r=t.posY,s=t.height,i=t.width,c=t.fontSize,l=t.font,u=t.fontWeight,d=t.fixedDimensions;return o.a.createElement("div",{className:na.a.SelectionMenu,onClick:this.stopPropagation,onMouseUp:this.stopPropagation},o.a.createElement("div",null,o.a.createElement("div",{className:na.a.flex},o.a.createElement("div",{className:na.a.inputWrapper},o.a.createElement("span",null,"Height:"),o.a.createElement("input",{className:na.a.input,onChange:this.editHeight,type:"number",value:s})),o.a.createElement("div",{className:na.a.inputWrapper},o.a.createElement("span",null,"Width:"),o.a.createElement("input",{className:na.a.input,onChange:this.editWidth,type:"number",value:i}))),o.a.createElement("div",{className:na.a.flex},o.a.createElement("div",{className:na.a.inputWrapper},o.a.createElement("span",null,"X:"),o.a.createElement("input",{className:na.a.input,onChange:this.editX,type:"number",value:a})),o.a.createElement("div",{className:na.a.inputWrapper},o.a.createElement("span",null,"Y:"),o.a.createElement("input",{className:na.a.input,onChange:this.editY,type:"number",value:r})))),"text"===n?o.a.createElement("div",{className:na.a.textOptions},o.a.createElement("div",{className:na.a.flex},o.a.createElement("div",{className:na.a.fontSelector},o.a.createElement("select",{onChange:this.editFont,value:l},o.a.createElement("option",{value:"Impact"},"Impact"),o.a.createElement("option",{value:"Arial"},"Arial"),o.a.createElement("option",{value:"Times"},"Times"),o.a.createElement("option",{value:"Verdana"},"Verdana"))),o.a.createElement("div",{className:na.a.inputWrapper},o.a.createElement("input",{className:na.a.input,onChange:this.editFontSize,type:"number",value:c}))),o.a.createElement("div",{className:na.a.flexSpaceBetween},o.a.createElement("div",{className:na.a.flex},o.a.createElement("div",{className:na.a.alignIcon,onClick:function(){return e.editTextAlign("left")}},this.leftAlignIcon()),o.a.createElement("div",{className:na.a.alignIcon,onClick:function(){return e.editTextAlign("center")}},this.centerAlignIcon()),o.a.createElement("div",{className:na.a.alignIcon,onClick:function(){return e.editTextAlign("right")}},this.rightAlignIcon())),o.a.createElement("div",{className:na.a.flex},o.a.createElement("div",{className:na.a.alignIcon,onClick:function(){return e.editVerticalAlign("top")}},this.topAlignIcon()),o.a.createElement("div",{className:na.a.alignIcon,onClick:function(){return e.editVerticalAlign("middle")}},this.middleAlignIcon()),o.a.createElement("div",{className:na.a.alignIcon,onClick:function(){return e.editVerticalAlign("bottom")}},this.bottomAlignIcon()))),o.a.createElement("div",{className:na.a.flex},o.a.createElement("div",{className:na.a.fontWeight},o.a.createElement("select",{onChange:this.editFontWeight,value:u},o.a.createElement("option",{value:"700"},"Bold"),o.a.createElement("option",{value:"400"},"Regular"))),o.a.createElement("div",{className:na.a.alignIcon,onClick:this.editItalic},this.italicIcon()),o.a.createElement("div",{className:na.a.alignIcon,onClick:this.editUnderline},this.underlineIcon())),o.a.createElement("div",{className:na.a.textBoxTypeOptions},o.a.createElement("div",{onClick:function(){return e.editFixedDimensions(!1)}},o.a.createElement("input",{type:"checkbox",onChange:function(){return e.editFixedDimensions(!1)},checked:!d})," fixed width & font size"),o.a.createElement("div",{onClick:function(){return e.editFixedDimensions(!0)}},o.a.createElement("input",{type:"checkbox",onChange:function(){return e.editFixedDimensions(!0)},checked:d})," fixed textbox size"))):null)}}]),n}(r.Component),ra=n(97),oa=n.n(ra),sa=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getResizeHandlers=function(){var t=[];return e.props.editingId?null:("text"!==e.props.element.type||e.props.element.fixedDimensions?(t.push("NW","SW","NE","SE"),e.props.element.height>30&&t.push("E","W"),e.props.element.width>30&&t.push("N","S")):t.push("W","E"),t.map((function(t){return o.a.createElement(Hn,{key:t,dir:t,elementId:e.props.element.elementId,resizeMouseDown:e.props.resizeMouseDown})})))},e.doubleClick=function(t){"text"===e.props.element.type&&e.props.selectAndEdit(t,e.props.element.elementId)},e.getStyles=function(){var t=e.props.element,n=t.height,a=t.width,r=t.posX,o=t.posY,s={height:"".concat(n,"px"),width:"".concat(a,"px"),left:"".concat(r,"px"),top:"".concat(o,"px")};return e.props.editingId?s.pointerEvents="none":s.cursor="grab",s},e.onMouseDown=function(t){e.props.editingId!==e.props.element.elementId&&e.props.elementMouseDown(t,e.props.element.elementId)},e}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:oa.a.SelectionFrame,style:this.getStyles(),onMouseDown:this.onMouseDown,onMouseUp:this.mouseUp,onDoubleClick:this.doubleClick},this.getResizeHandlers())}}]),n}(r.Component),ia=n(36),ca=n.n(ia),la=n(66),ua=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={height:0,width:0,downloadFormat:"jpg",linkRef:o.a.createRef(),imagesLoaded:0,imageCreationStarted:!1,downloadLoading:!1},e.componentDidMount=function(){var t=e.divElement.clientHeight,n=e.divElement.clientWidth;console.log(t,n),e.setState({height:t,width:n})},e.componentDidUpdate=function(){var t=e.divElement.clientHeight,n=e.divElement.clientWidth;t===e.state.height&&n===e.state.width||e.setState({height:t,width:n})},e.calcContentMetrics=function(){var t=1e10,n=-1e10,a=1e10,r=-1e10;return e.props.elements.forEach((function(e){e.posX<t&&(t=e.posX),e.posX+e.width>n&&(n=e.posX+e.width),e.posY<a&&(a=e.posY),e.posY+e.height>r&&(r=e.posY+e.height)})),{leftBorder:t,rightBorder:n,topBorder:a,bottomBorder:r,contentWidth:n-t,contentHeight:r-a}},e.setDownloadFormat=function(t){console.log(t.target.value),e.setState({downloadFormat:t.target.value})},e.onDownLoad=function(){var t=document.getElementById("preview");e.setState({downloadStarted:!0}),"png"===e.state.downloadFormat&&la.b(t).then((function(t){var n=document.createElement("a");n.setAttribute("download","FileName.".concat(e.state.downloadFormat)),n.href=t,document.body.appendChild(n),n.click(),n&&n.parentNode&&n.parentNode.removeChild(n),e.props.closeExportModal()})).catch((function(e){console.log("png downloadError"),console.log(e)})),"jpg"===e.state.downloadFormat&&la.a(t).then((function(t){var n=document.createElement("a");n.setAttribute("download","FileName.".concat(e.state.downloadFormat)),n.href=t,document.body.appendChild(n),n.click(),n&&n.parentNode&&n.parentNode.removeChild(n),e.props.closeExportModal()})).catch((function(e){console.log("SETTING URL ERROR"),console.log(e)})),"png"===e.state.downloadFormat&&la.c(t).then((function(t){var n=document.createElement("a");n.setAttribute("download","FileName.".concat(e.state.downloadFormat)),n.href=t,document.body.appendChild(n),n.click(),n&&n.parentNode&&n.parentNode.removeChild(n),e.props.closeExportModal()})).catch((function(e){console.log("SETTING URL ERROR")}))},e.getElements=function(e){return[].concat(Object(Je.a)(e.filter((function(e){return"text"!==e.type}))),Object(Je.a)(e.filter((function(e){return"text"===e.type})))).map((function(e){switch(e.type){case"text":return o.a.createElement(Zn,{inPreview:!0,type:"text",key:"prev-".concat(e.elementId),element:e});case"rect":return o.a.createElement(Zn,{inPreview:!0,type:"rect",key:"prev-".concat(e.elementId),element:e});case"image":return o.a.createElement(Zn,{inPreview:!0,type:"image",key:"prev-".concat(e.elementId),element:e});default:return console.log("Invalid Element Type!"),null}}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.calcContentMetrics(),n=t.leftBorder,a=(t.rightBorder,t.topBorder),r=(t.bottomBorder,t.contentWidth),s=t.contentHeight,i={height:s,width:r};if(r/s<this.state.width/this.state.height){var c=this.state.height/s;s>this.state.height&&(i.zoom=c)}else{var l=this.state.width/r;r>this.state.width&&(i.zoom=l)}var u=this.props.elements.map((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{posX:e.posX-n,posY:e.posY-a})}));return o.a.createElement("div",{className:ca.a.ExportModal},o.a.createElement("div",{className:ca.a.Background,onClick:this.props.closeExportModal}),o.a.createElement("div",{className:ca.a.Modal},o.a.createElement("div",{id:"previewContainer",className:ca.a.PreviewContainer,ref:function(t){e.divElement=t}},o.a.createElement("div",{className:ca.a.Preveiw,style:i},o.a.createElement("div",{id:"preview",className:ca.a.DownloadWrapper},this.getElements(u)))),o.a.createElement("div",{className:ca.a.DownloadOptions},o.a.createElement("div",{className:ca.a.DownloadContainer},o.a.createElement("select",{onChange:this.setDownloadFormat,value:this.state.downloadFormat},o.a.createElement("option",{value:"png",label:"png"}),o.a.createElement("option",{value:"jpg",label:"jpg"}),o.a.createElement("option",{value:"svg",label:"svg"})),o.a.createElement(Gt,{clicked:this.onDownLoad,disabled:this.state.downloadLoading},this.state.downloadLoading?o.a.createElement(Ue.a,{className:ca.a.Spinner,type:"ThreeDots",color:"#FFFFFF",height:30,width:30}):o.a.createElement("h3",null,"Download"))))))}}]),n}(r.Component),da=(n(153),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={drag:!1},e.dropRef=o.a.createRef(),e.handleDragIn=function(t){t.preventDefault(),t.stopPropagation(),console.log("drag in"),e.dragCounter++,t.dataTransfer.items&&t.dataTransfer.items.length>0&&e.setState({drag:!0})},e.handleDragOut=function(t){t.preventDefault(),t.stopPropagation(),console.log("drag out"),e.dragCounter--,0===e.dragCounter&&e.setState({drag:!1})},e.handleDrop=function(t){t.preventDefault(),t.stopPropagation(),e.setState({drag:!1}),t.dataTransfer.files&&t.dataTransfer.files.length>0&&(e.props.handleDrop(t.dataTransfer.files),t.dataTransfer.clearData(),e.dragCounter=0)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("drop",this.handleDrop)}},{key:"componentWillUnmount",value:function(){var e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("drop",this.handleDrop)}},{key:"render",value:function(){return o.a.createElement("div",{style:{display:"inline-block",position:"relative",height:"100%",width:"100%"},ref:this.dropRef},this.state.dragging&&o.a.createElement("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",zIndex:9999,height:"100%",width:"100%"}},o.a.createElement("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},o.a.createElement("div",null,"drop here :)"))),this.props.children)}}]),n}(r.Component)),pa=n(98),ma=n.n(pa),ha=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={dragging:!1,draggingFile:!1,selectedId:null,editingId:null,selectedHline:null,selectedVline:null,exportModalOpen:!1,files:[],elements:[{type:"text",elementId:"5",height:200,width:600,posX:100,posY:100,text:"Solange die Woscht dicker wies' Brot ist...",font:"Oswald",fontSize:"47",fontWeight:"700",textAlign:"center",verticalAlign:"top",fixedDimensions:!0,underline:!1,italic:!1,textStroke:!0},{type:"text",elementId:"6",height:200,width:600,posX:100,posY:700,text:"...ists' woscht wie dicks' Brot ist.",font:"Oswald",fontSize:"47",fontWeight:"700",textAlign:"center",verticalAlign:"top",fixedDimensions:!0,underline:!1,italic:!1,textStroke:!0},{type:"rect",elementId:"8",posX:100,posY:100,height:100,width:400,color:"#FF8592"},{type:"image",elementId:"11",imgSrc:ma.a,posX:100,posY:100,height:800,width:600}]},e.select=function(t,n){(t.stopPropagation(),t.preventDefault(),e.state.editingId)&&document.getElementById("".concat(e.state.editingId,"-input")).blur();e.setState({selectedId:n,editingId:null})},e.selectAndEdit=function(t,n){t.stopPropagation(),t.preventDefault(),e.setState({selectedId:n,editingId:n});var a=document.getElementById("".concat(n,"-input"));setTimeout((function(){console.log("focusing"),a.focus()}),0)},e.backgroundMouseUp=function(t){e.state.dragging||(e.state.editingId?(document.getElementById("".concat(e.state.editingId,"-input")).blur(),e.setState({editingId:null,draggingFile:!1})):e.setState({selectedId:null,draggingFile:!1}))},e.elementMouseDown=function(t,n){t.preventDefault(),t.stopPropagation();var a=e.state.elements.find((function(e){return e.elementId===n})),r=a.posX,o=a.posY,s=t.clientX,i=t.clientY,c=e.getLines(n),l=c.Hlines,u=c.Vlines,d=function(t){var c=r-s+t.clientX,d=o-i+t.clientY,p=null,m=null;l.forEach((function(e){Math.abs(e-d)<4&&(d=e,p=e),Math.abs(e-(d+a.height))<4&&(d=e-a.height,p=e),Math.abs(e-(2*d+a.height)/2)<4&&(d=e-.5*a.height,p=e)})),u.forEach((function(e){Math.abs(e-c)<4&&(c=e,m=e),Math.abs(e-(c+a.width))<4&&(c=e-a.width,m=e),Math.abs(e-(2*c+a.width)/2)<4&&(c=e-.5*a.width,m=e)}));var h=e.state.elements.map((function(e){return e.elementId!==n?e:Object(pe.a)(Object(pe.a)({},a),{},{posX:c,posY:d})}));e.setState({selectedId:n,selectedHline:p,selectedVline:m,elements:h})};window.addEventListener("mousemove",d),window.addEventListener("mouseup",(function t(n){n.preventDefault(),n.stopPropagation(),window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",t),e.setState({selectedHline:null,selectedVline:null,dragging:!1})})),e.setState({selectedId:n,dragging:!0})},e.onTextInput=function(t,n){var a=window.getSelection().focusOffset,r=e.state.elements.filter((function(e){return e.elementId!==n})),o=e.state.elements.find((function(e){return e.elementId===n})),s=document.getElementById("".concat(n,"-input"));console.log(s.offsetHeight,o.height);var i=o.fixedDimensions?o.height:s.offsetHeight;e.setState({elements:[].concat(Object(Je.a)(r),[Object(pe.a)(Object(pe.a)({},o),{},{height:i,text:t.target.textContent})])},(function(){var e=document.createRange(),t=window.getSelection();o.fixedDimensions?s.childNodes.length>0&&s.childNodes[0].childNodes.length>0&&(e.setStart(s.childNodes[0].childNodes[0],a),e.collapse(!0),t.removeAllRanges(),t.addRange(e),s.focus()):s.childNodes.length>0&&(e.setStart(s.childNodes[0],a),e.collapse(!0),t.removeAllRanges(),t.addRange(e),s.focus())}))},e.adjustTextElementHeight=function(t){var n=e.state.elements.filter((function(e){return e.elementId!==t})),a=e.state.elements.find((function(e){return e.elementId===t})),r=document.getElementById("".concat(t,"-input"));r.innerHTML=a.text,console.log(r.offsetHeight,a.height),console.log(n),e.setState({elements:[].concat(Object(Je.a)(n),[Object(pe.a)(Object(pe.a)({},a),{},{height:r.offsetHeight})])})},e.addElements=function(t){e.setState({elements:[].concat(Object(Je.a)(e.state.elements),Object(Je.a)(t)),selectedId:t[t.length-1].elementId})},e.handleImageDrop=function(t){for(var n=e.state.files,a=0;a<t.length;a++){if(!t[a].name)return;n.push(t[a].name),console.log(t[a])}e.setState({files:n})},e.resizeMouseDown=function(t,n,a){console.log("RESIZE MOUSE DOWN"),t.preventDefault(),t.stopPropagation();var r=e.state.elements.find((function(e){return e.elementId===a})),o=r.width/r.height,s=r.width,i=r.height,c=r.posX,l=r.posY,u=t.clientX,d=t.clientY,p=function(t){var p=s,m=i,h=c,f=l,g=r.fontSize,E=t.clientX-u,C=t.clientY-d,_=e.getLines(a),v=_.Hlines,S=_.Vlines,b=null,I=null,w="image"===r.type;switch(t.shiftKey&&(w=!w),n){case"E":p+=E,S.forEach((function(e){Math.abs(h+p-e)<4&&(p=e-c,I=e)}));break;case"S":m+=C,v.forEach((function(e){Math.abs(f+m-e)<4&&(m=e-l,b=e)}));break;case"W":p-=E,h+=E,S.forEach((function(e){Math.abs(e-h)<4&&(p=c+s-e,h=e,I=e)}));break;case"N":m-=C,f+=C,v.forEach((function(e){Math.abs(e-f)<4&&(m=l+i-e,f=e,b=e)}));break;case"SE":p+=E,m=w?p/o:m+C,S.forEach((function(e){Math.abs(h+p-e)<4&&(p=e-c,I=e)})),v.forEach((function(e){Math.abs(f+m-e)<4&&(m=e-l,b=e)}));break;case"NE":p+=E,f+=i-(m=w?p/o:m-C),v.forEach((function(e){Math.abs(e-f)<4&&(m=l+i-e,f=e,b=e)})),S.forEach((function(e){Math.abs(h+p-e)<4&&(p=e-c,I=e)}));break;case"SW":p-=E,m=w?p/o:m+C,h+=s-p,v.forEach((function(e){Math.abs(f+m-e)<4&&(m=e-l,b=e)})),S.forEach((function(e){Math.abs(e-h)<4&&(p=c+s-e,h=e,I=e)}));break;case"NW":h+=s-(p-=E),f+=i-(m=w?p/o:m-C),v.forEach((function(e){Math.abs(e-f)<4&&(m=l+i-e,f=e,b=e)})),S.forEach((function(e){Math.abs(e-h)<4&&(p=c+s-e,h=e,I=e)}));break;default:console.log("Invalid dir",n)}if("text"===r.type){var O=document.getElementById("".concat(a,"-input"));r.fixedDimensions?O.offsetHeight>m&&(g=r.fontSize-2):m=O.offsetHeight}var y=e.state.elements.map((function(e){return e.elementId===a?Object(pe.a)(Object(pe.a)({},r),{},{width:p,height:m,posX:h,posY:f,fontSize:g}):e}));e.setState({dragging:!0,elements:y,selectedHline:b,selectedVline:I})};window.addEventListener("mousemove",p),window.addEventListener("mouseup",(function t(n){n.preventDefault(),n.stopPropagation(),window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",t),e.setState({selectedHline:null,selectedVline:null,dragging:!1})}))},e.edit=function(t,n){var a=e.state.elements.map((function(e){return e.elementId===t?n:e}));e.setState({elements:a,editingId:null})},e.closeExportModal=function(){e.setState({exportModalOpen:!1})},e.openExportModal=function(){e.setState({exportModalOpen:!0})},e.getElements=function(t,n,a){return[].concat(Object(Je.a)(t.filter((function(e){return"text"!==e.type}))),Object(Je.a)(t.filter((function(e){return"text"===e.type})))).map((function(t){switch(t.type){case"text":return o.a.createElement(Zn,{inPreview:n,currentlyEditing:e.state.editingId===t.elementId,type:"text",key:"".concat(n?"prev":"","-").concat(t.elementId),element:t,editingId:e.state.editingId,selected:t.elementId===e.state.selectedId,edit:e.edit,select:e.select,selectAndEdit:e.selectAndEdit,elementMouseDown:e.elementMouseDown,onTextInput:e.onTextInput,selectedLines:{h:e.state.selectedHline,v:e.state.selectedVline}});case"rect":return o.a.createElement(Zn,{inPreview:n,currentlyEditing:e.state.editingId===t.elementId,type:"rect",key:"".concat(n?"prev":"","-").concat(t.elementId),element:t,selected:t.elementId===e.state.selectedId,select:e.select,elementMouseDown:e.elementMouseDown,selectedLines:{h:e.state.selectedHline,v:e.state.selectedVline}});case"image":return o.a.createElement(Zn,{inPreview:n,currentlyEditing:e.state.editingId===t.elementId,type:"image",key:"".concat(n?"prev":"","-").concat(t.elementId),element:t,selected:t.elementId===e.state.selectedId,select:e.select,elementMouseDown:e.elementMouseDown,onImageLoad:a,selectedLines:{h:e.state.selectedHline,v:e.state.selectedVline}});default:return console.log("Invalid Element Type!"),null}}))},e.getLines=function(t){var n=[],a=[];return e.state.elements.forEach((function(e){t!==e.elementId&&(n.push(e.posY),n.push((2*e.posY+e.height)/2),n.push(e.posY+e.height),a.push(e.posX),a.push((2*e.posX+e.width)/2),a.push(e.posX+e.width))})),{Hlines:Object(Je.a)(new Set(n)),Vlines:Object(Je.a)(new Set(a))}},e.shouldElementHighlight=function(t){if(!e.state.selectedHline&&!e.state.selectedHline)return!1;if(t===e.state.selectedId)return!1;var n=e.state.elements.find((function(e){return e.elementId===t})),a=[],r=[];return a.push(n.posY),a.push(n.posY+n.height),a.push((2*n.posY+n.height)/2),r.push(n.posX),r.push(n.posX+n.width),r.push((2*n.posX+n.width)/2),console.log(n),console.log(a),console.log(r),console.log(e.state.selectedVline),console.log(r.includes(e.state.selectedVline)),!!a.includes(e.state.selectedHline)||!!r.includes(e.state.selectedVline)},e.renderLines=function(){var t=[];return e.state.selectedHline&&t.push(o.a.createElement(Xn,{key:"HL-".concat(e.state.selectedHline),top:e.state.selectedHline,left:0})),e.state.selectedVline&&t.push(o.a.createElement(Xn,{key:"VL-".concat(e.state.selectedVline),top:0,left:e.state.selectedVline})),t},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=[Rn.a.Creator];"stream"===this.props.currentTab&&t.push(Rn.a.OutLeftLeft),"chat"===this.props.currentTab&&t.push(Rn.a.OutLeft);var n=this.state.elements.find((function(t){return t.elementId===e.state.selectedId}));return o.a.createElement("div",{className:t.join(" "),onMouseUp:this.backgroundMouseUp},o.a.createElement(da,{handleDrop:this.handleImageDrop},o.a.createElement(aa,{edit:this.edit,selected:n}),n&&o.a.createElement(sa,{element:n,editingId:this.state.editingId,resizeMouseDown:this.resizeMouseDown,elementMouseDown:this.elementMouseDown,selectAndEdit:this.selectAndEdit}),this.getElements(this.state.elements),o.a.createElement($n,{addElements:this.addElements,openExportModal:this.openExportModal}),this.renderLines(),this.state.exportModalOpen&&o.a.createElement(ua,{closeExportModal:this.closeExportModal,getElements:this.getElements,elements:this.state.elements})))}}]),n}(r.Component),fa=Object(m.b)((function(e){return{currentTab:e.ui.currentTab,darkmode:e.ui.currentTab,sending:e.user.sendingSubscribeEmailList,sent:e.user.sentSubscribeEmailList,emailListError:e.user.emailListError}}),(function(e){return{onSubscribeEmailList:function(t){return e(function(e){return function(t){console.log("subscribeEmailListStart"),t(De());var n={email:e};f.a.post("/api/users/emaillist",n,{}).then((function(e){t(Re())})).catch((function(e){console.log(e);var n=e.response&&e.response.data&&e.response.data.message?e.response.data.message:null;t(Pe(n))}))}}(t))}}}))(ha),ga=n(37),Ea=n(26),Ca=n.n(Ea),_a=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.notifications.filter((function(e){return!!e.type.startsWith("NEW_MESSAGE")||!!e.type.startsWith("NEW_CHAT")})),n=t.length>99?Ca.a.TrippleDigit:t.length>9?Ca.a.DoubleDigit:Ca.a.SingleDigit;return o.a.createElement("div",{className:Ca.a.Navigation},o.a.createElement("nav",null,o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(ga.b,{style:{textDecoration:"none"},to:"/creator"},o.a.createElement("span",{className:"creator"===this.props.currentTab?Ca.a.active:Ca.a.inactive,onClick:function(){return e.props.onSwitchTab("creator")}},"Creator"))),o.a.createElement("li",null,o.a.createElement(ga.b,{style:{textDecoration:"none",position:"relative"},to:"/chat"},t.length>0?o.a.createElement("div",{className:n},o.a.createElement("span",{className:Ca.a.NotificationCount},t.length)):null,o.a.createElement("span",{className:"chat"===this.props.currentTab?Ca.a.active:Ca.a.inactive,onClick:function(){e.props.onSwitchTab("chat"),document.getElementById("chatForm").focus()}},"Chat"))),o.a.createElement("li",null,o.a.createElement(ga.b,{style:{textDecoration:"none"},to:"/stream"},o.a.createElement("span",{className:"stream"===this.props.currentTab?Ca.a.active:Ca.a.inactive,onClick:function(){return e.props.onSwitchTab("stream")}},"Stream"))))))}}]),n}(r.Component),va=Object(m.b)((function(e){return{currentTab:e.ui.currentTab,darkmode:e.ui.darkmode,allUsersStatus:e.chat.allUsersStatus,notifications:e.user.notifications}}),(function(e){return{onSwitchTab:function(t){return e(g(t))}}}))(_a),Sa=n(47),ba=n.n(Sa),Ia=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getButton=function(){var t,n=function(){return console.log("Nothing should happen")};return e.props.friends.some((function(t){return t.userId===e.props.userId}))||(t="add",n=function(){return e.props.onSendFriendRequest(e.props.user)}),(e.props.sendingFriendRequests.some((function(t){return t.userId===e.props.userId}))||e.props.acceptingFriendRequests.some((function(t){return t.userId===e.props.userId})))&&(t="loading"),e.props.sentFriendRequests.some((function(t){return t.userId===e.props.userId}))&&(t="sent"),e.props.receivedFriendRequests.some((function(t){return t.userId===e.props.userId}))&&(t="received",n=function(){return e.props.onAcceptFriendRequest(e.props.user)}),t?o.a.createElement(pn,{type:t,clicked:n}):null},e.clicked=function(){var t=e.props.chats.find((function(t){return t.members.some((function(t){return t.userId===e.props.userId}))}));if(t)e.props.onChangeChat(t.chatId),e.props.onCloseNewChatModal();else{var n={name:e.props.selfName,handle:e.props.selfHandle,userId:e.props.selfId,profilePic:e.props.selfHasPfilePic},a=e.props.user;e.props.onCreateDummyChat(a,n),e.props.onCloseNewChatModal()}},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.profilePic?"".concat("https://storage.googleapis.com/drop-profile-pictures-bucket/profilePic-")+this.props.userId:ht.a;return o.a.createElement("div",{onClick:this.clicked,className:ba.a.ChatPrev},o.a.createElement("img",{src:e,alt:" ",className:ba.a.ProfilePic}),o.a.createElement("div",{className:ba.a.Info},o.a.createElement("h3",{className:ba.a.Name},this.props.name),o.a.createElement("p",{className:ba.a.Preview},"@",this.props.handle)),this.getButton())}}]),n}(r.Component),wa=Object(m.b)((function(e){return{darkmode:e.ui.darkmode,currentChatId:e.chat.currentChatId,currentUserId:e.user.userId,unreadMessages:e.chat.unreadMessages,seenUpdatesChats:e.chat.seenUpdatesChats,token:e.user.token,chats:e.chat.chats,allUsers:e.chat.allUsers,selfId:e.user.userId,selfName:e.user.name,selfHandle:e.user.handle,selfHasPfilePic:e.user.hasProfilePic,friends:e.chat.friends,acceptingFriendRequests:e.chat.acceptingFriendRequests,sendingFriendRequests:e.chat.sendingFriendRequests,sentFriendRequests:e.chat.sentFriendRequests,receivedFriendRequests:e.chat.receivedFriendRequests}}),(function(e){return{onCreateDummyChat:function(t,n){return e(U(t,n))},onChangeChat:function(t){return e(H(t))},onSendFriendRequest:function(t){return e(A(t))},onAcceptFriendRequest:function(t){return e(R(t))},onCloseNewChatModal:function(){return e({type:"CLOSE_NEW_CHAT_MODAL"})}}}))(Ia),Oa=n(39),ya=n.n(Oa),Na=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={searchInput:"",searching:!0},e.componentDidMount=function(){"not loaded"===e.props.allUsersStatus&&e.props.onFetchAllUsers()},e.componentDidUpdate=function(){console.log()},e.getAllUsers=function(){var t=null;return"loading"===e.props.allUsersStatus&&(t=o.a.createElement("div",{className:ya.a.LoaderContainer},o.a.createElement(Ue.a,{className:ya.a.Spinner,type:"ThreeDots",color:"#00BFFF",height:30,width:30}))),"loaded"===e.props.allUsersStatus&&(t=o.a.createElement("div",null,e.props.allUsers.filter((function(t){return t.name.toLowerCase().includes(e.state.searchInput.toLowerCase())&&t.userId!==e.props.logedinUserId&&!e.props.friends.some((function(e){return e.userId===t.userId}))})).map((function(t){return o.a.createElement(wa,Object.assign({user:t},t,{inputRef:e.props.inputRef,key:"s"+t.userId,preview:t.handle}))})))),t},e.getFriends=function(){return e.props.friends.filter((function(t){return t.name.toLowerCase().includes(e.state.searchInput.toLowerCase())})).map((function(t){return o.a.createElement(wa,Object.assign({user:t},t,{inputRef:e.props.inputRef,key:"f"+t.userId,preview:t.handle}))}))},e.onSearchInput=function(t){e.setState({searchInput:t.target.value})},e.getSearchInput=function(){return e.state.searching?o.a.createElement("input",{spellCheck:"false",placeholder:"Search by username or @handle",ref:function(t){e.searchInput=t},type:"text",value:e.state.searchInput,onChange:e.onSearchInput,className:ya.a.SearchInput}):null},e}return Object(l.a)(n,[{key:"getSearchIcon",value:function(){return o.a.createElement("svg",{className:ya.a.SearchIcon,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"search_24px"},o.a.createElement("path",{id:"icon/action/search_24px",fillRule:"evenodd",clipRule:"evenodd",d:"M14.965 14.255H15.755L20.745 19.255L19.255 20.745L14.255 15.755V14.965L13.985 14.685C12.845 15.665 11.365 16.255 9.755 16.255C6.16504 16.255 3.255 13.345 3.255 9.755C3.255 6.16501 6.16504 3.255 9.755 3.255C13.345 3.255 16.255 6.16501 16.255 9.755C16.255 11.365 15.665 12.845 14.6851 13.985L14.965 14.255ZM5.255 9.755C5.255 12.245 7.26501 14.255 9.755 14.255C12.245 14.255 14.255 12.245 14.255 9.755C14.255 7.26501 12.245 5.255 9.755 5.255C7.26501 5.255 5.255 7.26501 5.255 9.755Z",fill:"#ffffff"})))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(_t,{show:this.props.modalOpen,clicked:this.props.onCloseNewChatMenu}),o.a.createElement("div",{className:ya.a.Modal},o.a.createElement("h2",null,"New Chat"),o.a.createElement("div",{className:ya.a.SearchContainer},this.getSearchIcon(),this.getSearchInput()),o.a.createElement("div",{className:ya.a.ScrollContainer},this.getFriends(),this.getAllUsers())))}}]),n}(r.Component),Ma=Object(m.b)((function(e){return{logedinUserId:e.user.userId,allUsersStatus:e.chat.allUsersStatus,allUsers:e.chat.allUsers,friends:e.chat.friends,chats:e.chat.chats,sendingFriendRequests:e.chat.sendingFriendRequests,sentFriendRequests:e.chat.sentFriendRequests,failedFriendRequest:e.chat.failedFriendRequest,receivedFriendRequests:e.chat.receivedFriendRequests,token:e.user.token}}),(function(e){return{onFetchAllUsers:function(){return e(_())},onCloseNewChatMenu:function(){return e({type:"CLOSE_NEW_CHAT_MODAL"})},onSendFriendRequest:function(t,n){return e(A(t))}}}))(Na),ja=n(48),ka=n.n(ja),xa=n(44),Aa=n.n(xa),Ta=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).clicked=function(){e.props.dropTargets.some((function(t){return t===e.props.chatId}))?e.props.onUnSelectDropTarget(e.props.chatId):e.props.onSelectDropTarget(e.props.chatId)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.profilePic?"".concat("https://storage.googleapis.com/drop-profile-pictures-bucket/profilePic-")+this.props.userId:ht.a,n=this.props.dropTargets.some((function(t){return t===e.props.chatId}));return o.a.createElement("div",{onClick:this.clicked,className:"".concat(Aa.a.ChatPrev," ").concat(n?Aa.a.selected:"")},o.a.createElement("img",{src:t,alt:" ",className:Aa.a.ProfilePic}),o.a.createElement("div",{className:Aa.a.Info},o.a.createElement("h3",{className:Aa.a.Name},this.props.name),o.a.createElement("p",{className:Aa.a.Preview},"@",this.props.handle)))}}]),n}(r.Component),La=Object(m.b)((function(e){return{darkmode:e.ui.darkmode,dropTargets:e.stream.dropTargets}}),(function(e){return{onSelectDropTarget:function(t){return e(function(e){return{type:"SELECT_DROPTARGET",chatId:e}}(t))},onUnSelectDropTarget:function(t){return e(function(e){return{type:"UNSELECT_DROPTARGET",chatId:e}}(t))},onCloseNewChatModal:function(){return e({type:"CLOSE_NEW_CHAT_MODAL"})}}}))(Ta),Da=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={searchInput:"",searching:!0},e.componentDidMount=function(){"not loaded"===e.props.allUsersStatus&&e.props.onFetchAllUsers()},e.getFriends=function(){return e.props.friends.filter((function(t){return t.name.toLowerCase().includes(e.state.searchInput.toLowerCase())})).map((function(e){return o.a.createElement(La,Object.assign({user:e},e,{key:"f"+e.userId,preview:e.handle}))}))},e.getChats=function(){return e.props.chats.map((function(t){var n=t.members.find((function(t){return t.userId!==e.props.userId}));return o.a.createElement(La,Object.assign({chatId:t.chatId,user:n},n,{key:t.chatId}))}))},e.onSearchInput=function(t){e.setState({searchInput:t.target.value})},e.getSearchIcon=function(){return o.a.createElement("svg",{className:ka.a.SearchIcon,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"search_24px"},o.a.createElement("path",{id:"icon/action/search_24px",fillRule:"evenodd",clipRule:"evenodd",d:"M14.965 14.255H15.755L20.745 19.255L19.255 20.745L14.255 15.755V14.965L13.985 14.685C12.845 15.665 11.365 16.255 9.755 16.255C6.16504 16.255 3.255 13.345 3.255 9.755C3.255 6.16501 6.16504 3.255 9.755 3.255C13.345 3.255 16.255 6.16501 16.255 9.755C16.255 11.365 15.665 12.845 14.6851 13.985L14.965 14.255ZM5.255 9.755C5.255 12.245 7.26501 14.255 9.755 14.255C12.245 14.255 14.255 12.245 14.255 9.755C14.255 7.26501 12.245 5.255 9.755 5.255C7.26501 5.255 5.255 7.26501 5.255 9.755Z",fill:"#ffffff"})))},e.send=function(){e.props.onSendDrop(e.props.dropTargets,e.props.streamElements[1].id,e.props.title,e.props.userId),document.getElementById("chatForm").focus()},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.dropTargets.map((function(t){return e.props.chats.find((function(e){return e.chatId===t})).name})).map((function(e){return e.split(" ")[0]}));return o.a.createElement("div",null,o.a.createElement(_t,{show:this.props.modalOpen,clicked:this.props.onCloseDropModal}),o.a.createElement("div",{className:ka.a.Modal},o.a.createElement("h2",null,"Select Chat"),o.a.createElement("div",{className:ka.a.SearchContainer},this.getSearchIcon(),o.a.createElement("input",{placeholder:"Search by username or @handle",ref:function(t){e.searchInput=t},type:"text",value:this.state.searchInput,onChange:this.onSearchInput,className:ka.a.SearchInput})),o.a.createElement("div",{className:ka.a.ScrollContainer},this.getChats()),o.a.createElement(Gt,{theme:!1,clicked:function(){return e.send(e.props.streamElements[0].id)},disabled:0===this.props.dropTargets.length},this.props.dropTargets.length>0?o.a.createElement("h3",null,"Drop to ",t.join(", ")):o.a.createElement("h3",null,"Drop"))))}}]),n}(r.Component),Ra=Object(m.b)((function(e){return{chats:e.chat.chats,userId:e.user.userId,token:e.user.token,streamElements:e.stream.streamElements,dropTargets:e.stream.dropTargets}}),(function(e){return{onSendDrop:function(t,n,a,r){return e(function(e,t,n,a){return function(r){var o="".concat(Date.now()),s={id:o,type:"drop",sender:a,sentTime:Date.now(),liked:[],title:n,dropId:t};r({type:"CLOSE_DROP_MODAL"}),r(g("chat")),r(de()),r(function(e,t){return{type:"SEND_DROP_START",chatIds:e,message:t}}(e,s));var i=localStorage.getItem("token"),c={headers:{authorization:"Bearer ".concat(i)}},l={chatIds:e,dropId:t};f.a.post("/api/chat/dropMessage",l,c).then((function(e){console.log(e.data),r(function(e,t,n){return{type:"SEND_DROP_SUCCESS",messageReplacements:e,chatReplacements:t,randId:n}}(e.data.messageReplacements,e.data.chatReplacements,o))})).catch((function(e){console.log(e),r({type:"SEND_DROP_FAILED"})}))}}(t,n,a,r))},onFetchAllUsers:function(){return e(_())},onCloseDropModal:function(){return e({type:"CLOSE_DROP_MODAL"})},onSendFriendRequest:function(t,n){return e(A(t))}}}))(Da),Pa=n(100),Fa=n.n(Pa),Ba=n(23),Ha=n.n(Ba),Ua=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getInstagramIcon=function(){return o.a.createElement("svg",{className:Ha.a.Icon,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("rect",{width:"26",height:"26",rx:"3",fill:"#121218"}),o.a.createElement("g",{clipPath:"url(#clip0)"},o.a.createElement("g",{filter:"url(#filter0_dd)"},o.a.createElement("path",{d:"M13 4.80184C15.6701 4.80184 15.9864 4.812 17.0408 4.86011C18.0158 4.90461 18.5453 5.06752 18.8977 5.20443C19.3644 5.38583 19.6976 5.60257 20.0475 5.95248C20.3974 6.30239 20.6142 6.63555 20.7955 7.10229C20.9325 7.4547 21.0954 7.98419 21.1399 8.95914C21.188 10.0136 21.1982 10.3299 21.1982 13C21.1982 15.6701 21.188 15.9864 21.1399 17.0409C21.0954 18.0158 20.9325 18.5453 20.7955 18.8978C20.6142 19.3645 20.3974 19.6976 20.0475 20.0476C19.6976 20.3975 19.3644 20.6142 18.8977 20.7956C18.5453 20.9325 18.0158 21.0954 17.0408 21.1399C15.9865 21.188 15.6703 21.1982 13 21.1982C10.3297 21.1982 10.0134 21.188 8.95914 21.1399C7.98415 21.0954 7.45466 20.9325 7.10229 20.7956C6.63551 20.6142 6.30235 20.3975 5.95244 20.0476C5.60253 19.6976 5.38579 19.3645 5.20443 18.8978C5.06748 18.5453 4.90457 18.0158 4.86007 17.0409C4.81196 15.9864 4.8018 15.6701 4.8018 13C4.8018 10.3299 4.81196 10.0136 4.86007 8.95918C4.90457 7.98419 5.06748 7.4547 5.20443 7.10229C5.38579 6.63555 5.60253 6.30239 5.95244 5.95248C6.30235 5.60257 6.63551 5.38583 7.10229 5.20443C7.45466 5.06752 7.98415 4.90461 8.9591 4.86011C10.0136 4.812 10.3299 4.80184 13 4.80184ZM13 3C10.2841 3 9.94362 3.01151 8.87701 3.06018C7.81259 3.10876 7.08569 3.27779 6.44958 3.52501C5.79199 3.78056 5.23432 4.1225 4.67839 4.67843C4.12246 5.23436 3.78052 5.79203 3.52497 6.44962C3.27775 7.08573 3.10872 7.81263 3.06014 8.87705C3.01147 9.94362 3 10.2842 3 13C3 15.7159 3.01147 16.0564 3.06014 17.123C3.10872 18.1874 3.27775 18.9143 3.52497 19.5504C3.78052 20.208 4.12246 20.7657 4.67839 21.3216C5.23432 21.8775 5.79199 22.2195 6.44958 22.475C7.08569 22.7223 7.81259 22.8913 8.87701 22.9399C9.94362 22.9885 10.2841 23 13 23C15.7158 23 16.0564 22.9885 17.1229 22.9399C18.1874 22.8913 18.9143 22.7223 19.5504 22.475C20.208 22.2195 20.7656 21.8775 21.3216 21.3216C21.8775 20.7657 22.2194 20.208 22.475 19.5504C22.7222 18.9143 22.8912 18.1874 22.9398 17.123C22.9885 16.0564 23 15.7159 23 13C23 10.2842 22.9885 9.94362 22.9398 8.87705C22.8912 7.81263 22.7222 7.08573 22.475 6.44962C22.2194 5.79203 21.8775 5.23436 21.3216 4.67843C20.7656 4.1225 20.208 3.78056 19.5504 3.52501C18.9143 3.27779 18.1874 3.10876 17.1229 3.06018C16.0564 3.01151 15.7158 3 13 3ZM13 7.86487C10.1639 7.86487 7.86483 10.164 7.86483 13C7.86483 15.8361 10.1639 18.1352 13 18.1352C15.836 18.1352 18.1351 15.8361 18.1351 13C18.1351 10.164 15.836 7.86487 13 7.86487ZM13 16.3334C11.159 16.3334 9.66663 14.841 9.66663 13C9.66663 11.1591 11.159 9.66667 13 9.66667C14.8409 9.66667 16.3333 11.1591 16.3333 13C16.3333 14.841 14.8409 16.3334 13 16.3334ZM19.538 7.66199C19.538 8.32474 19.0008 8.86201 18.338 8.86201C17.6753 8.86201 17.138 8.32474 17.138 7.66199C17.138 6.99924 17.6753 6.462 18.338 6.462C19.0008 6.462 19.538 6.99924 19.538 7.66199Z",fill:"white"}))),o.a.createElement("defs",null,o.a.createElement("filter",{id:"filter0_dd",x:"-7",y:"-7",width:"40",height:"40",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"}),o.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow",result:"shape"})),o.a.createElement("clipPath",{id:"clip0"},o.a.createElement("rect",{width:"26",height:"26",fill:"white"}))))},e.getTwitterIcon=function(){return o.a.createElement("svg",{className:Ha.a.Icon,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{clipPath:"url(#clip0)"},o.a.createElement("rect",{width:"26",height:"26",rx:"3",fill:"#121218"}),o.a.createElement("g",{filter:"url(#filter0_dd)"},o.a.createElement("path",{d:"M10.1025 19.208C16.232 19.208 19.586 14.125 19.586 9.7245C19.586 9.5815 19.586 9.4385 19.5795 9.2955C20.2295 8.8275 20.795 8.236 21.2435 7.5665C20.6455 7.833 20.002 8.0085 19.326 8.093C20.015 7.6835 20.5415 7.027 20.795 6.247C20.1515 6.6305 19.4365 6.9035 18.676 7.053C18.065 6.403 17.2005 6 16.245 6C14.4055 6 12.9105 7.495 12.9105 9.3345C12.9105 9.5945 12.943 9.848 12.995 10.095C10.226 9.9585 7.769 8.626 6.1245 6.611C5.8385 7.105 5.676 7.677 5.676 8.288C5.676 9.445 6.2675 10.4655 7.158 11.0635C6.612 11.044 6.0985 10.8945 5.65 10.6475C5.65 10.6605 5.65 10.6735 5.65 10.693C5.65 12.305 6.8005 13.657 8.3215 13.9625C8.042 14.0405 7.7495 14.0795 7.444 14.0795C7.2295 14.0795 7.0215 14.06 6.82 14.021C7.2425 15.347 8.4775 16.309 9.9335 16.335C8.7895 17.232 7.353 17.765 5.793 17.765C5.5265 17.765 5.26 17.752 5 17.7195C6.469 18.6555 8.224 19.208 10.1025 19.208Z",fill:"white"}))),o.a.createElement("defs",null,o.a.createElement("filter",{id:"filter0_dd",x:"-5",y:"-4",width:"36.2435",height:"33.208",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"}),o.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow",result:"shape"})),o.a.createElement("clipPath",{id:"clip0"},o.a.createElement("rect",{width:"26",height:"26",fill:"white"}))))},e.getFacebookIcon=function(){return o.a.createElement("svg",{className:Ha.a.Icon,width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{clipPath:"url(#clip0)"},o.a.createElement("path",{d:"M22.75 26H3.25C1.456 26 0 24.544 0 22.75V3.25C0 1.456 1.456 0 3.25 0H22.75C24.544 0 26 1.456 26 3.25V22.75C26 24.544 24.544 26 22.75 26Z",fill:"#121218"}),o.a.createElement("g",{filter:"url(#filter0_dd)"},o.a.createElement("path",{d:"M20.2137 15.9373L20.8356 11.7748H16.9452V9.07489C16.9452 7.93585 17.4877 6.82493 19.2301 6.82493H21V3.28124C21 3.28124 19.3945 3 17.8603 3C14.6548 3 12.5616 4.99403 12.5616 8.6024V11.7748H9V15.9373H12.5616V26.1746C12.5616 26.1746 12.5616 26.1746 14.5714 26.1746C16.9286 26.1746 16.9286 26.1746 16.9286 26.1746L16.9452 15.9373H20.2137Z",fill:"white"}))),o.a.createElement("defs",null,o.a.createElement("filter",{id:"filter0_dd",x:"-1",y:"-7",width:"32",height:"43.1746",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"}),o.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow",result:"shape"})),o.a.createElement("clipPath",{id:"clip0"},o.a.createElement("rect",{width:"26",height:"26",fill:"white"}))))},e.getTumblrIcon=function(){return o.a.createElement("svg",{className:Ha.a.Icon,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{clipPath:"url(#clip0)"},o.a.createElement("rect",{width:"26",height:"26",rx:"3",fill:"#121218"}),o.a.createElement("g",{filter:"url(#filter0_dd)"},o.a.createElement("path",{d:"M14.3459 22C11.9512 22 10.1752 20.6102 10.1752 17.2768V11.9435H8V9.05085C10.3947 8.35028 11.3925 6.0226 11.5022 4H13.9867V8.58757H16.8803V11.9435H13.9867V16.5876C13.9867 17.9774 14.6053 18.4633 15.5931 18.4633H17V22H14.3459Z",fill:"white"}))),o.a.createElement("defs",null,o.a.createElement("filter",{id:"filter0_dd",x:"-2",y:"-6",width:"29",height:"38",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"}),o.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow",result:"shape"})),o.a.createElement("clipPath",{id:"clip0"},o.a.createElement("rect",{width:"26",height:"26",fill:"white"}))))},e.getPinterestIcon=function(){return o.a.createElement("svg",{className:Ha.a.Icon,width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{clipPath:"url(#clip0)"},o.a.createElement("rect",{width:"26",height:"26",rx:"3",fill:"#121218"}),o.a.createElement("g",{filter:"url(#filter0_dd)"},o.a.createElement("path",{d:"M11.5352 4.06354C8.33129 4.416 5.13873 6.97042 5.00696 10.6193C4.92413 12.8473 5.56603 14.5187 7.71763 14.988C8.6513 13.3648 7.41644 13.0068 7.22444 11.8325C6.43571 7.02051 12.8566 3.7389 16.2167 7.09842C18.5415 9.42467 17.0111 16.5815 13.2613 15.8376C9.66969 15.1271 15.0195 9.43023 12.1526 8.31163C9.82216 7.40265 8.58354 11.0924 9.68851 12.9252C9.04096 16.0769 7.6461 19.0469 8.21082 23C10.0424 21.6903 10.6598 19.1823 11.1662 16.5667C12.0867 17.1176 12.578 17.6908 13.7526 17.7799C18.0841 18.1101 20.503 13.5188 19.9119 9.28368C19.3867 5.52904 15.5842 3.61833 11.5352 4.06354Z",fill:"white"}))),o.a.createElement("defs",null,o.a.createElement("filter",{id:"filter0_dd",x:"-5",y:"-6",width:"35",height:"39",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"}),o.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow",result:"shape"})),o.a.createElement("clipPath",{id:"clip0"},o.a.createElement("rect",{width:"26",height:"26",fill:"white"}))))},e.getSocialButtons=function(){return o.a.createElement("div",{className:Ha.a.SocialButtons},o.a.createElement("a",{href:"https://twitter.com/drops_meme",className:Ha.a.Link,target:"_blank",rel:"noopener noreferrer"},e.getTwitterIcon()),o.a.createElement("a",{href:"https://www.instagram.com/meme_drops/",className:Ha.a.Link,target:"_blank",rel:"noopener noreferrer"},e.getInstagramIcon()),o.a.createElement("a",{href:"https://www.facebook.com/mememedrop",className:Ha.a.Link,target:"_blank",rel:"noopener noreferrer"},e.getFacebookIcon()),o.a.createElement("a",{href:"https://www.tumblr.com/blog/memedrops",className:Ha.a.Link,target:"_blank",rel:"noopener noreferrer"},e.getTumblrIcon()),o.a.createElement("a",{href:"https://www.pinterest.de/memedrops/",className:Ha.a.Link,target:"_blank",rel:"noopener noreferrer"},e.getPinterestIcon()))},e}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:Ha.a.Footer},this.getSocialButtons())}}]),n}(r.Component),Wa=n(31),Va=n.n(Wa),Ga=n(105),qa=n(49),za=n.n(qa),Za=["title","titleId"];function Ka(){return(Ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function Ya(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xa(e,t){var n=e.title,o=e.titleId,s=Ya(e,Za);return r.createElement("svg",Ka({width:12,height:20,viewBox:"0 0 12 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},s),n?r.createElement("title",{id:o},n):null,a||(a=r.createElement("path",{d:"M11.835 1.87001L10.055 0.100006L0.165039 10L10.065 19.9L11.835 18.13L3.70504 10L11.835 1.87001Z",fill:"#ffffff",fillOpacity:.44})))}var Qa=r.forwardRef(Xa),Ja=(n.p,function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getArrowBack=function(){return o.a.createElement("div",{className:za.a.BackButton},o.a.createElement(Qa,{className:za.a.ArrowBack,onClick:e.props.onPopFromMenuStack}))},e}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"".concat(za.a.MenuScreen," ").concat(-1===this.props.pos?za.a.left:1===this.props.pos?za.a.right:null)},0!==this.props.currentDepth?this.getArrowBack():null,this.props.children)}}]),n}(r.Component)),$a=Object(m.b)((function(e){return{authReason:e.user.authReason,loginOrSignup:e.ui.loginOrSignup,currentDepth:e.ui.menu.currentDepth}}),(function(e){return{onPopFromMenuStack:function(){return e({type:"POP_FROM_MENU_STACK"})}}}))(Ja),er=n(73),tr=n.n(er),nr=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"".concat(tr.a.MenuItem," ").concat(this.props.invalid?tr.a.Invalid:"")},this.props.children)}}]),n}(r.Component),ar=n(12),rr=n.n(ar),or=n(101),sr=n.n(or),ir=["12345","123456","1234567","12345678","123456789","1234567890"],cr=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loginEmail:{value:"",touched:!1,valid:!1},loginPassword:{value:"",touched:!1,valid:!1},name:{value:"",touched:!1,valid:!1},password:{value:"",touched:!1,valid:!1,errorMessage:"Min 5 Characters"},secondPassword:{value:"",touched:!1,valid:!1},email:{value:"",touched:!1,valid:!1},handle:{value:"",touched:!1,valid:!1},profilePic:{tooUgly:!0,src:null,file:null},userConditions:{value:!0,touched:!1},newsletter:!0},e.onInputLoginEmail=function(t){var n=t.target.value,a=!!n&&/^\S+@\S+\.\S+$/.test(n);e.setState({loginEmail:Object(pe.a)(Object(pe.a)({},e.state.loginEmail),{},{value:t.target.value,errorMessage:a?null:"Please enter valid email.",valid:a})})},e.onLeaveLoginEmailFocus=function(){e.setState({loginEmail:Object(pe.a)(Object(pe.a)({},e.state.loginEmail),{},{touched:!0})})},e.onInputLoginPassword=function(t){var n=t.target.value;e.setState({loginPassword:Object(pe.a)(Object(pe.a)({},e.state.loginPassword),{},{value:n})})},e.onLeaveLoginPasswordFocus=function(){e.setState({loginPassword:Object(pe.a)(Object(pe.a)({},e.state.loginPassword),{},{touched:!0})})},e.onInputName=function(t){var n=t.target.value,a=!!n&&(n.length>3&&n.length<20);e.setState({name:Object(pe.a)(Object(pe.a)({},e.state.name),{},{value:t.target.value,errorMessage:a?null:"4-20 characters",valid:a})})},e.onLeaveNameFocus=function(){e.setState({name:Object(pe.a)(Object(pe.a)({},e.state.name),{},{touched:!0})})},e.onUploadprofilePic=function(t){if(t&&t.length>0){var n=Array.from(t)[0],a=window.URL.createObjectURL(n);e.setState({profilePic:{file:n,src:a,tooUgly:!1}})}},e.onRemoveProfilePic=function(t){e.setState({profilePic:{tooUgly:!0,src:null,file:null}})},e.onInputEmail=function(t){var n=t.target.value,a=!!n&&/^\S+@\S+\.\S+$/.test(n);e.setState({email:{value:t.target.value,errorMessage:a?null:"Please enter valid email.",valid:a}})},e.onLeaveEmailFocus=function(){e.setState({email:Object(pe.a)(Object(pe.a)({},e.state.email),{},{touched:!0})})},e.onInputHandle=function(t){var n=t.target.value.startsWith("@")?t.target.value.substring(1):t.target.value,a="";(n.length<4||n.length>14)&&(a="4-14 characters."),/^[a-zA-Z]+$/.test(n)||(a="letters only!"),e.setState({handle:Object(pe.a)(Object(pe.a)({},e.state.handle),{},{value:n,errorMessage:a,valid:""===a})})},e.onLeaveHandleFocus=function(){e.setState({handle:Object(pe.a)(Object(pe.a)({},e.state.handle),{},{touched:!0})})},e.onInputPassword=function(t){var n,a=t.target.value,r=!0;!a||a.length<5?(r=!1,n="Min 5 Characters"):ir.includes(a)?(r=!1,n="Really? Can u please chose another password?"):a.length>30&&(r=!1,n="Max 30 characters"),e.setState({password:Object(pe.a)(Object(pe.a)({},e.state.password),{},{value:t.target.value,errorMessage:n,valid:r})})},e.onLeavePasswordFocus=function(){e.setState({password:Object(pe.a)(Object(pe.a)({},e.state.password),{},{touched:!0})})},e.onInputSecondPassword=function(t){var n=t.target.value===e.state.password.value,a=n?null:"Passwords do not match.";e.setState({secondPassword:Object(pe.a)(Object(pe.a)({},e.state.secondPassword),{},{value:t.target.value,errorMessage:a,valid:n})})},e.onLeaveSecondPasswordFocus=function(){e.setState({secondPassword:Object(pe.a)(Object(pe.a)({},e.state.secondPassword),{},{touched:!0})})},e.onChangeUserconditions=function(t){e.setState((function(e){return{userConditions:Object(pe.a)(Object(pe.a)({},e.userConditions),{},{value:!e.userConditions.value})}}))},e.onChangeNewsletter=function(t){e.setState((function(e){return{newsletter:!e.newsletter}}))},e.componentDidUpdate=function(){e.props.shouldMoveRight&&e.props.onMoveRight(),"CHOOSE_HANDLE"===e.props.menuStack[e.props.menuStack.length-1]&&document.getElementById("handle").focus()},e.createAccount=function(){console.log("\n        src:      ".concat(e.state.profilePic.src,"\n        name:     ").concat(e.state.name.value,"\n        password: ").concat(e.state.password.value,"\n        handle:   ").concat(e.state.handle.value,"\n        email:    ").concat(e.state.email.value,"\n        file:     ").concat(e.state.profilePic.file,"\n    ")),e.props.onSignup(e.state.name.value,e.state.email.value,e.state.handle.value,e.state.password.value,e.state.profilePic.file,e.state.profilePic.src,e.state.newsletter)},e.login=function(t){t.preventDefault(),e.props.onLogin(e.state.loginEmail.value,e.state.loginPassword.value)},e.signup=function(t){t.preventDefault(),e.state.email.valid&&e.state.password.valid&&e.state.secondPassword.valid&&e.state.name.valid?e.props.checkEmailTaken(e.state.email.value):e.setState({email:Object(pe.a)(Object(pe.a)({},e.state.email),{},{touched:!0}),password:Object(pe.a)(Object(pe.a)({},e.state.password),{},{touched:!0}),secondPassword:Object(pe.a)(Object(pe.a)({},e.state.secondPassword),{},{touched:!0}),name:Object(pe.a)(Object(pe.a)({},e.state.name),{},{touched:!0})})},e.chooseHandle=function(t){t.preventDefault(),e.state.handle.valid?e.props.checkHandleTaken(e.state.handle.value):e.setState({handle:Object(pe.a)(Object(pe.a)({},e.state.handle),{},{touched:!0})})},e.getMenuScreens=function(){return e.props.menuStack.map((function(t,n){var a=e.props.menuStack[e.props.currentDepth]===t?0:n<e.props.currentDepth?-1:1,r=[];switch(t){case"AUTH":var s,i,c,l=!e.state.loginEmail.valid&e.state.loginEmail.touched?"Not a valid email":e.props.loginError;!e.state.email.valid&&e.state.email.touched&&(s="Not a valid email"),e.props.takenEmails.some((function(t){return t===e.state.email.value}))&&(s="There already exists an account with that email."),!e.state.password.valid&&e.state.password.touched&&(i=e.state.password.errorMessage),!e.state.secondPassword.valid&&e.state.secondPassword.touched&&(c=e.state.secondPassword.errorMessage),r.push(o.a.createElement(nr,{key:t+"login"},o.a.createElement("form",{onSubmit:e.login},o.a.createElement("input",{onAnimationStart:e.onInputEmail,className:rr.a.TextInput,element:"input",id:"emailLogin",type:"email",placeholder:"email",spellCheck:"false",value:e.state.loginEmail.value,onChange:e.onInputLoginEmail,onBlur:e.onLeaveLoginEmailFocus}),o.a.createElement("input",{onAnimationStart:e.onInputLoginPassword,className:rr.a.TextInput,element:"input",type:"password",placeholder:"password",value:e.state.loginPassword.value,onChange:e.onInputLoginPassword,onBlur:e.onLeaveLoginPasswordFocus}),l?o.a.createElement("div",{className:rr.a.ErrorMessage},l):null,o.a.createElement(Gt,{clicked:e.login},e.props.loginLoading?o.a.createElement(Ue.a,{className:rr.a.Spinner,type:"ThreeDots",color:"#FFFFFF",height:30,width:30}):o.a.createElement("h3",null,"Login"))))),r.push(o.a.createElement(nr,{key:t+"signup"},o.a.createElement("form",{onSubmit:e.signup},o.a.createElement("input",{className:rr.a.TextInput,element:"input",id:"emailSignup",type:"email",placeholder:"email",value:e.state.email.value,onChange:e.onInputEmail,onAnimationStart:e.onInputEmail,onBlur:e.onLeaveEmailFocus}),s?o.a.createElement("div",{className:rr.a.ErrorMessage},s):null,o.a.createElement("input",{className:rr.a.TextInput,element:"input",type:"password",placeholder:"password",value:e.state.password.value,onChange:e.onInputPassword,onAnimationStart:e.onInputPassword,onBlur:e.onLeavePasswordFocus}),i?o.a.createElement("div",{className:rr.a.ErrorMessage},i):null,o.a.createElement("input",{className:rr.a.TextInput,element:"input",type:"password",placeholder:"repeat password",value:e.state.secondPassword.value,onChange:e.onInputSecondPassword,onAnimationStart:e.onInputSecondPassword,onBlur:e.onLeaveSecondPasswordFocus}),c?o.a.createElement("div",{className:rr.a.ErrorMessage},c):null,o.a.createElement("input",{className:rr.a.TextInput,id:"name",placeholder:"Your Name",type:"text",value:e.state.name.value,onChange:e.onInputName,onAnimationStart:e.onInputName}),o.a.createElement("div",{className:rr.a.CheckboxContainer},o.a.createElement("input",{type:"checkbox",onChange:e.onChangeUserconditions,checked:e.state.userConditions.value}),o.a.createElement("p",{onClick:e.onChangeUserconditions,className:rr.a.CheckboxText},"accept user conditions & shit")),o.a.createElement("div",{className:rr.a.CheckboxContainer},o.a.createElement("input",{type:"checkbox",onChange:e.onChangeNewsletter,checked:e.state.newsletter}),o.a.createElement("p",{onClick:e.onChangeNewsletter,className:rr.a.CheckboxText},"Receive an email for every big new feature")),o.a.createElement(Gt,{type:"submit",clicked:function(t){return e.signup(t)}},e.props.checkEmailLoading?o.a.createElement(Ue.a,{className:rr.a.Spinner,type:"ThreeDots",color:"#FFFFFF",height:30,width:30}):o.a.createElement("h3",null,"Create Account")))));break;case"CHOOSE_HANDLE":var u;!e.state.handle.valid&&e.state.handle.touched&&(u=e.state.handle.errorMessage),e.props.takenHandles.some((function(t){return t===e.state.handle.value}))&&(u="Handle already taken"),r.push(o.a.createElement(nr,{key:t},o.a.createElement("form",{onSubmit:e.chooseHandle},o.a.createElement("h3",null,"Enter @ Handle:"),o.a.createElement("input",{className:rr.a.TextInput,element:"input",id:"handle",type:"text",placeholder:"@elon",value:"@"+e.state.handle.value,onChange:e.onInputHandle,onAnimationStart:e.onInputHandle,onBlur:e.onLeaveHandleFocus}),u?o.a.createElement("div",{className:rr.a.ErrorMessage},u):null,o.a.createElement(Gt,{type:"submit",clicked:function(t){return e.chooseHandle(t)}},e.props.checkHandleLoading?o.a.createElement(Ue.a,{className:rr.a.Spinner,type:"ThreeDots",color:"#FFFFFF",height:30,width:30}):o.a.createElement("h3",null,"Choose ",e.state.handle.value)))));break;case"CHOOSE_PROFILE_PIC":r.push(o.a.createElement(nr,{key:t},o.a.createElement("h3",null,"Profile Picture"),o.a.createElement("input",{type:"checkbox",onChange:e.onRemoveProfilePic,checked:e.state.profilePic.tooUgly})," I'm too ugly",o.a.createElement("br",null),o.a.createElement("input",{type:"checkbox",onChange:function(){return console.log("Upload Pic!")},checked:!e.state.profilePic.tooUgly})," Upload picture",o.a.createElement(Ga.a,{onDrop:e.onUploadprofilePic},(function(t){var n=t.getRootProps,a=t.getInputProps;return o.a.createElement("section",null,o.a.createElement("div",n(),o.a.createElement("input",a()),o.a.createElement("div",{className:rr.a.Dropzone},e.state.profilePic.src?o.a.createElement("img",{className:rr.a.ProfilePic,src:e.state.profilePic.src,alt:"profilePic"}):o.a.createElement("img",{className:rr.a.ProfilePicPlaceholder,src:sr.a,alt:"drag & drop profile Pic here"}))))})),o.a.createElement(Gt,{clicked:e.createAccount},e.props.signupLoading?o.a.createElement(Ue.a,{className:rr.a.Spinner,type:"ThreeDots",color:"#FFFFFF",height:30,width:30}):o.a.createElement("h3",null,"Finish"))));break;default:console.log("INVALID ELEMENT ON MENU STACK")}return o.a.createElement($a,{screen:t,pos:a,goBack:e.goBack,addToMenuStack:e.addToMenuStack,key:t},r)}))},e}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:rr.a.MenuItems},this.getMenuScreens())}}]),n}(r.Component),lr=Object(m.b)((function(e){return{menuStack:e.ui.menu.menuStack,loginLoading:e.user.loginLoading,checkEmailLoading:e.user.checkEmailLoading,signupLoading:e.user.signupLoading,checkHandleLoading:e.user.checkHandleLoading,shouldMoveRight:e.ui.menu.shouldMoveRight,darkmode:e.ui.darkmode,currentDepth:e.ui.menu.currentDepth,name:e.user.name,handle:e.user.handle,token:e.user.token,loginError:e.user.loginError,signupError:e.user.signupError,takenEmails:e.user.takenEmails,takenHandles:e.user.takenHandles}}),(function(e){return{onMoveRight:function(){return e({type:"MOVE_MENU_RIGHT"})},onAddToMenuStack:function(t){return e(E(t))},checkEmailTaken:function(t){return e(function(e){return function(t){t(Se());var n={email:e};f.a.post("/api/users/checkEmail",n).then((function(n){n.data&&n.data.exists?t(ve(e)):(t(be(n.data)),t(E("CHOOSE_HANDLE")))})).catch((function(e){t(Ie(e)),console.log(e)}))}}(t))},checkHandleTaken:function(t){return e(function(e){return function(t){t(Oe());var n={handle:e};f.a.post("/api/users/checkHandle",n).then((function(n){n.data&&n.data.exists?t(we(e)):(t(ye(n.data)),t(E("CHOOSE_PROFILE_PIC")),console.log(document.getElementById("handle")),document.getElementById("handle").focus())})).catch((function(e){t(Ne(e)),console.log(e)}))}}(t))},onLogin:function(t,n){return e(function(e,t){return function(n){n(he()),f.a.post("/api/users/login",JSON.stringify({identification:e,password:t}),{headers:{"Content-Type":"application/json"}}).then((function(e){var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.token),localStorage.setItem("expirationDate",t),localStorage.setItem("user",JSON.stringify(e.data)),n(fe(e.data)),n({type:"SET_DROPS_NOT_LOADED"}),n({type:"SET_UI_STATE_ON_LOGIN"}),n(C(e.data)),n({type:"CLOSE_MENU"})})).catch((function(e){"Network Error"===e.toJSON().message?n(ge("Check your connection, bro")):e.response&&e.response.data&&e.response.data.message?n(ge(e.response.data.message)):n(ge("Something went wrong"))}))}}(t,n))},onSignup:function(t,n,a,r,o,s,i){return e(function(e,t,n,a,r,o,s){return function(i){i(Ee());var c=localStorage.getItem("anonymousId"),l=new FormData;l.append("name",e),l.append("email",t),l.append("handle",n),l.append("password",a),l.append("profilePic",r),l.append("newsletter",s),l.append("anonymousId",c),f()({method:"post",url:"/api/users/signup",data:l,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data);var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.token),localStorage.setItem("expirationDate",t),localStorage.setItem("user",JSON.stringify(e.data)),i(Ce(e.data,o)),i({type:"SET_DROPS_NOT_LOADED"}),i({type:"SET_UI_STATE_ON_LOGIN"}),i(C(e.data)),i({type:"CLOSE_MENU"})})).catch((function(e){console.log(e),i(_e(e.response))}))}}(t,n,a,r,o,s,i))}}}))(cr),ur=n(18),dr=n.n(ur),pr=n(103),mr=n.n(pr),hr=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e.componentDidUpdate=function(){e.props.shouldMoveRight&&e.props.onMoveRight()},e.getMenuScreens=function(){return e.props.menuStack.map((function(t,n){console.log(dr.a.LogoutContainer),console.log("########################");var a=e.props.menuStack[e.props.currentDepth]===t?0:n<e.props.currentDepth?-1:1,r=[];switch(t){case"USER_MENU":r.push(o.a.createElement(nr,{key:t},o.a.createElement("div",{className:dr.a.LogoutContainer,onClick:e.props.onLogout},o.a.createElement("img",{className:dr.a.LogoutIcon,src:mr.a,alt:"logoutIcon"}),o.a.createElement("p",{className:dr.a.LogoutText},"logout"))));break;default:console.log("INVALID ELEMENT ON MENU STACK")}return o.a.createElement($a,{screen:t,pos:a,goBack:e.goBack,addToMenuStack:e.addToMenuStack,key:t},r)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=[dr.a.Menu],t=[dr.a.LightButton],n=[dr.a.DarkButton];return this.props.darkmode?(e.push(dr.a.DarkMenu),n.push(dr.a.Active),t.push(dr.a.Inactive)):(e.push(dr.a.LightMenu),t.push(dr.a.Active),n.push(dr.a.Inactive)),o.a.createElement("div",{className:dr.a.MenuItems},this.getMenuScreens())}}]),n}(r.Component),fr=Object(m.b)((function(e){return{menuStack:e.ui.menu.menuStack,darkmode:e.ui.darkmode,currentDepth:e.ui.menu.currentDepth,shouldMoveRight:e.ui.menu.shouldMoveRight,token:e.user.token}}),(function(e){return{onMoveRight:function(){return e({type:"MOVE_MENU_RIGHT"})},onLogout:function(){return e(me())}}}))(hr),gr=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getProfilePic=function(){var t=ht.a,n=localStorage.getItem("token");return e.props.profilePicSrc?t=e.props.profilePicSrc:n&&e.props.hasProfilePic&&(t="".concat("https://storage.googleapis.com/drop-profile-pictures-bucket/profilePic-")+e.props.userId),o.a.createElement("img",{alt:"",className:"".concat(Va.a.ProfilePic," ").concat(e.props.menuOpen?Va.a.MenuOpen:""),src:t})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=[Va.a.Menu,Va.a.DarkMode];return o.a.createElement("div",{className:Va.a.Container},this.props.menuOpen?o.a.createElement("div",{className:Va.a.Overlay,onClick:this.props.onCloseMenu}):null,o.a.createElement("div",{onClick:this.props.menuOpen?this.props.onCloseMenu:this.props.onOpenMenu,className:Va.a.Assistant},this.getProfilePic()),this.props.menuOpen?o.a.createElement("div",{className:e.join(" ")},o.a.createElement("div",{className:Va.a.NameArea},o.a.createElement("h2",{className:Va.a.Name},this.props.name),this.props.token?o.a.createElement("p",{className:Va.a.Handle},"@",this.props.handle):null),o.a.createElement("hr",null),this.props.menuOpen?this.props.token?o.a.createElement(fr,null):o.a.createElement(lr,null):null):null)}}]),n}(r.Component),Er=Object(m.b)((function(e){return{darkmode:e.ui.darkmode,menuOpen:e.ui.menu.open,token:e.user.token,userId:e.user.userId,handle:e.user.handle,name:e.user.name,hasProfilePic:e.user.hasProfilePic,profilePicSrc:e.user.profilePicSrc}}),(function(e){return{onOpenMenu:function(){return e({type:"OPEN_MENU"})},onCloseMenu:function(){return e({type:"CLOSE_MENU"})}}}))(gr),Cr=n(74),_r=n.n(Cr),vr=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClicked=function(){if(e.props.token&&"6022396f28d69d22509a5d46"!==e.props.userId){var t={handle:e.props.handle,name:e.props.name,profilePic:e.props.profilePic,userId:e.props.userId};e.props.onSwitchTab("chat"),e.props.onOpenChrisChat(t)}},e}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:_r.a.Feedback},o.a.createElement("h2",null,"Got some feedback?",o.a.createElement("br",null)," Found a bug? ",o.a.createElement("br",null),"Confused?"),"Send a screenshot or text me!",o.a.createElement("br",null),o.a.createElement("br",null),"+49 17682625207",o.a.createElement("br",null),"on here: ",o.a.createElement("span",{onClick:this.handleClicked,className:this.props.token?_r.a.Link:null},"@chris"),o.a.createElement("br",null),"cloy202@gmail.com",o.a.createElement("br",null))}}]),n}(r.Component),Sr=Object(m.b)((function(e){return{token:e.user.token,userId:e.user.userId,profilePic:e.user.profilePic,handle:e.user.handle}}),(function(e){return{onOpenChrisChat:function(t){return e(function(e){return{type:"OPEN_CHRIS_CHAT",self:e}}(t))},onSwitchTab:function(t){return e(g(t))}}}))(vr),br=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){var t=localStorage.getItem("anonymousId");t||localStorage.setItem("anonymousId","anonymous"+Date.now()),e.props.onSetAnonymousId(t),e.props.onTryAutoSignup(),e.props.onSetWindowWidth(window.innerWidth),window.addEventListener("resize",(function(){return e.props.onSetWindowWidth(window.innerWidth)})),setInterval((function(){if(e.props.token){var t=localStorage.getItem("token"),n={headers:{authorization:"Bearer ".concat(t)}};f.a.get("/api/users/notifications",n).then((function(t){if(e.props.notifications.length!==t.data.length)e.props.onRefreshNotifications(t.data);else{var n=t.data.map((function(e){return e.id}));e.props.notifications.map((function(e){return e.id})).forEach((function(a){n.some((function(e){return e===a}))||e.props.onRefreshNotifications(t.data)}))}})).catch((function(e){console.log(e)}))}}),5e3)},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){if(""===this.props.anonymousId){var e=localStorage.getItem("anonymousId");e||localStorage.setItem("anonymousId","anonymous"+Date.now()),this.props.onSetAnonymousId(e)}this.props.windowWidth!==window.innerWidth&&this.props.onSetWindowWidth(window.innerWidth)}},{key:"render",value:function(){return this.props.windowWidth<600?o.a.createElement("div",{className:"DesktopOnlyMessage"},"Desktop only for now, sry. ",o.a.createElement("br",null),"\xaf\\_(\u30c4)_/\xaf",o.a.createElement("br",null),"App is coming soon though.",o.a.createElement("br",null),"Working all day and night.",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("img",{src:Fa.a,alt:"chris working",className:"taktaktak"})):o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"Background ".concat(this.props.darkmode?"Dark":"Light")}),o.a.createElement(p.b,{path:["/stream","/chat","/creator"],component:rn}),o.a.createElement(p.b,{path:["/stream","/chat","/creator"],component:Ln}),o.a.createElement(p.b,{path:["/stream","/chat","/creator"],component:fa}),o.a.createElement(p.a,{to:"/stream"}),this.props.newChatModalOpen?o.a.createElement(Ma,null):null,this.props.dropModalOpen?o.a.createElement(Ra,null):null,o.a.createElement(va,null),o.a.createElement(Er,null),o.a.createElement(Ua,null),o.a.createElement(Sr,null))}}]),n}(r.Component),Ir=Object(p.f)(Object(m.b)((function(e){return{dropModalOpen:e.ui.dropModalOpen,windowWidth:e.ui.windowWidth,darkmode:e.ui.darkmode,authOpen:e.user.authOpen,newChatModalOpen:e.ui.newChatModalOpen,notifications:e.user.notifications,token:e.user.token,anonymousId:e.user.anonymousId}}),(function(e){return{onSetWindowWidth:function(t){return e(function(e){return{type:"SET_WINDOW_WIDTH",width:e}}(t))},onTryAutoSignup:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expirationDate"));if(n<=new Date)e({type:"SET_UI_STATE_ON_LOGOUT"}),e(me());else{var a=JSON.parse(localStorage.getItem("user"));e(fe(a)),e(C(a)),e({type:"SET_UI_STATE_ON_LOGIN"}),e((n.getTime(),(new Date).getTime(),function(e){}));var r={headers:{authorization:"Bearer "+t}};f.a.get("/api/users/refresh",r).then((function(t){e(fe(t.data)),e(C(t.data));var n=new Date((new Date).getTime()+1e3*t.data.expiresIn);localStorage.setItem("token",t.data.token),localStorage.setItem("expirationDate",n),localStorage.setItem("user",JSON.stringify(t.data))})).catch((function(e){console.log(e)}))}}else e({type:"SET_UI_STATE_ON_LOGOUT"}),e(me())}))},onRefreshNotifications:function(t){return e(function(e){return console.log(e),function(t){t(xe(e));var n=e.filter((function(e){return e.type.startsWith("NEW_MESSAGE")}));n.length>0&&t(function(e){return{type:"CHECK_AND_ADD_NEW_MESSAGES",notifications:e}}(n));var a=e.filter((function(e){return e.type.startsWith("NEW_CHAT")}));a.length>0&&a.forEach((function(e){var n=localStorage.getItem("token"),a={headers:{authorization:"Bearer ".concat(n)}},r="/api/chat/".concat(e.chatId);f.a.get(r,a).then((function(e){console.log(e.data),t({type:"FETCH_NEW_CHAT_SUCCESS",chat:e.data})})).catch((function(e){console.log(e),t({type:"FETCH_NEW_CHAT_FAILED"})}))}))}}(t))},onSetAnonymousId:function(t){return e(function(e){return{type:"SET_ANONYMOUS_ID",anonymousId:e}}(t))}}}))(br));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var wr=n(40),Or=n(104),yr={dropTargets:[],selectedTargets:[],dropIds:[],streamStatus:"nothing loaded",streamElements:[{position:0,show:"left",id:"0",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:1,show:"show",id:"1",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:2,show:"show",id:"2",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:3,show:"show",id:"3",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:4,show:"show",id:"4",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:5,show:"show",id:"5",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:6,show:"show",id:"6",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:7,show:"show",id:"7",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:8,show:"show",id:"8",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:9,show:"show",id:"9",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:10,show:"show",id:"10",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:11,show:"show",id:"11",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:12,show:"show",id:"12",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:13,show:"show",id:"13",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:14,show:"show",id:"14",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:15,show:"show",id:"15",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:16,show:"show",id:"16",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:17,show:"show",id:"17",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:18,show:"show",id:"18",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:19,show:"show",id:"19",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:20,show:"show",id:"20",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:21,show:"show",id:"21",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"}],timeStampLastSwipe:0,currentlyLoadingMemeId:"",selectedComment:null,sending:[]},Nr=function e(t,n,a){return n.map((function(n){return n.path===t?Object(pe.a)(Object(pe.a)({},n),{},{subComments:[].concat(Object(Je.a)(n.subComments),[a])}):t.startsWith(n.path)?Object(pe.a)(Object(pe.a)({},n),{},{subComments:e(t,n.subComments,a)}):n}))},Mr=function e(t,n,a){return t.map((function(t){return t.path===n?(console.log("Reached SubComment"),Object(pe.a)(Object(pe.a)({},t),{},{path:a.path})):(console.log("Going Deepa"),Object(pe.a)(Object(pe.a)({},t),{},{subComments:e(t.subComments,n,a)}))}))},jr=function(e,t){var n=e.streamElements.map((function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{show:0===t?"left":"show",id:"".concat(t),status:"not loaded",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"})}));return Object(pe.a)(Object(pe.a)({},e),{},{streamElements:n,streamStatus:"nothing loaded"})},kr=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{streamStatus:"loading ids"})},xr=function(e,t){var n=t.ids.slice(0,21),a=t.ids.slice(21,t.ids.length),r=e.streamElements.map((function(e,t){return 0===e.position?e:0===n.length?Object(pe.a)(Object(pe.a)({},e),{},{id:"no more"+Math.random(),status:"no more",memeStatus:"not loaded"}):Object(pe.a)(Object(pe.a)({},e),{},{id:n.pop(),status:"id loaded",memeStatus:"not loaded"})}));return Object(pe.a)(Object(pe.a)({},e),{},{dropIds:a,currentlyLoadingMemeId:r[1].id,streamElements:r,streamStatus:"ids loaded"})},Ar=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{streamStatus:"ids failed"})},Tr=function(e,t){return e},Lr=function(e,t){var n=e.streamElements.map((function(e){if(0===e.position)return{position:0,show:"left",id:"0",dropStatus:"loaded",comments:[],memeStatus:"loading"};var n=t.drops.find((function(t){return t.dropId===e.id}));return n?Object(pe.a)(Object(pe.a)({},e),{},{comments:n.comments.map((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{path:"0"})})),title:n.title?n.title:null,source:n.source?n.source:null,dropStatus:"loaded"}):e}));return Object(pe.a)(Object(pe.a)({},e),{},{streamElements:n,streamStatus:"drops loaded"})},Dr=function(e,t){return e},Rr=function(e,t){var n,a="no more",r=e.streamElements.map((function(e){return t.dropId===e.id?(n=e.position+1,Object(pe.a)(Object(pe.a)({},e),{},{memeStatus:"loaded"})):e.position===n?(a=e.id,e):e}));return Object(pe.a)(Object(pe.a)({},e),{},{streamElements:r,currentlyLoadingMemeId:a})},Pr=function(e,t){var n=e.streamElements.map((function(e){return e.id===t.dropId?Object(pe.a)(Object(pe.a)({},e),{},{memeStatus:"failed"}):e}));return Object(pe.a)(Object(pe.a)({},e),{},{streamElements:n})},Fr=function(e,t){var n=e.streamElements.map((function(e){return e.id===t.dropId?Object(pe.a)(Object(pe.a)({},e),{},{dropStatus:"loading"}):e}));return Object(pe.a)(Object(pe.a)({},e),{},{streamElements:n})},Br=function(e,t){var n=e.streamElements.map((function(e){return e.id===t.dropId?Object(pe.a)(Object(pe.a)(Object(pe.a)({},e),t.drop),{},{comments:t.drop.comments?t.drop.comments.map((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{path:"0"})})):[],title:t.drop.title?t.drop.title:null,source:t.drop.source?t.drop.source:null,dropStatus:"loaded"}):e}));return Object(pe.a)(Object(pe.a)({},e),{},{streamElements:n})},Hr=function(e,t){var n=e.streamElements.map((function(e){return e.id===t.dropId?Object(pe.a)(Object(pe.a)({},e),{},{dropStatus:"failed"}):e}));return Object(pe.a)(Object(pe.a)({},e),{},{streamElements:n})},Ur=function(e,t){var n={dropId:t.dropId,randId:t.comment.id},a=[].concat(Object(Je.a)(e.sending),[n]),r=e.streamElements.map((function(e){if(e.id===t.dropId){var n=[t.comment].concat(Object(Je.a)(e.comments));return Object(pe.a)(Object(pe.a)({},e),{},{comments:n})}return e}));return Object(pe.a)(Object(pe.a)({},e),{},{sending:a,streamElements:r})},Wr=function(e,t){console.log(t);var n=e.sending.filter((function(e){return e.randId!==t.randId})),a=e.streamElements.map((function(e){if(e.id===t.dropId){var n=e.comments.map((function(e){return e.id===t.comment.randId?t.comment:e}));return Object(pe.a)(Object(pe.a)({},e),{},{comments:n})}return e}));return Object(pe.a)(Object(pe.a)({},e),{},{streamElements:a,sending:n})},Vr=function(e,t){return console.log(t.err),Object(pe.a)({},e)},Gr=function(e,t){var n=[].concat(Object(Je.a)(e.dropTargets),[t.chatId]);return Object(pe.a)(Object(pe.a)({},e),{},{dropTargets:n})},qr=function(e,t){var n=e.dropTargets.filter((function(e){return e!==t.chatId}));return Object(pe.a)(Object(pe.a)({},e),{},{dropTargets:n})},zr=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{dropTargets:[]})},Zr=function(e,t){if(function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/10))}(),e.selectedComment)return Object(pe.a)(Object(pe.a)({},e),{},{selectedComment:null});e.dropIds.length>0&&console.log("##################");var n=0!==e.dropIds.length?e.dropIds[0]:"no more"+Date.now(),a=e.dropIds.slice(1,e.dropIds.length),r=[].concat(Object(Je.a)(e.streamElements.map((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{position:e.position-1,show:e.position-1===0?t.dir:"show"})})).filter((function(e){return e.position>=0}))),[{position:21,show:"show",id:n,status:"id loaded",dropStatus:"not loaded",comments:[]}]);return Object(pe.a)(Object(pe.a)({},e),{},{streamElements:r,dropIds:a,dropTargets:[]})},Kr=function(e,t){return Object(pe.a)({},e)},Yr=function(e,t){return Object(pe.a)({},e)},Xr=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{selectedComment:t.commentId})},Qr=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{selectedComment:null})},Jr=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{selectedComment:t.path})},$r=function(e){return Object(pe.a)(Object(pe.a)({},e),{},{selectedComment:null})},eo=function(e,t){var n=t.dropId,a=t.subComment,r="".concat(e.selectedComment,"/").concat(a.id),o=[].concat(Object(Je.a)(e.sending),[{dropId:n,path:r}]),s={id:a.id,comment:a.comment,path:r,points:0,subComments:[]},i=e.streamElements.map((function(t){if(t.id===n){var a=t.comments.map((function(t){return e.selectedComment.split("/")[0]===t.id?e.selectedComment.split("/").length>1?Object(pe.a)(Object(pe.a)({},t),{},{subComments:Nr(e.selectedComment,t.subComments,s)}):Object(pe.a)(Object(pe.a)({},t),{},{subComments:[].concat(Object(Je.a)(t.subComments),[s])}):t}));return Object(pe.a)(Object(pe.a)({},t),{},{comments:a})}return t}));return Object(pe.a)(Object(pe.a)({},e),{},{streamElements:i,sending:o,selectedComment:null})},to=function(e,t){var n=t.dropId,a=t.randPath,r=t.subComment,o=e.sending.filter((function(e){return!(e.dropId===n&&e.path===a)})),s=e.streamElements.map((function(e){if(e.id===n){var t=e.comments.map((function(e){return a.startsWith(e.id)?Object(pe.a)(Object(pe.a)({},e),{},{subComments:Mr(e.subComments,a,r)}):e}));return Object(pe.a)(Object(pe.a)({},e),{},{comments:t})}return e}));return Object(pe.a)(Object(pe.a)({},e),{},{sending:o,streamElements:s})},no=function(e,t){return Object(pe.a)({},e)},ao=function(e,t){var n=t.dropId,a=t.commentId,r=e.streamElements.map((function(e){if(e.id===n){var t=e.comments.filter((function(e){return e.id!==a}));return Object(pe.a)(Object(pe.a)({},e),{},{comments:t})}return e}));return Object(pe.a)(Object(pe.a)({},e),{},{streamElements:r,selectedComment:null})},ro=function(e,t){return e},oo=function(e,t){return e},so=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_DROPTARGET":return Gr(e,t);case"UNSELECT_DROPTARGET":return qr(e,t);case"RESET_DROP_TARGETS":return zr(e);case"SWIPE_START":return Zr(e,t);case"SWIPE_SUCCESS":return Kr(e);case"SWIPE_FAILED":return Yr(e);case"FETCH_IDS_START":return kr(e);case"SET_IDS":return xr(e,t);case"FETCH_IDS_FAILED":return Ar(e);case"SELECT_COMMENT":return Xr(e,t);case"UNSELECT_COMMENT":return Qr(e);case"SELECT_SUBCOMMENT":return Jr(e,t);case"UNSELECT_SUBCOMMENT":return $r(e);case"SET_DROPS_NOT_LOADED":return jr(e);case"FETCH_DROPS_START":return Tr(e);case"SET_DROPS":return Lr(e,t);case"FETCH_DROPS_FAILED":return Dr(e);case"FETCH_DROP_START":return Fr(e,t);case"FETCH_DROP_SUCCESS":return Br(e,t);case"FETCH_DROP_FAILED":return Hr(e,t);case"FETCH_MEME_SUCCESS":return Rr(e,t);case"FETCH_MEME_FAILED":return Pr(e,t);case"SEND_COMMENT_START":return Ur(e,t);case"SEND_COMMENT_SUCCESS":return Wr(e,t);case"SEND_COMMENT_FAILED":return Vr(e,t);case"DELETE_COMMENT_START":return ao(e,t);case"DELETE_COMMENT_SUCCESS":return ro(e);case"DELTE_COMMENT_FAILED":return oo(e);case"SEND_SUBCOMMENT_START":return eo(e,t);case"SEND_SUBCOMMENT_SUCCESS":return to(e,t);case"SEND_SUBCOMMENT_FAILED":return no(e);default:return e}},io={currentChatId:"1",formHeight:53,chatInput:"",allUsers:[],allUsersStatus:"not loaded",sendingFriendRequests:[],sentFriendRequests:[],failedFriendRequests:[],receivedFriendRequests:[],acceptingFriendRequests:[],creatingChats:[],messageBuffer:[],friends:[{userId:"42069",name:"Elon Musk",handle:"elon",profilePic:!1},{userId:"12",name:"Tonald Drump",handle:"donald",profilePic:!1},{userId:"12345",name:"Shrek",handle:"shrek",profilePic:!1},{userId:"42069",name:"Rick Astley",handle:"rick",profilePic:!1},{userId:"123456",name:"Keano Reeeeeeeee",handle:"Keano",profilePic:!1},{userId:"122",name:"Michael Jordan",handle:"michael",profilePic:!1}],friendsStatus:"not loaded",chats:[{group:!1,chatId:"1",members:[{userId:"1",name:"Username"},{userId:"42069",name:"Elon Musk",handle:"elon",profilePic:!1}],inputValue:"",lastInteraction:1611673082511,messages:[{text:"Whats poppin' Elon?",time:"14:32",type:"text",sender:"1",id:"1"},{text:"Rocket goes brrrrrt",time:"14:32",type:"text",sender:"5",id:"2",new:!0}]},{chatId:"2",group:!1,members:[{userId:"1"},{userId:"12",name:"Tonald Drump",handle:"donald",profilePic:!1}],inputValue:"",lastInteraction:1611673082510,messages:[{text:"I won. By a lot.",time:"14:32",type:"text",sender:"12",id:"1",new:!0}]},{chatId:"3",members:[{userId:"1"},{userId:"12345",name:"Shrek",profilePic:!1}],inputValue:"",lastInteraction:1611673082509,messages:[{text:"Get out of my swamp!",time:"14:32",type:"text",sender:"12345",id:"1",new:!0}]},{chatId:"4",members:[{userId:"1"},{userId:"123456",name:"Keano Reeeeeeeee",profilePic:!1}],inputValue:"",lastInteraction:1611673082508,messages:[{text:"I can do total sellout and they still love me lol",time:"14:32",type:"text",sender:"123456",id:"1"}]},{chatId:"5",name:"Rick Astley",members:[{userId:"1"},{userId:"42069",name:"Rick Astley",profilePic:!1}],inputValue:"",messages:[{text:"Never gonna give you up!",time:"14:32",type:"text",sender:"12345",id:"1"}]},{chatId:"6",members:[{userId:"1"},{userId:"122",name:"Michael Jordan",handle:"michael",profilePic:!1}],inputValue:"",lastInteraction:1611673082507,messages:[{text:"And I took that personally.",time:"14:32",sender:"chris",id:1,sent:!0}]}],seenUpdatesChats:[],users:[],sendingMessages:[],chatsStatus:"not loaded",currentChatLoaded:!1},co=function(e,t){console.log(t.userdata.receivedFriendRequests);var n=t.userdata.notifications.filter((function(e){return e.type.startsWith("NEW_MESSAGE")})),a=t.userdata.receivedFriendRequests.filter((function(e){return!t.userdata.chats.some((function(t){return t.members.some((function(t){return t.userId===e.userId}))}))})).map((function(e){console.log(e);var n={userId:t.userdata.userId,name:t.userdata.name,handle:t.userdata.handle,profilePic:t.userdata.profilePic};return{group:!1,messages:[],chatId:"dummy".concat(e.userId),members:[n,e],name:e.name,lastInteraction:Date.now()}}));console.log(a);var r=[].concat(Object(Je.a)(t.userdata.chats.map((function(e){var t=e.messages.map((function(t){return n.some((function(n){return n.chatId===e.chatId&&n.messageId===t.id}))?Object(pe.a)(Object(pe.a)({},t),{},{new:!0}):t}));return Object(pe.a)(Object(pe.a)({},e),{},{messages:t})}))),Object(Je.a)(a));return Object(pe.a)(Object(pe.a)({},e),{},{receivedFriendRequests:t.userdata.receivedFriendRequests,sentFriendRequests:t.userdata.sentFriendRequests,friends:t.userdata.friends,chats:r,currentChatId:t.userdata.chats.length>0?t.userdata.chats[0].chatId:null})},lo=function(e,t){var n,a=e.chats.map((function(a){if(a.chatId===e.currentChatId){var r=a.messages.map((function(e){return e.new?Object(pe.a)(Object(pe.a)({},e),{},{new:!1}):e}));return Object(pe.a)(Object(pe.a)({},a),{},{messages:r,inputValue:e.chatInput})}return a.chatId===t.chatId?(n=a.inputValue,a):a})),r=[].concat(Object(Je.a)(e.seenUpdatesChats),[t.chatId]);return Object(pe.a)(Object(pe.a)({},e),{},{chats:a,inputValue:n,currentChatId:t.chatId,seenUpdatesChats:r})},uo=function(e,t){var n=t.value;return Object(pe.a)(Object(pe.a)({},e),{},{chatInput:n})},po=function(e,t){var n=t.randId,a=t.text,r=t.userId,o=e.chats.map((function(t){return t.chatId===e.currentChatId?Object(pe.a)(Object(pe.a)({},t),{},{messages:[].concat(Object(Je.a)(t.messages),[{received:[],seen:[],liked:[],text:a,sender:r,time:new Date,id:n,type:"text",sending:!0}])}):t})),s=[].concat(Object(Je.a)(e.sendingMessages),[{chatId:e.currentChatId,randId:t.randId}]);return Object(pe.a)(Object(pe.a)({},e),{},{chats:o,sendingMessages:s,chatInput:"",shouldDeleteInput:!0})},mo=function(e,t){var n=e.sendingMessages.find((function(e){return e.randId===t.randId})),a=e.sendingMessages.filter((function(e){return e.randId!==t.randId})),r=e.chats.map((function(e){if(e.chatId===n.chatId){var a=e.messages.map((function(e){return e.id===n.randId?t.message:e}));return Object(pe.a)(Object(pe.a)({},e),{},{messages:a})}return e}));return Object(pe.a)(Object(pe.a)({},e),{},{chats:r,sendingMessages:a})},ho=function(e,t){return Object(pe.a)({},e)},fo=function(e,t){var n=e.chats.map((function(e){if(t.chatIds.some((function(t){return t===e.chatId}))){var n=[].concat(Object(Je.a)(e.messages),[t.message]);return Object(pe.a)(Object(pe.a)({},e),{},{messages:n})}return e})),a=t.chatIds.map((function(e){return{randId:t.message.id,chatId:e}})),r=[].concat(Object(Je.a)(e.sendingMessages),Object(Je.a)(a));return Object(pe.a)(Object(pe.a)({},e),{},{chats:n,sendingMessages:r,currentChatId:t.chatIds[0]})},go=function(e,t){var n=t.messageReplacements,a=t.chatReplacements,r=t.randId,o=e.currentChatLoaded;console.log(t);var s=e.chats.map((function(e){if(e.chatId.startsWith("dummy")){console.log("FOUND DUMMY CHAT");var t=a.find((function(t){return"dummy".concat(t.userId)===e.chatId}));if(t)return console.log("FOUND A MATCHING REPLACEMENT"),o=t.chat.chatId,t.chat}var s=n.find((function(t){return t.chatId===e.chatId}));if(s){var i=e.messages.map((function(e){return e.id===r?s.message:e}));return Object(pe.a)(Object(pe.a)({},e),{},{messages:i})}return e}));return Object(pe.a)(Object(pe.a)({},e),{},{chats:s,currentChatId:o})},Eo=function(e,t){return Object(pe.a)({},e)},Co=function(e,t){var n=t.dummyChatId,a=t.randId,r=t.message,o=t.self;console.log(t);var s={received:[],seen:[],liked:[],text:r,sender:o.userId,time:new Date,id:a,type:"text",sent:!0,sending:!0},i=e.chats.map((function(e){return e.chatId===n?Object(pe.a)(Object(pe.a)({},e),{},{messages:[s]}):e})),c=[].concat(Object(Je.a)(e.creatingChats),[n]);return Object(pe.a)(Object(pe.a)({},e),{},{chats:i,creatingChats:c})},_o=function(e,t){var n=t.dummyChatId,a=t.createdChat,r=t.self,o=t.chatPartner,s=e.currentChatId===n?a.chatId:e.currentChatId,i=e.chats.find((function(e){return e.chatId===n})).messages,c=e.chats.map((function(e){return e.chatId===n?(console.log("FOUND DUMMY CHAT"),Object(pe.a)(Object(pe.a)({},a),{},{messages:[].concat(Object(Je.a)(a.messages),Object(Je.a)(i.slice(1,i.length))),members:[r,o]})):e})),l=e.messageBuffer.map((function(e){return e.dummyChatId===n?Object(pe.a)(Object(pe.a)({},e),{},{dummyChatId:a.chatId}):e})),u=e.creatingChats.filter((function(e){return e!==n}));return Object(pe.a)(Object(pe.a)({},e),{},{chats:c,currentChatId:s,messageBuffer:l,creatingChats:u})},vo=function(e,t){return Object(pe.a)({},e)},So=function(e,t){var n=t.dummyChatId,a=t.dummyMessageId,r=t.text,o=t.userId,s=[].concat(Object(Je.a)(e.messageBuffer),[{dummyChatId:n,dummyMessageId:a,text:r,id:"".concat(Date.now())}]),i=e.chats.map((function(t){return t.chatId===e.currentChatId?Object(pe.a)(Object(pe.a)({},t),{},{messages:[].concat(Object(Je.a)(t.messages),[{received:[],seen:[],liked:[],text:r,sender:o,time:new Date,id:a,type:"text",sending:!0}])}):t}));return Object(pe.a)(Object(pe.a)({},e),{},{messageBuffer:s,chats:i})},bo=function(e,t){var n=t.id,a=e.messageBuffer.map((function(e){return e.id===n?Object(pe.a)(Object(pe.a)({},e),{},{sending:!0}):e}));return Object(pe.a)(Object(pe.a)({},e),{},{messageBuffer:a})},Io=function(e,t){var n=t.id,a=t.response,r=e.messageBuffer.find((function(e){return e.id===n}));console.log(r);var o=e.chats.map((function(e){if(e.chatId===r.dummyChatId){var t=e.messages.map((function(e){return e.id===r.dummyMessageId?a:e}));return Object(pe.a)(Object(pe.a)({},e),{},{messages:t})}return e})),s=e.messageBuffer.filter((function(e){return e.id!==n}));return Object(pe.a)(Object(pe.a)({},e),{},{chats:o,messageBuffer:s})},wo=function(e,t){var n=t.id,a=e.messageBuffer.map((function(e){return e.id===n?Object(pe.a)(Object(pe.a)({},e),{},{sending:!1}):e}));return Object(pe.a)(Object(pe.a)({},e),{},{messageBuffer:a})},Oo=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{allUsersStatus:"loading"})},yo=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{allUsersStatus:"loaded",allUsers:t.users})},No=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{allUsersStatus:"failed"})},Mo=function(e,t){var n=[].concat(Object(Je.a)(e.sendingFriendRequests),[t.user]);return Object(pe.a)(Object(pe.a)({},e),{},{sendingFriendRequests:n})},jo=function(e,t){var n=e.sendingFriendRequests.filter((function(e){return e.userId!==t.user.userId})),a=t.chat?e.sentFriendRequests:[].concat(Object(Je.a)(e.sentFriendRequests),[t.user]),r=e.chats,o=e.currentChatId,s=e.friends;return t.chat&&(r=[].concat(Object(Je.a)(e.chats.filter((function(e){return e.chatId!==t.chat.chatId&&e.chatId!=="dummy".concat(t.user.userId)}))),[t.chat]),o=t.chat.chatId,s=[].concat(Object(Je.a)(e.friends),[t.user])),Object(pe.a)(Object(pe.a)({},e),{},{sentFriendRequests:a,sendingFriendRequests:n,chats:r,currentChatId:o,friends:s})},ko=function(e,t){var n=e.sendingFriendRequests.filter((function(e){return e.userId!==t.user.userId})),a=[].concat(Object(Je.a)(e.failedFriendRequests),[t.user]);return Object(pe.a)(Object(pe.a)({},e),{},{sendingFriendRequests:n,failedFriendRequests:a})},xo=function(e,t){console.log("USER",t.user);var n=e.receivedFriendRequests.filter((function(e){return e.userId!==t.user.userId})),a=[].concat(Object(Je.a)(e.acceptingFriendRequests),[t.user]);return Object(pe.a)(Object(pe.a)({},e),{},{receivedFriendRequests:n,acceptingFriendRequests:a})},Ao=function(e,t){var n=t.friend,a=t.chat,r=e.acceptingFriendRequests.filter((function(e){return e.userId!==n.userId})),o=[].concat(Object(Je.a)(e.friends),[n]),s="dummy".concat(n.userId),i=[].concat(Object(Je.a)(e.chats.filter((function(e){return e.chatId!==s&&e.chatId!==a.chatId}))),[a]),c=a.chatId;return Object(pe.a)(Object(pe.a)({},e),{},{friends:o,chats:i,acceptingFriendRequests:r,currentChatId:c})},To=function(e,t){var n=[].concat(Object(Je.a)(e.receivedFriendRequests),[t.user]);return Object(pe.a)(Object(pe.a)({},e),{},{receivedFriendRequests:n})},Lo=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{chatsStatus:"loading"})},Do=function(e,t){var n=t.chats.map((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{inputValue:""})})),a=n.length>0?n[0].chatId:null;return Object(pe.a)(Object(pe.a)({},e),{},{chats:n,currentChatId:a,chatsStatus:"loaded"})},Ro=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{chatStatus:"failed"})},Po=function(e,t){var n="dummy"+t.chatPartner.userId,a=e.chats.some((function(e){return e.chatId===n}))?e.chats:[{group:!1,messages:[],chatId:n,members:[t.self,t.chatPartner],name:t.chatPartner.name,lastInteraction:Date.now()}].concat(Object(Je.a)(e.chats));return Object(pe.a)(Object(pe.a)({},e),{},{chats:a,currentChatId:n})},Fo=function(e,t){var n=[].concat(Object(Je.a)(e.users),Object(Je.a)(t.users));return Object(pe.a)(Object(pe.a)({},e),{},{users:n})},Bo=function(e,t){var n=e.chats.map((function(e){var n=t.notifications.filter((function(t){return t.chatId===e.chatId})).map((function(e){return Object(pe.a)(Object(pe.a)({},e.message),{},{new:!0})}));if(n.length>0){var a=function(e){var t=[];return e.forEach((function(e){t.some((function(t){return t.id===e.id}))||t.push(e)})),t}([].concat(Object(Je.a)(e.messages),Object(Je.a)(n)));return Object(pe.a)(Object(pe.a)({},e),{},{messages:a})}return e}));return Object(pe.a)(Object(pe.a)({},e),{},{chats:n})},Ho=function(e,t){return Object(pe.a)({},e)},Uo=function(e,t){var n=[].concat(Object(Je.a)(e.chats.filter((function(e){return e.chatId!==t.chat.chatId}))),[t.chat]);return Object(pe.a)(Object(pe.a)({},e),{},{chats:n})},Wo=function(e,t){return Object(pe.a)({},e)},Vo=function(e,t){console.log("CHRIS CHAT ID","dummy".concat("602627eac021720012a01948"));var n=e.chats.find((function(e){return e.chatId==="dummy".concat("602627eac021720012a01948")||e.members.some((function(e){return e.userId==="".concat("602627eac021720012a01948")}))})),a=n?n.chatId:"dummy".concat("602627eac021720012a01948"),r=n?e.chats:[].concat(Object(Je.a)(e.chats),[{group:!1,name:"Chris Loy",messages:[],chatId:"dummy".concat("602627eac021720012a01948"),members:[t.self,{name:"Chris Loy",handle:"chris",userId:"".concat("602627eac021720012a01948"),profilePic:!0}],lastInteraction:Date.now()}]);return Object(pe.a)(Object(pe.a)({},e),{},{chats:r,currentChatId:a})},Go=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:io,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CHAT_STATE_ON_LOGIN":return co(e,t);case"ADD_NEW_USERS":return Fo(e,t);case"SEND_MESSAGE_START":return po(e,t);case"SEND_MESSAGE_SUCCESS":return mo(e,t);case"SEND_MESSAGE_FAILED":return ho(e,t);case"SEND_DROP_START":return fo(e,t);case"SEND_DROP_SUCCESS":return go(e,t);case"SEND_DROP_FAILED":return Eo(e,t);case"SEND_FIRST_MESSAGE_NEW_CHAT_START":return Co(e,t);case"SEND_FIRST_MESSAGE_NEW_CHAT_SUCCESS":return _o(e,t);case"SEND_FIRST_MESSAGE_NEW_CHAT_FAILED":return vo(e,t);case"ADD_MESSAGE_TO_BUFFER":return So(e,t);case"SEND_MESSAGE_FROM_BUFFER_START":return bo(e,t);case"SEND_MESSAGE_FROM_BUFFER_SUCCESS":return Io(e,t);case"SEND_MESSAGE_FROM_BUFFER_FAILED":return wo(e,t);case"CHANGE_CHAT":return lo(e,t);case"CHANGE_CHAT_INPUT":return uo(e,t);case"FETCH_ALL_USERS_START":return Oo(e,t);case"FETCH_ALL_USERS_SUCCESS":return yo(e,t);case"FETCH_ALL_USERS_FALIED":return No(e,t);case"SEND_FRIEND_REQUEST_START":return Mo(e,t);case"SEND_FRIEND_REQUEST_SUCCESS":return jo(e,t);case"SEND_FRIEND_REQUEST_FAILED":return ko(e,t);case"ACCEPT_FRIEND_REQUEST_START":return xo(e,t);case"ACCEPT_FRIEND_REQUEST_SUCCESS":return Ao(e,t);case"ACCEPT_FRIEND_REQUEST_FAILED":return To(e,t);case"FETCH_CHATS_START":return Lo(e,t);case"FETCH_CHATS_SUCCESS":return Do(e,t);case"FETCH_CHATS_FAILED":return Ro(e,t);case"FETCH_NEW_CHAT_START":return Ho(e,t);case"FETCH_NEW_CHAT_SUCCESS":return Uo(e,t);case"FETCH_NEW_CHAT_FAILED":return Wo(e,t);case"CREATE_DUMMY_CHAT":return Po(e,t);case"CHECK_AND_ADD_NEW_MESSAGES":return Bo(e,t);case"OPEN_CHRIS_CHAT":return Vo(e,t);default:return e}},qo={anonymousId:"",token:null,name:null,handle:null,userId:"1",error:null,loading:null,checkEmailLoading:!1,checkHandleLoading:!1,takenEmails:[],takenHandles:[],signupLoading:!1,authOpen:!1,authReason:null,hasProfilePic:!1,profilePicSrc:null,receivedFriendRequests:[],sendingSubscribeEmailList:!1,sentSubscribeEmailList:!1,notifications:[{type:"TEXT_MESSAGE",chatId:"2",message:{text:"I won. By a lot.",time:"14:32",type:"text",sender:"12",id:"1"}},{type:"TEXT_MESSAGE",chatId:"3",message:{text:"Get out of my swamp!",time:"14:32",type:"text",sender:"12345",id:"1"}}],deletingNotifications:[]},zo=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{anonymousId:t.anonymousId})},Zo=function(e){return Object(pe.a)(Object(pe.a)({},e),{},{loginLoading:!0})},Ko=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{loginLoading:!1,loginError:null,signupError:null,hasProfilePic:t.profilePic,name:t.name,handle:t.handle,userId:t.userId,token:t.token,email:t.email,friends:t.friends,receivedFriendRequests:t.receivedFriendRequests,notifications:t.notifications})},Yo=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{loginLoading:!1,loginError:t.error})},Xo=function(e){return Object(pe.a)(Object(pe.a)({},e),{},{signupLoading:!0})},Qo=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{signupLoading:!1,signupError:t.error})},Jo=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{signupLoading:!1,error:null,hasProfilePic:t.profilePic,name:t.name,handle:t.handle,userId:t.userId,token:t.token,email:t.email,profilePicSrc:t.profilePicSrc,friends:t.friends,receivedFriendRequests:[],notifications:[],sendingSubscribeEmailList:!1})},$o=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{checkEmailLoading:!0})},es=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{checkEmailLoading:!1})},ts=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{checkEmailLoading:!1})},ns=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{checkEmailLoading:!1,takenEmails:[].concat(Object(Je.a)(e.takenEmails),[t.email])})},as=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{checkHandleLoading:!0})},rs=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{checkHandleLoading:!1})},os=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{checkHandleLoading:!1})},ss=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{checkHandleLoading:!1,takenHandles:[].concat(Object(Je.a)(e.takenHandles),[t.handle])})},is=function(e,t){var n=e.notifications.filter((function(e){return!(e.type.startsWith("NEW_MESSAGE")&&e.chatId===t.chatId)}));return Object(pe.a)(Object(pe.a)({},e),{},{notifications:n})},cs=function(e,t){return e},ls=function(e,t){return e},us=function(e,t){return e},ds=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{notifications:t.notifications})},ps=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{sendingSubscribeEmailList:!0})},ms=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{sendingSubscribeEmailList:!1,sentSubscribeEmailList:!0})},hs=function(e,t){return Object(pe.a)(Object(pe.a)({},e),{},{emailListError:t.message,sendingSubscribeEmailList:!1,sentSubscribeEmailList:!1})},fs=function(e,t){var n=e.notifications.find((function(e){return e.id===t.notificationId}));console.log(n);var a=e.notifications.filter((function(e){return e.id!==t.notificationId})),r=[].concat(Object(Je.a)(e.deletingNotifications),[n]);return Object(pe.a)(Object(pe.a)({},e),{},{notifications:a,deletingNotifications:r})},gs=function(e,t){var n=e.deletingNotifications.filter((function(e){return e.id===t.notificationId}));return Object(pe.a)(Object(pe.a)({},e),{},{deletingNotifications:n})},Es=function(e,t){return Object(pe.a)({},e)},Cs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qo,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ANONYMOUS_ID":return zo(e,t);case"LOGIN_START":return Zo(e);case"LOGIN_SUCCESS":return Ko(e,t);case"AUTH_FAIL":return Yo(e,t);case"SIGNUP_START":return Xo(e);case"SIGNUP_SUCCESS":return Jo(e,t);case"SIGNUP_FAIL":return Qo(e,t);case"CHECK_EMAIL_TAKEN_START":return $o(e);case"CHECK_EMAIL_TAKEN_SUCCESS":return es(e);case"CHECK_EMAIL_TAKEN_FAILED":return ts(e);case"EMAIL_ALREADY_TAKEN":return ns(e,t);case"CHECK_HANDLE_TAKEN_START":return as(e);case"CHECK_HANDLE_TAKEN_SUCCESS":return rs(e);case"CHECK_HANDLE_TAKEN_FAILED":return os(e);case"HANDLE_ALREADY_TAKEN":return ss(e,t);case"MESSAGES_READ_START":return is(e,t);case"MESSAGES_READ_SUCCESS":return cs(e);case"MESSAGES_READ_FAILED":return ls(e);case"CHECK_AND_ADD_NEW_MESSAGES":return us(e);case"UPDATE_NOTIFICATIONS":return ds(e,t);case"SUBSCRIBE_EMAIL_LIST_SUCCESS":return ps(e);case"SUBSCRIBE_EMAIL_LIST_SUCCESS":return ms(e);case"SUBSCRIBE_EMAIL_LIST_FAILED":return hs(e,t);case"DELETE_NOTIFICATION_START":return fs(e,t);case"DELETE_NOTIFICATION_SUCCESS":return gs(e,t);case"DELETE_NOTIFICATION_FAILED":return Es(e);default:return e}},_s={darkmode:!0,dropModalOpen:!1,currentTab:"creator",menu:{open:!1,menuStack:["AUTH"],currentDepth:0,shouldMoveRight:!1},newChatModalOpen:!1,windowWidth:1080,loginOrSignup:"login"},vs=function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/10))},Ss=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GO_DARK":return console.log("Bravo 6 going dark"),Object(pe.a)(Object(pe.a)({},e),{},{darkmode:!0});case"GO_LIGHT":return Object(pe.a)(Object(pe.a)({},e),{},{darkmode:!1});case"SWITCH_TAB":return vs(),Object(pe.a)(Object(pe.a)({},e),{},{currentTab:t.tab});case"OPEN_DROP_MODAL":return Object(pe.a)(Object(pe.a)({},e),{},{dropModalOpen:!0});case"CLOSE_DROP_MODAL":return Object(pe.a)(Object(pe.a)({},e),{},{dropModalOpen:!1});case"OPEN_MENU":return Object(pe.a)(Object(pe.a)({},e),{},{menu:Object(pe.a)(Object(pe.a)({},e.menu),{},{open:!0})});case"CLOSE_MENU":return Object(pe.a)(Object(pe.a)({},e),{},{menu:Object(pe.a)(Object(pe.a)({},e.menu),{},{open:!1})});case"OPEN_NEW_CHAT_MODAL":return Object(pe.a)(Object(pe.a)({},e),{},{newChatModalOpen:!0});case"CLOSE_NEW_CHAT_MODAL":return Object(pe.a)(Object(pe.a)({},e),{},{newChatModalOpen:!1});case"SET_WINDOW_WIDTH":return Object(pe.a)(Object(pe.a)({},e),{},{windowWidth:t.width});case"SET_UI_STATE_ON_LOGIN":return Object(pe.a)(Object(pe.a)({},e),{},{menu:{open:!1,menuStack:["USER_MENU"],currentDepth:0}});case"ADD_TO_MENU_STACK":return Object(pe.a)(Object(pe.a)({},e),{},{menu:Object(pe.a)(Object(pe.a)({},e.menu),{},{shouldMoveRight:!0,menuStack:[].concat(Object(Je.a)(e.menu.menuStack),[t.next])})});case"POP_FROM_MENU_STACK":return Object(pe.a)(Object(pe.a)({},e),{},{menu:Object(pe.a)(Object(pe.a)({},e.menu),{},{currentDepth:e.menu.currentDepth-1,menuStack:e.menu.menuStack.slice(0,e.menu.menuStack.length-1)})});case"MOVE_MENU_RIGHT":return Object(pe.a)(Object(pe.a)({},e),{},{menu:Object(pe.a)(Object(pe.a)({},e.menu),{},{shouldMoveRight:!1,currentDepth:e.menu.currentDepth+1})});default:return e}};f.a.defaults.baseURL="".concat("https://meme-drop.herokuapp.com");var bs=Object(wr.c)({user:Cs,chat:Go,stream:so,ui:Ss}),Is=wr.d,ws=Object(wr.e)((function(e,t){return"LOGOUT"===t.type&&(e=void 0),bs(e,t)}),Is(Object(wr.a)(Or.a)));i.a.render(o.a.createElement(m.a,{store:ws},o.a.createElement(ga.a,null,o.a.createElement(Ir,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[106,1,2]]]);
//# sourceMappingURL=main.cae16a72.chunk.js.map