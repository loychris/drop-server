(this["webpackJsonpdrop-stream-frontend"]=this["webpackJsonpdrop-stream-frontend"]||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports={SelectionMenu:"SelectionMenu_SelectionMenu__Z2ojO",flex:"SelectionMenu_flex__15n15",flexSpaceBetween:"SelectionMenu_flexSpaceBetween__24DeG",inputWrapper:"SelectionMenu_inputWrapper__3hFux",input:"SelectionMenu_input__3orDM",colorInputContainer:"SelectionMenu_colorInputContainer__26PLt",colorInputBackground:"SelectionMenu_colorInputBackground__1MWGq",colorInput:"SelectionMenu_colorInput___MyX7",colorOptions:"SelectionMenu_colorOptions__QAwhL",alignIcons:"SelectionMenu_alignIcons__3h8DA",alignIcon:"SelectionMenu_alignIcon__1OtCb",alignActive:"SelectionMenu_alignActive__2hj9a",alignInactive:"SelectionMenu_alignInactive__2E3LX",textBoxTypeOptions:"SelectionMenu_textBoxTypeOptions__30bQ5",fontSelector:"SelectionMenu_fontSelector__3j2fj"}},,,function(e,t,n){e.exports={MenuItems:"AuthMenu_MenuItems__3rNnh",BackButton:"AuthMenu_BackButton__37MYS",Dropzone:"AuthMenu_Dropzone__1q8ct",ProfilePicPlaceholder:"AuthMenu_ProfilePicPlaceholder__324KV",ProfilePic:"AuthMenu_ProfilePic__1bHlH",TextInput:"AuthMenu_TextInput__13WDk",Invaid:"AuthMenu_Invaid__2SyHm",onAutoFillStart:"AuthMenu_onAutoFillStart__13px6",Textinput:"AuthMenu_Textinput__2ehuS",onAutoFillCancel:"AuthMenu_onAutoFillCancel__3M0RO",ErrorMessage:"AuthMenu_ErrorMessage__2ZQks",CreateAccount:"AuthMenu_CreateAccount__3rr2F",CheckboxText:"AuthMenu_CheckboxText__3DRRH",CheckboxContainer:"AuthMenu_CheckboxContainer__3hbZz"}},,,,function(e,t,n){e.exports={AddButton:"AddButton_AddButton__247dH",Spinner:"AddButton_Spinner__VKy9T",AddIcon:"AddButton_AddIcon__15XCF",Inverted:"AddButton_Inverted__19rUX",AddIconGLow:"AddButton_AddIconGLow__Boows",Clickable:"AddButton_Clickable__VUiJp",TextButton:"AddButton_TextButton__19czF"}},,function(e,t,n){e.exports={LogoutContainer:"UserMenu_LogoutContainer__256hM",LogoutIcon:"UserMenu_LogoutIcon__1thmb",LogoutText:"UserMenu_LogoutText__1BpvJ",MenuItems:"UserMenu_MenuItems__knxvC"}},,,,function(e,t,n){e.exports={ChatPrev:"ChatPrev_ChatPrev__3fJMz",ProfilePic:"ChatPrev_ProfilePic__2fF2Q",Link:"ChatPrev_Link__1nvmI",Active:"ChatPrev_Active__2B2Xo",Preview:"ChatPrev_Preview__11hWt",Info:"ChatPrev_Info__2FAib",Name:"ChatPrev_Name__LGoDf",ConnectorUp:"ChatPrev_ConnectorUp__EQSim",ConnectorDown:"ChatPrev_ConnectorDown__2pwH6",SingleDigit:"ChatPrev_SingleDigit__3gW4S",DoubleDigit:"ChatPrev_DoubleDigit__1TOYN",TrippleDigit:"ChatPrev_TrippleDigit__10R-l",NotificationCount:"ChatPrev_NotificationCount__3_GZ6"}},function(e,t,n){e.exports={Footer:"Footer_Footer__238hM",SocialButtons:"Footer_SocialButtons__1QO7E",Link:"Footer_Link__2v7FB",Icon:"Footer_Icon__2abUb"}},function(e,t,n){e.exports={StreamElement:"StreamElement_StreamElement__3OCsm",Light:"StreamElement_Light__2TtLJ",Dark:"StreamElement_Dark__2dlJY",LogoForButton:"StreamElement_LogoForButton__1AJ3s",title:"StreamElement_title__1alnv",hideCommentsButton:"StreamElement_hideCommentsButton__2tvUl",showCommentsButton:"StreamElement_showCommentsButton__378tv",ShowDrop:"StreamElement_ShowDrop__1aiJj"}},function(e,t,n){e.exports={MessageContainer:"Message_MessageContainer__gf0e5",Sent:"Message_Sent__2XCKT",Received:"Message_Received__1847w",Message:"Message_Message__1uVPF",Text:"Message_Text__2KRx3",Sending:"Message_Sending__1OvWC",Image:"Message_Image__jO4GU",Drop:"Message_Drop__Tob2B",Time:"Message_Time__2J939"}},function(e,t,n){e.exports={Navigation:"Navigation_Navigation__1tTPb",active:"Navigation_active__1Sofg",inactive:"Navigation_inactive__HaPCz",SingleDigit:"Navigation_SingleDigit__2RgMU",DoubleDigit:"Navigation_DoubleDigit__1ow4U",TrippleDigit:"Navigation_TrippleDigit__10ipn",NotificationCount:"Navigation_NotificationCount__daxOy"}},function(e,t,n){e.exports={CommentContainer:"Comment_CommentContainer__1pRtV",Comment:"Comment_Comment__3-CQ4",Root:"Comment_Root__2CJ9O",actualComment:"Comment_actualComment__2e5Xa",CommentBackground:"Comment_CommentBackground__2ay4r",selected:"Comment_selected__1Cjjs",sending:"Comment_sending__2ZFQ6",SpeechBubbleArrow:"Comment_SpeechBubbleArrow__2Bk8e"}},function(e,t,n){e.exports={ChatPreviews:"ChatPreviews_ChatPreviews__fzX0l",SearchContainer:"ChatPreviews_SearchContainer__Ej40j",SearchInput:"ChatPreviews_SearchInput__GTzsf",SearchIcon:"ChatPreviews_SearchIcon__1xA98",NewChatContainer:"ChatPreviews_NewChatContainer__B-M_c",AddChatIcon:"ChatPreviews_AddChatIcon__2Ywob",NewChatMessage:"ChatPreviews_NewChatMessage__1YuwC",ScrollContainer:"ChatPreviews_ScrollContainer__3gP52",EmptyMessage:"ChatPreviews_EmptyMessage__DTHP9",LoaderContainer:"ChatPreviews_LoaderContainer__1-XQ1",Spinner:"ChatPreviews_Spinner__1xiTt"}},function(e,t,n){e.exports={Corner:"ResizeHandler_Corner__3-KWA",Edge:"ResizeHandler_Edge__1xF-y",NW:"ResizeHandler_NW__TAwmj",SW:"ResizeHandler_SW__3WC-T",SE:"ResizeHandler_SE__1GarH",NE:"ResizeHandler_NE__dMKUa",N:"ResizeHandler_N__3ZPKg",S:"ResizeHandler_S__2Tcvz",W:"ResizeHandler_W__2yN16",E:"ResizeHandler_E__HY2p2"}},function(e,t,n){e.exports={Container:"SidePanel_Container__2n4dm",Overlay:"SidePanel_Overlay__3H8RD",ProfilePic:"SidePanel_ProfilePic__2088H",MenuOpen:"SidePanel_MenuOpen__3zM5A",Menu:"SidePanel_Menu__1Le88",NameArea:"SidePanel_NameArea__uF_F1",Handle:"SidePanel_Handle__3Hwhr",Name:"SidePanel_Name__10lm8",MenuItems:"SidePanel_MenuItems__2Im6n",LightMenu:"SidePanel_LightMenu__3snu5",DarkMenu:"SidePanel_DarkMenu__3io-a"}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAYAAACohjseAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABCKSURBVHgBbVrbj15VFV/r9JvpMJ1pO0xvM9MCrZS29AJtgZaSQhCIMYZIiClKxPDmi+8+8mB80L/AN4wQxQtRX4yXCCYEFCGoUCwVAwHbQu9MW9rOzHfWcu912/t8M4Vvvu+cs88+a63fWr+19jobf/vKy9zvt9CmT79N3y2BHKfvdI4X+i2SnyPi/kKLbTUu3cPpOjIxQPqfiICYOf1BZoJ8nuQayzU5Tr85D5LzhPpFcj2Pk9vbdJYhPSsP5Dx/HpVlkWOwf4go4yFfTEf57qZpUJ6VDpp8EbNoKHPnW/LfPAnoJTkAOUkysTxJZFSlUO9LyiWFsoiQBYKskE7JzPYtNtA/PokqZyNQlKdWn23Tos2CNsxlkssig84tz8yns1HcAD0bhKA6ZM0VDRXBFQIVOivBYh2xth6H1fMzMCOSz+Q55dCUyGjKP0LVKyOs92YYRMl0D2YlQebPD0/oijBiRAQww5HcpLbUK6pvgwaqC42NKQIGOxvu6hZh5UoYCOPYpAxuOc7G0XGiBMRwxtVbNsH0fftlTnHRrLA4BWUXV6QAwnBJSkEMRRF9lngIub9weICiKELbMcX1Hjsyal8bpIKa4PYbPXbsXjILurXsGaKkqU2K2PD4GEwd2g+90VFYuDoHn77xL4k7BDY3LHFqAqo7gMcuG+I6bxVQCGEA8mN3YEGpYQ5LoAerC80hqVocKgzzj9Z0cEWTJFgmiBjjLzz2EAyNj8qYdXv3wNo7dysheQxaYOm8FGi4a7IZliwI/dPxIgaLUTZv0DGND0R3Jlb2gyAF9RJ9jqJJ6l7iisjFslSMpRZPQ2YO78OhsVEQ9iG9npVcdeuWENRiO5FLyxan+nxHlYpMqG4iMWgKK9lBrViENjbGcgNWMVIw/rM/CBzOjzaNyB33o5ObHk/u2ILr7thhbpcFLp/1d90Fy1dPiGuJ4iRGE5IAiythRKd5E8Po3xBG9Nh1P3IUmZWomgIzGCtScINYDpRl1ZASqSjPJqFti4dwI3cpXL5yDDbcs1sFdfTsd5582dAw3PTAg9BbMe521+d7nuTC/3JfdlcqICh61AEnHaK6NRuCgE3tyyTGQkanxo6Pc7gNCppOAGTPN3Bt7NbHH4Lh8RXZYqqgWU1RUKF7o2MwfeA+KSS4MrQmdTAXzKnCnN7mJqNNrQtEbketE6N5mCkohQLazRjsCU4WlWDmliRoizg5JpAqYpk6uAeGxlZIwlbGTnfZb0fQUR1duwHW773HztkcxpiOhipjqcwyXeV0QeNBSFW4NeqWVvpwYciItjLYFHcichJXO7hywyvHeOrAropuIRCMcq41t7NzE7fuhLGpTWpEoOJRZMkq8lpFPFDc2FAWlzQ3Z7Z006jszmbulequVBSR2Kx1hrBI5E7xxm1fexgV3jruOBQlKixXSIdhw77D4rIdFCCIzc8JY5JWPcLqQjolX2plleNM5cUGsYOSC4zlIW46Z7IYw0oqfhJh5uBuSQl57tYK0Y4yzB0mrYkHe8Mwtfew5ruWuHZ5z5cQYBgZsoVr7Zb+MU9sCvMF1crArLjWBFTcUX9bLizI58HDKZFP37s7ECgIgsSfoGjxCOGexbXz75Ebp2Biy05BwISuSYMZYhWB5qZovGJy+KWSLhqD1HxT3Mz9P+jWGA5DGPU3CXwFhmD7kUeKEgQDCmCgRq0ZmJzpumiu2X4Alo9PBnIKU2HHcNFAVAryigg1TzoLNyWUDJKIEf3pMakE4B7LgXaiGFx357aUz7JrYokxQ0+XPgx1Dht00w6DpnNrd94PmhwZtbYRybwU03hA9OKcgxjIUobFrFUyGU5PDWkSYCtfwwWr+pJjYasugpxdc+OhO+IcmFIxxlCNEGi77gl2TqsXHZMRXLVppxmDLDWJVTHkIQp2j9LROMRjMi3ME4LsnqtrKgRdyFauGZ8oSoSgVeKZQ7th2fBQuA+HW5kSAF3GZOiwK1N9vZyf2LwPlo2MOblhEBuXuLd1qRwIMfka1aAOBFV4cqBMV9L1HUDFsLpaAC3hMnqY6k3La7XboaUE6Lpp6+SzWCmqXFTqsmYYJm7epyUalzRmfCNMayEYiDl/cpUJGvaFrsZULGwryN3xw7d9xb79yMNVXFVKupUrJdxNqUau+hTlCqpj67fBDaunXQZBsq4/TaKQQXs+xV2zCRqBC6qyDOK+YhGp5cjrz7zyxcnbN6dYWVEhBB23i2olmlFcFdsYxMJVytDfGGPzmNWb9gsrkDWphIBtASx1cGnnYADDnjctTXApWu2iIylFalQTWino8Jl7dy1SijvpATvnNH2gJ/Jg20EGLQSlxyMrp9NngyqghJFDS2VCKc6wdlkrxB30VIuyeTcX1+JStdtYyzMCNuOaHbfgsKDnwmAn93lKiPhqy/y+tB50z7YtZFankCzv6o13a+HOVqpVC2IKCKGAwl7p5JZFqdjN1BAMmhfPxN5jAe11Ql6R39ZBjTqsWLlc5eN1VUOeIqx2JFuaFOS7XjEyNg295WOhRGX8wgEqoeZGuVGTfWc9GIypGnlgm1W1ZBubXgs3rJnoCOLBGp9OvEHHVamOSXNd7xdpnqSOgZwXxtZsB/YCxgiUZIWLSMXzIiDz//l6Uzze6DfClJC9AIDCqzfu2KwxFG4HUWsuVoojeXMn1ioyWuQFdSxzzL9y3R7hBjmBEOtPCrq2fo0YQDroQkA5BqXZS9oRE33IGknaCQcjHaXhlZunK7fruuIgzXeVqdx38FqQ0GIPEETTb2yWw8j4TGldKoKs8tfxG90BIaMGHNIqQYanUqwkRKBVW2agGeppORaTQhBDN+/VZFF9WjbEi6LQQa8wKnPlAem7NzLpz2QvuE0xmaqtKxlDsqHIfMiRAp1JTWZLswm9mSp+sqDQEWywBKPBQpq7RqgVz7L5um+wqvHxI2MbrX8qLf68mNUWfDCo1p9gXbf8uJ67oNGqRp8mcz/2BMojk6uwU2YFSVSuWlG8GKPlRTEGPBBjnm6ofGjAWHnc0PJJVd66YqgpWt88Wbsi50aSRa4uGXoVw1iO1zZvnCsPwtx6Z6qVKgL+5SfPwsvPPQsXTp2A6a074PCRp2HvI49BqZsKmZATU/p+8w/PwZt/eh4unT8Fa2e2wZ7DT8K2vY9WblqMsay30tOBBQ1Yfxa0FwhOoIZsgrjnJGQVtr/2sjzK2kPU4hvzqqHt8yLrvv7rF+HFH3wP/N+p94/Bz7//Xbjy2SU49NWnQhmoySV9v/PKb+ClF34Y9509eRz+/MIzcP3KZdh14OtVbPvCWO9D9VPMDSp7J6iIGohmAFvwipxUGr4ef5osAz2yUzCQ27KyLyf0lvr32q9+DIO5karYe/OPzy9539uv/rSTI6MwkLmsE65IssOG/m7RX8CqorJcygHLmmi1NEOdF70KZasB5y593o0ZU/TEe/9eUtCLp09ai2GQUVXZMx8fX/K+yxdPWRxWiEsFNK9xrUqyxlvwhiqvSmshng4aS5aiudatEiPadsvIOcOk4/71+S5rmpVvnN64pKBTW7aX/FblODfMqsnpJe+b3HBbl0nVmWBhftbrWWlZkBaw5aUPaR6UgttWF1rJMGOV5XMFU1b4wbAA185erIjFiYLhgSefXlLQg499qyrhurkyn9z30DeXvG/XwW90YlWLF4D+3KyypgFiuY852FEVz3+1VZPegTz6xJFn+i2hv2ltSfsu2g5gSZ55JZJfey8bvQHHpjeURC1KAty0ay9MrJ+B86dOwpUL52D1+o3wxae+A3d/+YmS2C1nSldN7kfYcPNuGJ+YhtlzJ+Hq5fMwvnoK7nrw27Bj/+Mxt7tnVvHKheNp3P+gRJ6qExnf8iL768ZsjR+9+Evu9/vQ7+ddE/3EksTzC33ZSdFfaGEh76TI19PvoVUrYeujX1ImjY/mOv/dLpAoQZ0xNk6+aeAeu68e2/p4HWvUACeO/wKuJQU984BmNttpkdZ+jSrbNE2UbpoHOUb7ewqxApW1omws+PzcBezPzec2dEnWzIvKLLBSzVuQ4OOYB1i1SzpRN1elXBQMNNdBT7uKLL15L9dsbZDfb8QSsDEOqd7OstekaiR7prIm8ul33oNoSbSLmbFOzuRVSctLKFSPK4TSWel7kzgpc+Xif8MIwo8mn7+nsOCLFb7L3jjNom1LKVWNLZ2kFyobDtKAFk8fPWZWxECvlF5dREsdijEGBlYa9foQqjLOO3HW34UzJ15l4Qm1uL0+qK0PxQBt6ec37szS/HUJTUmggqSSTmayOTj97rGoMV04XgKlyH9cyEWEqnIiUFdx8tYil9ibPXcUFuY+0/4tQiRy9Dxomxac7Y1spChvYCB0uHpl5vHpsSPBnAadeOsf0F6fK6jVNSNDpxCnwfiq3HCRW/s6z87n51F/Ds6dfC2W6tZTQs95Khu557D/Dhfl6nW05UbwlipXa778R/aNJSkz0fznpZdAa0TuJO/B9VxslerEKZdmMXfP57gL66Y/Z0++CvPXZzG2lph/k7uorSb8mKwzxTauCbRELmnKq6LR+2f7T+sHMwBf/vQT/vjvry+BSo0aKuW3JU6NrOSg9oD6uqGUkUvl3luFEyx523pUk0QdqOrBSjQmj63oTY1wVdtmBRarVKymrkBSAHxy7Ch89MbfLIyxWD4IpcRpW8coV6uDiGNlTamy0u9zp/6aPq+p2QUiXeLIglY5wptNulnBqy/3GAOpx0YgQSygCLHtLLQ3VrZlRF0AfMNbLpiPH4ULH33IW+//SnpJu6KUcFT1Q8kfWBferhx38uD89Uvw6Ye/hyuXPmYXPpZEFeF5MnfkVDECJ82UIEWPHhNHavCEDB1LyM1altrC0cshB2zu6mU8+rufpVdeW3ntzbfj8hWTSvnu6lG3Qri0r150tQFwdfYEXDzzLnx29qjcA7aHjvXNUuEFI/m8RzWWf6wdptBOVkIkLNuDsscw2xJ1qaX+huVdvSglJZjtSLJk66wmAlz46Die/+BYag6tgPG1t8Boarn3hsehNzSWHjYc8TZ/9RL056/D57Nn4NqlMykNvM/z12arioSDJaW/ab3SsmYHXw9GmaZbKNmpIsixx6aQ5kH97claCckWvlrHV+YA62yUF47atE1udvUynP3g7TTHP1OsthVL6lImuS7qwlVe6uS4kgfrXlUXtGzndORMegkTR8x3GaY52co2AUpYQXc6yQZWI5horLJPKDdb0rRYxfLWmEuq4FLy2XV3e66uGefJY6pGV+waZpPLEjgH27qS/ix0HCuSBNcjciaxIUjoMElx0equ3VLJsO8CrpM2ukQcnTeOyatiAbnkIdR36tXGI42v4jk2T/4hfc6EcpshLxtjRRDb/sW29mMnH91IG8NkS3NsI5FevwW3uK0iiSXZR5mEVBRB34vpRW8rdZmyWjEIQ7kHSm4Tgsibz424AqUSa1jIBcx1tfenLVHxquK6EDsQsw69imrVwvVkphhHXmXEaheRFQN2zRs7VBDkcCP27VgiSLhW7Z4ey9lQ5Lu0kJxRKzHd/fLuekUzIay/q5WExmmPSwI3tKjOTUbRutDK1m4zPTv9qw0whK2KBe7MqfTA3m63PQIalxKwvqNQN6HnYhkoalPoIAhRuMT+7qScp49Az77/DyKrHJV+C7k0AAAAAElFTkSuQmCC"},function(e,t,n){e.exports={TextInput:"TextElement_TextInput__1KrCZ",topAlign:"TextElement_topAlign__iMBaG",middleAlign:"TextElement_middleAlign__2ZxBb",bottomAlign:"TextElement_bottomAlign__3cJU0"}},function(e,t,n){e.exports={CommentContainer:"SubComment_CommentContainer__3pN14",Comment:"SubComment_Comment__3QuPl",Root:"SubComment_Root__3euip",CommentBackground:"SubComment_CommentBackground__2YwBN",actualComment:"SubComment_actualComment__A31dE",unselectRect:"SubComment_unselectRect__MO8ow",sending:"SubComment_sending__3HKiD",selected:"SubComment_selected__3zWkG",CommentBackgroundNeumorphism:"SubComment_CommentBackgroundNeumorphism__3JPk3",SpeechBubbleArrow:"SubComment_SpeechBubbleArrow__1pXFE"}},function(e,t,n){e.exports={TopMenu:"TopMenu_TopMenu__KNG5p",LeftAlign:"TopMenu_LeftAlign__2xUF9",RightAlign:"TopMenu_RightAlign__2nWqm",MenuItem:"TopMenu_MenuItem__VTSNx"}},function(e,t,n){e.exports={ExportModal:"ExportModal_ExportModal__1dqm9",Background:"ExportModal_Background__RsbW8",Modal:"ExportModal_Modal__1lp19",PreviewContainer:"ExportModal_PreviewContainer__1E3j6",Preveiw:"ExportModal_Preveiw__NOHR9",DownloadOptions:"ExportModal_DownloadOptions__2nYOZ",DownloadWrapper:"ExportModal_DownloadWrapper__1H_WS"}},function(e,t,n){e.exports={CommentForm:"CommentForm_CommentForm__2ziHj",CommentInput:"CommentForm_CommentInput__2JXGs",CommentInputBackground:"CommentForm_CommentInputBackground__1TW1s",SpeechBubbleArrow:"CommentForm_SpeechBubbleArrow__3gt-i",TextArea:"CommentForm_TextArea__82bTZ",InputContainer:"CommentForm_InputContainer__2Kt2i",toplevel:"CommentForm_toplevel__2NYbc"}},function(e,t,n){e.exports={Stream:"Stream_Stream__1p-EH",OutRight:"Stream_OutRight__2aEf-",River:"Stream_River__1O9az",RiverGlow:"Stream_RiverGlow__mAxa8",Boat1:"Stream_Boat1__1Z0Du",Boat2:"Stream_Boat2__3IrRP",wtfButton:"Stream_wtfButton__3i49j",wtfContainer:"Stream_wtfContainer__3DD06",SubLine:"Stream_SubLine__MVszT",EmojiButton:"Stream_EmojiButton__2W_FH",LeftThumb:"Stream_LeftThumb__3tnvu",RightThumb:"Stream_RightThumb__2xIpX"}},function(e,t,n){e.exports={Modal:"NewChatModal_Modal__3n-er",SearchContainer:"NewChatModal_SearchContainer__1PZ0o",SearchInput:"NewChatModal_SearchInput__33tyc",SearchIcon:"NewChatModal_SearchIcon__1DLA0",ScrollContainer:"NewChatModal_ScrollContainer__1XoBc",LoaderContainer:"NewChatModal_LoaderContainer__1M8IG",Spinner:"NewChatModal_Spinner__3J-6G"}},,,function(e,t,n){e.exports={CommentMenu:"CommentMenu_CommentMenu__3B8Xo",MenuItem:"CommentMenu_MenuItem__l5Lxn",Seperator:"CommentMenu_Seperator__3O3Yx",Trash:"CommentMenu_Trash__um9o6",DeleteDialog:"CommentMenu_DeleteDialog__1AU-G",YesButton:"CommentMenu_YesButton__PmqGu",NoButton:"CommentMenu_NoButton__2NJ_f"}},function(e,t,n){e.exports={Chat:"Chat_Chat__3NjUX",OutLeft:"Chat_OutLeft__1_mEV",OutRight:"Chat_OutRight__YGIUX",NotLoggedInContainer:"Chat_NotLoggedInContainer__2Hcrs",NotLoggedInMessage:"Chat_NotLoggedInMessage__Bn3g9",InnerContainer:"Chat_InnerContainer__rd9e-"}},function(e,t,n){e.exports={ChatWindow:"ChatWindow_ChatWindow__3ZoYy",BigChatWindow:"ChatWindow_BigChatWindow__19t_d",SmallChatWindow:"ChatWindow_SmallChatWindow__2GHo6",Messages:"ChatWindow_Messages__1N3ql",NotEncryptedMessage:"ChatWindow_NotEncryptedMessage__bqLT2",Loader:"ChatWindow_Loader__2w4-b",NewMessageSeparator:"ChatWindow_NewMessageSeparator__2uQ7X"}},function(e,t,n){e.exports={ChatPrev:"ChatPrev_ChatPrev__1lyZi",selected:"ChatPrev_selected__y6ntP",Preview:"ChatPrev_Preview__1ByQn",ProfilePic:"ChatPrev_ProfilePic__1R9OE",Link:"ChatPrev_Link__1gyEA",Active:"ChatPrev_Active__2SofW",Info:"ChatPrev_Info__2XPhd",Name:"ChatPrev_Name__11Zqr",ConnectorUp:"ChatPrev_ConnectorUp__3UBMQ",ConnectorDown:"ChatPrev_ConnectorDown__1juAG",Notifiaction:"ChatPrev_Notifiaction__1pdd1"}},function(e,t,n){e.exports={voting:"Voting_voting__3vVRy",up:"Voting_up__3cj2v",down:"Voting_down__3d4pn",points:"Voting_points__34ens",glow:"Voting_glow__21-0a"}},function(e,t,n){e.exports={Button:"NeumorphismButton_Button__3Mhi_",Light:"NeumorphismButton_Light__1hn8R",Dark:"NeumorphismButton_Dark__3fV4M",SubmitComment:"NeumorphismButton_SubmitComment__1CjOP",Disabled:"NeumorphismButton_Disabled__3xpGV"}},function(e,t,n){e.exports={Creator:"Creator_Creator__12J2i",canvas:"Creator_canvas__V-qwf",grid:"Creator_grid__3-p6j",Content:"Creator_Content__38q3Z",Blinking:"Creator_Blinking__3a5Xa",blinker:"Creator_blinker__u2hUA",OutLeft:"Creator_OutLeft__1ttKS",OutLeftLeft:"Creator_OutLeftLeft__2SQ0t",SendingWrapper:"Creator_SendingWrapper__cUrbo",Form:"Creator_Form__2GT40",SendButton:"Creator_SendButton__pJL7m",ErrorMessage:"Creator_ErrorMessage__1iWUe",Checkmark:"Creator_Checkmark__20ycc",Spinner:"Creator_Spinner__dq7fA",Sending:"Creator_Sending__3AyYF",Disabled:"Creator_Disabled__sZMz-",TakTakTak:"Creator_TakTakTak__3tHwA"}},function(e,t,n){e.exports={ChatPrev:"UserPrev_ChatPrev__2Fkpd",ProfilePic:"UserPrev_ProfilePic__3_nZY",Link:"UserPrev_Link__2yoHm",Active:"UserPrev_Active__3CTz3",Preview:"UserPrev_Preview__28pMt",Info:"UserPrev_Info__2DeeM",Name:"UserPrev_Name__21Zdo",ConnectorUp:"UserPrev_ConnectorUp__OHqYY",ConnectorDown:"UserPrev_ConnectorDown__3dfXw",Notifiaction:"UserPrev_Notifiaction__oO-da"}},function(e,t,n){e.exports={Modal:"DropModal_Modal__izsVc",SearchContainer:"DropModal_SearchContainer__3meeK",SearchInput:"DropModal_SearchInput__1qIWA",SearchIcon:"DropModal_SearchIcon__BxKrh",ScrollContainer:"DropModal_ScrollContainer__2Un2N",LoaderContainer:"DropModal_LoaderContainer__2155I",Spinner:"DropModal_Spinner__1SZUx"}},function(e,t,n){e.exports={MenuScreen:"MenuScreen_MenuScreen__37x6c",left:"MenuScreen_left__2KbP-",right:"MenuScreen_right__16duB",LogoutText:"MenuScreen_LogoutText__2aVtF",CheckboxText:"MenuScreen_CheckboxText__3QIIk",CheckboxContainer:"MenuScreen_CheckboxContainer__AE6qE",Dropzone:"MenuScreen_Dropzone__2vjFT",ProfilePicPlaceholder:"MenuScreen_ProfilePicPlaceholder__1GWyr",ProfilePic:"MenuScreen_ProfilePic__2iQ_F",BackButton:"MenuScreen_BackButton__1q91L"}},,,function(e,t,n){e.exports={Content:"Content_Content__3juYp",ContentContainer:"Content_ContentContainer__3CNVh",Spinner:"Content_Spinner__27jW_",Meme:"Content_Meme__1e2JB"}},function(e,t,n){e.exports={CommentSection:"CommentSection_CommentSection__g3AjZ",hidden:"CommentSection_hidden__2qlkD",comments:"CommentSection_comments__2KHFw",ShowMoreComments:"CommentSection_ShowMoreComments__3-Tdf",NeuMorphism:"CommentSection_NeuMorphism__1Nepv",Spinner:"CommentSection_Spinner__2zJe0"}},function(e,t,n){e.exports={PrimaryButton:"PrimaryButton_PrimaryButton__2q7QZ",PrimaryButtonFlat:"PrimaryButton_PrimaryButtonFlat__36rlY",PrimaryButtonNeumorphism:"PrimaryButton_PrimaryButtonNeumorphism__Gt2M2",Disabled:"PrimaryButton_Disabled__1O0bV"}},function(e,t,n){e.exports={ChatInput:"ChatForm_ChatInput__1kLXn",TextareaContainer:"ChatForm_TextareaContainer__22FgX",Textarea:"ChatForm_Textarea__EcqJR"}},function(e,t,n){e.exports={Element:"Element_Element__3cgSw",highlight:"Element_highlight__32Nsz",Image:"Element_Image__2dEuO",Rect:"Element_Rect__121rk",text:"Element_text__mgt81"}},,,,,,function(e,t,n){e.exports={Source:"Source_Source__2tzeb",Header:"Source_Header__ID_zx",Link:"Source_Link__2KUn5"}},,,,function(e,t,n){e.exports={selected:"Branches_selected__69WnF",Root:"Branches_Root__VPCsi"}},function(e,t,n){e.exports=n.p+"static/media/Boat.3dbd1766.png"},function(e,t,n){e.exports={HL:"Line_HL__3cneY",VL:"Line_VL__327lv"}},,function(e,t,n){e.exports={MenuItem:"MenuItem_MenuItem__7Q6zk",Invalid:"MenuItem_Invalid__vbVHW"}},function(e,t,n){e.exports={Feedback:"Feedback_Feedback__OO24w",Link:"Feedback_Link__2Kk4p"}},,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/TrashOpen.72dbd9cc.svg"},function(e,t,n){e.exports=n.p+"static/media/TrashClosed.031e471e.svg"},function(e,t,n){e.exports={AuthorPic:"AuthorPic_AuthorPic__1aedT",NeuMorphism:"AuthorPic_NeuMorphism__2A3xt"}},function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},,function(e,t,n){e.exports=n.p+"static/media/RiverWhite.be3b1447.svg"},function(e,t,n){e.exports=n.p+"static/media/river.8e9135cd.svg"},function(e,t,n){e.exports=n.p+"static/media/RiverGlow.af772977.svg"},function(e,t,n){e.exports=n.p+"static/media/Connector.40fb2d2c.svg"},function(e,t,n){e.exports=n.p+"static/media/stupidfuckingface.68ec9ee5.jpeg"},,function(e,t,n){e.exports={SelectionFrame:"SelectionFrame_SelectionFrame__1CYUc"}},function(e,t,n){e.exports=n.p+"static/media/Washington.85b39daf.jpeg"},function(e,t,n){e.exports=n.p+"static/media/Washington_Monument.e6445e71.jpeg"},,function(e,t,n){e.exports=n.p+"static/media/taktaktak.ef08bdad.jpg"},function(e,t,n){e.exports=n.p+"static/media/ProfilePicPlaceholder.571b6741.svg"},,function(e,t,n){e.exports=n.p+"static/media/logout.1120a8e8.svg"},,,function(e,t,n){e.exports=n(154)},,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),s=n(82),c=n.n(s),i=(n(111),n(2)),l=n(3),u=n(5),d=n(4),p=n(13),m=n(8),h=n(10),f=n.n(h),g=function(e){return{type:"SWITCH_TAB",tab:e}},E=function(e){return{type:"ADD_TO_MENU_STACK",next:e}},_=function(e){return{type:"SET_CHAT_STATE_ON_LOGIN",userdata:e}},C=function(){return function(e){e(v()),f.a.get("/api/users").then((function(t){e(W(t.data)),e(b(t.data))})).catch((function(t){console.log(t),e(S())}))}},v=function(){return{type:"FETCH_ALL_USERS_START"}},b=function(e){return{type:"FETCH_ALL_USERS_SUCCESS",users:e}},S=function(){return{type:"FETCH_ALL_USERS_FALIED"}},I=function(e,t,n,a){return{type:"SEND_MESSAGE_START",chatId:e,text:t,randId:n,userId:a}},O=function(e,t,n){return{type:"SEND_MESSAGE_SUCCESS",chatId:e,message:t,randId:n}},w=function(e,t){return{type:"SEND_MESSAGE_FAILED",chatId:e,randId:t}},y=function(e){return{type:"SEND_MESSAGE_FROM_BUFFER_START",id:e}},N=function(e,t){return{type:"SEND_MESSAGE_FROM_BUFFER_SUCCESS",id:e,response:t}},j=function(e){return{type:"SEND_MESSAGE_FROM_BUFFER_FAILED",id:e}},M=function(e,t,n,a){return{type:"SEND_FIRST_MESSAGE_NEW_CHAT_START",dummyChatId:e,randId:t,message:n,self:a}},k=function(e,t,n,a,r){return{type:"SEND_FIRST_MESSAGE_NEW_CHAT_SUCCESS",dummyChatId:e,randId:t,createdChat:n,self:a,chatPartner:r}},A=function(){return{type:"SEND_FIRST_MESSAGE_NEW_CHAT_FAILED"}},T=function(e){return function(t){console.log("Sending Friend Request"),t(x(e));var n=localStorage.getItem("token"),a={headers:{authorization:"Bearer ".concat(n)}};f.a.post("/api/users/addFriend",{friendId:e.userId},a).then((function(n){t(L(e,n.data.chat))})).catch((function(n){console.log(n),t(D(e))}))}},x=function(e){return{type:"SEND_FRIEND_REQUEST_START",user:e}},L=function(e,t){return{type:"SEND_FRIEND_REQUEST_SUCCESS",user:e,chat:t}},D=function(e){return{type:"SEND_FRIEND_REQUEST_FAILED",user:e}},R=function(e,t){return function(n){n(P(e));var a=localStorage.getItem("token"),r={headers:{authorization:"Bearer ".concat(a)}},o={friendId:e.userId,existingChatId:t};f.a.post("/api/users/acceptFriendRequest",o,r).then((function(e){n(F(e.data.friend,e.data.chat,t))})).catch((function(t){console.log(t),n(B(e))}))}},P=function(e){return{type:"ACCEPT_FRIEND_REQUEST_START",user:e}},F=function(e,t){return{type:"ACCEPT_FRIEND_REQUEST_SUCCESS",friend:e,chat:t}},B=function(e){return{type:"ACCEPT_FRIEND_REQUEST_FAILED",user:e}},H=function(e){return localStorage.setItem("currentChatId",e),{type:"CHANGE_CHAT",chatId:e}},U=function(e,t){var n="dummy"+e.userId;return localStorage.setItem("currentChatId",n),{type:"CREATE_DUMMY_CHAT",chatPartner:e,self:t}},W=function(e){return{type:"ADD_NEW_USERS",users:e}},V=function(){return{type:"SCROLL_NEXT_START"}},G=function(){return{type:"SCROLL_NEXT_SUCCESS"}},q=function(){return{type:"SCROLL_NEXT_FAILED"}},z=function(){return{type:"SCROLL_PREV_START"}},Y=function(){return{type:"SCROLL_PREV_SUCCESS"}},Z=function(){return{type:"SCROLL_PREV_FAILED"}},K=function(){return{type:"FETCH_IDS_START"}},X=function(e){return{type:"SET_IDS",ids:e}},Q=function(){return{type:"FETCH_IDS_FAILED"}},J=function(e){return function(t){t($());var n={ids:e};f.a.post("/api/drop/drops",n,{}).then((function(e){t(ee(e.data))})).catch((function(e){console.log(e),t(te())}))}},$=function(){return{type:"FETCH_DROPS_START"}},ee=function(e){return{type:"SET_DROPS",drops:e}},te=function(e){return{type:"FETCH_DROP_FAILED"}},ne=function(e,t){return{type:"SEND_COMMENT_START",dropId:e,comment:t}},ae=function(e,t,n){return{type:"SEND_COMMENT_SUCCESS",dropId:e,randId:t,comment:n}},re=function(e,t){return{type:"SEND_COMMENT_FAILED",dropId:e,err:t}},oe=function(e,t){return{type:"SEND_SUBCOMMENT_START",dropId:e,subComment:t}},se=function(e,t,n){return{type:"SEND_SUBCOMMENT_SUCCESS",dropId:e,randPath:t,subComment:n}},ce=function(e,t){return{type:"SEND_SUBCOMMENT_FAILED",dropId:e,err:t}},ie=function(e,t){return{type:"DELETE_COMMENT_START",dropId:e,commentId:t}},le=function(){return{type:"DELETE_COMMENT_SUCCESS"}},ue=function(){return{type:"DELTE_COMMENT_FAILED"}},de=function(e){return{type:"FETCH_DROP_START",dropId:e}},pe=function(e,t){return{type:"FETCH_DROP_SUCCESS",dropId:e,drop:t}},me=function(e){return{type:"FETCH_DROP_FAILED",dropId:e}},he=function(){return{type:"RESET_DROP_TARGETS"}},fe=n(1),ge=function(){return localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("expirationDate"),{type:"LOGOUT"}},Ee=function(){return{type:"LOGIN_START"}},_e=function(e){return Object(fe.a)({type:"LOGIN_SUCCESS"},e)},Ce=function(e){return{type:"AUTH_FAIL",error:e||"Something went wrong"}},ve=function(){return{type:"SIGNUP_START"}},be=function(e,t){return Object(fe.a)({type:"SIGNUP_SUCCESS",profilePicSrc:t},e)},Se=function(e){return{type:"SIGNUP_FAIL",error:e&&e.data&&e.data.message?e.data.message:"Something went wrong"}},Ie=function(e){return{type:"EMAIL_ALREADY_TAKEN",email:e}},Oe=function(){return{type:"CHECK_EMAIL_TAKEN_START"}},we=function(e){return console.log(e),{type:"CHECK_EMAIL_TAKEN_SUCCESS"}},ye=function(e){return console.log(e),{type:"CHECK_EMAIL_TAKEN_FAILED"}},Ne=function(e){return{type:"HANDLE_ALREADY_TAKEN",handle:e}},je=function(){return{type:"CHECK_HANDLE_TAKEN_START"}},Me=function(e){return console.log(e),{type:"CHECK_HANDLE_TAKEN_SUCCESS"}},ke=function(e){return console.log(e),{type:"CHECK_HANDLE_TAKEN_FAILED"}},Ae=function(e){return{type:"MESSAGES_READ_START",chatId:e}},Te=function(){return{type:"MESSAGES_READ_SUCCESS"}},xe=function(){return{type:"MESSAGES_READ_FAILED"}},Le=function(e){return{type:"UPDATE_NOTIFICATIONS",notifications:e}},De=function(e){return{type:"DELETE_NOTIFICATION_START",notificationId:e}},Re=function(e){return{type:"DELETE_NOTIFICATION_SUCCESS",notificationId:e}},Pe=function(e){return{type:"DELETE_NOTIFICATION_FAILED",notificationId:e}},Fe=function(){return{type:"SUBSCRIBE_EMAIL_LIST_SUCCESS"}},Be=function(){return{type:"SUBSCRIBE_EMAIL_LIST_SUCCESS"}},He=function(e){return{type:"SUBSCRIBE_EMAIL_LIST_FAILED",message:e}},Ue=n(24),We=n.n(Ue),Ve=n(15),Ge=n.n(Ve),qe=n(63),ze=n.n(qe),Ye=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:ze.a.Source},o.a.createElement("p",{className:ze.a.Header},"Source:"),o.a.createElement("a",{className:ze.a.Link,href:this.props.sourceURL},this.props.sourceURL))}}]),n}(r.Component),Ze=Ye,Ke=n(53),Xe=n.n(Ke),Qe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getLoader=function(){return e.props.position>2?null:"loaded"!==e.props.memeStatus?o.a.createElement(Ge.a,{className:Xe.a.Spinner,type:"Puff",color:"#00BFFF",height:50,width:50}):void 0},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.dropId.startsWith("no")?"".concat("https://storage.googleapis.com/drop-meme-bucket/meme-","6022a6fec54847291bdee46c"):"".concat("https://storage.googleapis.com/drop-meme-bucket/meme-").concat(this.props.dropId);return o.a.createElement("div",{className:Xe.a.Content},o.a.createElement("div",{className:Xe.a.ContentContainer},("loaded"===this.props.memeStatus||this.props.currentlyLoadingMemeId===this.props.dropId)&&this.props.position<10?o.a.createElement("img",{alt:"Meme ".concat(this.props.id),className:Xe.a.Meme,src:t,onLoad:function(){return e.props.onFetchMemeSuccess(e.props.dropId)}}):null,this.getLoader(),this.props.source?o.a.createElement(Ze,{sourceURL:this.props.source}):null))}}]),n}(r.Component),Je=Object(m.b)((function(e){return{currentlyLoadingMemeId:e.stream.currentlyLoadingMemeId}}),(function(e){return{onFetchMemeSuccess:function(t){return e(function(e){return{type:"FETCH_MEME_SUCCESS",dropId:e}}(t))}}}))(Qe),$e=n(54),et=n.n($e),tt=n(6),nt=n(41),at=n.n(nt),rt=n(85),ot=n.n(rt),st=n(86),ct=n.n(st),it=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={trashOpen:!1,deleteCommentOpen:!1},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:at.a.CommentMenu},!this.props.userComment&&this.props.token?o.a.createElement("div",{className:at.a.MenuItem},"report"):null,this.state.deleteCommentOpen?null:this.props.userComment&&this.props.token?o.a.createElement("img",{src:this.state.trashOpen?ot.a:ct.a,alt:"",className:at.a.Trash,onMouseOver:function(){return e.setState({trashOpen:!0})},onMouseOut:function(){return e.setState({trashOpen:!1})},onClick:function(){return e.setState({deleteCommentOpen:!0})}}):null,this.state.deleteCommentOpen?o.a.createElement("div",{className:at.a.DeleteDialog},"Delete Comment?",o.a.createElement("button",{className:at.a.YesButton,onClick:function(){return e.props.onDeleteComment(e.props.dropId,e.props.commentId)}},"yes"),o.a.createElement("button",{className:at.a.NoButton,onClick:function(){return e.setState({deleteCommentOpen:!1})}},"no")):null)}}]),n}(r.Component),lt=Object(m.b)((function(e){return{token:e.user.token}}),(function(e){return{onDeleteComment:function(t,n){return e(function(e,t){return function(n){n(ie(e,t));var a="api/comment/".concat(t),r=localStorage.getItem("token"),o={headers:{authorization:"Bearer ".concat(r)}};f.a.delete(a,o).then((function(){n(le())})).catch((function(e){console.log(e),n(ue())}))}}(t,n))}}}))(it),ut=n(45),dt=n.n(ut),pt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this)).getArrow=function(e,t){return o.a.createElement("svg",{className:"".concat(e?dt.a.up:dt.a.down," ").concat(t?dt.a.glow:null),onClick:e?a.upvote:a.downvote,width:"60",height:"14",viewBox:"0 0 60 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M28.036 1.70084C29.1634 0.724555 30.8366 0.724556 31.964 1.70084L58.5583 24.7322C60.658 26.5506 59.372 30 56.5943 30H3.40566C0.628007 30 -0.658012 26.5506 1.4417 24.7322L28.036 1.70084Z",fill:"".concat(t?"#ffffff":"#bbbbbb")}))},a.upvote=function(e){if(e.stopPropagation(),a.props.token){if(!a.state.didUpvote){var t,n=a.props.path?"/api/comment/".concat(a.props.commentId,"/voteSub"):"/api/comment/".concat(a.props.commentId,"/vote"),r=a.props.path?{vote:"up",voterId:a.props.userId,path:a.props.path}:{vote:"up"},o=a.props.token?{headers:{authorization:"Bearer ".concat(a.props.token)}}:null;f.a.post(n,r,o).then().catch(console.log),t=a.state.didDownvote?{didUpvote:!0,didDownvote:!1,points:a.state.points+2}:{didUpvote:!0,didDownvote:!1,points:a.state.points+1},a.setState(t)}}else a.props.onOpenMenu("Create an Account to upvote Comments")},a.downvote=function(e){if(e.stopPropagation(),a.props.token){if(!a.state.didDownvote){var t=a.props.path?"/api/comment/".concat(a.props.commentId,"/voteSub"):"/api/comment/".concat(a.props.commentId,"/vote"),n=a.props.path?{vote:"down",voterId:a.props.userId,path:a.props.path}:{vote:"down"},r=a.props.token?{headers:{authorization:"Bearer ".concat(a.props.token)}}:null;f.a.post(t,n,r).then().catch(console.log),a.state.didUpvote?a.setState({didDownvote:!0,didUpvote:!1,points:a.state.points-2}):a.setState({didDownvote:!0,didUpvote:!1,points:a.state.points-1})}}else a.props.onOpenMenu()},a.unvote=function(e){if(e.stopPropagation(),a.props.token){if(a.state.didDownvote||a.state.didUpvote){var t=a.props.path?"/api/comment/".concat(a.props.commentId,"/voteSub"):"/api/comment/".concat(a.props.commentId,"/vote"),n=a.props.path?{vote:"neutral",voterId:a.props.userId,path:a.props.path}:{vote:"neutral"},r=a.props.token?{headers:{authorization:"Bearer ".concat(a.props.token)}}:null;f.a.post(t,n,r).then().catch(console.log),a.state.didDownvote?a.setState({didDownvote:!1,didUpvote:!1,points:a.state.points+1}):a.state.didUpvote&&a.setState({didDownvote:!1,didUpvote:!1,points:a.state.points-1})}}else a.props.onOpenMenu()},a.getCountString=function(e){if(e>=1e8)return"".concat(Math.floor(e/1e6),"M");if(e>=1e6){var t=Math.floor(e/1e6),n=Math.floor((e-1e6*t)/1e5);return"".concat(t,".").concat(n,"M")}if(e>=1e5)return"".concat(Math.floor(e/1e3),"K");if(e>=1e3){var a=Math.floor(e/1e3),r=Math.floor((e-1e3*a)/100);return"".concat(a,".").concat(r,"K")}return"".concat(e)},a.state={didUpvote:e.upvoted,didDownvote:e.downvoted,points:e.points},a}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:dt.a.voting},this.getArrow(!0,this.state.didUpvote),o.a.createElement("div",{className:dt.a.points,title:"".concat(this.state.points," points"),onClick:this.unvote},this.getCountString(this.state.points)),this.getArrow(!1,this.state.didDownvote))}}]),n}(r.Component),mt=Object(m.b)((function(e){return{darkmode:e.ui.darkmode,token:e.user.token,userId:e.user.userId}}),(function(e){return{onOpenMenu:function(){return e({type:"OPEN_MENU"})}}}))(pt),ht=n(87),ft=n.n(ht),gt=n(31),Et=n.n(gt),_t=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=Et.a;return this.props.authorId&&this.props.authorId===this.props.selfId&&(this.props.profilePicSrc?e=this.props.profilePicSrc:this.props.token&&this.props.hasProfilePic&&(e="".concat("https://storage.googleapis.com/drop-profile-pictures-bucket/profilePic-")+this.props.selfId)),o.a.createElement("img",{src:e,className:ft.a.AuthorPic,style:{left:"".concat(this.props.depth*this.props.indent,"px")},alt:" "})}}]),n}(r.Component),Ct=Object(m.b)((function(e){return{hasProfilePic:e.user.hasProfilePic,selfId:e.user.userId,token:e.user.token}}),null)(_t),vt=n(88),bt=n.n(vt),St=function(e){return o.a.createElement("div",{style:e.zIndex?{zIndex:"".concat(e.zIndex)}:null,className:bt.a.Backdrop,onClick:e.clicked})},It=n(67),Ot=n.n(It),wt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getRoot=function(t){var n={left:"".concat(11+17*e.props.treeString.length,"px")};return o.a.createElement("svg",{className:Ot.a.Root,style:n,width:"2px",height:"".concat(e.props.height,"px"),viewBox:"0 0 2 ".concat(e.props.height),fill:"#abcdef",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 0H2V".concat(e.props.height,"H0V0Z"),fill:"".concat(t>=e.props.hideBranches?"#333333":"#ffffff")}))},e.getL=function(t){return o.a.createElement("svg",{style:e.generateBoneStyles(t+1,"L"),key:"".concat(t,"L"),width:"6",height:"4",viewBox:"0 0 6 4",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 0H2V1V1C2 1.55228 2.44772 2 3 2V2H6V4H2C0.89543 4 0 3.10457 0 2V0Z",fill:"".concat(t>=e.props.hideBranches?"#ffffff":"#333333")}))},e.getC=function(t){return o.a.createElement("svg",{style:e.generateBoneStyles(t+1,"connector"),key:"".concat(t,"-connector"),width:"4",height:"2",viewBox:"0 0 4 2",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 0H4V2H0V0Z",fill:"".concat(t>=e.props.hideBranches?"#ffffff":"#333333")}))},e.generateLine=function(t,n){var a=0;switch(n){case"I":a=e.props.height+22;break;case"IL":a=53;break;case"start":a=e.props.height;break;default:console.log("DIESE NACHRICHT SOLLE NIE KOMMEN")}return o.a.createElement("svg",{key:t,style:e.generateBoneStyles(t,n),width:"2px",height:"".concat(a,"px"),viewBox:"0 0 2 ".concat(a),xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 0H2V".concat(a,"H0V0Z"),fill:"".concat(t>=e.props.hideBranches?"#ffffff":"#333333")}))},e.generateBones=function(t){for(var n=[],a=0;a<t.length;a++)switch(t[a]){case" ":break;case"I":n.push(e.generateLine(a,"I"));break;case"T":n.push(e.generateLine(a,"I")),n.push(e.getC(a));break;case"L":n.push(e.generateLine(a,"IL")),n.push(e.getL(a)),e.props.path.split("/").pop();break;default:console.log("ERROR: unwanted Character in BuildBone")}return n},e.generateBoneStyles=function(e,t){var n={top:"-42px",position:"absolute"};switch(t){case"start":n.top="25px",n.left="".concat(11+17*e,"px");break;case"I":case"IL":n.left="".concat(11+17*e,"px");break;case"L":n.left="".concat(17*e-6,"px"),n.top="9px";break;case"connector":n.left="".concat(17*e-4,"px"),n.top="12px";break;default:console.log("Switch case ERROR")}return n},e}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:Ot.a.branches},this.generateBones(this.props.treeString),this.props.root?this.getRoot(this.props.depth):null)}}]),n}(r.Component),yt=n(33),Nt=n.n(yt),jt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={height:0},e.getRoot=function(){if(e.props.comment.subComments&&e.props.comment.subComments.length>0)return o.a.createElement("svg",{key:1001,className:Nt.a.Root,width:"2px",height:"".concat(e.state.height,"px"),viewBox:"0 0 2 ".concat(e.state.height),fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 0H20V".concat(e.state.height,"H0V0Z"),fill:"green"}))},e.getSpeechBubbleArrow=function(e,t,n){var a=e||t?"rgba(87, 122, 161, 0.6)":n?"rgba(255,255,255,0.5)":"rgba(0, 2, 10, 0.6)";return o.a.createElement("svg",{className:Nt.a.SpeechBubbleArrow,width:"18",height:"28",viewBox:"0 0 18 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1946 1.09753C15.127 2.89687 11.5635 5.9083 8 8.49986C5.64212 10.2146 7.62939e-06 9.99998 7.62939e-06 9.99998C7.62939e-06 9.99998 6.54393 10.8743 9.5 13.4999C13.3722 16.9392 13.9978 25.9679 14 25.9998L14 10C14 6.61858 15.1988 3.51715 17.1946 1.09753Z",fill:a}))},e.clicked=function(t,n){return t?function(){console.log("Comment still sending; cant select yet")}:n?e.props.onUnselectComment:function(){return e.props.onSelectSubComment(e.props.commentId,e.props.path)}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.divElement.clientHeight;this.setState({height:e})}},{key:"componentDidUpdate",value:function(){var e=this.divElement.clientHeight;this.state.height!==e&&this.setState({height:e})}},{key:"render",value:function(){var e=this,t=this.props.selectedComment===this.props.path,n=this.props.sending.some((function(t){return t.dropId===e.props.dropId&&t.path===e.props.path})),a=this.props.path.startsWith(this.props.selectedComment),r=[Nt.a.CommentBackground];n&&r.push(Nt.a.sending),(t||a)&&r.push();var s={paddingLeft:"".concat(17*this.props.depth,"px")},c={left:"".concat(17*this.props.depth+40,"px"),maxWidth:"".concat(545-17*this.props.depth,"px")},i=a?this.props.selectedComment.split("/").length-1:t?this.props.depth:null;return o.a.createElement("div",{className:"".concat(Nt.a.CommentContainer," ").concat(a||t?Nt.a.selected:null)},t?o.a.createElement(St,{clicked:this.props.onUnselectComment}):null,t?o.a.createElement(lt,{token:this.props.token,userComment:this.props.authorId===this.props.userId}):null,o.a.createElement("div",{className:Nt.a.Comment,style:s},o.a.createElement(Ct,{depth:this.props.depth,indent:17,authorId:this.props.authorId}),o.a.createElement("div",{className:r.join(" "),ref:function(t){return e.divElement=t},onClick:this.clicked(n,t)},o.a.createElement(mt,{upvoted:this.props.upVoted,downvoted:this.props.downVoted,points:this.props.points,commentId:this.props.commentId,path:this.props.path}),o.a.createElement("div",{className:Nt.a.SelectClickTarget,onClick:this.select},o.a.createElement("span",{className:Nt.a.actualComment,style:c},this.props.actualComment),this.getSpeechBubbleArrow(t,a,n)))),o.a.createElement(wt,{hideBranches:i,treeString:this.props.treeString,height:this.state.height,root:t||this.props.subComments&&this.props.subComments.length>0,path:this.props.path,selected:t}))}}]),n}(r.Component),Mt=Object(m.b)((function(e){return{selectedComment:e.stream.selectedComment,sending:e.stream.sending,token:e.user.token,userId:e.user.userId}}),(function(e){return{onSelectSubComment:function(t,n){return e(function(e,t){return{type:"SELECT_SUBCOMMENT",commentId:e,path:t}}(t,n))},onUnselectComment:function(){return e({type:"UNSELECT_COMMENT"})}}}))(jt),kt=n(36),At=n.n(kt),Tt=n(89),xt=n(46),Lt=n.n(xt),Dt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=[Lt.a.Button];if(this.props.buttonType)switch(this.props.buttonType){case"SubmitComment":e.push(Lt.a.SubmitComment);break;default:console.log("no type given")}return this.props.disabled&&e.push(Lt.a.Disabled),"light"===this.props.colorTheme&&e.push(Lt.a.Light),"dark"===this.props.colorTheme&&e.push(Lt.a.Dark),o.a.createElement("button",{onClick:this.props.clicked,className:e.join(" "),disabled:this.props.disabled},this.props.children)}}]),n}(r.Component),Rt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={textareaValue:"",disabled:!0},e.inputChangedHandler=function(t){var n=t.target.value,a=""===n.trim()||e.props.streamElements[0].id.startsWith("no more");e.setState({textareaValue:n,disabled:a})},e.submitHandler=function(t){if(t.preventDefault(),e.props.token)if(e.setState({textareaValue:"",disabled:!0}),e.props.subComment){var n={id:"".concat(Date.now()),author:e.props.userId,points:0,subComments:[],comment:e.state.textareaValue,parentPath:e.props.selectedComment};e.props.onSendSubComment(e.props.dropId,n,e.props.token)}else{var a={id:"".concat(Date.now()),comment:e.state.textareaValue,authorId:e.props.userId,posted:new Date,points:0,subComments:[],path:"0"};e.props.onSendComment(e.props.dropId,a,e.props.token)}else e.props.onOpenMenu()},e.getBranches=function(t,n){return e.props.path?o.a.createElement(wt,{hideBranches:t-1,treeString:n,height:61,path:e.props.path}):null},e}return Object(l.a)(n,[{key:"getSpeechBubbleArrow",value:function(){return o.a.createElement("svg",{className:At.a.SpeechBubbleArrow,width:"18",height:"28",viewBox:"0 0 18 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1946 1.09753C15.127 2.89687 11.5635 5.9083 8 8.49986C5.64212 10.2146 7.62939e-06 9.99998 7.62939e-06 9.99998C7.62939e-06 9.99998 6.54393 10.8743 9.5 13.4999C13.3722 16.9392 13.9978 25.9679 14 25.9998L14 10C14 6.61858 15.1988 3.51715 17.1946 1.09753Z",fill:"#eeeeee"}))}},{key:"getArrowRight",value:function(){return o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"arrow_forward_24px"},o.a.createElement("path",{id:"icon/navigation/arrow_forward_24px",d:"M12 4L10.59 5.41L16.17 11H4V13H16.17L10.59 18.59L12 20L20 12L12 4Z",fill:this.state.disabled?"grey":"black",fillOpacity:"0.54"})))}},{key:"render",value:function(){var e=this.props.path?this.props.path.split("/").length:0,t={paddingLeft:"".concat(17*e,"px")},n={left:"".concat(17*(e+1)+40,"px")},a=this.props.treeString?[].concat(Object(tt.a)(this.props.treeString.slice(1)),["L"]):["L"];return o.a.createElement("div",{className:At.a.CommentForm,style:this.props.path?{zIndex:"200"}:null},o.a.createElement("div",{className:At.a.CommentInput,style:t},o.a.createElement(Ct,{depth:e,indent:17,authorId:this.props.userId}),o.a.createElement("div",{className:At.a.CommentInputBackground},o.a.createElement("div",{className:At.a.actualCommentForm,style:n},o.a.createElement(Tt.a,{className:At.a.TextArea,onChange:this.inputChangedHandler,value:this.state.textareaValue,placeholder:this.props.path?"Write a response...":"Write a comment..."}),o.a.createElement(Dt,{className:At.a.SubmitButton,colorTheme:"light",buttonType:"SubmitComment",clicked:this.submitHandler,disabled:this.state.disabled,type:"submit"},this.getArrowRight()),this.getSpeechBubbleArrow()))),this.getBranches(e,a))}}]),n}(r.Component),Pt=Object(m.b)((function(e){return{selectedComment:e.stream.selectedComment,token:e.user.token,userId:e.user.userId,streamElements:e.stream.streamElements}}),(function(e){return{onOpenMenu:function(){return e({type:"OPEN_MENU"})},onSendComment:function(t,n,a){return e(function(e,t){return function(n){n(ne(e,t));var a=localStorage.getItem("token"),r={headers:{authorization:"Bearer ".concat(a)}},o="/api/drop/".concat(e,"/comment"),s={comment:t.comment};f.a.post(o,s,r).then((function(a){n(ae(e,t.id,a.data))})).catch((function(t){console.log(t),n(re(e,t))}))}}(t,n))},onSendSubComment:function(t,n,a){return e(function(e,t,n){return function(a){var r=t.parentPath.split("/")[0],o=t.parentPath+"/"+t.id;a(oe(e,t));var s="/api/comment/".concat(r,"/sub"),c={headers:{authorization:"Bearer ".concat(n)}},i={actualComment:t.comment,parentPath:t.parentPath};f.a.post(s,i,c).then((function(t){a(se(e,o,t.data))})).catch((function(t){console.log(t),a(ce(e,t))}))}}(t,n,a))}}}))(Rt),Ft=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).createSubComments=function(t,a,r){return e.props.subComments.map((function(s,c){var i=!r&&c===e.props.subComments.length-1;return o.a.createElement(n,Object.assign({},s,{tree:t,last:i,depth:a+1,key:c,dropId:e.props.dropId,selectedCommentPath:e.props.selectedCommentPath,actualComment:s.comment,subComments:s.subComments,commentId:e.props.commentId,selected:r}))}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.path.split("/").length-1,t=this.props.selectedCommentPath===this.props.path,n=this.props.tree?this.props.tree:[],a=!0===this.props.last?[].concat(Object(tt.a)(n),["L"]).slice(1):[].concat(Object(tt.a)(n),["T"]).slice(1);!this.props.selected&&!0===this.props.last&&e>1?[].concat(Object(tt.a)(n),["L"]).slice(1):[].concat(Object(tt.a)(n),["T"]).slice(1);var r=!0===this.props.last?[].concat(Object(tt.a)(n),[" "]):[].concat(Object(tt.a)(n),["I"]);return o.a.createElement("div",{className:"SubCommentWrapper"},o.a.createElement(Mt,Object.assign({},this.props,{treeString:a})),this.createSubComments(r,e,t),t?o.a.createElement(Pt,{subComment:!0,dropId:this.props.dropId,path:this.props.path,treeString:r}):null)}}]),n}(r.Component),Bt=n(27),Ht=n.n(Bt),Ut=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={height:0},e.createSubComments=function(t){return e.props.comment.subComments.map((function(n,a){var r=a===e.props.comment.subComments.length-1&&!t;return o.a.createElement(Ft,Object.assign({},n,{parentSelected:t,tree:["I"],last:r,depth:1,key:a,dropId:e.props.dropId,selectedCommentPath:e.props.selectedComment,commentId:e.props.comment.id,actualComment:n.comment,subComments:n.subComments}))}))},e.getSpeechBubbleArrow=function(e,t){var n=e?"rgba(87, 122, 161, 0.6)":t?"rgba(255,255,255,0.5)":"rgba(0, 2, 10, 0.6)";return o.a.createElement("svg",{className:Ht.a.SpeechBubbleArrow,width:"18",height:"28",viewBox:"0 0 18 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1946 1.09753C15.127 2.89687 11.5635 5.9083 8 8.49986C5.64212 10.2146 7.62939e-06 9.99998 7.62939e-06 9.99998C7.62939e-06 9.99998 6.54393 10.8743 9.5 13.4999C13.3722 16.9392 13.9978 25.9679 14 25.9998L14 10C14 6.61858 15.1988 3.51715 17.1946 1.09753Z",fill:n}))},e.clicked=function(t,n){return t?function(){console.log("Comment still sending; cant select yet")}:n?e.props.onUnselectComment:t?void 0:function(){return e.props.onSelectComment(e.props.id,"/")}},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.divElement.clientHeight;this.setState({height:e})}},{key:"componentDidUpdate",value:function(){var e=this.divElement.clientHeight;this.state.height!==e&&this.setState({height:e})}},{key:"getRoot",value:function(e){return this.props.comment.subComments&&this.props.comment.subComments.length>0||e?o.a.createElement("svg",{key:1e3,className:Ht.a.Root,width:"2px",height:"".concat(this.state.height,"px"),viewBox:"0 0 2 ".concat(this.state.height),fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 0H2V".concat(this.state.height,"H0V0Z"),fill:"#ffffff"})):null}},{key:"render",value:function(){var e=this,t=[Ht.a.CommentBackground],n=this.props.selectedComment===this.props.id,a=this.props.sending.some((function(t){return t.randId===e.props.id}));return a&&t.push(Ht.a.sending),n&&t.push(Ht.a.selected),o.a.createElement("div",{className:Ht.a.CommentContainer},n?o.a.createElement(St,{zIndex:100,clicked:this.props.onUnselectComment}):null,n?o.a.createElement(lt,{dropId:this.props.dropId,commentId:this.props.id,userComment:this.props.authorId===this.props.userId}):null,o.a.createElement("div",{className:"".concat(Ht.a.Comment," ").concat(n?Ht.a.selected:null)},o.a.createElement(Ct,{depth:0,indent:0,neuMorphism:this.props.neuMorphism,authorId:this.props.authorId}),o.a.createElement("div",{className:t.join(" "),onClick:this.clicked(a,n),ref:function(t){return e.divElement=t}},o.a.createElement(mt,{upvoted:this.props.upVoted,downvoted:this.props.downVoted,commentId:this.props.id,points:this.props.points}),o.a.createElement("div",{className:Ht.a.SelectClickTarget},o.a.createElement("span",{className:Ht.a.actualComment},this.props.comment.comment),this.getSpeechBubbleArrow(n,a))),this.getRoot(n)),this.props.comment.subComments?this.createSubComments(n):null,n?o.a.createElement(Pt,{dropId:this.props.dropId,subComment:!0,path:this.props.id,treeString:this.props.subComments.length>0?[]:null}):null)}}]),n}(r.Component),Wt=Object(m.b)((function(e){return{selectedComment:e.stream.selectedComment,sending:e.stream.sending,userId:e.user.userId,token:e.user.token}}),(function(e){return{onSelectComment:function(t,n){return e(function(e,t){return{type:"SELECT_COMMENT",commentId:e,path:t}}(t,n))},onUnselectComment:function(){return e({type:"UNSELECT_COMMENT"})}}}))(Ut),Vt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).componentDidUpdate=function(){},e.getComments=function(){return e.props.comments.map((function(t){return o.a.createElement(Wt,Object.assign({},t,{key:t.id,comment:t,dropId:e.props.dropId}))}))},e.getLoader=function(){return o.a.createElement(Ge.a,{className:et.a.Spinner,type:"ThreeDots",color:"#00BFFF",height:30,width:30})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return 1!==this.props.position?o.a.createElement("div",{className:et.a.hidden}):o.a.createElement("div",{style:{width:this.props.windowWidth/2-350},className:et.a.CommentSection,onMouseEnter:function(){return e.props.onSetMouseOverComments(!0)},onMouseLeave:function(){return e.props.onSetMouseOverComments(!1)},tabIndex:"0"},o.a.createElement(Pt,{dropId:this.props.dropId}),o.a.createElement("div",{className:et.a.comments},"not loaded"===this.props.commentStatus?this.getLoader():this.getComments()))}}]),n}(r.Component),Gt=Object(m.b)((function(e){return{darkmode:e.ui.darkmode,windowWidth:e.ui.windowWidth}}),(function(e){return{onSetMouseOverComments:function(t){return e({type:"MOUSE_OVER_COMMENTS",value:t})}}}))(Vt),qt=n(55),zt=n.n(qt),Yt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=[zt.a.PrimaryButton];return this.props.theme?e.push(zt.a.PrimaryButtonNeumorphism):e.push(zt.a.PrimaryButtonFlat),this.props.disabled&&e.push(zt.a.Disabled),o.a.createElement("button",{className:e.join(" "),onClick:this.props.disabled?null:this.props.clicked},this.props.children)}}]),n}(r.Component),Zt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidUpdate=function(){"drops loaded"===e.props.streamStatus&&"not loaded"===e.props.dropStatus&&e.props.id.length>2&&e.props.onFetchDrop(e.props.id)},e.PrimaryButtonClicked=function(){e.props.token?e.props.onOpenDropModal():e.props.onOpenMenu("Create an Account and directly share Memes with friends here!")},e}return Object(l.a)(n,[{key:"calcStyles2",value:function(e){var t=-2*(e-1),n=-4*(e-1),a={};return"hidden"===this.props.show?a.transform="translate3d(0,100vh,0)":(a.transform="translate3d( 0, ".concat(t,"px, ").concat(n,"px)"),a.WebkitTransform="translate3d( 0, ".concat(t,"px, ").concat(n,"px)")),a}},{key:"render",value:function(){var e=[],t=[We.a.StreamElement];return"show"===this.props.show&&t.push(We.a.ShowDrop),"right"===this.props.show&&t.push(We.a.FadedRight),"left"===this.props.show&&t.push(We.a.FadedLeft),1===this.props.position&&(this.props.halfLeft&&t.push(We.a.HalfLeft),this.props.halfRight&&t.push(We.a.HalfRight)),t.push(this.props.darkmode?We.a.Dark:We.a.Light),o.a.createElement("div",{tabIndex:"0",className:t.join(" "),style:this.calcStyles2(this.props.position)},e,this.props.title?o.a.createElement("h3",{className:We.a.title},this.props.title):null,o.a.createElement(Gt,{position:this.props.position,dropId:this.props.id,comments:this.props.comments,dropLoaded:"drop loaded"===this.props.status,commentStatus:this.props.dropStatus}),o.a.createElement("div",{className:We.a.contentContainer},o.a.createElement(Je,{data:this.props.data,position:this.props.position,dropId:this.props.id,status:this.props.status,source:this.props.source,memeStatus:this.props.memeStatus}),o.a.createElement(Yt,{theme:!1,clicked:this.PrimaryButtonClicked,disabled:this.props.id.length<4||this.props.id.startsWith("no more")},o.a.createElement("h3",{className:We.a.DROP},"Drop"))))}}]),n}(r.Component),Kt=Object(m.b)((function(e){return{darkmode:e.ui.darkmode,token:e.user.token,streamStatus:e.stream.streamStatus}}),(function(e){return{onOpenMenu:function(t){return e({type:"OPEN_MENU"})},onOpenDropModal:function(){return e({type:"OPEN_DROP_MODAL"})},onFetchDrop:function(t,n){return e(function(e,t){return function(n){if(n(de(e)),e.startsWith("no"))n(pe(e,{dropId:e,title:"",creatorId:"6022396f28d69d22509a5d46",comments:[]}));else{var a=e.startsWith("no more")?"apidrop/nomore":"/api/drop/".concat(e),r=t?{headers:{authorization:"Bearer ".concat(t)}}:null;f.a.get(a,r).then((function(t){n(pe(e,t.data))})).catch((function(t){n(me(e))}))}}}(t,n))}}}))(Zt),Xt=n(37),Qt=n.n(Xt),Jt=n(90),$t=n.n(Jt),en=n(91),tn=n.n(en),nn=n(92),an=n.n(nn),rn=n(68),on=n.n(rn),sn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={deltaYLastWheelEvent:0,wtfOpen:!1},e.drop=function(t){e.props.send(t),e.setState({currentlyDropping:!1})},e.keyboardSwipeHandler=function(t){38===t.keyCode&&e.props.onScrollNext(e.props.streamElements[1].id,e.props.anonymousId),40===t.keyCode&&e.props.onScrollNext(e.props.streamElements[1].id,e.props.anonymousId)},e.scrollHandler=function(t){e.props.mouseOverComments||"stream"!==e.props.currentTab||e.props.menuOpen||(Math.abs(e.state.deltaYLastWheelEvent)-20>Math.abs(t.deltaY)&&Date.now()-e.props.timeStampLastScroll>250&&(console.log("DETECT SCROLL"),t.deltaY,e.props.onScrollNext(e.props.streamElements[1].id,e.props.anonymousId)),e.setState({deltaYLastWheelEvent:t.deltaY}))},e.getRiver=function(){return e.props.darkmode?o.a.createElement("img",{src:$t.a,alt:"",className:Qt.a.River}):o.a.createElement("img",{src:tn.a,alt:"",className:Qt.a.River})},e.getRiverGlow=function(){return e.props.darkmode?o.a.createElement("img",{src:an.a,alt:"",className:Qt.a.RiverGlow}):null},e.getStreamElements=function(){var t=[];return e.props.streamElements.forEach((function(n){t.unshift(o.a.createElement(Kt,Object.assign({key:n.id},n,{dropping:e.droppingHandler})))})),t},e.render=function(){var t=[Qt.a.Stream];return"stream"!==e.props.currentTab&&t.push(Qt.a.OutRight),o.a.createElement("div",{className:t.join(" ")},e.getRiver(),e.getRiverGlow(),o.a.createElement("img",{src:on.a,alt:"",className:Qt.a.Boat1}),o.a.createElement("img",{src:on.a,alt:"",className:Qt.a.Boat2}),e.getStreamElements())},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.keyboardSwipeHandler,!1),document.addEventListener("wheel",this.scrollHandler)}},{key:"componentDidUpdate",value:function(){"nothing loaded"===this.props.streamStatus&&this.props.onFetchIds()}}]),n}(r.Component),cn=Object(m.b)((function(e){return{timeStampLastScroll:e.stream.timeStampLastScroll,streamElements:e.stream.streamElements,initialStreamLoad:e.stream.initialStreamLoad,streamStatus:e.stream.streamStatus,mouseOverComments:e.stream.mouseOverComments,currentTab:e.ui.currentTab,modalOpen:e.ui.modalOpen,menuOpen:e.ui.menu.open,darkmode:e.ui.darkmode,anonymousId:e.user.anonymousId}}),(function(e){return{onFetchIds:function(){return e((function(e){e(K());var n=t?{authorization:"Bearer "+t}:null;f.a.get("/api/drop/ids",n).then((function(t){e(X(t.data)),e(J(t.data))})).catch((function(t){e(Q())}))}));var t},onScrollPrev:function(t,n){return e(function(e,t){return function(n){if(n(z()),!e.startsWith("no more")){var a="/api/drop/".concat(e,"/swipe"),r=localStorage.getItem("token"),o={like:!0,anonymousId:t},s=r?{headers:{authorisation:"Bearer ".concat(r)}}:null;f.a.post(a,o,s).then((function(e){console.log(e),n(Y())})).catch((function(e){console.log(e),n(Z())}))}}}(t,n))},onScrollNext:function(t,n){return e(function(e,t){return function(n){if(n(V()),!e.startsWith("no more")){var a="/api/drop/".concat(e,"/swipe"),r=localStorage.getItem("token"),o={like:!0,anonymousId:t},s=r?{headers:{authorisation:"Bearer ".concat(r)}}:null;f.a.post(a,o,s).then((function(e){console.log(e),n(G())})).catch((function(e){console.log(e),n(q())}))}}}(t,n))}}}))(sn),ln=n(42),un=n.n(ln),dn=n(22),pn=n.n(dn),mn=n(16),hn=n.n(mn),fn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getAddIcon=function(e){return o.a.createElement("svg",{className:hn.a.AddIcon,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"person_add_24px"},o.a.createElement("path",{id:"icon/social/person_add_24px",fillRule:"evenodd",clipRule:"evenodd",d:"M15 12C17.21 12 19 10.21 19 8C19 5.78998 17.21 4 15 4C12.79 4 11 5.78998 11 8C11 10.21 12.79 12 15 12ZM15 6C16.1 6 17 6.90002 17 8C17 9.09998 16.1 10 15 10C13.9 10 13 9.09998 13 8C13 6.90002 13.9 6 15 6ZM7 18C7 15.34 12.33 14 15 14C17.67 14 23 15.34 23 18V20H7V18ZM9 18C9.21997 17.28 12.3101 16 15 16C17.7 16 20.8 17.29 21 18H9ZM6 12V15H4V12H1V10H4V7H6V10H9V12H6Z",fill:e?"#444444":"#abcdef"})))},e.getCheckMark=function(){return o.a.createElement("svg",{className:hn.a.AddIcon,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"check_24px"},o.a.createElement("path",{id:"icon/navigation/check_24px",d:"M8.79496 15.875L4.62496 11.705L3.20496 13.115L8.79496 18.705L20.795 6.70501L19.385 5.29501L8.79496 15.875Z",fill:"#abcdef"})))},e}return Object(l.a)(n,[{key:"render",value:function(){var e,t,n=this,a=[hn.a.AddButton];return"sending"===this.props.type&&(e=o.a.createElement(Ge.a,{className:hn.a.Spinner,type:"TailSpin",color:this.props.inverted?"#000000":"#abcdef",height:18,width:18}),a.push(hn.a.Loading),t="sending friend request..."),"accepting"===this.props.type&&(e=o.a.createElement(Ge.a,{className:hn.a.Spinner,type:"TailSpin",color:this.props.inverted?"#000000":"#abcdef",height:18,width:18}),a.push(hn.a.Loading),t="accepting friend request..."),"add"===this.props.type&&(e=this.getAddIcon(this.props.inverted),t="send friend request",a.push(hn.a.GlowOnHover),a.push(hn.a.Clickable)),"received"===this.props.type&&(e=o.a.createElement("span",{className:hn.a.TextButton},"accept"),t="accept friend request",a.push(hn.a.AcceptButton),a.push(hn.a.GlowOnHover),a.push(hn.a.Clickable)),"sent"===this.props.type&&(e=o.a.createElement("span",{className:hn.a.TextButton},"requested"),t="friend request sent"),a.push(this.props.inverted?hn.a.Inverted:hn.a.NotIverted),o.a.createElement("div",{title:t,className:a.join(" "),onClick:function(e){e.preventDefault(),e.stopPropagation(),n.props.clicked()}},e)}}]),n}(r.Component),gn=n(93),En=n.n(gn),_n=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={connectorsOut:!1},e.getConnector=function(e){return o.a.createElement("img",{src:En.a,alt:"",className:"".concat(e?pn.a.ConnectorUp:pn.a.ConnectorDown)})},e.getButton=function(t,n){var a,r=function(){return console.log("Nothing should happen")};return e.props.friends.some((function(e){return e.userId===t.userId}))||(a="add",r=function(){return e.props.onSendFriendRequest(t,e.props.chatId.startsWith("request")?e.props.chatId:null)}),e.props.sentFriendRequests.some((function(e){return e.userId===t.userId}))&&(a="sent"),e.props.sendingFriendRequests.some((function(e){return e.userId===t.userId}))&&(a="sending"),e.props.acceptingFriendRequests.some((function(e){return e.userId===t.userId}))&&(a="accepting"),e.props.receivedFriendRequests.some((function(e){return e.userId===t.userId}))&&(a="received",r=function(){return e.props.onAcceptFriendRequest(t)}),a?o.a.createElement(fn,{type:a,clicked:r,inverted:n}):null},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.notifiaction.filter((function(t){return t.type.startsWith("NEW_MESSAGE")&&t.chatId===e.props.chatId||t.type.startsWith("NEW_CHAT")&&t.chatId===e.props.chatId})),n=t.length>99?pn.a.TrippleDigit:t.length>9?pn.a.DoubleDigit:pn.a.SingleDigit,a=this.props.members.filter((function(t){return t.userId!==e.props.userId}))[0];a||console.log(this.props.members,this.props.userId);var r=a.name,s=this.props.messages.length>0?this.props.messages[this.props.messages.length-1].text:"@"+a.handle,c=a.profilePic?"".concat("https://storage.googleapis.com/drop-profile-pictures-bucket/profilePic-")+a.userId:Et.a,i=this.props.chatId===this.props.currentChatId,l=[pn.a.ChatPrev];return i&&l.push(pn.a.Active),o.a.createElement("div",{onClick:this.props.clicked,className:l.join(" ")},i?this.getConnector(!0):null,i?this.getConnector(!1):null,o.a.createElement("img",{src:c,alt:" ",className:pn.a.ProfilePic}),o.a.createElement("div",{className:pn.a.Info},o.a.createElement("h3",{className:pn.a.Name},r),o.a.createElement("p",{className:pn.a.Preview},s)),t.length>0?o.a.createElement("div",{className:n},o.a.createElement("span",{className:pn.a.NotificationCount},t.length)):null,this.getButton(a,i))}}]),n}(r.Component),Cn=Object(m.b)((function(e){return{darkmode:e.ui.darkmode,currentChatId:e.chat.currentChatId,unreadMessages:e.chat.unreadMessages,seenUpdatesChats:e.chat.seenUpdatesChats,chats:e.chat.chats,allUsers:e.chat.allUsers,friends:e.chat.friends,acceptingFriendRequests:e.chat.acceptingFriendRequests,sendingFriendRequests:e.chat.sendingFriendRequests,sentFriendRequests:e.chat.sentFriendRequests,receivedFriendRequests:e.chat.receivedFriendRequests,notifiaction:e.user.notifications,token:e.user.token,userId:e.user.userId}}),(function(e){return{onChangeChat:function(t){return e(H(t))},onSendFriendRequest:function(t){return e(T(t))},onAcceptFriendRequest:function(t){return e(R(t))}}}))(_n),vn=n(28),bn=n.n(vn),Sn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={searching:!1,searchInput:""},e.componentDidUpdate=function(){e.searchInput&&e.searchInput.focus()},e.clicked=function(t){e.props.onChangeChat(t),document.getElementById("chatForm").focus()},e.getChats=function(){return"loading"===e.props.chatsStatus?o.a.createElement("div",{className:bn.a.LoaderContainer},o.a.createElement(Ge.a,{className:bn.a.Spinner,type:"ThreeDots",color:"#00BFFF",height:30,width:30})):e.props.chats.sort((function(e,t){return t.lastInteraction-e.lastInteraction})).map((function(t){return o.a.createElement(Cn,Object.assign({},t,{key:t.chatId,clicked:function(){return e.clicked(t.chatId)}}))}))},e.getSearchInput=function(){return e.state.searching?o.a.createElement("input",{placeholder:"Search by username or @handle",ref:function(t){e.searchInput=t},type:"text",value:e.state.searchInput,onChange:e.onSearchInput,className:bn.a.SearchInput}):null},e.openSearch=function(){e.setState({searching:!0})},e.closeSearch=function(){e.setState({searching:!1,searchInput:""})},e.onSearchInput=function(t){e.setState({searchInput:t.target.value})},e.getNewChatIcon=function(){return o.a.createElement("svg",{className:bn.a.AddChatIcon,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"chat_bubble_outline_24px"},o.a.createElement("path",{id:"icon/communication/chat_bubble_outline_24px",fillRule:"evenodd",clipRule:"evenodd",d:"M4 2H20C21.1 2 22 2.89999 22 4V16C22 17.1 21.1 18 20 18H6L2 22V4C2 2.89999 2.90002 2 4 2ZM6 16H20V4H4V18L6 16Z",fill:"#ffffff"}),o.a.createElement("rect",{id:"Rectangle 6",x:"7",y:"9",width:"10",height:"2",fill:"#ffffff"}),o.a.createElement("rect",{id:"Rectangle 7",x:"11",y:"5",width:"2",height:"10",fill:"#ffffff"})))},e.getNewChatButton=function(){return e.state.searching?null:o.a.createElement("div",{className:bn.a.NewChatContainer,onClick:e.props.token?e.props.onOpenNewChatModal:null},e.getNewChatIcon(),o.a.createElement("h3",{className:bn.a.NewChatMessage},"new chat"))},e}return Object(l.a)(n,[{key:"getSearchIcon",value:function(){var e=this;return o.a.createElement("svg",{className:bn.a.SearchIcon,onClick:this.state.searching?function(){return e.closeSearch()}:function(){return e.openSearch()},width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"search_24px"},o.a.createElement("path",{id:"icon/action/search_24px",fillRule:"evenodd",clipRule:"evenodd",d:"M14.965 14.255H15.755L20.745 19.255L19.255 20.745L14.255 15.755V14.965L13.985 14.685C12.845 15.665 11.365 16.255 9.755 16.255C6.16504 16.255 3.255 13.345 3.255 9.755C3.255 6.16501 6.16504 3.255 9.755 3.255C13.345 3.255 16.255 6.16501 16.255 9.755C16.255 11.365 15.665 12.845 14.6851 13.985L14.965 14.255ZM5.255 9.755C5.255 12.245 7.26501 14.255 9.755 14.255C12.245 14.255 14.255 12.245 14.255 9.755C14.255 7.26501 12.245 5.255 9.755 5.255C7.26501 5.255 5.255 7.26501 5.255 9.755Z",fill:"#ffffff"})))}},{key:"render",value:function(){return o.a.createElement("div",{className:bn.a.ChatPreviews},o.a.createElement("div",{className:bn.a.Header}),this.getNewChatButton(),o.a.createElement("div",{className:bn.a.ScrollContainer},this.getChats()))}}]),n}(r.Component),In=Object(m.b)((function(e){return{userId:e.user.userId,token:e.user.token,notifications:e.user.notifications,chats:e.chat.chats,chatsStatus:e.chat.chatsStatus,currentChatId:e.chat.currentChatId,height:e.chat.formHeight,receivedFriendRequests:e.chat.receivedFriendRequests,acceptingFriendRequests:e.chat.acceptingFriendRequests,friends:e.chat.friends,friendsStatus:e.chat.friendsStatus,allUsers:e.chat.allUsers,allUsersStatus:e.chat.allUsersStatus,currentTab:e.ui.currentTab,darkmode:e.ui.currentTab}}),(function(e){return{onFetchAllUsers:function(){return e(C())},onChangeChat:function(t,n,a,r){return e(H(t,n,a,r))},onOpenNewChatModal:function(){return e({type:"OPEN_NEW_CHAT_MODAL"})}}}))(Sn),On=n(43),wn=n.n(On),yn=n(56),Nn=n.n(yn),jn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:""},e.onInput=function(t){e.setState({inputValue:t.target.value})},e.enterHandler=function(t){13===t.keyCode&&!t.shiftKey&&e.state.inputValue.length>0&&(t.preventDefault(),e.submitHandler())},e.submitHandler=function(){if(e.props.currentChatId.startsWith("dummy")){var t=e.props.chats.find((function(t){return t.chatId===e.props.currentChatId})),n=t.members.find((function(t){return t.userId===e.props.userId})),a=t.members.find((function(t){return t.userId!==e.props.userId}));e.props.creatingChats.some((function(t){return t===e.props.currentChatId}))?e.props.onAddMessageToBuffer(e.props.currentChatId,e.state.inputValue,e.props.userId):e.props.onSendFirstMessageNewChat(e.props.currentChatId,n,a,e.state.inputValue)}else e.props.onSendTextMessage(e.props.currentChatId,e.state.inputValue,e.props.userId);e.setState({inputValue:""})},e.getArrowRight=function(){return o.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"arrow_forward_24px"},o.a.createElement("path",{id:"icon/navigation/arrow_forward_24px",d:"M12 4L10.59 5.41L16.17 11H4V13H16.17L10.59 18.59L12 20L20 12L12 4Z",fill:0===e.state.inputValue.length?"grey":"black",fillOpacity:"0.54"})))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keypress",this.enterHandler)}},{key:"render",value:function(){return o.a.createElement("div",{className:Nn.a.ChatInput},o.a.createElement("div",{className:Nn.a.TextareaContainer},o.a.createElement("textarea",{id:"chatForm",className:Nn.a.Textarea,style:{height:"".concat(this.props.formHeight+5,"px")},value:this.state.inputValue,rows:1,onChange:this.onInput}),o.a.createElement(Dt,{colorTheme:"light",buttonType:"SubmitComment",clicked:this.submitHandler,className:Nn.a.SubmitButton,type:"submit"},this.getArrowRight())))}}]),n}(r.Component),Mn=Object(m.b)((function(e){return{currentChatLoaded:e.chat.currentChatLoaded,formHeight:e.chat.formHeight,chats:e.chat.chats,currentChatId:e.chat.currentChatId,chatInput:e.chat.chatInput,creatingChats:e.chat.creatingChats,userId:e.user.userId,handle:e.user.handle,profilePic:e.user.hasProfilePic,name:e.user.name}}),(function(e){return{onChangeFormHeight:function(t){return e(function(e){return{type:"CHANGE_FORM_HEIGHT",height:e}}(t))},onSendTextMessage:function(t,n,a){return e(function(e,t,n){return function(a){var r="".concat(Date.now());a(I(e,t,r,n));var o=localStorage.getItem("token"),s={headers:{authorization:"Bearer ".concat(o)}},c="/api/chat/".concat(e,"/textMessage"),i={type:"text",message:{text:t}};f.a.post(c,i,s).then((function(t){a(O(e,t.data,r))})).catch((function(t){console.log(t),a(w(e,r))}))}}(t,n,a))},onSendFirstMessageNewChat:function(t,n,a,r){return e(function(e,t,n,a){return function(r){var o=Date.now();r(M(e,o,a,t));var s=localStorage.getItem("token"),c={headers:{authorization:"Bearer ".concat(s)}},i={members:[t.userId,n.userId],message:a};f.a.post("/api/chat",i,c).then((function(a){console.log(a.data),r(k(e,o,a.data,t,n))})).catch((function(e){console.log("FIRST MESSAGE NEW CAHT ERROR"),console.log(e),r(A())}))}}(t,n,a,r))},onAddMessageToBuffer:function(t,n,a){return e(function(e,t,n){return{type:"ADD_MESSAGE_TO_BUFFER",dummyChatId:e,dummyMessageId:"".concat(Date.now()),text:t,userId:n}}(t,n,a))}}}))(jn),kn=n(25),An=n.n(kn),Tn=n(94),xn=n.n(Tn),Ln=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getMessage=function(){switch(e.props.type){case"text":return o.a.createElement("p",{className:An.a.Text},e.props.text);case"image":return[o.a.createElement("img",{className:An.a.Image,src:xn.a,alt:"",key:"image"}),e.props.text?o.a.createElement("p",{className:An.a.Text,key:"description"},e.props.text):null];case"drop":return o.a.createElement("div",null,e.props.title?o.a.createElement("p",{className:An.a.Text},e.props.title):null,o.a.createElement("img",{className:An.a.Drop,src:"https://storage.googleapis.com/drop-meme-bucket/meme-".concat(e.props.dropId),key:"drop",alt:"could not load meme. Refresh motherfucker."}));default:return null}},e}return Object(l.a)(n,[{key:"render",value:function(){var e=[An.a.MessageContainer];return this.props.sent?e.push(An.a.Sent):e.push(An.a.Received),this.props.sending&&e.push(An.a.Sending),this.props.messageNew&&e.push(An.a.New),o.a.createElement("div",{className:e.join(" ")},o.a.createElement("div",{className:An.a.Message},this.getMessage()))}}]),n}(r.Component),Dn=Object(m.b)((function(e){return{windowWidth:e.ui.windowWidth,height:e.chat.formHeight,currentTab:e.ui.currentTab,chatsStatus:e.chat.chatsStatus,currentChatId:e.chat.currentChatId,chats:e.chat.chats,unreadMessages:e.chat.unreadMessages,userId:e.user.userId,notifications:e.user.notifications}}),(function(e){return{onSendMessagesRead:function(t,n){return e(function(e,t){return function(n){n(Ae(e));var a=localStorage.getItem("token"),r={headers:{authorization:"Bearer ".concat(a)}},o="/api/chat/".concat(e,"/read"),s={messageIds:t};f.a.post(o,s,r).then((function(e){console.log(e),n(Te())})).catch((function(e){console.log(e),n(xe())}))}}(t,n))},onDeleteNotification:function(t){return e(function(e){return function(t){t(De(e));var n="/api/users/notification/".concat(e),a=localStorage.getItem("token"),r={headers:{authorization:"Bearer ".concat(a)}};f.a.delete(n,r).then((function(e){console.log(e.data),t(Re())})).catch((function(e){console.log(e),t(Pe())}))}}(t))}}}))((function(e){Object(r.useEffect)((function(){if(t(),"chat"===e.currentTab){var n=e.notifications.filter((function(t){return t.type.startsWith("NEW_MESSAGE")&&t.chatId===e.currentChatId}));if(n.length>0){var a=n.map((function(e){return e.message.id}));e.onSendMessagesRead(e.currentChatId,a)}var r=e.notifications.find((function(t){return!(!t.type.startsWith("NEW_CHAT")||(console.log("FOUND NEW CHAT NOTIFICATON"),console.log(e.currentChatId),console.log(t.chatId),t.chatId!==e.currentChatId))}));r&&(console.log("Found new Chat Notification"),console.log(r),e.onDeleteNotification(r.id))}}));var t=function(e){n.current.scrollIntoView({behavior:e?"smooth":"auto",block:"start",inline:"nearest"})},n=Object(r.createRef)(),a=[],s=!1,c=e.chats.find((function(t){return t.chatId===e.currentChatId}));c&&c.messages.forEach((function(t){t.new?(s||(a.push(o.a.createElement("div",{key:"separator",className:wn.a.NewMessageSeparator},"new messages")),s=!0),a.push(o.a.createElement(Ln,Object.assign({},t,{new:!0,key:t.id,sent:e.userId===t.sender})))):a.push(o.a.createElement(Ln,Object.assign({},t,{key:t.id,sent:e.userId===t.sender})))}));var i=[wn.a.ChatWindow];return i.push(e.windowWidth<1277?wn.a.SmallChatWindow:wn.a.BigChatWindow),o.a.createElement("div",{className:i.join(" ")},o.a.createElement("div",{className:wn.a.Messages,style:{height:"calc(80vh-".concat(e.formHeight,"px)")}},o.a.createElement("p",{className:wn.a.NotEncryptedMessage},"This Chat is not yet end-to-end encrypted. ",o.a.createElement("br",null),"Or encrypted. But it is end-to-end, lol. ",o.a.createElement("br",null),"What I mean is maybe don't send nudes here just yet. ",o.a.createElement("br",null)),a,o.a.createElement("div",{style:{height:"90px"},ref:n})),o.a.createElement(Mn,{inputRef:e.inputRef}))})),Rn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={textInput:"placeholder"},e.componentDidUpdate=function(){var t=e.props.messageBuffer.find((function(e){return!e.dummyChatId.startsWith("dummy")&&!e.sending}));t&&(console.log("Sending Message"),console.log(t),e.props.onSendMessageFromBuffer(t.id,t.dummyChatId,t.dummyMessageId,t.text))},e.setChatFormInputValue=function(t){e.setState({textInput:t.target.value})},e.changeChat=function(t){e.props.onChangeChat(t,null,null,e.state.textInput),e.props.onChangeShouldDeleteInput(!0)},e.getNotLoggedInMessage=function(){return o.a.createElement("div",{className:un.a.NotLoggedInContainer},o.a.createElement("div",{className:un.a.NotLoggedInMessage},o.a.createElement("div",{className:un.a.InnerContainer},o.a.createElement(Yt,{clicked:e.props.onOpenMenu},o.a.createElement("h3",null,"Log in")),"or",o.a.createElement(Yt,{clicked:e.props.onOpenMenu},o.a.createElement("h3",null,"Create Account")),"to chat with friends!")))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=[un.a.Chat];return"stream"===this.props.currentTab&&e.push(un.a.OutLeft),"creator"===this.props.currentTab&&e.push(un.a.OutRight),o.a.createElement("div",{className:e.join(" ")},this.props.token?null:this.getNotLoggedInMessage(),o.a.createElement(In,null),o.a.createElement(Dn,null))}}]),n}(r.Component),Pn=Object(m.b)((function(e){return{currentTab:e.ui.currentTab,token:e.user.token,chats:e.stream.chats,messageBuffer:e.chat.messageBuffer}}),(function(e){return{onOpenMenu:function(){return e({type:"OPEN_MENU"})},onChangeChat:function(t,n,a,r){return e(H(t,n,a,r))},onSendMessageFromBuffer:function(t,n,a,r){return e(function(e,t,n,a){return function(n){n(y(e));var r=localStorage.getItem("token"),o={headers:{authorization:"Bearer ".concat(r)}},s="/api/chat/".concat(t,"/textMessage"),c={type:"text",message:{text:a}};f.a.post(s,c,o).then((function(t){n(N(e,t.data))})).catch((function(t){n(j(e))}))}}(t,n,0,r))}}}))(Rn),Fn=n(47),Bn=n.n(Fn),Hn=n(57),Un=n(95),Wn=n.n(Un),Vn=n(32),Gn=n.n(Vn),qn=function(e){var t=Wn()(),n=t.fontSize,a=t.ref,r=e.element,s=r.font,c=r.height,i=r.width,l=r.fontWeight,u=r.verticalAlign,d=r.elementId,p="top"===u?Gn.a.topAlign:"bottom"===u?Gn.a.bottomAlign:Gn.a.middleAlign;return o.a.createElement("div",{contentEditable:e.editing,suppressContentEditableWarning:!0,type:"text",id:"".concat(d,"-input"),className:"".concat(Gn.a.TextInput," ").concat(p),style:{fontFamily:s,fontWeight:l,height:c,width:i},onInput:function(t){return e.onTextInput(t,d)}},o.a.createElement("div",{ref:a,style:{fontSize:n,height:c,width:i}},e.text))},zn=function(e){var t=e.element,n=t.font,a=t.fixedDimensions,r=t.fontWeight,s=t.verticalAlign,c=t.elementId,i="top"===s?Gn.a.topAlign:"bottom"===s?Gn.a.bottomAlign:Gn.a.middleAlign;return a?o.a.createElement(qn,e):o.a.createElement("div",{contentEditable:e.editing,suppressContentEditableWarning:!0,type:"text",id:"".concat(c,"-input"),className:"".concat(Gn.a.TextInput," ").concat(i),style:{fontFamily:n,fontWeight:r},onInput:function(t){return e.onTextInput(t,c)}},e.text)},Yn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getStyles=function(){var t=e.props.element,n=t.height,a=t.width,r=t.posX,o=t.posY,s=t.font,c=t.fontSize,i=t.textAlign,l=t.fontWeight,u=t.underline,d=t.italic,p=t.color,m=t.textStroke,h=t.elementId,f=r,g=o;if(!e.props.inPreview){var E=e.props.perspective;f+=E.offsetX,g+=E.offsetY}return{height:"".concat(n,"px"),width:"".concat(a,"px"),left:"".concat(f,"px"),top:"".concat(g,"px"),fontFamily:"".concat(s,",Oswald,Impact"),fontSize:"".concat(c,"pt"),textAlign:i,fontWeight:l,fontStyle:d?"italic":"normal",backgroundColor:p,textDecoration:u?"underline":"none",WebkitTextStrokeColor:m?"black":null,WebkitTextStrokeWidth:m?"0.06rem":null,textShadow:m?"0px 0px 0.1rem  #000":null,cursor:e.props.editingId===h||e.props.inPreview?null:"grab"}},e.getContent=function(){var t=e.props.element,n=t.color,a=t.elementId,r=t.imgSrc,s=t.text;switch(e.props.type){case"text":return o.a.createElement(zn,{element:e.props.element,onInput:e.props.onTextInput,text:s,editing:e.props.editingId===a,onTextInput:e.props.onTextInput});case"image":return o.a.createElement("img",{src:r,className:Hn.Image,id:"".concat(a,"-image"),onLoad:e.props.onImageLoad,alt:""});case"rect":return o.a.createElement("div",{className:Hn.Rect,style:{backgroundColor:n}});default:return null}},e.highlighed=function(){if(e.props.selected||!e.props.selectedLines)return!1;var t=[],n=[];return t.push(e.props.element.posY),t.push((2*e.props.element.posY+e.props.element.height)/2),t.push(e.props.element.posY+e.props.element.height),n.push(e.props.element.posX),n.push((2*e.props.element.posX+e.props.element.width)/2),n.push(e.props.element.posX+e.props.element.width),n.includes(e.props.selectedLines.v)||t.includes(e.props.selectedLines.h)},e.mouseDown=function(t){t.stopPropagation(),e.props.editingId===e.props.element.elementId||e.props.inPreview||e.props.elementMouseDown(t,e.props.element.elementId)},e.mouseUp=function(t){t.stopPropagation(),e.props.editingId===e.props.element.elementId||e.props.inPreview||e.props.select(t,e.props.element.elementId)},e.doubleClick=function(t){e.props.inPreview||("text"===e.props.element.type?e.props.selectAndEdit(t,e.props.element.elementId):e.props.select(t,e.props.element.elementId))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=[Hn.Element];return this.highlighed()&&e.push(Hn.highlight),o.a.createElement("div",{className:e.join(" "),onDoubleClick:this.doubleClick,onMouseDown:this.mouseDown,onMouseUp:this.mouseUp,style:this.getStyles(),id:"element-".concat(this.props.element.elementId)},this.getContent())}}]),n}(r.Component),Zn=n(69),Kn=n.n(Zn),Xn=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.perspective,t=e.offsetX,n=e.offsetY,a=0===this.props.left;return o.a.createElement("div",{className:a?Kn.a.HL:Kn.a.VL,style:{top:a?"".concat(this.props.top+n,"px"):"0",left:a?"0":"".concat(this.props.left+t,"px")}})}}]),n}(r.Component),Qn=n(34),Jn=n.n(Qn),$n=function(e){var t=Object(r.useRef)(null);return o.a.createElement("div",{className:Jn.a.TopMenu},o.a.createElement("div",{className:Jn.a.LeftAlign},o.a.createElement("div",{className:Jn.a.MenuItem,onClick:function(){return e.addElements([{type:"rect",elementId:"".concat(Date.now()),posX:100,posY:100,height:400,width:400,color:"#FF8592"}])}},o.a.createElement("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("rect",{width:"26",height:"26",rx:"3",fill:"white"}))),o.a.createElement("div",{className:Jn.a.MenuItem,onClick:function(){return e.addElements([{type:"text",elementId:"".concat(Date.now()),height:60,width:400,posX:100,posY:300,text:"Text Element 3",font:"Oswald",fontSize:"30",fontWeight:"700",textAlign:"center",fixedWidth:!0,underline:!1,italic:!1,textStroke:!0}])}},o.a.createElement("svg",{width:"23",height:"26",viewBox:"0 0 23 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0 0H22.5V3H0V0Z",fill:"white"}),o.a.createElement("path",{d:"M0 3H3V7H0V3Z",fill:"white"}),o.a.createElement("path",{d:"M20 3H22.5V7H20V3Z",fill:"white"}),o.a.createElement("path",{d:"M7 23H16V26H7V23Z",fill:"white"}),o.a.createElement("path",{d:"M10 3H13V26H10V3Z",fill:"white"}))),o.a.createElement("div",{className:Jn.a.MenuItem,onClick:function(){t.current.click()}},o.a.createElement("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M0.411133 20.9529L7.36393 14.0001L8.77815 15.4143L1.82535 22.3671L0.411133 20.9529Z",fill:"white"}),o.a.createElement("path",{d:"M10.0928 19.2714L19.3641 10.0001L20.7783 11.4143L11.507 20.6856L10.0928 19.2714Z",fill:"white"}),o.a.createElement("path",{d:"M7.41406 14L12.8181 19.404L11.4039 20.8182L5.99985 15.4142L7.41406 14Z",fill:"white"}),o.a.createElement("path",{d:"M19.4141 10L25.778 16.364L24.3638 17.7782L17.9998 11.4142L19.4141 10Z",fill:"white"}),o.a.createElement("circle",{cx:"9.5",cy:"8.5",r:"2.5",stroke:"white",strokeWidth:"2"}),o.a.createElement("rect",{x:"1",y:"1",width:"24",height:"24",rx:"1",stroke:"white",strokeWidth:"2"})))),o.a.createElement("div",{className:Jn.a.RightAlign},o.a.createElement("div",{className:Jn.a.MenuItem,onClick:e.openExportModal},o.a.createElement("svg",{className:Jn.a.shareIcon,width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{x1:"10.4472",y1:"17.1056",x2:"20.4472",y2:"22.1056",stroke:"#fff",strokeWidth:"2"}),o.a.createElement("line",{x1:"9.55279",y1:"13.1056",x2:"19.5528",y2:"8.10557",stroke:"#fff",strokeWidth:"2"}),o.a.createElement("circle",{cx:"6",cy:"15",r:"5",stroke:"#fff",strokeWidth:"2"}),o.a.createElement("circle",{cx:"24",cy:"24",r:"5",stroke:"#fff",strokeWidth:"2"}),o.a.createElement("circle",{cx:"24",cy:"6",r:"5",stroke:"#fff",strokeWidth:"2"}))),o.a.createElement("div",{className:Jn.a.MenuItem,onClick:e.openExportModal},o.a.createElement("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M1 26H6V33H34V26H39V35C39 36.6569 37.6569 38 36 38H4C2.34315 38 1 36.6569 1 35V26Z",fill:"#ffffff"}),o.a.createElement("path",{d:"M16 1C16 0.447716 16.4477 0 17 0H23C23.5523 0 24 0.447715 24 1V18H28.8439C29.6953 18 30.1572 18.996 29.6073 19.6459L20.7634 30.0978C20.3639 30.5699 19.6361 30.5699 19.2366 30.0978L10.3927 19.6459C9.84279 18.996 10.3047 18 11.1561 18H16V1Z",fill:"#ffffff"})))),o.a.createElement("input",{type:"file",id:"file",multiple:!0,ref:t,style:{display:"none"},onInput:function(t){console.log("FILE INPUT");for(var n=100,a=100,r=function(r){var o=new FileReader;o.onload=function(){var t=new Image;t.src=o.result,t.onload=function(){e.addElements([{type:"image",elementId:"".concat(Date.now()).concat(r),height:t.height,width:t.width,posX:n,posY:a,imgSrc:t.src}])}},o.readAsDataURL(t.target.files[r]),n+=20,a+=20},o=0;o<t.target.files.length;o++)r(o)}}))},ea=n(9),ta=n.n(ea),na=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).leftAlignIcon=function(){var t="left"===e.props.selected.textAlign?"#11192c":"#ffffff";return o.a.createElement("svg",{className:"left"===e.props.selected.textAlign?ta.a.alignActive:ta.a.alignInactive,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{x1:"7",y1:"8",x2:"33",y2:"8",stroke:t,strokeWidth:"2"}),o.a.createElement("line",{x1:"7",y1:"20",x2:"30",y2:"20",stroke:t,strokeWidth:"2"}),o.a.createElement("line",{x1:"7",y1:"32",x2:"27",y2:"32",stroke:t,strokeWidth:"2"}),o.a.createElement("line",{x1:"7",y1:"14",x2:"22",y2:"14",stroke:t,strokeWidth:"2"}),o.a.createElement("line",{x1:"7",y1:"26",x2:"22",y2:"26",stroke:t,strokeWidth:"2"}))},e.centerAlignIcon=function(){var t="center"===e.props.selected.textAlign?"#11192c":"#ffffff";return o.a.createElement("svg",{className:"center"===e.props.selected.textAlign?ta.a.alignActive:ta.a.alignInactive,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{x1:"7",y1:"8",x2:"33",y2:"8",stroke:t,strokeWidth:"2"}),o.a.createElement("line",{x1:"9",y1:"20",x2:"32",y2:"20",stroke:t,strokeWidth:"2"}),o.a.createElement("line",{x1:"10",y1:"32",x2:"30",y2:"32",stroke:t,strokeWidth:"2"}),o.a.createElement("line",{x1:"13",y1:"14",x2:"28",y2:"14",stroke:t,strokeWidth:"2"}),o.a.createElement("line",{x1:"13",y1:"26",x2:"28",y2:"26",stroke:t,strokeWidth:"2"}))},e.rightAlignIcon=function(){var t="right"===e.props.selected.textAlign?"#11192c":"#ffffff";return o.a.createElement("svg",{className:"right"===e.props.selected.textAlign?ta.a.alignActive:ta.a.alignInactive,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{stroke:t,y1:"-1",x2:"26",y2:"-1",transform:"matrix(-1 0 0 1 33 9)",strokeWidth:"2"}),o.a.createElement("line",{stroke:t,y1:"-1",x2:"23",y2:"-1",transform:"matrix(-1 0 0 1 33 21)",strokeWidth:"2"}),o.a.createElement("line",{stroke:t,y1:"-1",x2:"20",y2:"-1",transform:"matrix(-1 0 0 1 33 33)",strokeWidth:"2"}),o.a.createElement("line",{stroke:t,y1:"-1",x2:"16",y2:"-1",transform:"matrix(-1 0 0 1 33 15)",strokeWidth:"2"}),o.a.createElement("line",{stroke:t,y1:"-1",x2:"16",y2:"-1",transform:"matrix(-1 0 0 1 33 27)",strokeWidth:"2"}))},e.topAlignIcon=function(){var t="top"===e.props.selected.verticalAlign?"#11192c":"#ffffff";return o.a.createElement("svg",{className:"top"===e.props.selected.verticalAlign?ta.a.alignActive:ta.a.alignInactive,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{stroke:t,x1:"6",y1:"7",x2:"34",y2:"7",strokeWidth:"2"}),o.a.createElement("path",{fill:t,d:"M20.7071 10.2929C20.3166 9.90237 19.6834 9.90237 19.2929 10.2929L12.9289 16.6569C12.5384 17.0474 12.5384 17.6805 12.9289 18.0711C13.3195 18.4616 13.9526 18.4616 14.3431 18.0711L20 12.4142L25.6569 18.0711C26.0474 18.4616 26.6805 18.4616 27.0711 18.0711C27.4616 17.6805 27.4616 17.0474 27.0711 16.6569L20.7071 10.2929ZM21 33V11H19V33H21Z"}))},e.middleAlignIcon=function(){var t="middle"===e.props.selected.verticalAlign?"#11192c":"#ffffff";return o.a.createElement("svg",{className:"middle"===e.props.selected.verticalAlign?ta.a.alignActive:ta.a.alignInactive,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{stroke:t,x1:"6",y1:"20",x2:"34",y2:"20",strokeWidth:"2"}),o.a.createElement("path",{fill:t,d:"M20.7071 23.2929C20.3166 22.9024 19.6834 22.9024 19.2929 23.2929L12.9289 29.6569C12.5384 30.0474 12.5384 30.6805 12.9289 31.0711C13.3195 31.4616 13.9526 31.4616 14.3431 31.0711L20 25.4142L25.6569 31.0711C26.0474 31.4616 26.6805 31.4616 27.0711 31.0711C27.4616 30.6805 27.4616 30.0474 27.0711 29.6569L20.7071 23.2929ZM21 34L21 24H19V34H21Z"}),o.a.createElement("path",{fill:t,d:"M19.2929 16.7071C19.6834 17.0976 20.3166 17.0976 20.7071 16.7071L27.0711 10.3431C27.4616 9.95262 27.4616 9.31946 27.0711 8.92893C26.6805 8.53841 26.0474 8.53841 25.6569 8.92893L20 14.5858L14.3431 8.92893C13.9526 8.53841 13.3195 8.53841 12.9289 8.92893C12.5384 9.31946 12.5384 9.95262 12.9289 10.3431L19.2929 16.7071ZM19 6V16H21V6H19Z"}))},e.bottomAlignIcon=function(){var t="bottom"===e.props.selected.verticalAlign?"#11192c":"#ffffff";return o.a.createElement("svg",{className:"bottom"===e.props.selected.verticalAlign?ta.a.alignActive:ta.a.alignInactive,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{stroke:t,x1:"34",y1:"33",x2:"6",y2:"33",strokeWidth:"2"}),o.a.createElement("path",{fill:t,d:"M19.2929 29.7071C19.6834 30.0976 20.3166 30.0976 20.7071 29.7071L27.0711 23.3431C27.4616 22.9526 27.4616 22.3195 27.0711 21.9289C26.6805 21.5384 26.0474 21.5384 25.6569 21.9289L20 27.5858L14.3431 21.9289C13.9526 21.5384 13.3195 21.5384 12.9289 21.9289C12.5384 22.3195 12.5384 22.9526 12.9289 23.3431L19.2929 29.7071ZM19 7V29H21V7H19Z"}))},e.italicIcon=function(){var t=e.props.selected.italic?"#11192c":"#ffffff";return o.a.createElement("svg",{className:e.props.selected.italic?ta.a.alignActive:ta.a.alignInactive,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M16 8C16 7.44772 16.4477 7 17 7H28C28.5523 7 29 7.44772 29 8V9C29 9.55228 28.5523 10 28 10H24.7899C24.3268 10 23.9243 10.3179 23.8171 10.7684L19.2932 29.7684C19.1436 30.3968 19.6201 31 20.266 31H23C23.5523 31 24 31.4477 24 32V33C24 33.5523 23.5523 34 23 34H12C11.4477 34 11 33.5523 11 33V32C11 31.4477 11.4477 31 12 31H15.2101C15.6732 31 16.0757 30.6821 16.1829 30.2316L20.7068 11.2316C20.8564 10.6032 20.3799 10 19.734 10H17C16.4477 10 16 9.55228 16 9V8Z",fill:t}))},e.underlineIcon=function(){var t=e.props.selected.underline?"#11192c":"#ffffff";return o.a.createElement("svg",{className:e.props.selected.underline?ta.a.alignActive:ta.a.alignInactive,width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M11 32C11 31.4477 11.4477 31 12 31H28C28.5523 31 29 31.4477 29 32V33C29 33.5523 28.5523 34 28 34H12C11.4477 34 11 33.5523 11 33V32Z",fill:t}),o.a.createElement("path",{d:"M12 8C12 7.44772 12.4477 7 13 7H15C15.5523 7 16 7.44772 16 8V22C16 22.5523 15.5523 23 15 23H13C12.4477 23 12 22.5523 12 22V8Z",fill:t}),o.a.createElement("path",{d:"M24 8C24 7.44772 24.4477 7 25 7H27C27.5523 7 28 7.44772 28 8V22C28 22.5523 27.5523 23 27 23H25C24.4477 23 24 22.5523 24 22V8Z",fill:t}),o.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 17.7358C13.6088 18.6868 12 20.4643 12 22.5C12 26 15.5817 28 20 28C24.4183 28 28 26 28 22.5C28 20.4643 26.3912 18.6868 24 17.7358V21C24 25 20 25 20 25C20 25 16 25 16 21V17.7358Z",fill:t}))},e.stopPropagation=function(e){},e.editHeight=function(t){e.props.edit(e.props.selected.elementId,Object(fe.a)(Object(fe.a)({},e.props.selected),{},{height:t.target.value}))},e.editWidth=function(t){e.props.edit(e.props.selected.elementId,Object(fe.a)(Object(fe.a)({},e.props.selected),{},{width:t.target.value}))},e.editX=function(t){e.props.edit(e.props.selected.elementId,Object(fe.a)(Object(fe.a)({},e.props.selected),{},{posX:t.target.value}))},e.editY=function(t){e.props.edit(e.props.selected.elementId,Object(fe.a)(Object(fe.a)({},e.props.selected),{},{posY:t.target.value}))},e.editFont=function(t){console.log(t.target.value),e.props.edit(e.props.selected.elementId,Object(fe.a)(Object(fe.a)({},e.props.selected),{},{font:t.target.value}))},e.editFontSize=function(t){console.log(t.target.value),e.props.edit(e.props.selected.elementId,Object(fe.a)(Object(fe.a)({},e.props.selected),{},{fontSize:t.target.value}))},e.editTextAlign=function(t){e.props.edit(e.props.selected.elementId,Object(fe.a)(Object(fe.a)({},e.props.selected),{},{textAlign:t}))},e.editFontWeight=function(t){e.props.edit(e.props.selected.elementId,Object(fe.a)(Object(fe.a)({},e.props.selected),{},{fontWeight:t.target.value}))},e.editFixedDimensions=function(t){e.props.edit(e.props.selected.elementId,Object(fe.a)(Object(fe.a)({},e.props.selected),{},{fixedDimensions:t}))},e.editUnderline=function(){e.props.edit(e.props.selected.elementId,Object(fe.a)(Object(fe.a)({},e.props.selected),{},{underline:!e.props.selected.underline}))},e.editItalic=function(){e.props.edit(e.props.selected.elementId,Object(fe.a)(Object(fe.a)({},e.props.selected),{},{italic:!e.props.selected.italic}))},e.editVerticalAlign=function(t){e.props.edit(e.props.selected.elementId,Object(fe.a)(Object(fe.a)({},e.props.selected),{},{verticalAlign:t}))},e.editColor=function(t){console.log("Editing color: ",t.target.value),e.props.edit(e.props.selected.elementId,Object(fe.a)(Object(fe.a)({},e.props.selected),{},{color:t.target.value}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;if(!this.props.selected)return null;var t=this.props.selected,n=t.type,a=t.color,r=t.posX,s=t.posY,c=t.height,i=t.width,l=t.fontSize,u=t.font,d=t.fontWeight,p=t.fixedDimensions;return o.a.createElement("div",{className:ta.a.SelectionMenu,onClick:this.stopPropagation,onMouseUp:this.stopPropagation},o.a.createElement("div",null,o.a.createElement("div",{className:ta.a.flex},o.a.createElement("div",{className:ta.a.inputWrapper},o.a.createElement("span",null,"Height:"),o.a.createElement("input",{className:ta.a.input,onChange:this.editHeight,type:"number",value:c})),o.a.createElement("div",{className:ta.a.inputWrapper},o.a.createElement("span",null,"Width:"),o.a.createElement("input",{className:ta.a.input,onChange:this.editWidth,type:"number",value:i}))),o.a.createElement("div",{className:ta.a.flex},o.a.createElement("div",{className:ta.a.inputWrapper},o.a.createElement("span",null,"X:"),o.a.createElement("input",{className:ta.a.input,onChange:this.editX,type:"number",value:r})),o.a.createElement("div",{className:ta.a.inputWrapper},o.a.createElement("span",null,"Y:"),o.a.createElement("input",{className:ta.a.input,onChange:this.editY,type:"number",value:s})))),"text"===n?o.a.createElement("div",{className:ta.a.textOptions},o.a.createElement("div",{className:ta.a.flex},o.a.createElement("div",{className:ta.a.fontSelector},o.a.createElement("select",{onChange:this.editFont,value:u},o.a.createElement("option",{value:"Impact"},"Impact"),o.a.createElement("option",{value:"Arial"},"Arial"),o.a.createElement("option",{value:"Times"},"Times"),o.a.createElement("option",{value:"Verdana"},"Verdana"))),o.a.createElement("div",{className:ta.a.inputWrapper},o.a.createElement("input",{className:ta.a.input,onChange:this.editFontSize,type:"number",value:l}))),o.a.createElement("div",{className:ta.a.flexSpaceBetween},o.a.createElement("div",{className:ta.a.flex},o.a.createElement("div",{className:ta.a.alignIcon,onClick:function(){return e.editTextAlign("left")}},this.leftAlignIcon()),o.a.createElement("div",{className:ta.a.alignIcon,onClick:function(){return e.editTextAlign("center")}},this.centerAlignIcon()),o.a.createElement("div",{className:ta.a.alignIcon,onClick:function(){return e.editTextAlign("right")}},this.rightAlignIcon())),o.a.createElement("div",{className:ta.a.flex},o.a.createElement("div",{className:ta.a.alignIcon,onClick:function(){return e.editVerticalAlign("top")}},this.topAlignIcon()),o.a.createElement("div",{className:ta.a.alignIcon,onClick:function(){return e.editVerticalAlign("middle")}},this.middleAlignIcon()),o.a.createElement("div",{className:ta.a.alignIcon,onClick:function(){return e.editVerticalAlign("bottom")}},this.bottomAlignIcon()))),o.a.createElement("div",{className:ta.a.flex},o.a.createElement("div",{className:ta.a.fontWeight},o.a.createElement("select",{onChange:this.editFontWeight,value:d},o.a.createElement("option",{value:"700"},"Bold"),o.a.createElement("option",{value:"400"},"Regular"))),o.a.createElement("div",{className:ta.a.alignIcon,onClick:this.editItalic},this.italicIcon()),o.a.createElement("div",{className:ta.a.alignIcon,onClick:this.editUnderline},this.underlineIcon())),o.a.createElement("div",{className:ta.a.textBoxTypeOptions},o.a.createElement("div",{onClick:function(){return e.editFixedDimensions(!1)}},o.a.createElement("input",{type:"checkbox",onChange:function(){return e.editFixedDimensions(!1)},checked:!p})," fixed width & font size"),o.a.createElement("div",{onClick:function(){return e.editFixedDimensions(!0)}},o.a.createElement("input",{type:"checkbox",onChange:function(){return e.editFixedDimensions(!0)},checked:p})," fixed textbox size"))):null,"rect"===n?o.a.createElement("div",{className:ta.a.colorOptions},o.a.createElement("div",{className:ta.a.colorInputContainer},o.a.createElement("div",{className:ta.a.colorInputBackground,style:{background:a}}),o.a.createElement("input",{type:"color",onChange:this.editColor,value:a,className:ta.a.colorInput})),o.a.createElement("p",null,"background")):null)}}]),n}(r.Component),aa=n(29),ra=n.n(aa),oa=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){var t=document.getElementById("rsh-".concat(e.props.dir));t&&t.addEventListener("onmousedown",e.handleResizeMouseDown)},e.componentWillUnmount=function(){var t=document.getElementById("rsh-".concat(e.props.dir));t&&t.removeEventListener("onmousedown",e.handleResizeMouseDown)},e.handleResizeMouseDown=function(t){t.stopPropagation(),e.props.resizeMouseDown(t,e.props.dir,e.props.elementId)},e.getStyleClasses=function(){var t=[e.props.dir.length>1?ra.a.Corner:ra.a.Edge];switch(e.props.dir){case"NW":t.push(ra.a.NW);break;case"NE":t.push(ra.a.NE);break;case"SW":t.push(ra.a.SW);break;case"SE":t.push(ra.a.SE);break;case"N":t.push(ra.a.N);break;case"W":t.push(ra.a.W);break;case"S":t.push(ra.a.S);break;case"E":t.push(ra.a.E);break;default:console.log("Invalid direction for resize hanlder")}return t},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"rsh-".concat(this.props.dir),className:this.getStyleClasses().join(" "),onMouseDown:function(t){return e.props.resizeMouseDown(t,e.props.dir,e.props.elementId)}})}}]),n}(r.Component),sa=n(96),ca=n.n(sa),ia=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getResizeHandlers=function(){var t=[];return e.props.editingId?null:("text"!==e.props.element.type||e.props.element.fixedDimensions?(t.push("NW","SW","NE","SE"),e.props.element.height>30&&t.push("E","W"),e.props.element.width>30&&t.push("N","S")):t.push("W","E"),t.map((function(t){return o.a.createElement(oa,{key:t,dir:t,elementId:e.props.element.elementId,resizeMouseDown:e.props.resizeMouseDown})})))},e.doubleClick=function(t){"text"===e.props.element.type&&e.props.selectAndEdit(t,e.props.element.elementId)},e.getStyles=function(){var t=e.props.element,n=t.height,a=t.width,r=t.posX,o=t.posY,s=e.props.perspective,c=s.offsetX,i=s.offsetY,l={height:"".concat(n,"px"),width:"".concat(a,"px"),left:"".concat(r+c,"px"),top:"".concat(o+i,"px")};return e.props.editingId?l.pointerEvents="none":l.cursor="grab",l},e.onMouseDown=function(t){e.props.editingId!==e.props.element.elementId&&e.props.elementMouseDown(t,e.props.element.elementId)},e}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:ca.a.SelectionFrame,style:this.getStyles(),onMouseDown:this.onMouseDown,onMouseUp:this.mouseUp,onDoubleClick:this.doubleClick},this.getResizeHandlers())}}]),n}(r.Component),la=n(35),ua=n.n(la),da=n(64),pa=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={height:0,width:0,downloadFormat:"jpg",linkRef:o.a.createRef(),imagesLoaded:0,imageCreationStarted:!1,downloadLoading:!1},e.componentDidMount=function(){var t=e.divElement.clientHeight,n=e.divElement.clientWidth;e.setState({height:t,width:n})},e.componentDidUpdate=function(){var t=e.divElement.clientHeight,n=e.divElement.clientWidth;t===e.state.height&&n===e.state.width||e.setState({height:t,width:n})},e.calcContentMetrics=function(){var t=1e10,n=-1e10,a=1e10,r=-1e10;return e.props.elements.forEach((function(e){e.posX<t&&(t=e.posX),e.posX+e.width>n&&(n=e.posX+e.width),e.posY<a&&(a=e.posY),e.posY+e.height>r&&(r=e.posY+e.height)})),{leftBorder:t,rightBorder:n,topBorder:a,bottomBorder:r,contentWidth:n-t,contentHeight:r-a}},e.setDownloadFormat=function(t){console.log(t.target.value),e.setState({downloadFormat:t.target.value})},e.onDownLoad=function(){var t=document.getElementById("preview");e.setState({downloadStarted:!0}),"png"===e.state.downloadFormat&&da.b(t).then((function(t){var n=document.createElement("a");n.setAttribute("download","FileName.".concat(e.state.downloadFormat)),n.href=t,document.body.appendChild(n),n.click(),n&&n.parentNode&&n.parentNode.removeChild(n),e.props.closeExportModal()})).catch((function(e){console.log("png downloadError"),console.log(e)})),"jpg"===e.state.downloadFormat&&da.a(t).then((function(t){var n=document.createElement("a");n.setAttribute("download","FileName.".concat(e.state.downloadFormat)),n.href=t,document.body.appendChild(n),n.click(),n&&n.parentNode&&n.parentNode.removeChild(n),e.props.closeExportModal()})).catch((function(e){console.log("SETTING URL ERROR"),console.log(e)})),"png"===e.state.downloadFormat&&da.c(t).then((function(t){var n=document.createElement("a");n.setAttribute("download","FileName.".concat(e.state.downloadFormat)),n.href=t,document.body.appendChild(n),n.click(),n&&n.parentNode&&n.parentNode.removeChild(n),e.props.closeExportModal()})).catch((function(e){console.log("SETTING URL ERROR")}))},e.getElements=function(e){return[].concat(Object(tt.a)(e.filter((function(e){return"text"!==e.type}))),Object(tt.a)(e.filter((function(e){return"text"===e.type})))).map((function(e){switch(e.type){case"text":return o.a.createElement(Yn,{inPreview:!0,type:"text",key:"prev-".concat(e.elementId),element:e});case"rect":return o.a.createElement(Yn,{inPreview:!0,type:"rect",key:"prev-".concat(e.elementId),element:e});case"image":return o.a.createElement(Yn,{inPreview:!0,type:"image",key:"prev-".concat(e.elementId),element:e});default:return console.log("Invalid Element Type!"),null}}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.calcContentMetrics(),n=t.leftBorder,a=t.topBorder,r=t.contentWidth,s=t.contentHeight,c={height:s,width:r};if(r/s<this.state.width/this.state.height){var i=this.state.height/s;s>this.state.height&&(c.zoom=i)}else{var l=this.state.width/r;r>this.state.width&&(c.zoom=l)}var u=this.props.elements.map((function(e){return Object(fe.a)(Object(fe.a)({},e),{},{posX:e.posX-n,posY:e.posY-a})}));return o.a.createElement("div",{className:ua.a.ExportModal},o.a.createElement("div",{className:ua.a.Background,onClick:this.props.closeExportModal}),o.a.createElement("div",{className:ua.a.Modal},o.a.createElement("div",{id:"previewContainer",className:ua.a.PreviewContainer,ref:function(t){e.divElement=t}},o.a.createElement("div",{className:ua.a.Preveiw,style:c},o.a.createElement("div",{id:"preview",className:ua.a.DownloadWrapper},this.getElements(u)))),o.a.createElement("div",{className:ua.a.DownloadOptions},o.a.createElement("div",{className:ua.a.DownloadContainer},o.a.createElement("select",{onChange:this.setDownloadFormat,value:this.state.downloadFormat},o.a.createElement("option",{value:"png",label:"png"}),o.a.createElement("option",{value:"jpg",label:"jpg"}),o.a.createElement("option",{value:"svg",label:"svg"})),o.a.createElement(Yt,{clicked:this.onDownLoad,disabled:this.state.downloadLoading},this.state.downloadLoading?o.a.createElement(Ge.a,{className:ua.a.Spinner,type:"ThreeDots",color:"#FFFFFF",height:30,width:30}):o.a.createElement("h3",null,"Download"))))))}}]),n}(r.Component),ma=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={drag:!1},e.dropRef=o.a.createRef(),e.handleDragIn=function(t){t.preventDefault(),t.stopPropagation(),console.log("drag in"),e.dragCounter++,t.dataTransfer.items&&t.dataTransfer.items.length>0&&e.setState({drag:!0})},e.handleDragOut=function(t){t.preventDefault(),t.stopPropagation(),console.log("drag out"),e.dragCounter--,0===e.dragCounter&&e.setState({drag:!1})},e.handleDrop=function(t){t.preventDefault(),t.stopPropagation(),e.setState({drag:!1}),t.dataTransfer.files&&t.dataTransfer.files.length>0&&(e.props.handleDrop(t.dataTransfer.files),t.dataTransfer.clearData(),e.dragCounter=0)},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.dropRef.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("drop",this.handleDrop)}},{key:"componentWillUnmount",value:function(){var e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("drop",this.handleDrop)}},{key:"render",value:function(){return o.a.createElement("div",{style:{display:"inline-block",position:"relative",height:"100%",width:"100%"},ref:this.dropRef},this.state.dragging&&o.a.createElement("div",{style:{border:"dashed grey 4px",backgroundColor:"rgba(255,255,255,.8)",zIndex:9999,height:"100%",width:"100%"}},o.a.createElement("div",{style:{position:"absolute",top:"50%",right:0,left:0,textAlign:"center",color:"grey",fontSize:36}},o.a.createElement("div",null,"drop here :)"))),this.props.children)}}]),n}(r.Component),ha=n(97),fa=n.n(ha),ga=n(98),Ea=n.n(ga),_a=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={dragging:!1,draggingFile:!1,selectedId:null,editingId:null,selectedHline:null,selectedVline:null,exportModalOpen:!1,files:[],elements:[{type:"text",elementId:"5",height:170,width:570,posX:15,posY:15,text:"Y'all ever notice that the Washington monument looks absolutely NOTHING like George Washington?",font:"Oswald",fontSize:"28.5",fontWeight:"700",textAlign:"center",verticalAlign:"top",fixedDimensions:!0,underline:!1,italic:!1,textStroke:!0},{type:"rect",elementId:"8",posX:0,posY:0,height:200,width:600,color:"#000000"},{type:"image",elementId:"11",imgSrc:fa.a,posX:0,posY:200,height:365,width:300},{type:"image",elementId:"12",imgSrc:Ea.a,posX:300,posY:200,height:365,width:300}],perspective:{offsetX:200,offsetY:200}},e.select=function(t,n){(t.stopPropagation(),t.preventDefault(),e.state.editingId)&&document.getElementById("".concat(e.state.editingId,"-input")).blur();e.setState({selectedId:n,editingId:null})},e.selectAndEdit=function(t,n){t.stopPropagation(),t.preventDefault(),e.setState({selectedId:n,editingId:n});var a=document.getElementById("".concat(n,"-input"));setTimeout((function(){console.log("focusing"),a.focus()}),0)},e.backgroundMouseUp=function(t){e.state.dragging||(e.state.editingId?(document.getElementById("".concat(e.state.editingId,"-input")).blur(),e.setState({editingId:null,draggingFile:!1})):e.setState({selectedId:null,draggingFile:!1}))},e.elementMouseDown=function(t,n){t.preventDefault(),t.stopPropagation();var a=e.state.elements.find((function(e){return e.elementId===n})),r=a.posX,o=a.posY,s=t.clientX,c=t.clientY,i=e.getLines(n),l=i.Hlines,u=i.Vlines,d=function(t){var i=r-s+t.clientX,d=o-c+t.clientY,p=null,m=null;l.forEach((function(e){Math.abs(e-d)<4&&(d=e,p=e),Math.abs(e-(d+a.height))<4&&(d=e-a.height,p=e),Math.abs(e-(2*d+a.height)/2)<4&&(d=e-.5*a.height,p=e)})),u.forEach((function(e){Math.abs(e-i)<4&&(i=e,m=e),Math.abs(e-(i+a.width))<4&&(i=e-a.width,m=e),Math.abs(e-(2*i+a.width)/2)<4&&(i=e-.5*a.width,m=e)}));var h=e.state.elements.map((function(e){return e.elementId!==n?e:Object(fe.a)(Object(fe.a)({},a),{},{posX:i,posY:d})}));e.setState({selectedId:n,selectedHline:p,selectedVline:m,elements:h})};window.addEventListener("mousemove",d),window.addEventListener("mouseup",(function t(n){n.preventDefault(),n.stopPropagation(),window.removeEventListener("mousemove",d),window.removeEventListener("mouseup",t),e.setState({selectedHline:null,selectedVline:null,dragging:!1})})),e.setState({selectedId:n,dragging:!0})},e.onTextInput=function(t,n){var a=window.getSelection().focusOffset,r=e.state.elements.filter((function(e){return e.elementId!==n})),o=e.state.elements.find((function(e){return e.elementId===n})),s=document.getElementById("".concat(n,"-input"));console.log(s.offsetHeight,o.height);var c=o.fixedDimensions?o.height:s.offsetHeight;e.setState({elements:[].concat(Object(tt.a)(r),[Object(fe.a)(Object(fe.a)({},o),{},{height:c,text:t.target.textContent})])},(function(){var e=document.createRange(),t=window.getSelection();o.fixedDimensions?s.childNodes.length>0&&s.childNodes[0].childNodes.length>0&&(e.setStart(s.childNodes[0].childNodes[0],a),e.collapse(!0),t.removeAllRanges(),t.addRange(e),s.focus()):s.childNodes.length>0&&(e.setStart(s.childNodes[0],a),e.collapse(!0),t.removeAllRanges(),t.addRange(e),s.focus())}))},e.adjustTextElementHeight=function(t){var n=e.state.elements.filter((function(e){return e.elementId!==t})),a=e.state.elements.find((function(e){return e.elementId===t})),r=document.getElementById("".concat(t,"-input"));r.innerHTML=a.text,console.log(r.offsetHeight,a.height),console.log(n),e.setState({elements:[].concat(Object(tt.a)(n),[Object(fe.a)(Object(fe.a)({},a),{},{height:r.offsetHeight})])})},e.addElements=function(t){e.setState({elements:[].concat(Object(tt.a)(e.state.elements),Object(tt.a)(t)),selectedId:t[t.length-1].elementId})},e.handleImageDrop=function(t){for(var n=e.state.files,a=0;a<t.length;a++){if(!t[a].name)return;n.push(t[a].name),console.log(t[a])}e.setState({files:n})},e.resizeMouseDown=function(t,n,a){console.log("RESIZE MOUSE DOWN"),t.preventDefault(),t.stopPropagation();var r=e.state.elements.find((function(e){return e.elementId===a})),o=r.width/r.height,s=r.width,c=r.height,i=r.posX,l=r.posY,u=t.clientX,d=t.clientY,p=function(t){var p=s,m=c,h=i,f=l,g=r.fontSize,E=t.clientX-u,_=t.clientY-d,C=e.getLines(a),v=C.Hlines,b=C.Vlines,S=null,I=null,O="image"===r.type;switch(t.shiftKey&&(O=!O),n){case"E":p+=E,b.forEach((function(e){Math.abs(h+p-e)<4&&(p=e-i,I=e)}));break;case"S":m+=_,v.forEach((function(e){Math.abs(f+m-e)<4&&(m=e-l,S=e)}));break;case"W":p-=E,h+=E,b.forEach((function(e){Math.abs(e-h)<4&&(p=i+s-e,h=e,I=e)}));break;case"N":m-=_,f+=_,v.forEach((function(e){Math.abs(e-f)<4&&(m=l+c-e,f=e,S=e)}));break;case"SE":p+=E,m=O?p/o:m+_,b.forEach((function(e){Math.abs(h+p-e)<4&&(p=e-i,I=e)})),v.forEach((function(e){Math.abs(f+m-e)<4&&(m=e-l,S=e)}));break;case"NE":p+=E,f+=c-(m=O?p/o:m-_),v.forEach((function(e){Math.abs(e-f)<4&&(m=l+c-e,f=e,S=e)})),b.forEach((function(e){Math.abs(h+p-e)<4&&(p=e-i,I=e)}));break;case"SW":p-=E,m=O?p/o:m+_,h+=s-p,v.forEach((function(e){Math.abs(f+m-e)<4&&(m=e-l,S=e)})),b.forEach((function(e){Math.abs(e-h)<4&&(p=i+s-e,h=e,I=e)}));break;case"NW":h+=s-(p-=E),f+=c-(m=O?p/o:m-_),v.forEach((function(e){Math.abs(e-f)<4&&(m=l+c-e,f=e,S=e)})),b.forEach((function(e){Math.abs(e-h)<4&&(p=i+s-e,h=e,I=e)}));break;default:console.log("Invalid dir",n)}if("text"===r.type){var w=document.getElementById("".concat(a,"-input"));r.fixedDimensions?w.offsetHeight>m&&(g=r.fontSize-2):m=w.offsetHeight}var y=e.state.elements.map((function(e){return e.elementId===a?Object(fe.a)(Object(fe.a)({},r),{},{width:p,height:m,posX:h,posY:f,fontSize:g}):e}));e.setState({dragging:!0,elements:y,selectedHline:S,selectedVline:I})};window.addEventListener("mousemove",p),window.addEventListener("mouseup",(function t(n){console.log("RESIZE MOUSE UP"),n.preventDefault(),n.stopPropagation(),window.removeEventListener("mousemove",p),window.removeEventListener("mouseup",t),e.setState({selectedHline:null,selectedVline:null,dragging:!1})}))},e.edit=function(t,n){var a=e.state.elements.map((function(e){return e.elementId===t?n:e}));e.setState({elements:a,editingId:null})},e.closeExportModal=function(){e.setState({exportModalOpen:!1})},e.openExportModal=function(){e.setState({exportModalOpen:!0})},e.getElements=function(t,n,a){return[].concat(Object(tt.a)(t.filter((function(e){return"text"!==e.type}))),Object(tt.a)(t.filter((function(e){return"text"===e.type})))).map((function(t){switch(t.type){case"text":return o.a.createElement(Yn,{inPreview:n,currentlyEditing:e.state.editingId===t.elementId,type:"text",key:"".concat(n?"prev":"","-").concat(t.elementId),element:t,editingId:e.state.editingId,selected:t.elementId===e.state.selectedId,perspective:e.state.perspective,edit:e.edit,select:e.select,selectAndEdit:e.selectAndEdit,elementMouseDown:e.elementMouseDown,onTextInput:e.onTextInput,selectedLines:{h:e.state.selectedHline,v:e.state.selectedVline}});case"rect":return o.a.createElement(Yn,{inPreview:n,currentlyEditing:e.state.editingId===t.elementId,type:"rect",key:"".concat(n?"prev":"","-").concat(t.elementId),element:t,selected:t.elementId===e.state.selectedId,perspective:e.state.perspective,select:e.select,elementMouseDown:e.elementMouseDown,selectedLines:{h:e.state.selectedHline,v:e.state.selectedVline}});case"image":return o.a.createElement(Yn,{inPreview:n,currentlyEditing:e.state.editingId===t.elementId,type:"image",key:"".concat(n?"prev":"","-").concat(t.elementId),element:t,selected:t.elementId===e.state.selectedId,perspective:e.state.perspective,select:e.select,elementMouseDown:e.elementMouseDown,onImageLoad:a,selectedLines:{h:e.state.selectedHline,v:e.state.selectedVline}});default:return console.log("Invalid Element Type!"),null}}))},e.getLines=function(t){var n=[],a=[];return e.state.elements.forEach((function(e){t!==e.elementId&&(n.push(e.posY),n.push((2*e.posY+e.height)/2),n.push(e.posY+e.height),a.push(e.posX),a.push(2*(e.posX+e.width)/2),a.push(e.posX+e.width))})),{Hlines:Object(tt.a)(new Set(n)),Vlines:Object(tt.a)(new Set(a))}},e.shouldElementHighlight=function(t){if(!e.state.selectedHline&&!e.state.selectedHline)return!1;if(t===e.state.selectedId)return!1;var n=e.state.elements.find((function(e){return e.elementId===t})),a=[],r=[];return a.push(n.posY),a.push(n.posY+n.height),a.push((2*n.posY+n.height)/2),r.push(n.posX),r.push(n.posX+n.width),r.push((2*n.posX+n.width)/2),console.log(n),console.log(a),console.log(r),console.log(e.state.selectedVline),console.log(r.includes(e.state.selectedVline)),!!a.includes(e.state.selectedHline)||!!r.includes(e.state.selectedVline)},e.renderLines=function(){var t=[];return e.state.selectedHline&&t.push(o.a.createElement(Xn,{key:"HL-".concat(e.state.selectedHline),top:e.state.selectedHline,left:0,perspective:e.state.perspective})),e.state.selectedVline&&t.push(o.a.createElement(Xn,{key:"VL-".concat(e.state.selectedVline),top:0,left:e.state.selectedVline,perspective:e.state.perspective})),t},e.wheel=function(t){if(t.stopPropagation(),t.ctrlKey&&0!==t.deltaY)console.log("ZOOM",t.deltaY<0?"IN":"OUT","DETECTED",t.deltaY);else{var n=e.state.perspective.offsetX-t.deltaX,a=e.state.perspective.offsetY-t.deltaY;(n>5e4||n<-5e4)&&(n=e.state.perspective.offsetX),(a>5e4||a<-5e4)&&(a=e.state.perspective.offsetY),e.setState({perspective:{offsetX:n,offsetY:a}})}},e.calcOriginStyles=function(){return{left:"".concat(e.state.perspective.offsetX,"px"),top:"".concat(e.state.perspective.offsetY,"px"),position:"absolute",height:"5px",width:"5px",backgroundColor:"red",zIndex:1e4}},e.calcGridStyles=function(){var t=e.state.perspective,n=t.offsetX,a=t.offsetY;return{position:"absolute",left:"".concat(-5e4+n,"px"),top:"".concat(-5e4+a,"px"),height:"".concat(104e3,"px"),width:"".concat(104e3,"px")}},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=[Bn.a.Creator];"stream"===this.props.currentTab&&t.push(Bn.a.OutLeftLeft),"chat"===this.props.currentTab&&t.push(Bn.a.OutLeft);var n=this.state.elements.find((function(t){return t.elementId===e.state.selectedId}));return o.a.createElement("div",{className:t.join(" "),onTouchStart:function(e){return console.log("TOUCH START")},onTouchEnd:function(e){return console.log("TOUCH END")},onWheel:this.wheel},o.a.createElement(ma,{handleDrop:this.handleImageDrop},o.a.createElement($n,{addElements:this.addElements,openExportModal:this.openExportModal}),this.state.exportModalOpen&&o.a.createElement(pa,{closeExportModal:this.closeExportModal,getElements:this.getElements,elements:this.state.elements}),o.a.createElement("div",{className:Bn.a.canvas},n&&o.a.createElement(ia,{element:n,editingId:this.state.editingId,perspective:this.state.perspective,resizeMouseDown:this.resizeMouseDown,elementMouseDown:this.elementMouseDown,selectAndEdit:this.selectAndEdit}),this.getElements(this.state.elements),o.a.createElement("div",{onMouseUp:this.backgroundMouseUp,className:Bn.a.grid,style:this.calcGridStyles()}),this.renderLines()),o.a.createElement(na,{edit:this.edit,selected:n})))}}]),n}(r.Component),Ca=Object(m.b)((function(e){return{currentTab:e.ui.currentTab,darkmode:e.ui.currentTab,sending:e.user.sendingSubscribeEmailList,sent:e.user.sentSubscribeEmailList,emailListError:e.user.emailListError}}),(function(e){return{onSubscribeEmailList:function(t){return e(function(e){return function(t){console.log("subscribeEmailListStart"),t(Fe());var n={email:e};f.a.post("/api/users/emaillist",n,{}).then((function(e){t(Be())})).catch((function(e){console.log(e);var n=e.response&&e.response.data&&e.response.data.message?e.response.data.message:null;t(He(n))}))}}(t))}}}))(_a),va=n(39),ba=n(26),Sa=n.n(ba),Ia=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.notifications.filter((function(e){return!!e.type.startsWith("NEW_MESSAGE")||!!e.type.startsWith("NEW_CHAT")})),n=t.length>99?Sa.a.TrippleDigit:t.length>9?Sa.a.DoubleDigit:Sa.a.SingleDigit;return o.a.createElement("div",{className:Sa.a.Navigation},o.a.createElement("nav",null,o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement(va.b,{style:{textDecoration:"none"},to:"/creator"},o.a.createElement("span",{className:"creator"===this.props.currentTab?Sa.a.active:Sa.a.inactive,onClick:function(){return e.props.onSwitchTab("creator")}},"Creator"))),o.a.createElement("li",null,o.a.createElement(va.b,{style:{textDecoration:"none",position:"relative"},to:"/chat"},t.length>0?o.a.createElement("div",{className:n},o.a.createElement("span",{className:Sa.a.NotificationCount},t.length)):null,o.a.createElement("span",{className:"chat"===this.props.currentTab?Sa.a.active:Sa.a.inactive,onClick:function(){e.props.onSwitchTab("chat"),document.getElementById("chatForm").focus()}},"Chat"))),o.a.createElement("li",null,o.a.createElement(va.b,{style:{textDecoration:"none"},to:"/stream"},o.a.createElement("span",{className:"stream"===this.props.currentTab?Sa.a.active:Sa.a.inactive,onClick:function(){return e.props.onSwitchTab("stream")}},"Stream"))))))}}]),n}(r.Component),Oa=Object(m.b)((function(e){return{currentTab:e.ui.currentTab,darkmode:e.ui.darkmode,allUsersStatus:e.chat.allUsersStatus,notifications:e.user.notifications}}),(function(e){return{onSwitchTab:function(t){return e(g(t))}}}))(Ia),wa=n(48),ya=n.n(wa),Na=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getButton=function(){var t,n=function(){return console.log("Nothing should happen")};return e.props.friends.some((function(t){return t.userId===e.props.userId}))||(t="add",n=function(){return e.props.onSendFriendRequest(e.props.user)}),(e.props.sendingFriendRequests.some((function(t){return t.userId===e.props.userId}))||e.props.acceptingFriendRequests.some((function(t){return t.userId===e.props.userId})))&&(t="loading"),e.props.sentFriendRequests.some((function(t){return t.userId===e.props.userId}))&&(t="sent"),e.props.receivedFriendRequests.some((function(t){return t.userId===e.props.userId}))&&(t="received",n=function(){return e.props.onAcceptFriendRequest(e.props.user)}),t?o.a.createElement(fn,{type:t,clicked:n}):null},e.clicked=function(){var t=e.props.chats.find((function(t){return t.members.some((function(t){return t.userId===e.props.userId}))}));if(t)e.props.onChangeChat(t.chatId),e.props.onCloseNewChatModal();else{var n={name:e.props.selfName,handle:e.props.selfHandle,userId:e.props.selfId,profilePic:e.props.selfHasPfilePic},a=e.props.user;e.props.onCreateDummyChat(a,n),e.props.onCloseNewChatModal()}},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props.profilePic?"".concat("https://storage.googleapis.com/drop-profile-pictures-bucket/profilePic-")+this.props.userId:Et.a;return o.a.createElement("div",{onClick:this.clicked,className:ya.a.ChatPrev},o.a.createElement("img",{src:e,alt:" ",className:ya.a.ProfilePic}),o.a.createElement("div",{className:ya.a.Info},o.a.createElement("h3",{className:ya.a.Name},this.props.name),o.a.createElement("p",{className:ya.a.Preview},"@",this.props.handle)),this.getButton())}}]),n}(r.Component),ja=Object(m.b)((function(e){return{darkmode:e.ui.darkmode,currentChatId:e.chat.currentChatId,currentUserId:e.user.userId,unreadMessages:e.chat.unreadMessages,seenUpdatesChats:e.chat.seenUpdatesChats,token:e.user.token,chats:e.chat.chats,allUsers:e.chat.allUsers,selfId:e.user.userId,selfName:e.user.name,selfHandle:e.user.handle,selfHasPfilePic:e.user.hasProfilePic,friends:e.chat.friends,acceptingFriendRequests:e.chat.acceptingFriendRequests,sendingFriendRequests:e.chat.sendingFriendRequests,sentFriendRequests:e.chat.sentFriendRequests,receivedFriendRequests:e.chat.receivedFriendRequests}}),(function(e){return{onCreateDummyChat:function(t,n){return e(U(t,n))},onChangeChat:function(t){return e(H(t))},onSendFriendRequest:function(t){return e(T(t))},onAcceptFriendRequest:function(t){return e(R(t))},onCloseNewChatModal:function(){return e({type:"CLOSE_NEW_CHAT_MODAL"})}}}))(Na),Ma=n(38),ka=n.n(Ma),Aa=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={searchInput:"",searching:!0},e.componentDidMount=function(){"not loaded"===e.props.allUsersStatus&&e.props.onFetchAllUsers()},e.componentDidUpdate=function(){console.log()},e.getAllUsers=function(){var t=null;return"loading"===e.props.allUsersStatus&&(t=o.a.createElement("div",{className:ka.a.LoaderContainer},o.a.createElement(Ge.a,{className:ka.a.Spinner,type:"ThreeDots",color:"#00BFFF",height:30,width:30}))),"loaded"===e.props.allUsersStatus&&(t=o.a.createElement("div",null,e.props.allUsers.filter((function(t){return t.name.toLowerCase().includes(e.state.searchInput.toLowerCase())&&t.userId!==e.props.logedinUserId&&!e.props.friends.some((function(e){return e.userId===t.userId}))})).map((function(t){return o.a.createElement(ja,Object.assign({user:t},t,{inputRef:e.props.inputRef,key:"s"+t.userId,preview:t.handle}))})))),t},e.getFriends=function(){return e.props.friends.filter((function(t){return t.name.toLowerCase().includes(e.state.searchInput.toLowerCase())})).map((function(t){return o.a.createElement(ja,Object.assign({user:t},t,{inputRef:e.props.inputRef,key:"f"+t.userId,preview:t.handle}))}))},e.onSearchInput=function(t){e.setState({searchInput:t.target.value})},e.getSearchInput=function(){return e.state.searching?o.a.createElement("input",{spellCheck:"false",placeholder:"Search by username or @handle",ref:function(t){e.searchInput=t},type:"text",value:e.state.searchInput,onChange:e.onSearchInput,className:ka.a.SearchInput}):null},e}return Object(l.a)(n,[{key:"getSearchIcon",value:function(){return o.a.createElement("svg",{className:ka.a.SearchIcon,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"search_24px"},o.a.createElement("path",{id:"icon/action/search_24px",fillRule:"evenodd",clipRule:"evenodd",d:"M14.965 14.255H15.755L20.745 19.255L19.255 20.745L14.255 15.755V14.965L13.985 14.685C12.845 15.665 11.365 16.255 9.755 16.255C6.16504 16.255 3.255 13.345 3.255 9.755C3.255 6.16501 6.16504 3.255 9.755 3.255C13.345 3.255 16.255 6.16501 16.255 9.755C16.255 11.365 15.665 12.845 14.6851 13.985L14.965 14.255ZM5.255 9.755C5.255 12.245 7.26501 14.255 9.755 14.255C12.245 14.255 14.255 12.245 14.255 9.755C14.255 7.26501 12.245 5.255 9.755 5.255C7.26501 5.255 5.255 7.26501 5.255 9.755Z",fill:"#ffffff"})))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(St,{show:this.props.modalOpen,clicked:this.props.onCloseNewChatMenu}),o.a.createElement("div",{className:ka.a.Modal},o.a.createElement("h2",null,"New Chat"),o.a.createElement("div",{className:ka.a.SearchContainer},this.getSearchIcon(),this.getSearchInput()),o.a.createElement("div",{className:ka.a.ScrollContainer},this.getFriends(),this.getAllUsers())))}}]),n}(r.Component),Ta=Object(m.b)((function(e){return{logedinUserId:e.user.userId,allUsersStatus:e.chat.allUsersStatus,allUsers:e.chat.allUsers,friends:e.chat.friends,chats:e.chat.chats,sendingFriendRequests:e.chat.sendingFriendRequests,sentFriendRequests:e.chat.sentFriendRequests,failedFriendRequest:e.chat.failedFriendRequest,receivedFriendRequests:e.chat.receivedFriendRequests,token:e.user.token}}),(function(e){return{onFetchAllUsers:function(){return e(C())},onCloseNewChatMenu:function(){return e({type:"CLOSE_NEW_CHAT_MODAL"})},onSendFriendRequest:function(t,n){return e(T(t))}}}))(Aa),xa=n(49),La=n.n(xa),Da=n(44),Ra=n.n(Da),Pa=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).clicked=function(){e.props.dropTargets.some((function(t){return t===e.props.chatId}))?e.props.onUnSelectDropTarget(e.props.chatId):e.props.onSelectDropTarget(e.props.chatId)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.profilePic?"".concat("https://storage.googleapis.com/drop-profile-pictures-bucket/profilePic-")+this.props.userId:Et.a,n=this.props.dropTargets.some((function(t){return t===e.props.chatId}));return o.a.createElement("div",{onClick:this.clicked,className:"".concat(Ra.a.ChatPrev," ").concat(n?Ra.a.selected:"")},o.a.createElement("img",{src:t,alt:" ",className:Ra.a.ProfilePic}),o.a.createElement("div",{className:Ra.a.Info},o.a.createElement("h3",{className:Ra.a.Name},this.props.name),o.a.createElement("p",{className:Ra.a.Preview},"@",this.props.handle)))}}]),n}(r.Component),Fa=Object(m.b)((function(e){return{darkmode:e.ui.darkmode,dropTargets:e.stream.dropTargets}}),(function(e){return{onSelectDropTarget:function(t){return e(function(e){return{type:"SELECT_DROPTARGET",chatId:e}}(t))},onUnSelectDropTarget:function(t){return e(function(e){return{type:"UNSELECT_DROPTARGET",chatId:e}}(t))},onCloseNewChatModal:function(){return e({type:"CLOSE_NEW_CHAT_MODAL"})}}}))(Pa),Ba=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={searchInput:"",searching:!0},e.componentDidMount=function(){"not loaded"===e.props.allUsersStatus&&e.props.onFetchAllUsers()},e.getFriends=function(){return e.props.friends.filter((function(t){return t.name.toLowerCase().includes(e.state.searchInput.toLowerCase())})).map((function(e){return o.a.createElement(Fa,Object.assign({user:e},e,{key:"f"+e.userId,preview:e.handle}))}))},e.getChats=function(){return e.props.chats.map((function(t){var n=t.members.find((function(t){return t.userId!==e.props.userId}));return o.a.createElement(Fa,Object.assign({chatId:t.chatId,user:n},n,{key:t.chatId}))}))},e.onSearchInput=function(t){e.setState({searchInput:t.target.value})},e.getSearchIcon=function(){return o.a.createElement("svg",{className:La.a.SearchIcon,width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"search_24px"},o.a.createElement("path",{id:"icon/action/search_24px",fillRule:"evenodd",clipRule:"evenodd",d:"M14.965 14.255H15.755L20.745 19.255L19.255 20.745L14.255 15.755V14.965L13.985 14.685C12.845 15.665 11.365 16.255 9.755 16.255C6.16504 16.255 3.255 13.345 3.255 9.755C3.255 6.16501 6.16504 3.255 9.755 3.255C13.345 3.255 16.255 6.16501 16.255 9.755C16.255 11.365 15.665 12.845 14.6851 13.985L14.965 14.255ZM5.255 9.755C5.255 12.245 7.26501 14.255 9.755 14.255C12.245 14.255 14.255 12.245 14.255 9.755C14.255 7.26501 12.245 5.255 9.755 5.255C7.26501 5.255 5.255 7.26501 5.255 9.755Z",fill:"#ffffff"})))},e.send=function(){e.props.onSendDrop(e.props.dropTargets,e.props.streamElements[1].id,e.props.title,e.props.userId),document.getElementById("chatForm").focus()},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props.dropTargets.map((function(t){return e.props.chats.find((function(e){return e.chatId===t})).name})).map((function(e){return e.split(" ")[0]}));return o.a.createElement("div",null,o.a.createElement(St,{show:this.props.modalOpen,clicked:this.props.onCloseDropModal}),o.a.createElement("div",{className:La.a.Modal},o.a.createElement("h2",null,"Select Chat"),o.a.createElement("div",{className:La.a.SearchContainer},this.getSearchIcon(),o.a.createElement("input",{placeholder:"Search by username or @handle",ref:function(t){e.searchInput=t},type:"text",value:this.state.searchInput,onChange:this.onSearchInput,className:La.a.SearchInput})),o.a.createElement("div",{className:La.a.ScrollContainer},this.getChats()),o.a.createElement(Yt,{theme:!1,clicked:function(){return e.send(e.props.streamElements[0].id)},disabled:0===this.props.dropTargets.length},this.props.dropTargets.length>0?o.a.createElement("h3",null,"Drop to ",t.join(", ")):o.a.createElement("h3",null,"Drop"))))}}]),n}(r.Component),Ha=Object(m.b)((function(e){return{chats:e.chat.chats,userId:e.user.userId,token:e.user.token,streamElements:e.stream.streamElements,dropTargets:e.stream.dropTargets}}),(function(e){return{onSendDrop:function(t,n,a,r){return e(function(e,t,n,a){return function(r){var o="".concat(Date.now()),s={id:o,type:"drop",sender:a,sentTime:Date.now(),liked:[],title:n,dropId:t};r({type:"CLOSE_DROP_MODAL"}),r(g("chat")),r(he()),r(function(e,t){return{type:"SEND_DROP_START",chatIds:e,message:t}}(e,s));var c=localStorage.getItem("token"),i={headers:{authorization:"Bearer ".concat(c)}},l={chatIds:e,dropId:t};f.a.post("/api/chat/dropMessage",l,i).then((function(e){console.log(e.data),r(function(e,t,n){return{type:"SEND_DROP_SUCCESS",messageReplacements:e,chatReplacements:t,randId:n}}(e.data.messageReplacements,e.data.chatReplacements,o))})).catch((function(e){console.log(e),r({type:"SEND_DROP_FAILED"})}))}}(t,n,a,r))},onFetchAllUsers:function(){return e(C())},onCloseDropModal:function(){return e({type:"CLOSE_DROP_MODAL"})},onSendFriendRequest:function(t,n){return e(T(t))}}}))(Ba),Ua=n(100),Wa=n.n(Ua),Va=n(23),Ga=n.n(Va),qa=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getInstagramIcon=function(){return o.a.createElement("svg",{className:Ga.a.Icon,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("rect",{width:"26",height:"26",rx:"3",fill:"#121218"}),o.a.createElement("g",{clipPath:"url(#clip0)"},o.a.createElement("g",{filter:"url(#filter0_dd)"},o.a.createElement("path",{d:"M13 4.80184C15.6701 4.80184 15.9864 4.812 17.0408 4.86011C18.0158 4.90461 18.5453 5.06752 18.8977 5.20443C19.3644 5.38583 19.6976 5.60257 20.0475 5.95248C20.3974 6.30239 20.6142 6.63555 20.7955 7.10229C20.9325 7.4547 21.0954 7.98419 21.1399 8.95914C21.188 10.0136 21.1982 10.3299 21.1982 13C21.1982 15.6701 21.188 15.9864 21.1399 17.0409C21.0954 18.0158 20.9325 18.5453 20.7955 18.8978C20.6142 19.3645 20.3974 19.6976 20.0475 20.0476C19.6976 20.3975 19.3644 20.6142 18.8977 20.7956C18.5453 20.9325 18.0158 21.0954 17.0408 21.1399C15.9865 21.188 15.6703 21.1982 13 21.1982C10.3297 21.1982 10.0134 21.188 8.95914 21.1399C7.98415 21.0954 7.45466 20.9325 7.10229 20.7956C6.63551 20.6142 6.30235 20.3975 5.95244 20.0476C5.60253 19.6976 5.38579 19.3645 5.20443 18.8978C5.06748 18.5453 4.90457 18.0158 4.86007 17.0409C4.81196 15.9864 4.8018 15.6701 4.8018 13C4.8018 10.3299 4.81196 10.0136 4.86007 8.95918C4.90457 7.98419 5.06748 7.4547 5.20443 7.10229C5.38579 6.63555 5.60253 6.30239 5.95244 5.95248C6.30235 5.60257 6.63551 5.38583 7.10229 5.20443C7.45466 5.06752 7.98415 4.90461 8.9591 4.86011C10.0136 4.812 10.3299 4.80184 13 4.80184ZM13 3C10.2841 3 9.94362 3.01151 8.87701 3.06018C7.81259 3.10876 7.08569 3.27779 6.44958 3.52501C5.79199 3.78056 5.23432 4.1225 4.67839 4.67843C4.12246 5.23436 3.78052 5.79203 3.52497 6.44962C3.27775 7.08573 3.10872 7.81263 3.06014 8.87705C3.01147 9.94362 3 10.2842 3 13C3 15.7159 3.01147 16.0564 3.06014 17.123C3.10872 18.1874 3.27775 18.9143 3.52497 19.5504C3.78052 20.208 4.12246 20.7657 4.67839 21.3216C5.23432 21.8775 5.79199 22.2195 6.44958 22.475C7.08569 22.7223 7.81259 22.8913 8.87701 22.9399C9.94362 22.9885 10.2841 23 13 23C15.7158 23 16.0564 22.9885 17.1229 22.9399C18.1874 22.8913 18.9143 22.7223 19.5504 22.475C20.208 22.2195 20.7656 21.8775 21.3216 21.3216C21.8775 20.7657 22.2194 20.208 22.475 19.5504C22.7222 18.9143 22.8912 18.1874 22.9398 17.123C22.9885 16.0564 23 15.7159 23 13C23 10.2842 22.9885 9.94362 22.9398 8.87705C22.8912 7.81263 22.7222 7.08573 22.475 6.44962C22.2194 5.79203 21.8775 5.23436 21.3216 4.67843C20.7656 4.1225 20.208 3.78056 19.5504 3.52501C18.9143 3.27779 18.1874 3.10876 17.1229 3.06018C16.0564 3.01151 15.7158 3 13 3ZM13 7.86487C10.1639 7.86487 7.86483 10.164 7.86483 13C7.86483 15.8361 10.1639 18.1352 13 18.1352C15.836 18.1352 18.1351 15.8361 18.1351 13C18.1351 10.164 15.836 7.86487 13 7.86487ZM13 16.3334C11.159 16.3334 9.66663 14.841 9.66663 13C9.66663 11.1591 11.159 9.66667 13 9.66667C14.8409 9.66667 16.3333 11.1591 16.3333 13C16.3333 14.841 14.8409 16.3334 13 16.3334ZM19.538 7.66199C19.538 8.32474 19.0008 8.86201 18.338 8.86201C17.6753 8.86201 17.138 8.32474 17.138 7.66199C17.138 6.99924 17.6753 6.462 18.338 6.462C19.0008 6.462 19.538 6.99924 19.538 7.66199Z",fill:"white"}))),o.a.createElement("defs",null,o.a.createElement("filter",{id:"filter0_dd",x:"-7",y:"-7",width:"40",height:"40",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"}),o.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow",result:"shape"})),o.a.createElement("clipPath",{id:"clip0"},o.a.createElement("rect",{width:"26",height:"26",fill:"white"}))))},e.getTwitterIcon=function(){return o.a.createElement("svg",{className:Ga.a.Icon,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{clipPath:"url(#clip0)"},o.a.createElement("rect",{width:"26",height:"26",rx:"3",fill:"#121218"}),o.a.createElement("g",{filter:"url(#filter0_dd)"},o.a.createElement("path",{d:"M10.1025 19.208C16.232 19.208 19.586 14.125 19.586 9.7245C19.586 9.5815 19.586 9.4385 19.5795 9.2955C20.2295 8.8275 20.795 8.236 21.2435 7.5665C20.6455 7.833 20.002 8.0085 19.326 8.093C20.015 7.6835 20.5415 7.027 20.795 6.247C20.1515 6.6305 19.4365 6.9035 18.676 7.053C18.065 6.403 17.2005 6 16.245 6C14.4055 6 12.9105 7.495 12.9105 9.3345C12.9105 9.5945 12.943 9.848 12.995 10.095C10.226 9.9585 7.769 8.626 6.1245 6.611C5.8385 7.105 5.676 7.677 5.676 8.288C5.676 9.445 6.2675 10.4655 7.158 11.0635C6.612 11.044 6.0985 10.8945 5.65 10.6475C5.65 10.6605 5.65 10.6735 5.65 10.693C5.65 12.305 6.8005 13.657 8.3215 13.9625C8.042 14.0405 7.7495 14.0795 7.444 14.0795C7.2295 14.0795 7.0215 14.06 6.82 14.021C7.2425 15.347 8.4775 16.309 9.9335 16.335C8.7895 17.232 7.353 17.765 5.793 17.765C5.5265 17.765 5.26 17.752 5 17.7195C6.469 18.6555 8.224 19.208 10.1025 19.208Z",fill:"white"}))),o.a.createElement("defs",null,o.a.createElement("filter",{id:"filter0_dd",x:"-5",y:"-4",width:"36.2435",height:"33.208",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"}),o.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow",result:"shape"})),o.a.createElement("clipPath",{id:"clip0"},o.a.createElement("rect",{width:"26",height:"26",fill:"white"}))))},e.getFacebookIcon=function(){return o.a.createElement("svg",{className:Ga.a.Icon,width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{clipPath:"url(#clip0)"},o.a.createElement("path",{d:"M22.75 26H3.25C1.456 26 0 24.544 0 22.75V3.25C0 1.456 1.456 0 3.25 0H22.75C24.544 0 26 1.456 26 3.25V22.75C26 24.544 24.544 26 22.75 26Z",fill:"#121218"}),o.a.createElement("g",{filter:"url(#filter0_dd)"},o.a.createElement("path",{d:"M20.2137 15.9373L20.8356 11.7748H16.9452V9.07489C16.9452 7.93585 17.4877 6.82493 19.2301 6.82493H21V3.28124C21 3.28124 19.3945 3 17.8603 3C14.6548 3 12.5616 4.99403 12.5616 8.6024V11.7748H9V15.9373H12.5616V26.1746C12.5616 26.1746 12.5616 26.1746 14.5714 26.1746C16.9286 26.1746 16.9286 26.1746 16.9286 26.1746L16.9452 15.9373H20.2137Z",fill:"white"}))),o.a.createElement("defs",null,o.a.createElement("filter",{id:"filter0_dd",x:"-1",y:"-7",width:"32",height:"43.1746",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"}),o.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow",result:"shape"})),o.a.createElement("clipPath",{id:"clip0"},o.a.createElement("rect",{width:"26",height:"26",fill:"white"}))))},e.getTumblrIcon=function(){return o.a.createElement("svg",{className:Ga.a.Icon,viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{clipPath:"url(#clip0)"},o.a.createElement("rect",{width:"26",height:"26",rx:"3",fill:"#121218"}),o.a.createElement("g",{filter:"url(#filter0_dd)"},o.a.createElement("path",{d:"M14.3459 22C11.9512 22 10.1752 20.6102 10.1752 17.2768V11.9435H8V9.05085C10.3947 8.35028 11.3925 6.0226 11.5022 4H13.9867V8.58757H16.8803V11.9435H13.9867V16.5876C13.9867 17.9774 14.6053 18.4633 15.5931 18.4633H17V22H14.3459Z",fill:"white"}))),o.a.createElement("defs",null,o.a.createElement("filter",{id:"filter0_dd",x:"-2",y:"-6",width:"29",height:"38",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"}),o.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow",result:"shape"})),o.a.createElement("clipPath",{id:"clip0"},o.a.createElement("rect",{width:"26",height:"26",fill:"white"}))))},e.getPinterestIcon=function(){return o.a.createElement("svg",{className:Ga.a.Icon,width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{clipPath:"url(#clip0)"},o.a.createElement("rect",{width:"26",height:"26",rx:"3",fill:"#121218"}),o.a.createElement("g",{filter:"url(#filter0_dd)"},o.a.createElement("path",{d:"M11.5352 4.06354C8.33129 4.416 5.13873 6.97042 5.00696 10.6193C4.92413 12.8473 5.56603 14.5187 7.71763 14.988C8.6513 13.3648 7.41644 13.0068 7.22444 11.8325C6.43571 7.02051 12.8566 3.7389 16.2167 7.09842C18.5415 9.42467 17.0111 16.5815 13.2613 15.8376C9.66969 15.1271 15.0195 9.43023 12.1526 8.31163C9.82216 7.40265 8.58354 11.0924 9.68851 12.9252C9.04096 16.0769 7.6461 19.0469 8.21082 23C10.0424 21.6903 10.6598 19.1823 11.1662 16.5667C12.0867 17.1176 12.578 17.6908 13.7526 17.7799C18.0841 18.1101 20.503 13.5188 19.9119 9.28368C19.3867 5.52904 15.5842 3.61833 11.5352 4.06354Z",fill:"white"}))),o.a.createElement("defs",null,o.a.createElement("filter",{id:"filter0_dd",x:"-5",y:"-6",width:"35",height:"39",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.a.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),o.a.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),o.a.createElement("feOffset",null),o.a.createElement("feGaussianBlur",{stdDeviation:"2.5"}),o.a.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0"}),o.a.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow",result:"effect2_dropShadow"}),o.a.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect2_dropShadow",result:"shape"})),o.a.createElement("clipPath",{id:"clip0"},o.a.createElement("rect",{width:"26",height:"26",fill:"white"}))))},e.getSocialButtons=function(){return o.a.createElement("div",{className:Ga.a.SocialButtons},o.a.createElement("a",{href:"https://twitter.com/drops_meme",className:Ga.a.Link,target:"_blank",rel:"noopener noreferrer"},e.getTwitterIcon()),o.a.createElement("a",{href:"https://www.instagram.com/meme_drops/",className:Ga.a.Link,target:"_blank",rel:"noopener noreferrer"},e.getInstagramIcon()),o.a.createElement("a",{href:"https://www.facebook.com/mememedrop",className:Ga.a.Link,target:"_blank",rel:"noopener noreferrer"},e.getFacebookIcon()),o.a.createElement("a",{href:"https://www.tumblr.com/blog/memedrops",className:Ga.a.Link,target:"_blank",rel:"noopener noreferrer"},e.getTumblrIcon()),o.a.createElement("a",{href:"https://www.pinterest.de/memedrops/",className:Ga.a.Link,target:"_blank",rel:"noopener noreferrer"},e.getPinterestIcon()))},e}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:Ga.a.Footer},this.getSocialButtons())}}]),n}(r.Component),za=n(30),Ya=n.n(za),Za=n(105),Ka=n(50),Xa=n.n(Ka),Qa=["title","titleId"];function Ja(){return(Ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function $a(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function er(e,t){var n=e.title,o=e.titleId,s=$a(e,Qa);return r.createElement("svg",Ja({width:12,height:20,viewBox:"0 0 12 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},s),n?r.createElement("title",{id:o},n):null,a||(a=r.createElement("path",{d:"M11.835 1.87001L10.055 0.100006L0.165039 10L10.065 19.9L11.835 18.13L3.70504 10L11.835 1.87001Z",fill:"#ffffff",fillOpacity:.44})))}var tr=r.forwardRef(er),nr=(n.p,function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getArrowBack=function(){return o.a.createElement("div",{className:Xa.a.BackButton},o.a.createElement(tr,{className:Xa.a.ArrowBack,onClick:e.props.onPopFromMenuStack}))},e}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"".concat(Xa.a.MenuScreen," ").concat(-1===this.props.pos?Xa.a.left:1===this.props.pos?Xa.a.right:null)},0!==this.props.currentDepth?this.getArrowBack():null,this.props.children)}}]),n}(r.Component)),ar=Object(m.b)((function(e){return{authReason:e.user.authReason,loginOrSignup:e.ui.loginOrSignup,currentDepth:e.ui.menu.currentDepth}}),(function(e){return{onPopFromMenuStack:function(){return e({type:"POP_FROM_MENU_STACK"})}}}))(nr),rr=n(71),or=n.n(rr),sr=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:"".concat(or.a.MenuItem," ").concat(this.props.invalid?or.a.Invalid:"")},this.props.children)}}]),n}(r.Component),cr=n(12),ir=n.n(cr),lr=n(101),ur=n.n(lr),dr=["12345","123456","1234567","12345678","123456789","1234567890"],pr=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={loginEmail:{value:"",touched:!1,valid:!1},loginPassword:{value:"",touched:!1,valid:!1},name:{value:"",touched:!1,valid:!1},password:{value:"",touched:!1,valid:!1,errorMessage:"Min 5 Characters"},secondPassword:{value:"",touched:!1,valid:!1},email:{value:"",touched:!1,valid:!1},handle:{value:"",touched:!1,valid:!1},profilePic:{tooUgly:!0,src:null,file:null},userConditions:{value:!0,touched:!1},newsletter:!0},e.onInputLoginEmail=function(t){var n=t.target.value,a=!!n&&/^\S+@\S+\.\S+$/.test(n);e.setState({loginEmail:Object(fe.a)(Object(fe.a)({},e.state.loginEmail),{},{value:t.target.value,errorMessage:a?null:"Please enter valid email.",valid:a})})},e.onLeaveLoginEmailFocus=function(){e.setState({loginEmail:Object(fe.a)(Object(fe.a)({},e.state.loginEmail),{},{touched:!0})})},e.onInputLoginPassword=function(t){var n=t.target.value;e.setState({loginPassword:Object(fe.a)(Object(fe.a)({},e.state.loginPassword),{},{value:n})})},e.onLeaveLoginPasswordFocus=function(){e.setState({loginPassword:Object(fe.a)(Object(fe.a)({},e.state.loginPassword),{},{touched:!0})})},e.onInputName=function(t){var n=t.target.value,a=!!n&&(n.length>3&&n.length<20);e.setState({name:Object(fe.a)(Object(fe.a)({},e.state.name),{},{value:t.target.value,errorMessage:a?null:"4-20 characters",valid:a})})},e.onLeaveNameFocus=function(){e.setState({name:Object(fe.a)(Object(fe.a)({},e.state.name),{},{touched:!0})})},e.onUploadprofilePic=function(t){if(t&&t.length>0){var n=Array.from(t)[0],a=window.URL.createObjectURL(n);e.setState({profilePic:{file:n,src:a,tooUgly:!1}})}},e.onRemoveProfilePic=function(t){e.setState({profilePic:{tooUgly:!0,src:null,file:null}})},e.onInputEmail=function(t){var n=t.target.value,a=!!n&&/^\S+@\S+\.\S+$/.test(n);e.setState({email:{value:t.target.value,errorMessage:a?null:"Please enter valid email.",valid:a}})},e.onLeaveEmailFocus=function(){e.setState({email:Object(fe.a)(Object(fe.a)({},e.state.email),{},{touched:!0})})},e.onInputHandle=function(t){var n=t.target.value.startsWith("@")?t.target.value.substring(1):t.target.value,a="";(n.length<4||n.length>14)&&(a="4-14 characters."),/^[a-zA-Z]+$/.test(n)||(a="letters only!"),e.setState({handle:Object(fe.a)(Object(fe.a)({},e.state.handle),{},{value:n,errorMessage:a,valid:""===a})})},e.onLeaveHandleFocus=function(){e.setState({handle:Object(fe.a)(Object(fe.a)({},e.state.handle),{},{touched:!0})})},e.onInputPassword=function(t){var n,a=t.target.value,r=!0;!a||a.length<5?(r=!1,n="Min 5 Characters"):dr.includes(a)?(r=!1,n="Really? Can u please chose another password?"):a.length>30&&(r=!1,n="Max 30 characters"),e.setState({password:Object(fe.a)(Object(fe.a)({},e.state.password),{},{value:t.target.value,errorMessage:n,valid:r})})},e.onLeavePasswordFocus=function(){e.setState({password:Object(fe.a)(Object(fe.a)({},e.state.password),{},{touched:!0})})},e.onInputSecondPassword=function(t){var n=t.target.value===e.state.password.value,a=n?null:"Passwords do not match.";e.setState({secondPassword:Object(fe.a)(Object(fe.a)({},e.state.secondPassword),{},{value:t.target.value,errorMessage:a,valid:n})})},e.onLeaveSecondPasswordFocus=function(){e.setState({secondPassword:Object(fe.a)(Object(fe.a)({},e.state.secondPassword),{},{touched:!0})})},e.onChangeUserconditions=function(t){e.setState((function(e){return{userConditions:Object(fe.a)(Object(fe.a)({},e.userConditions),{},{value:!e.userConditions.value})}}))},e.onChangeNewsletter=function(t){e.setState((function(e){return{newsletter:!e.newsletter}}))},e.componentDidUpdate=function(){e.props.shouldMoveRight&&e.props.onMoveRight(),"CHOOSE_HANDLE"===e.props.menuStack[e.props.menuStack.length-1]&&document.getElementById("handle").focus()},e.createAccount=function(){console.log("\n        src:      ".concat(e.state.profilePic.src,"\n        name:     ").concat(e.state.name.value,"\n        password: ").concat(e.state.password.value,"\n        handle:   ").concat(e.state.handle.value,"\n        email:    ").concat(e.state.email.value,"\n        file:     ").concat(e.state.profilePic.file,"\n    ")),e.props.onSignup(e.state.name.value,e.state.email.value,e.state.handle.value,e.state.password.value,e.state.profilePic.file,e.state.profilePic.src,e.state.newsletter)},e.login=function(t){t.preventDefault(),e.props.onLogin(e.state.loginEmail.value,e.state.loginPassword.value)},e.signup=function(t){t.preventDefault(),e.state.email.valid&&e.state.password.valid&&e.state.secondPassword.valid&&e.state.name.valid?e.props.checkEmailTaken(e.state.email.value):e.setState({email:Object(fe.a)(Object(fe.a)({},e.state.email),{},{touched:!0}),password:Object(fe.a)(Object(fe.a)({},e.state.password),{},{touched:!0}),secondPassword:Object(fe.a)(Object(fe.a)({},e.state.secondPassword),{},{touched:!0}),name:Object(fe.a)(Object(fe.a)({},e.state.name),{},{touched:!0})})},e.chooseHandle=function(t){t.preventDefault(),e.state.handle.valid?e.props.checkHandleTaken(e.state.handle.value):e.setState({handle:Object(fe.a)(Object(fe.a)({},e.state.handle),{},{touched:!0})})},e.getMenuScreens=function(){return e.props.menuStack.map((function(t,n){var a=e.props.menuStack[e.props.currentDepth]===t?0:n<e.props.currentDepth?-1:1,r=[];switch(t){case"AUTH":var s,c,i,l=!e.state.loginEmail.valid&e.state.loginEmail.touched?"Not a valid email":e.props.loginError;!e.state.email.valid&&e.state.email.touched&&(s="Not a valid email"),e.props.takenEmails.some((function(t){return t===e.state.email.value}))&&(s="There already exists an account with that email."),!e.state.password.valid&&e.state.password.touched&&(c=e.state.password.errorMessage),!e.state.secondPassword.valid&&e.state.secondPassword.touched&&(i=e.state.secondPassword.errorMessage),r.push(o.a.createElement(sr,{key:t+"login"},o.a.createElement("form",{onSubmit:e.login},o.a.createElement("input",{onAnimationStart:e.onInputEmail,className:ir.a.TextInput,element:"input",id:"emailLogin",type:"email",placeholder:"email",spellCheck:"false",value:e.state.loginEmail.value,onChange:e.onInputLoginEmail,onBlur:e.onLeaveLoginEmailFocus}),o.a.createElement("input",{onAnimationStart:e.onInputLoginPassword,className:ir.a.TextInput,element:"input",type:"password",placeholder:"password",value:e.state.loginPassword.value,onChange:e.onInputLoginPassword,onBlur:e.onLeaveLoginPasswordFocus}),l?o.a.createElement("div",{className:ir.a.ErrorMessage},l):null,o.a.createElement(Yt,{clicked:e.login},e.props.loginLoading?o.a.createElement(Ge.a,{className:ir.a.Spinner,type:"ThreeDots",color:"#FFFFFF",height:30,width:30}):o.a.createElement("h3",null,"Login"))))),r.push(o.a.createElement(sr,{key:t+"signup"},o.a.createElement("form",{onSubmit:e.signup},o.a.createElement("input",{className:ir.a.TextInput,element:"input",id:"emailSignup",type:"email",placeholder:"email",value:e.state.email.value,onChange:e.onInputEmail,onAnimationStart:e.onInputEmail,onBlur:e.onLeaveEmailFocus}),s?o.a.createElement("div",{className:ir.a.ErrorMessage},s):null,o.a.createElement("input",{className:ir.a.TextInput,element:"input",type:"password",placeholder:"password",value:e.state.password.value,onChange:e.onInputPassword,onAnimationStart:e.onInputPassword,onBlur:e.onLeavePasswordFocus}),c?o.a.createElement("div",{className:ir.a.ErrorMessage},c):null,o.a.createElement("input",{className:ir.a.TextInput,element:"input",type:"password",placeholder:"repeat password",value:e.state.secondPassword.value,onChange:e.onInputSecondPassword,onAnimationStart:e.onInputSecondPassword,onBlur:e.onLeaveSecondPasswordFocus}),i?o.a.createElement("div",{className:ir.a.ErrorMessage},i):null,o.a.createElement("input",{className:ir.a.TextInput,id:"name",placeholder:"Your Name",type:"text",value:e.state.name.value,onChange:e.onInputName,onAnimationStart:e.onInputName}),o.a.createElement("div",{className:ir.a.CheckboxContainer},o.a.createElement("input",{type:"checkbox",onChange:e.onChangeUserconditions,checked:e.state.userConditions.value}),o.a.createElement("p",{onClick:e.onChangeUserconditions,className:ir.a.CheckboxText},"accept user conditions & shit")),o.a.createElement("div",{className:ir.a.CheckboxContainer},o.a.createElement("input",{type:"checkbox",onChange:e.onChangeNewsletter,checked:e.state.newsletter}),o.a.createElement("p",{onClick:e.onChangeNewsletter,className:ir.a.CheckboxText},"Receive an email for every big new feature")),o.a.createElement(Yt,{type:"submit",clicked:function(t){return e.signup(t)}},e.props.checkEmailLoading?o.a.createElement(Ge.a,{className:ir.a.Spinner,type:"ThreeDots",color:"#FFFFFF",height:30,width:30}):o.a.createElement("h3",null,"Create Account")))));break;case"CHOOSE_HANDLE":var u;!e.state.handle.valid&&e.state.handle.touched&&(u=e.state.handle.errorMessage),e.props.takenHandles.some((function(t){return t===e.state.handle.value}))&&(u="Handle already taken"),r.push(o.a.createElement(sr,{key:t},o.a.createElement("form",{onSubmit:e.chooseHandle},o.a.createElement("h3",null,"Enter @ Handle:"),o.a.createElement("input",{className:ir.a.TextInput,element:"input",id:"handle",type:"text",placeholder:"@elon",value:"@"+e.state.handle.value,onChange:e.onInputHandle,onAnimationStart:e.onInputHandle,onBlur:e.onLeaveHandleFocus}),u?o.a.createElement("div",{className:ir.a.ErrorMessage},u):null,o.a.createElement(Yt,{type:"submit",clicked:function(t){return e.chooseHandle(t)}},e.props.checkHandleLoading?o.a.createElement(Ge.a,{className:ir.a.Spinner,type:"ThreeDots",color:"#FFFFFF",height:30,width:30}):o.a.createElement("h3",null,"Choose ",e.state.handle.value)))));break;case"CHOOSE_PROFILE_PIC":r.push(o.a.createElement(sr,{key:t},o.a.createElement("h3",null,"Profile Picture"),o.a.createElement("input",{type:"checkbox",onChange:e.onRemoveProfilePic,checked:e.state.profilePic.tooUgly})," I'm too ugly",o.a.createElement("br",null),o.a.createElement("input",{type:"checkbox",onChange:function(){return console.log("Upload Pic!")},checked:!e.state.profilePic.tooUgly})," Upload picture",o.a.createElement(Za.a,{onDrop:e.onUploadprofilePic},(function(t){var n=t.getRootProps,a=t.getInputProps;return o.a.createElement("section",null,o.a.createElement("div",n(),o.a.createElement("input",a()),o.a.createElement("div",{className:ir.a.Dropzone},e.state.profilePic.src?o.a.createElement("img",{className:ir.a.ProfilePic,src:e.state.profilePic.src,alt:"profilePic"}):o.a.createElement("img",{className:ir.a.ProfilePicPlaceholder,src:ur.a,alt:"drag & drop profile Pic here"}))))})),o.a.createElement(Yt,{clicked:e.createAccount},e.props.signupLoading?o.a.createElement(Ge.a,{className:ir.a.Spinner,type:"ThreeDots",color:"#FFFFFF",height:30,width:30}):o.a.createElement("h3",null,"Finish"))));break;default:console.log("INVALID ELEMENT ON MENU STACK")}return o.a.createElement(ar,{screen:t,pos:a,goBack:e.goBack,addToMenuStack:e.addToMenuStack,key:t},r)}))},e}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:ir.a.MenuItems},this.getMenuScreens())}}]),n}(r.Component),mr=Object(m.b)((function(e){return{menuStack:e.ui.menu.menuStack,loginLoading:e.user.loginLoading,checkEmailLoading:e.user.checkEmailLoading,signupLoading:e.user.signupLoading,checkHandleLoading:e.user.checkHandleLoading,shouldMoveRight:e.ui.menu.shouldMoveRight,darkmode:e.ui.darkmode,currentDepth:e.ui.menu.currentDepth,name:e.user.name,handle:e.user.handle,token:e.user.token,loginError:e.user.loginError,signupError:e.user.signupError,takenEmails:e.user.takenEmails,takenHandles:e.user.takenHandles}}),(function(e){return{onMoveRight:function(){return e({type:"MOVE_MENU_RIGHT"})},onAddToMenuStack:function(t){return e(E(t))},checkEmailTaken:function(t){return e(function(e){return function(t){t(Oe());var n={email:e};f.a.post("/api/users/checkEmail",n).then((function(n){n.data&&n.data.exists?t(Ie(e)):(t(we(n.data)),t(E("CHOOSE_HANDLE")))})).catch((function(e){t(ye(e)),console.log(e)}))}}(t))},checkHandleTaken:function(t){return e(function(e){return function(t){t(je());var n={handle:e};f.a.post("/api/users/checkHandle",n).then((function(n){n.data&&n.data.exists?t(Ne(e)):(t(Me(n.data)),t(E("CHOOSE_PROFILE_PIC")),console.log(document.getElementById("handle")),document.getElementById("handle").focus())})).catch((function(e){t(ke(e)),console.log(e)}))}}(t))},onLogin:function(t,n){return e(function(e,t){return function(n){n(Ee()),f.a.post("/api/users/login",JSON.stringify({identification:e,password:t}),{headers:{"Content-Type":"application/json"}}).then((function(e){var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.token),localStorage.setItem("expirationDate",t),localStorage.setItem("user",JSON.stringify(e.data)),n(_e(e.data)),n({type:"SET_DROPS_NOT_LOADED"}),n({type:"SET_UI_STATE_ON_LOGIN"}),n(_(e.data)),n({type:"CLOSE_MENU"})})).catch((function(e){"Network Error"===e.toJSON().message?n(Ce("Check your connection, bro")):e.response&&e.response.data&&e.response.data.message?n(Ce(e.response.data.message)):n(Ce("Something went wrong"))}))}}(t,n))},onSignup:function(t,n,a,r,o,s,c){return e(function(e,t,n,a,r,o,s){return function(c){c(ve());var i=localStorage.getItem("anonymousId"),l=new FormData;l.append("name",e),l.append("email",t),l.append("handle",n),l.append("password",a),l.append("profilePic",r),l.append("newsletter",s),l.append("anonymousId",i),f()({method:"post",url:"/api/users/signup",data:l,headers:{"Content-Type":"multipart/form-data"}}).then((function(e){console.log(e.data);var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.token),localStorage.setItem("expirationDate",t),localStorage.setItem("user",JSON.stringify(e.data)),c(be(e.data,o)),c({type:"SET_DROPS_NOT_LOADED"}),c({type:"SET_UI_STATE_ON_LOGIN"}),c(_(e.data)),c({type:"CLOSE_MENU"})})).catch((function(e){console.log(e),c(Se(e.response))}))}}(t,n,a,r,o,s,c))}}}))(pr),hr=n(18),fr=n.n(hr),gr=n(103),Er=n.n(gr),_r=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e.componentDidUpdate=function(){e.props.shouldMoveRight&&e.props.onMoveRight()},e.getMenuScreens=function(){return e.props.menuStack.map((function(t,n){console.log(fr.a.LogoutContainer),console.log("########################");var a=e.props.menuStack[e.props.currentDepth]===t?0:n<e.props.currentDepth?-1:1,r=[];switch(t){case"USER_MENU":r.push(o.a.createElement(sr,{key:t},o.a.createElement("div",{className:fr.a.LogoutContainer,onClick:e.props.onLogout},o.a.createElement("img",{className:fr.a.LogoutIcon,src:Er.a,alt:"logoutIcon"}),o.a.createElement("p",{className:fr.a.LogoutText},"logout"))));break;default:console.log("INVALID ELEMENT ON MENU STACK")}return o.a.createElement(ar,{screen:t,pos:a,goBack:e.goBack,addToMenuStack:e.addToMenuStack,key:t},r)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=[fr.a.Menu],t=[fr.a.LightButton],n=[fr.a.DarkButton];return this.props.darkmode?(e.push(fr.a.DarkMenu),n.push(fr.a.Active),t.push(fr.a.Inactive)):(e.push(fr.a.LightMenu),t.push(fr.a.Active),n.push(fr.a.Inactive)),o.a.createElement("div",{className:fr.a.MenuItems},this.getMenuScreens())}}]),n}(r.Component),Cr=Object(m.b)((function(e){return{menuStack:e.ui.menu.menuStack,darkmode:e.ui.darkmode,currentDepth:e.ui.menu.currentDepth,shouldMoveRight:e.ui.menu.shouldMoveRight,token:e.user.token}}),(function(e){return{onMoveRight:function(){return e({type:"MOVE_MENU_RIGHT"})},onLogout:function(){return e(ge())}}}))(_r),vr=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getProfilePic=function(){var t=Et.a,n=localStorage.getItem("token");return e.props.profilePicSrc?t=e.props.profilePicSrc:n&&e.props.hasProfilePic&&(t="".concat("https://storage.googleapis.com/drop-profile-pictures-bucket/profilePic-")+e.props.userId),o.a.createElement("img",{alt:"",className:"".concat(Ya.a.ProfilePic," ").concat(e.props.menuOpen?Ya.a.MenuOpen:""),src:t})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=[Ya.a.Menu,Ya.a.DarkMode];return o.a.createElement("div",{className:Ya.a.Container},this.props.menuOpen?o.a.createElement("div",{className:Ya.a.Overlay,onClick:this.props.onCloseMenu}):null,o.a.createElement("div",{onClick:this.props.menuOpen?this.props.onCloseMenu:this.props.onOpenMenu,className:Ya.a.Assistant},this.getProfilePic()),this.props.menuOpen?o.a.createElement("div",{className:e.join(" ")},o.a.createElement("div",{className:Ya.a.NameArea},o.a.createElement("h2",{className:Ya.a.Name},this.props.name),this.props.token?o.a.createElement("p",{className:Ya.a.Handle},"@",this.props.handle):null),o.a.createElement("hr",null),this.props.menuOpen?this.props.token?o.a.createElement(Cr,null):o.a.createElement(mr,null):null):null)}}]),n}(r.Component),br=Object(m.b)((function(e){return{darkmode:e.ui.darkmode,menuOpen:e.ui.menu.open,token:e.user.token,userId:e.user.userId,handle:e.user.handle,name:e.user.name,hasProfilePic:e.user.hasProfilePic,profilePicSrc:e.user.profilePicSrc}}),(function(e){return{onOpenMenu:function(){return e({type:"OPEN_MENU"})},onCloseMenu:function(){return e({type:"CLOSE_MENU"})}}}))(vr),Sr=n(72),Ir=n.n(Sr),Or=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleClicked=function(){if(e.props.token&&"6022396f28d69d22509a5d46"!==e.props.userId){var t={handle:e.props.handle,name:e.props.name,profilePic:e.props.profilePic,userId:e.props.userId};e.props.onSwitchTab("chat"),e.props.onOpenChrisChat(t)}},e}return Object(l.a)(n,[{key:"render",value:function(){return o.a.createElement("div",{className:Ir.a.Feedback},o.a.createElement("h2",null,"Got some feedback?",o.a.createElement("br",null)," Found a bug? ",o.a.createElement("br",null),"Confused?"),"Send a screenshot or text me!",o.a.createElement("br",null),o.a.createElement("br",null),"+49 17682625207",o.a.createElement("br",null),"on here: ",o.a.createElement("span",{onClick:this.handleClicked,className:this.props.token?Ir.a.Link:null},"@chris"),o.a.createElement("br",null),"cloy202@gmail.com",o.a.createElement("br",null))}}]),n}(r.Component),wr=Object(m.b)((function(e){return{token:e.user.token,userId:e.user.userId,profilePic:e.user.profilePic,handle:e.user.handle}}),(function(e){return{onOpenChrisChat:function(t){return e(function(e){return{type:"OPEN_CHRIS_CHAT",self:e}}(t))},onSwitchTab:function(t){return e(g(t))}}}))(Or),yr=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).componentDidMount=function(){var t=localStorage.getItem("anonymousId");t||localStorage.setItem("anonymousId","anonymous"+Date.now()),e.props.onSetAnonymousId(t),e.props.onTryAutoSignup(),e.props.onSetWindowWidth(window.innerWidth),window.addEventListener("resize",(function(){return e.props.onSetWindowWidth(window.innerWidth)})),setInterval((function(){if(e.props.token){var t=localStorage.getItem("token"),n={headers:{authorization:"Bearer ".concat(t)}};f.a.get("/api/users/notifications",n).then((function(t){if(e.props.notifications.length!==t.data.length)e.props.onRefreshNotifications(t.data);else{var n=t.data.map((function(e){return e.id}));e.props.notifications.map((function(e){return e.id})).forEach((function(a){n.some((function(e){return e===a}))||e.props.onRefreshNotifications(t.data)}))}})).catch((function(e){console.log(e)}))}}),5e3)},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){if(""===this.props.anonymousId){var e=localStorage.getItem("anonymousId");e||localStorage.setItem("anonymousId","anonymous"+Date.now()),this.props.onSetAnonymousId(e)}this.props.windowWidth!==window.innerWidth&&this.props.onSetWindowWidth(window.innerWidth)}},{key:"render",value:function(){return this.props.windowWidth<600?o.a.createElement("div",{className:"DesktopOnlyMessage"},"Desktop only for now, sry. ",o.a.createElement("br",null),"\xaf\\_(\u30c4)_/\xaf",o.a.createElement("br",null),"App is coming soon though.",o.a.createElement("br",null),"Working all day and night.",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("img",{src:Wa.a,alt:"chris working",className:"taktaktak"})):o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"Background ".concat(this.props.darkmode?"Dark":"Light")}),o.a.createElement(p.b,{path:["/stream","/chat","/creator"],component:cn}),o.a.createElement(p.b,{path:["/stream","/chat","/creator"],component:Pn}),o.a.createElement(p.b,{path:["/stream","/chat","/creator"],component:Ca}),o.a.createElement(p.a,{to:"/stream"}),this.props.newChatModalOpen?o.a.createElement(Ta,null):null,this.props.dropModalOpen?o.a.createElement(Ha,null):null,o.a.createElement(Oa,null),o.a.createElement(br,null),o.a.createElement(qa,null),o.a.createElement(wr,null))}}]),n}(r.Component),Nr=Object(p.f)(Object(m.b)((function(e){return{dropModalOpen:e.ui.dropModalOpen,windowWidth:e.ui.windowWidth,darkmode:e.ui.darkmode,authOpen:e.user.authOpen,newChatModalOpen:e.ui.newChatModalOpen,notifications:e.user.notifications,token:e.user.token,anonymousId:e.user.anonymousId}}),(function(e){return{onSetWindowWidth:function(t){return e(function(e){return{type:"SET_WINDOW_WIDTH",width:e}}(t))},onTryAutoSignup:function(){return e((function(e){var t=localStorage.getItem("token");if(t){var n=new Date(localStorage.getItem("expirationDate"));if(n<=new Date)e({type:"SET_UI_STATE_ON_LOGOUT"}),e(ge());else{var a=JSON.parse(localStorage.getItem("user"));e(_e(a)),e(_(a)),e({type:"SET_UI_STATE_ON_LOGIN"}),e((n.getTime(),(new Date).getTime(),function(e){}));var r={headers:{authorization:"Bearer "+t}};f.a.get("/api/users/refresh",r).then((function(t){e(_e(t.data)),e(_(t.data));var n=new Date((new Date).getTime()+1e3*t.data.expiresIn);localStorage.setItem("token",t.data.token),localStorage.setItem("expirationDate",n),localStorage.setItem("user",JSON.stringify(t.data))})).catch((function(e){console.log(e)}))}}else e({type:"SET_UI_STATE_ON_LOGOUT"}),e(ge())}))},onRefreshNotifications:function(t){return e(function(e){return console.log(e),function(t){t(Le(e));var n=e.filter((function(e){return e.type.startsWith("NEW_MESSAGE")}));n.length>0&&t(function(e){return{type:"CHECK_AND_ADD_NEW_MESSAGES",notifications:e}}(n));var a=e.filter((function(e){return e.type.startsWith("NEW_CHAT")}));a.length>0&&a.forEach((function(e){var n=localStorage.getItem("token"),a={headers:{authorization:"Bearer ".concat(n)}},r="/api/chat/".concat(e.chatId);f.a.get(r,a).then((function(e){console.log(e.data),t({type:"FETCH_NEW_CHAT_SUCCESS",chat:e.data})})).catch((function(e){console.log(e),t({type:"FETCH_NEW_CHAT_FAILED"})}))}))}}(t))},onSetAnonymousId:function(t){return e(function(e){return{type:"SET_ANONYMOUS_ID",anonymousId:e}}(t))}}}))(yr));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var jr=n(40),Mr=n(104),kr={dropTargets:[],selectedTargets:[],dropIds:[],streamStatus:"nothing loaded",streamElements:[{position:-4,show:"hidden",id:"-4",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:-3,show:"hidden",id:"-3",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:-2,show:"hidden",id:"-2",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:-1,show:"hidden",id:"-1",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:0,show:"hidden",id:"0",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:1,show:"show",id:"1",dropStatus:"loaded",comments:[{id:"6299e12bbe4e51241f85b9ac",comment:"fipw efojpw e",author:{userId:"602627eac021720012a01948"},posted:"2022-06-03T10:23:39.669Z",points:0,subComments:[{id:"629a004ebb58d226aba80031",path:"6299e12bbe4e51241f85b9ac/0",points:0,comment:"grw",subComments:[{id:"629a0051bb58d226aba80033",path:"6299e12bbe4e51241f85b9ac/0/0",points:0,comment:"reg",subComments:[]},{id:"629a0054bb58d226aba80035",path:"6299e12bbe4e51241f85b9ac/0/1",points:0,comment:"erger",subComments:[{id:"629a0058bb58d226aba80037",path:"6299e12bbe4e51241f85b9ac/0/1/0",points:0,comment:"gerger",subComments:[{id:"629a005cbb58d226aba80039",path:"6299e12bbe4e51241f85b9ac/0/1/0/0",points:0,comment:"gregerger",subComments:[{id:"629a005fbb58d226aba8003b",path:"6299e12bbe4e51241f85b9ac/0/1/0/0/0",points:0,comment:"ergergerg",subComments:[{id:"629a0062bb58d226aba8003d",path:"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0",points:0,comment:"egrergerg",subComments:[{id:"629a0065bb58d226aba8003f",path:"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0",points:0,comment:"gegerg",subComments:[{id:"629a0067bb58d226aba80041",path:"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0",points:0,comment:"ergerge",subComments:[{id:"629a006bbb58d226aba80043",path:"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0",points:0,comment:"gergeger",subComments:[{id:"629a006ebb58d226aba80045",path:"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0",points:0,comment:"gerger",subComments:[{id:"629a0071bb58d226aba80047",path:"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0",points:0,comment:"ergergerg",subComments:[{id:"629a0074bb58d226aba80049",path:"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0",points:0,comment:"ergerg",subComments:[{id:"629a0077bb58d226aba8004b",path:"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0",points:0,comment:"rgerg",subComments:[{id:"629a007abb58d226aba8004d",path:"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0",points:0,comment:"greger",subComments:[{id:"629a007ebb58d226aba8004f",path:"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0/0",points:0,comment:"ererg",subComments:[{id:"629a0081bb58d226aba80051",path:"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0/0/0",points:0,comment:"gre",subComments:[{id:"629a0084bb58d226aba80053",path:"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0",points:0,comment:"erergerg",subComments:[{id:"629a0089bb58d226aba80055",path:"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0",points:0,comment:"regerg",subComments:[{id:"629a008fbb58d226aba80057",path:"6299e12bbe4e51241f85b9ac/0/1/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0/0",points:0,comment:"ergerg",subComments:[]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]}]},{id:"6299e12fbe4e51241f85b9ad",comment:" fwlejkn f",author:{userId:"602627eac021720012a01948"},posted:"2022-06-03T10:23:43.861Z",points:0,subComments:[]},{id:"629a0f82bb58d226aba8010c",comment:"qd qiwo ",author:{userId:"602627eac021720012a01948"},posted:"2022-06-03T13:41:22.145Z",points:0,subComments:[]},{id:"629a1495bb58d226aba8010d",comment:"oiwef eiowjfoi wje",author:{userId:"602627eac021720012a01948"},posted:"2022-06-03T14:03:01.953Z",points:0,subComments:[]}],memeStatus:"not loaded"},{position:2,show:"show",id:"2",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:3,show:"show",id:"3",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:4,show:"show",id:"4",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:5,show:"show",id:"5",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:6,show:"show",id:"6",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:7,show:"show",id:"7",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:8,show:"show",id:"8",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:9,show:"show",id:"9",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:10,show:"show",id:"10",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:11,show:"show",id:"11",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:12,show:"show",id:"12",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:13,show:"show",id:"13",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:14,show:"show",id:"14",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:15,show:"show",id:"15",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:16,show:"show",id:"16",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:17,show:"show",id:"17",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:18,show:"show",id:"18",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:19,show:"show",id:"19",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:20,show:"show",id:"20",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"},{position:21,show:"show",id:"21",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"}],currentlyLoadingMemeId:"",selectedComment:null,sending:[],timeStampLastScroll:0,mouseOverComments:!1},Ar=function e(t,n,a){return n.map((function(n){return n.path===t?Object(fe.a)(Object(fe.a)({},n),{},{subComments:[].concat(Object(tt.a)(n.subComments),[a])}):t.startsWith(n.path)?Object(fe.a)(Object(fe.a)({},n),{},{subComments:e(t,n.subComments,a)}):n}))},Tr=function e(t,n,a){return t.map((function(t){return t.path===n?(console.log("Reached SubComment"),Object(fe.a)(Object(fe.a)({},t),{},{path:a.path})):(console.log("Going Deepa"),Object(fe.a)(Object(fe.a)({},t),{},{subComments:e(t.subComments,n,a)}))}))},xr=function(e,t){var n=e.streamElements.map((function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{id:"".concat(t,"-").concat(Date.now()),status:"not loaded",dropStatus:"not loaded",comments:[],memeStatus:"not loaded"})}));return Object(fe.a)(Object(fe.a)({},e),{},{streamElements:n,streamStatus:"nothing loaded"})},Lr=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{streamStatus:"loading ids"})},Dr=function(e,t){var n=t.ids.slice(0,21),a=t.ids.slice(21,t.ids.length),r=e.streamElements.map((function(e,t){return e.position<1?e:0===n.length?Object(fe.a)(Object(fe.a)({},e),{},{id:"no more"+Math.random(),status:"no more",memeStatus:"not loaded"}):Object(fe.a)(Object(fe.a)({},e),{},{id:n.pop(),status:"id loaded",memeStatus:"not loaded"})}));return Object(fe.a)(Object(fe.a)({},e),{},{dropIds:a,currentlyLoadingMemeId:r[5].id,streamElements:r,streamStatus:"ids loaded"})},Rr=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{streamStatus:"ids failed"})},Pr=function(e,t){return e},Fr=function(e,t){var n=e.streamElements.map((function(e){if(0===e.position)return{position:0,show:"hidden",id:"0",dropStatus:"loaded",comments:[],memeStatus:"loading"};var n=t.drops.find((function(t){return t.dropId===e.id}));return n?Object(fe.a)(Object(fe.a)({},e),{},{comments:n.comments.map((function(e){return Object(fe.a)(Object(fe.a)({},e),{},{path:"0"})})),title:n.title?n.title:null,source:n.source?n.source:null,dropStatus:"loaded"}):e}));return Object(fe.a)(Object(fe.a)({},e),{},{streamElements:n,streamStatus:"drops loaded"})},Br=function(e,t){return e},Hr=function(e,t){var n,a="no more",r=e.streamElements.map((function(e){return t.dropId===e.id?(n=e.position+1,Object(fe.a)(Object(fe.a)({},e),{},{memeStatus:"loaded"})):e.position===n?(a=e.id,e):e}));return Object(fe.a)(Object(fe.a)({},e),{},{streamElements:r,currentlyLoadingMemeId:a})},Ur=function(e,t){var n=e.streamElements.map((function(e){return e.id===t.dropId?Object(fe.a)(Object(fe.a)({},e),{},{memeStatus:"failed"}):e}));return Object(fe.a)(Object(fe.a)({},e),{},{streamElements:n})},Wr=function(e,t){var n=e.streamElements.map((function(e){return e.id===t.dropId?Object(fe.a)(Object(fe.a)({},e),{},{dropStatus:"loading"}):e}));return Object(fe.a)(Object(fe.a)({},e),{},{streamElements:n})},Vr=function(e,t){var n=e.streamElements.map((function(e){return e.id===t.dropId?Object(fe.a)(Object(fe.a)(Object(fe.a)({},e),t.drop),{},{comments:t.drop.comments?t.drop.comments.map((function(e){return Object(fe.a)(Object(fe.a)({},e),{},{path:"0"})})):[],title:t.drop.title?t.drop.title:null,source:t.drop.source?t.drop.source:null,dropStatus:"loaded"}):e}));return Object(fe.a)(Object(fe.a)({},e),{},{streamElements:n})},Gr=function(e,t){var n=e.streamElements.map((function(e){return e.id===t.dropId?Object(fe.a)(Object(fe.a)({},e),{},{dropStatus:"failed"}):e}));return Object(fe.a)(Object(fe.a)({},e),{},{streamElements:n})},qr=function(e,t){var n={dropId:t.dropId,randId:t.comment.id},a=[].concat(Object(tt.a)(e.sending),[n]),r=e.streamElements.map((function(e){if(e.id===t.dropId){var n=[t.comment].concat(Object(tt.a)(e.comments));return Object(fe.a)(Object(fe.a)({},e),{},{comments:n})}return e}));return Object(fe.a)(Object(fe.a)({},e),{},{sending:a,streamElements:r})},zr=function(e,t){console.log(t);var n=e.sending.filter((function(e){return e.randId!==t.randId})),a=e.streamElements.map((function(e){if(e.id===t.dropId){var n=e.comments.map((function(e){return e.id===t.comment.randId?t.comment:e}));return Object(fe.a)(Object(fe.a)({},e),{},{comments:n})}return e}));return Object(fe.a)(Object(fe.a)({},e),{},{streamElements:a,sending:n})},Yr=function(e,t){return console.log(t.err),Object(fe.a)({},e)},Zr=function(e,t){var n=[].concat(Object(tt.a)(e.dropTargets),[t.chatId]);return Object(fe.a)(Object(fe.a)({},e),{},{dropTargets:n})},Kr=function(e,t){var n=e.dropTargets.filter((function(e){return e!==t.chatId}));return Object(fe.a)(Object(fe.a)({},e),{},{dropTargets:n})},Xr=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{dropTargets:[]})},Qr=function(e,t){if(e.selectedComment)return Object(fe.a)(Object(fe.a)({},e),{},{selectedComment:null});var n=[].concat(Object(tt.a)(e.streamElements.map((function(e){return Object(fe.a)(Object(fe.a)({},e),{},{position:e.position+1,show:e.position+1<1?"hidden":"show"})})).filter((function(e){return e.position+1<=21}))),[{position:-4,show:"hidden",id:"wrongDir-".concat(Date.now()),status:"id loaded",dropStatus:"not loaded",comments:[]}]);return Object(fe.a)(Object(fe.a)({},e),{},{streamElements:n,dropTargets:[],timeStampLastScroll:Date.now()})},Jr=function(e,t){return Object(fe.a)({},e)},$r=function(e,t){return Object(fe.a)({},e)},eo=function(e,t){if(e.selectedComment)return Object(fe.a)(Object(fe.a)({},e),{},{selectedComment:null});e.dropIds.length>0&&console.log("##################");var n=0!==e.dropIds.length?e.dropIds[0]:"no more"+Date.now(),a=e.dropIds.slice(1,e.dropIds.length),r=[].concat(Object(tt.a)(e.streamElements.map((function(e){return Object(fe.a)(Object(fe.a)({},e),{},{position:e.position-1,show:e.position-1<1?"hidden":"show"})})).filter((function(e){return e.position>=-4}))),[{position:21,show:"show",id:n,status:"id loaded",dropStatus:"not loaded",comments:[]}]);return Object(fe.a)(Object(fe.a)({},e),{},{streamElements:r,dropIds:a,dropTargets:[],timeStampLastScroll:Date.now()})},to=function(e,t){return Object(fe.a)({},e)},no=function(e,t){return Object(fe.a)({},e)},ao=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{selectedComment:t.commentId})},ro=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{selectedComment:null})},oo=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{selectedComment:t.path})},so=function(e){return Object(fe.a)(Object(fe.a)({},e),{},{selectedComment:null})},co=function(e,t){var n=t.dropId,a=t.subComment,r="".concat(e.selectedComment,"/").concat(a.id),o=[].concat(Object(tt.a)(e.sending),[{dropId:n,path:r}]),s={id:a.id,comment:a.comment,path:r,points:0,subComments:[]},c=e.streamElements.map((function(t){if(t.id===n){var a=t.comments.map((function(t){return e.selectedComment.split("/")[0]===t.id?e.selectedComment.split("/").length>1?Object(fe.a)(Object(fe.a)({},t),{},{subComments:Ar(e.selectedComment,t.subComments,s)}):Object(fe.a)(Object(fe.a)({},t),{},{subComments:[].concat(Object(tt.a)(t.subComments),[s])}):t}));return Object(fe.a)(Object(fe.a)({},t),{},{comments:a})}return t}));return Object(fe.a)(Object(fe.a)({},e),{},{streamElements:c,sending:o,selectedComment:null})},io=function(e,t){var n=t.dropId,a=t.randPath,r=t.subComment,o=e.sending.filter((function(e){return!(e.dropId===n&&e.path===a)})),s=e.streamElements.map((function(e){if(e.id===n){var t=e.comments.map((function(e){return a.startsWith(e.id)?Object(fe.a)(Object(fe.a)({},e),{},{subComments:Tr(e.subComments,a,r)}):e}));return Object(fe.a)(Object(fe.a)({},e),{},{comments:t})}return e}));return Object(fe.a)(Object(fe.a)({},e),{},{sending:o,streamElements:s})},lo=function(e,t){return Object(fe.a)({},e)},uo=function(e,t){var n=t.dropId,a=t.commentId,r=e.streamElements.map((function(e){if(e.id===n){var t=e.comments.filter((function(e){return e.id!==a}));return Object(fe.a)(Object(fe.a)({},e),{},{comments:t})}return e}));return Object(fe.a)(Object(fe.a)({},e),{},{streamElements:r,selectedComment:null})},po=function(e,t){return e},mo=function(e,t){return e},ho=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{mouseOverComments:t.value})},fo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kr,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_DROPTARGET":return Zr(e,t);case"UNSELECT_DROPTARGET":return Kr(e,t);case"RESET_DROP_TARGETS":return Xr(e);case"SCROLL_PREV_START":return Qr(e);case"SCROLL_PREV_SUCCESS":return Jr(e);case"SCROLL_PREV_FAILED":return $r(e);case"SCROLL_NEXT_START":return eo(e);case"SCROLL_NEXT_SUCCESS":return to(e);case"SCROLL_NEXT_FAILED":return no(e);case"FETCH_IDS_START":return Lr(e);case"SET_IDS":return Dr(e,t);case"FETCH_IDS_FAILED":return Rr(e);case"SELECT_COMMENT":return ao(e,t);case"UNSELECT_COMMENT":return ro(e);case"SELECT_SUBCOMMENT":return oo(e,t);case"UNSELECT_SUBCOMMENT":return so(e);case"SET_DROPS_NOT_LOADED":return xr(e);case"FETCH_DROPS_START":return Pr(e);case"SET_DROPS":return Fr(e,t);case"FETCH_DROPS_FAILED":return Br(e);case"FETCH_DROP_START":return Wr(e,t);case"FETCH_DROP_SUCCESS":return Vr(e,t);case"FETCH_DROP_FAILED":return Gr(e,t);case"FETCH_MEME_SUCCESS":return Hr(e,t);case"FETCH_MEME_FAILED":return Ur(e,t);case"SEND_COMMENT_START":return qr(e,t);case"SEND_COMMENT_SUCCESS":return zr(e,t);case"SEND_COMMENT_FAILED":return Yr(e,t);case"DELETE_COMMENT_START":return uo(e,t);case"DELETE_COMMENT_SUCCESS":return po(e);case"DELTE_COMMENT_FAILED":return mo(e);case"SEND_SUBCOMMENT_START":return co(e,t);case"SEND_SUBCOMMENT_SUCCESS":return io(e,t);case"SEND_SUBCOMMENT_FAILED":return lo(e);case"MOUSE_OVER_COMMENTS":return ho(e,t);default:return e}},go={currentChatId:"1",formHeight:53,chatInput:"",allUsers:[],allUsersStatus:"not loaded",sendingFriendRequests:[],sentFriendRequests:[],failedFriendRequests:[],receivedFriendRequests:[],acceptingFriendRequests:[],creatingChats:[],messageBuffer:[],friends:[{userId:"42069",name:"Elon Musk",handle:"elon",profilePic:!1},{userId:"12",name:"Tonald Drump",handle:"donald",profilePic:!1},{userId:"12345",name:"Shrek",handle:"shrek",profilePic:!1},{userId:"42069",name:"Rick Astley",handle:"rick",profilePic:!1},{userId:"123456",name:"Keano Reeeeeeeee",handle:"Keano",profilePic:!1},{userId:"122",name:"Michael Jordan",handle:"michael",profilePic:!1}],friendsStatus:"not loaded",chats:[{group:!1,chatId:"1",members:[{userId:"1",name:"Username"},{userId:"42069",name:"Elon Musk",handle:"elon",profilePic:!1}],inputValue:"",lastInteraction:1611673082511,messages:[{text:"Whats poppin' Elon?",time:"14:32",type:"text",sender:"1",id:"1"},{text:"Rocket goes brrrrrt",time:"14:32",type:"text",sender:"5",id:"2",new:!0}]},{chatId:"2",group:!1,members:[{userId:"1"},{userId:"12",name:"Tonald Drump",handle:"donald",profilePic:!1}],inputValue:"",lastInteraction:1611673082510,messages:[{text:"I won. By a lot.",time:"14:32",type:"text",sender:"12",id:"1",new:!0}]},{chatId:"3",members:[{userId:"1"},{userId:"12345",name:"Shrek",profilePic:!1}],inputValue:"",lastInteraction:1611673082509,messages:[{text:"Get out of my swamp!",time:"14:32",type:"text",sender:"12345",id:"1",new:!0}]},{chatId:"4",members:[{userId:"1"},{userId:"123456",name:"Keano Reeeeeeeee",profilePic:!1}],inputValue:"",lastInteraction:1611673082508,messages:[{text:"I can do total sellout and they still love me lol",time:"14:32",type:"text",sender:"123456",id:"1"}]},{chatId:"5",name:"Rick Astley",members:[{userId:"1"},{userId:"42069",name:"Rick Astley",profilePic:!1}],inputValue:"",messages:[{text:"Never gonna give you up!",time:"14:32",type:"text",sender:"12345",id:"1"}]},{chatId:"6",members:[{userId:"1"},{userId:"122",name:"Michael Jordan",handle:"michael",profilePic:!1}],inputValue:"",lastInteraction:1611673082507,messages:[{text:"And I took that personally.",time:"14:32",sender:"chris",id:1,sent:!0}]}],seenUpdatesChats:[],users:[],sendingMessages:[],chatsStatus:"not loaded",currentChatLoaded:!1},Eo=function(e,t){var n=t.userdata.notifications.filter((function(e){return e.type.startsWith("NEW_MESSAGE")})),a=t.userdata.receivedFriendRequests.filter((function(e){return!t.userdata.chats.some((function(t){return t.members.some((function(t){return t.userId===e.userId}))}))})).map((function(e){console.log(e);var n={userId:t.userdata.userId,name:t.userdata.name,handle:t.userdata.handle,profilePic:t.userdata.profilePic};return{group:!1,messages:[],chatId:"dummy".concat(e.userId),members:[n,e],name:e.name,lastInteraction:Date.now()}})),r=[].concat(Object(tt.a)(t.userdata.chats.map((function(e){var t=e.messages.map((function(t){return n.some((function(n){return n.chatId===e.chatId&&n.messageId===t.id}))?Object(fe.a)(Object(fe.a)({},t),{},{new:!0}):t}));return Object(fe.a)(Object(fe.a)({},e),{},{messages:t})}))),Object(tt.a)(a));return Object(fe.a)(Object(fe.a)({},e),{},{receivedFriendRequests:t.userdata.receivedFriendRequests,sentFriendRequests:t.userdata.sentFriendRequests,friends:t.userdata.friends,chats:r,currentChatId:t.userdata.chats.length>0?t.userdata.chats[0].chatId:null})},_o=function(e,t){var n,a=e.chats.map((function(a){if(a.chatId===e.currentChatId){var r=a.messages.map((function(e){return e.new?Object(fe.a)(Object(fe.a)({},e),{},{new:!1}):e}));return Object(fe.a)(Object(fe.a)({},a),{},{messages:r,inputValue:e.chatInput})}return a.chatId===t.chatId?(n=a.inputValue,a):a})),r=[].concat(Object(tt.a)(e.seenUpdatesChats),[t.chatId]);return Object(fe.a)(Object(fe.a)({},e),{},{chats:a,inputValue:n,currentChatId:t.chatId,seenUpdatesChats:r})},Co=function(e,t){var n=t.value;return Object(fe.a)(Object(fe.a)({},e),{},{chatInput:n})},vo=function(e,t){var n=t.randId,a=t.text,r=t.userId,o=e.chats.map((function(t){return t.chatId===e.currentChatId?Object(fe.a)(Object(fe.a)({},t),{},{messages:[].concat(Object(tt.a)(t.messages),[{received:[],seen:[],liked:[],text:a,sender:r,time:new Date,id:n,type:"text",sending:!0}])}):t})),s=[].concat(Object(tt.a)(e.sendingMessages),[{chatId:e.currentChatId,randId:t.randId}]);return Object(fe.a)(Object(fe.a)({},e),{},{chats:o,sendingMessages:s,chatInput:"",shouldDeleteInput:!0})},bo=function(e,t){var n=e.sendingMessages.find((function(e){return e.randId===t.randId})),a=e.sendingMessages.filter((function(e){return e.randId!==t.randId})),r=e.chats.map((function(e){if(e.chatId===n.chatId){var a=e.messages.map((function(e){return e.id===n.randId?t.message:e}));return Object(fe.a)(Object(fe.a)({},e),{},{messages:a})}return e}));return Object(fe.a)(Object(fe.a)({},e),{},{chats:r,sendingMessages:a})},So=function(e,t){return Object(fe.a)({},e)},Io=function(e,t){var n=e.chats.map((function(e){if(t.chatIds.some((function(t){return t===e.chatId}))){var n=[].concat(Object(tt.a)(e.messages),[t.message]);return Object(fe.a)(Object(fe.a)({},e),{},{messages:n})}return e})),a=t.chatIds.map((function(e){return{randId:t.message.id,chatId:e}})),r=[].concat(Object(tt.a)(e.sendingMessages),Object(tt.a)(a));return Object(fe.a)(Object(fe.a)({},e),{},{chats:n,sendingMessages:r,currentChatId:t.chatIds[0]})},Oo=function(e,t){var n=t.messageReplacements,a=t.chatReplacements,r=t.randId,o=e.currentChatLoaded;console.log(t);var s=e.chats.map((function(e){if(e.chatId.startsWith("dummy")){console.log("FOUND DUMMY CHAT");var t=a.find((function(t){return"dummy".concat(t.userId)===e.chatId}));if(t)return console.log("FOUND A MATCHING REPLACEMENT"),o=t.chat.chatId,t.chat}var s=n.find((function(t){return t.chatId===e.chatId}));if(s){var c=e.messages.map((function(e){return e.id===r?s.message:e}));return Object(fe.a)(Object(fe.a)({},e),{},{messages:c})}return e}));return Object(fe.a)(Object(fe.a)({},e),{},{chats:s,currentChatId:o})},wo=function(e,t){return Object(fe.a)({},e)},yo=function(e,t){var n=t.dummyChatId,a=t.randId,r=t.message,o=t.self;console.log(t);var s={received:[],seen:[],liked:[],text:r,sender:o.userId,time:new Date,id:a,type:"text",sent:!0,sending:!0},c=e.chats.map((function(e){return e.chatId===n?Object(fe.a)(Object(fe.a)({},e),{},{messages:[s]}):e})),i=[].concat(Object(tt.a)(e.creatingChats),[n]);return Object(fe.a)(Object(fe.a)({},e),{},{chats:c,creatingChats:i})},No=function(e,t){var n=t.dummyChatId,a=t.createdChat,r=t.self,o=t.chatPartner,s=e.currentChatId===n?a.chatId:e.currentChatId,c=e.chats.find((function(e){return e.chatId===n})).messages,i=e.chats.map((function(e){return e.chatId===n?(console.log("FOUND DUMMY CHAT"),Object(fe.a)(Object(fe.a)({},a),{},{messages:[].concat(Object(tt.a)(a.messages),Object(tt.a)(c.slice(1,c.length))),members:[r,o]})):e})),l=e.messageBuffer.map((function(e){return e.dummyChatId===n?Object(fe.a)(Object(fe.a)({},e),{},{dummyChatId:a.chatId}):e})),u=e.creatingChats.filter((function(e){return e!==n}));return Object(fe.a)(Object(fe.a)({},e),{},{chats:i,currentChatId:s,messageBuffer:l,creatingChats:u})},jo=function(e,t){return Object(fe.a)({},e)},Mo=function(e,t){var n=t.dummyChatId,a=t.dummyMessageId,r=t.text,o=t.userId,s=[].concat(Object(tt.a)(e.messageBuffer),[{dummyChatId:n,dummyMessageId:a,text:r,id:"".concat(Date.now())}]),c=e.chats.map((function(t){return t.chatId===e.currentChatId?Object(fe.a)(Object(fe.a)({},t),{},{messages:[].concat(Object(tt.a)(t.messages),[{received:[],seen:[],liked:[],text:r,sender:o,time:new Date,id:a,type:"text",sending:!0}])}):t}));return Object(fe.a)(Object(fe.a)({},e),{},{messageBuffer:s,chats:c})},ko=function(e,t){var n=t.id,a=e.messageBuffer.map((function(e){return e.id===n?Object(fe.a)(Object(fe.a)({},e),{},{sending:!0}):e}));return Object(fe.a)(Object(fe.a)({},e),{},{messageBuffer:a})},Ao=function(e,t){var n=t.id,a=t.response,r=e.messageBuffer.find((function(e){return e.id===n}));console.log(r);var o=e.chats.map((function(e){if(e.chatId===r.dummyChatId){var t=e.messages.map((function(e){return e.id===r.dummyMessageId?a:e}));return Object(fe.a)(Object(fe.a)({},e),{},{messages:t})}return e})),s=e.messageBuffer.filter((function(e){return e.id!==n}));return Object(fe.a)(Object(fe.a)({},e),{},{chats:o,messageBuffer:s})},To=function(e,t){var n=t.id,a=e.messageBuffer.map((function(e){return e.id===n?Object(fe.a)(Object(fe.a)({},e),{},{sending:!1}):e}));return Object(fe.a)(Object(fe.a)({},e),{},{messageBuffer:a})},xo=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{allUsersStatus:"loading"})},Lo=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{allUsersStatus:"loaded",allUsers:t.users})},Do=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{allUsersStatus:"failed"})},Ro=function(e,t){var n=[].concat(Object(tt.a)(e.sendingFriendRequests),[t.user]);return Object(fe.a)(Object(fe.a)({},e),{},{sendingFriendRequests:n})},Po=function(e,t){var n=e.sendingFriendRequests.filter((function(e){return e.userId!==t.user.userId})),a=t.chat?e.sentFriendRequests:[].concat(Object(tt.a)(e.sentFriendRequests),[t.user]),r=e.chats,o=e.currentChatId,s=e.friends;return t.chat&&(r=[].concat(Object(tt.a)(e.chats.filter((function(e){return e.chatId!==t.chat.chatId&&e.chatId!=="dummy".concat(t.user.userId)}))),[t.chat]),o=t.chat.chatId,s=[].concat(Object(tt.a)(e.friends),[t.user])),Object(fe.a)(Object(fe.a)({},e),{},{sentFriendRequests:a,sendingFriendRequests:n,chats:r,currentChatId:o,friends:s})},Fo=function(e,t){var n=e.sendingFriendRequests.filter((function(e){return e.userId!==t.user.userId})),a=[].concat(Object(tt.a)(e.failedFriendRequests),[t.user]);return Object(fe.a)(Object(fe.a)({},e),{},{sendingFriendRequests:n,failedFriendRequests:a})},Bo=function(e,t){console.log("USER",t.user);var n=e.receivedFriendRequests.filter((function(e){return e.userId!==t.user.userId})),a=[].concat(Object(tt.a)(e.acceptingFriendRequests),[t.user]);return Object(fe.a)(Object(fe.a)({},e),{},{receivedFriendRequests:n,acceptingFriendRequests:a})},Ho=function(e,t){var n=t.friend,a=t.chat,r=e.acceptingFriendRequests.filter((function(e){return e.userId!==n.userId})),o=[].concat(Object(tt.a)(e.friends),[n]),s="dummy".concat(n.userId),c=[].concat(Object(tt.a)(e.chats.filter((function(e){return e.chatId!==s&&e.chatId!==a.chatId}))),[a]),i=a.chatId;return Object(fe.a)(Object(fe.a)({},e),{},{friends:o,chats:c,acceptingFriendRequests:r,currentChatId:i})},Uo=function(e,t){var n=[].concat(Object(tt.a)(e.receivedFriendRequests),[t.user]);return Object(fe.a)(Object(fe.a)({},e),{},{receivedFriendRequests:n})},Wo=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{chatsStatus:"loading"})},Vo=function(e,t){var n=t.chats.map((function(e){return Object(fe.a)(Object(fe.a)({},e),{},{inputValue:""})})),a=n.length>0?n[0].chatId:null;return Object(fe.a)(Object(fe.a)({},e),{},{chats:n,currentChatId:a,chatsStatus:"loaded"})},Go=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{chatStatus:"failed"})},qo=function(e,t){var n="dummy"+t.chatPartner.userId,a=e.chats.some((function(e){return e.chatId===n}))?e.chats:[{group:!1,messages:[],chatId:n,members:[t.self,t.chatPartner],name:t.chatPartner.name,lastInteraction:Date.now()}].concat(Object(tt.a)(e.chats));return Object(fe.a)(Object(fe.a)({},e),{},{chats:a,currentChatId:n})},zo=function(e,t){var n=[].concat(Object(tt.a)(e.users),Object(tt.a)(t.users));return Object(fe.a)(Object(fe.a)({},e),{},{users:n})},Yo=function(e,t){var n=e.chats.map((function(e){var n=t.notifications.filter((function(t){return t.chatId===e.chatId})).map((function(e){return Object(fe.a)(Object(fe.a)({},e.message),{},{new:!0})}));if(n.length>0){var a=function(e){var t=[];return e.forEach((function(e){t.some((function(t){return t.id===e.id}))||t.push(e)})),t}([].concat(Object(tt.a)(e.messages),Object(tt.a)(n)));return Object(fe.a)(Object(fe.a)({},e),{},{messages:a})}return e}));return Object(fe.a)(Object(fe.a)({},e),{},{chats:n})},Zo=function(e,t){return Object(fe.a)({},e)},Ko=function(e,t){var n=[].concat(Object(tt.a)(e.chats.filter((function(e){return e.chatId!==t.chat.chatId}))),[t.chat]);return Object(fe.a)(Object(fe.a)({},e),{},{chats:n})},Xo=function(e,t){return Object(fe.a)({},e)},Qo=function(e,t){console.log("CHRIS CHAT ID","dummy".concat("602627eac021720012a01948"));var n=e.chats.find((function(e){return e.chatId==="dummy".concat("602627eac021720012a01948")||e.members.some((function(e){return e.userId==="".concat("602627eac021720012a01948")}))})),a=n?n.chatId:"dummy".concat("602627eac021720012a01948"),r=n?e.chats:[].concat(Object(tt.a)(e.chats),[{group:!1,name:"Chris Loy",messages:[],chatId:"dummy".concat("602627eac021720012a01948"),members:[t.self,{name:"Chris Loy",handle:"chris",userId:"".concat("602627eac021720012a01948"),profilePic:!0}],lastInteraction:Date.now()}]);return Object(fe.a)(Object(fe.a)({},e),{},{chats:r,currentChatId:a})},Jo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:go,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CHAT_STATE_ON_LOGIN":return Eo(e,t);case"ADD_NEW_USERS":return zo(e,t);case"SEND_MESSAGE_START":return vo(e,t);case"SEND_MESSAGE_SUCCESS":return bo(e,t);case"SEND_MESSAGE_FAILED":return So(e,t);case"SEND_DROP_START":return Io(e,t);case"SEND_DROP_SUCCESS":return Oo(e,t);case"SEND_DROP_FAILED":return wo(e,t);case"SEND_FIRST_MESSAGE_NEW_CHAT_START":return yo(e,t);case"SEND_FIRST_MESSAGE_NEW_CHAT_SUCCESS":return No(e,t);case"SEND_FIRST_MESSAGE_NEW_CHAT_FAILED":return jo(e,t);case"ADD_MESSAGE_TO_BUFFER":return Mo(e,t);case"SEND_MESSAGE_FROM_BUFFER_START":return ko(e,t);case"SEND_MESSAGE_FROM_BUFFER_SUCCESS":return Ao(e,t);case"SEND_MESSAGE_FROM_BUFFER_FAILED":return To(e,t);case"CHANGE_CHAT":return _o(e,t);case"CHANGE_CHAT_INPUT":return Co(e,t);case"FETCH_ALL_USERS_START":return xo(e,t);case"FETCH_ALL_USERS_SUCCESS":return Lo(e,t);case"FETCH_ALL_USERS_FALIED":return Do(e,t);case"SEND_FRIEND_REQUEST_START":return Ro(e,t);case"SEND_FRIEND_REQUEST_SUCCESS":return Po(e,t);case"SEND_FRIEND_REQUEST_FAILED":return Fo(e,t);case"ACCEPT_FRIEND_REQUEST_START":return Bo(e,t);case"ACCEPT_FRIEND_REQUEST_SUCCESS":return Ho(e,t);case"ACCEPT_FRIEND_REQUEST_FAILED":return Uo(e,t);case"FETCH_CHATS_START":return Wo(e,t);case"FETCH_CHATS_SUCCESS":return Vo(e,t);case"FETCH_CHATS_FAILED":return Go(e,t);case"FETCH_NEW_CHAT_START":return Zo(e,t);case"FETCH_NEW_CHAT_SUCCESS":return Ko(e,t);case"FETCH_NEW_CHAT_FAILED":return Xo(e,t);case"CREATE_DUMMY_CHAT":return qo(e,t);case"CHECK_AND_ADD_NEW_MESSAGES":return Yo(e,t);case"OPEN_CHRIS_CHAT":return Qo(e,t);default:return e}},$o={anonymousId:"",token:null,name:null,handle:null,userId:"1",error:null,loading:null,checkEmailLoading:!1,checkHandleLoading:!1,takenEmails:[],takenHandles:[],signupLoading:!1,authOpen:!1,authReason:null,hasProfilePic:!1,profilePicSrc:null,receivedFriendRequests:[],sendingSubscribeEmailList:!1,sentSubscribeEmailList:!1,notifications:[{type:"TEXT_MESSAGE",chatId:"2",message:{text:"I won. By a lot.",time:"14:32",type:"text",sender:"12",id:"1"}},{type:"TEXT_MESSAGE",chatId:"3",message:{text:"Get out of my swamp!",time:"14:32",type:"text",sender:"12345",id:"1"}}],deletingNotifications:[]},es=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{anonymousId:t.anonymousId})},ts=function(e){return Object(fe.a)(Object(fe.a)({},e),{},{loginLoading:!0})},ns=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{loginLoading:!1,loginError:null,signupError:null,hasProfilePic:t.profilePic,name:t.name,handle:t.handle,userId:t.userId,token:t.token,email:t.email,friends:t.friends,receivedFriendRequests:t.receivedFriendRequests,notifications:t.notifications})},as=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{loginLoading:!1,loginError:t.error})},rs=function(e){return Object(fe.a)(Object(fe.a)({},e),{},{signupLoading:!0})},os=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{signupLoading:!1,signupError:t.error})},ss=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{signupLoading:!1,error:null,hasProfilePic:t.profilePic,name:t.name,handle:t.handle,userId:t.userId,token:t.token,email:t.email,profilePicSrc:t.profilePicSrc,friends:t.friends,receivedFriendRequests:[],notifications:[],sendingSubscribeEmailList:!1})},cs=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{checkEmailLoading:!0})},is=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{checkEmailLoading:!1})},ls=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{checkEmailLoading:!1})},us=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{checkEmailLoading:!1,takenEmails:[].concat(Object(tt.a)(e.takenEmails),[t.email])})},ds=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{checkHandleLoading:!0})},ps=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{checkHandleLoading:!1})},ms=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{checkHandleLoading:!1})},hs=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{checkHandleLoading:!1,takenHandles:[].concat(Object(tt.a)(e.takenHandles),[t.handle])})},fs=function(e,t){var n=e.notifications.filter((function(e){return!(e.type.startsWith("NEW_MESSAGE")&&e.chatId===t.chatId)}));return Object(fe.a)(Object(fe.a)({},e),{},{notifications:n})},gs=function(e,t){return e},Es=function(e,t){return e},_s=function(e,t){return e},Cs=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{notifications:t.notifications})},vs=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{sendingSubscribeEmailList:!0})},bs=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{sendingSubscribeEmailList:!1,sentSubscribeEmailList:!0})},Ss=function(e,t){return Object(fe.a)(Object(fe.a)({},e),{},{emailListError:t.message,sendingSubscribeEmailList:!1,sentSubscribeEmailList:!1})},Is=function(e,t){var n=e.notifications.find((function(e){return e.id===t.notificationId}));console.log(n);var a=e.notifications.filter((function(e){return e.id!==t.notificationId})),r=[].concat(Object(tt.a)(e.deletingNotifications),[n]);return Object(fe.a)(Object(fe.a)({},e),{},{notifications:a,deletingNotifications:r})},Os=function(e,t){var n=e.deletingNotifications.filter((function(e){return e.id===t.notificationId}));return Object(fe.a)(Object(fe.a)({},e),{},{deletingNotifications:n})},ws=function(e,t){return Object(fe.a)({},e)},ys=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ANONYMOUS_ID":return es(e,t);case"LOGIN_START":return ts(e);case"LOGIN_SUCCESS":return ns(e,t);case"AUTH_FAIL":return as(e,t);case"SIGNUP_START":return rs(e);case"SIGNUP_SUCCESS":return ss(e,t);case"SIGNUP_FAIL":return os(e,t);case"CHECK_EMAIL_TAKEN_START":return cs(e);case"CHECK_EMAIL_TAKEN_SUCCESS":return is(e);case"CHECK_EMAIL_TAKEN_FAILED":return ls(e);case"EMAIL_ALREADY_TAKEN":return us(e,t);case"CHECK_HANDLE_TAKEN_START":return ds(e);case"CHECK_HANDLE_TAKEN_SUCCESS":return ps(e);case"CHECK_HANDLE_TAKEN_FAILED":return ms(e);case"HANDLE_ALREADY_TAKEN":return hs(e,t);case"MESSAGES_READ_START":return fs(e,t);case"MESSAGES_READ_SUCCESS":return gs(e);case"MESSAGES_READ_FAILED":return Es(e);case"CHECK_AND_ADD_NEW_MESSAGES":return _s(e);case"UPDATE_NOTIFICATIONS":return Cs(e,t);case"SUBSCRIBE_EMAIL_LIST_SUCCESS":return vs(e);case"SUBSCRIBE_EMAIL_LIST_SUCCESS":return bs(e);case"SUBSCRIBE_EMAIL_LIST_FAILED":return Ss(e,t);case"DELETE_NOTIFICATION_START":return Is(e,t);case"DELETE_NOTIFICATION_SUCCESS":return Os(e,t);case"DELETE_NOTIFICATION_FAILED":return ws(e);default:return e}},Ns={darkmode:!0,dropModalOpen:!1,currentTab:"creator",menu:{open:!1,menuStack:["AUTH"],currentDepth:0,shouldMoveRight:!1},newChatModalOpen:!1,windowWidth:1080,loginOrSignup:"login"},js=function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;t>0&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/10))},Ms=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GO_DARK":return console.log("Bravo 6 going dark"),Object(fe.a)(Object(fe.a)({},e),{},{darkmode:!0});case"GO_LIGHT":return Object(fe.a)(Object(fe.a)({},e),{},{darkmode:!1});case"SWITCH_TAB":return js(),Object(fe.a)(Object(fe.a)({},e),{},{currentTab:t.tab});case"OPEN_DROP_MODAL":return Object(fe.a)(Object(fe.a)({},e),{},{dropModalOpen:!0});case"CLOSE_DROP_MODAL":return Object(fe.a)(Object(fe.a)({},e),{},{dropModalOpen:!1});case"OPEN_MENU":return Object(fe.a)(Object(fe.a)({},e),{},{menu:Object(fe.a)(Object(fe.a)({},e.menu),{},{open:!0})});case"CLOSE_MENU":return Object(fe.a)(Object(fe.a)({},e),{},{menu:Object(fe.a)(Object(fe.a)({},e.menu),{},{open:!1})});case"OPEN_NEW_CHAT_MODAL":return Object(fe.a)(Object(fe.a)({},e),{},{newChatModalOpen:!0});case"CLOSE_NEW_CHAT_MODAL":return Object(fe.a)(Object(fe.a)({},e),{},{newChatModalOpen:!1});case"SET_WINDOW_WIDTH":return Object(fe.a)(Object(fe.a)({},e),{},{windowWidth:t.width});case"SET_UI_STATE_ON_LOGIN":return Object(fe.a)(Object(fe.a)({},e),{},{menu:{open:!1,menuStack:["USER_MENU"],currentDepth:0}});case"ADD_TO_MENU_STACK":return Object(fe.a)(Object(fe.a)({},e),{},{menu:Object(fe.a)(Object(fe.a)({},e.menu),{},{shouldMoveRight:!0,menuStack:[].concat(Object(tt.a)(e.menu.menuStack),[t.next])})});case"POP_FROM_MENU_STACK":return Object(fe.a)(Object(fe.a)({},e),{},{menu:Object(fe.a)(Object(fe.a)({},e.menu),{},{currentDepth:e.menu.currentDepth-1,menuStack:e.menu.menuStack.slice(0,e.menu.menuStack.length-1)})});case"MOVE_MENU_RIGHT":return Object(fe.a)(Object(fe.a)({},e),{},{menu:Object(fe.a)(Object(fe.a)({},e.menu),{},{shouldMoveRight:!1,currentDepth:e.menu.currentDepth+1})});default:return e}};f.a.defaults.baseURL="".concat("https://meme-drop.herokuapp.com");var ks=Object(jr.c)({user:ys,chat:Jo,stream:fo,ui:Ms}),As=jr.d,Ts=Object(jr.e)((function(e,t){return"LOGOUT"===t.type&&(e=void 0),ks(e,t)}),As(Object(jr.a)(Mr.a)));c.a.render(o.a.createElement(m.a,{store:Ts},o.a.createElement(va.a,null,o.a.createElement(Nr,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[106,1,2]]]);
//# sourceMappingURL=main.e9b2f7d8.chunk.js.map