{"version":3,"sources":["components/Creator/SelectionMenu/SelectionMenu.module.css","components/SidePanel/AuthMenu/AuthMenu.module.css","components/Chat/ChatPreviews/ChatPrev/AddButton/AddButton.module.css","components/SidePanel/UserMenu/UserMenu.module.css","components/Chat/ChatPreviews/ChatPrev/ChatPrev.module.css","components/Footer/Footer.module.css","components/Stream/Stream.module.css","components/Chat/ChatWindow/Message/Message.module.css","components/Navigation/Navigation.module.css","components/Stream/StreamElement/StreamElement.module.css","components/Stream/StreamElement/CommentSection/Comment/Comment.module.css","components/Chat/ChatPreviews/ChatPreviews.module.css","components/Creator/Element/ResizeHandler/ResizeHandler.module.css","components/SidePanel/SidePanel.module.css","media/DefaultProfilePic.png","components/Creator/Element/TextElement/TextElement.module.css","components/Stream/StreamElement/CommentSection/Comment/SubCommentWrapper/SubComment/SubComment.module.css","components/Creator/TopMenu/TopMenu.module.css","components/Creator/ExportModal/ExportModal.module.css","components/Stream/StreamElement/CommentSection/CommentForm/CommentForm.module.css","components/NewChatModal/NewChatModal.module.css","components/Stream/StreamElement/CommentSection/Comment/CommentMenu/CommentMenu.module.css","components/Chat/Chat.module.css","components/Chat/ChatWindow/ChatWindow.module.css","components/DropModal/ChatPrev/ChatPrev.module.css","components/Stream/StreamElement/CommentSection/Comment/Voting/Voting.module.css","components/UI/NeumorphismButton/NeumorphismButton.module.css","components/NewChatModal/UserPrev/UserPrev.module.css","components/DropModal/DropModal.module.css","components/SidePanel/MenuScreen/MenuScreen.module.css","components/Stream/StreamElement/Content/Content.module.css","components/UI/PrimaryButton/PrimaryButton.module.css","components/Chat/ChatWindow/ChatForm/ChatForm.module.css","components/Creator/Element/Element.module.css","components/Stream/StreamElement/Content/Source/Source.module.css","components/Stream/StreamElement/CommentSection/CommentSection.module.css","components/Creator/Creator.module.css","components/Stream/StreamElement/CommentSection/Comment/Branches/Branches.module.css","media/Boat.png","components/Creator/Line/Line.module.css","components/SidePanel/MenuItem/MenuItem.module.css","components/Feedback/Feedback.module.css","components/Stream/StreamElement/CommentSection/Comment/CommentMenu/TrashOpen.svg","components/Stream/StreamElement/CommentSection/Comment/CommentMenu/TrashClosed.svg","components/Stream/StreamElement/CommentSection/AuthorPic/AuthorPic.module.css","components/UI/Backdrop/Backdrop.module.css","SVGs/RiverWhite.svg","SVGs/river.svg","SVGs/RiverGlow.svg","components/Chat/ChatPreviews/ChatPrev/Connector.svg","media/stupidfuckingface.jpeg","components/Creator/SelectionFrame/SelectionFrame.module.css","components/Creator/ChrisDrunk.jpg","media/taktaktak.jpg","components/SidePanel/AuthMenu/ProfilePicPlaceholder.svg","components/SidePanel/UserMenu/logout.svg","components/Creator/ImageDragNDrop/ImageDragNDrop.module.css","components/SidePanel/MenuScreen/arrow_back.svg","store/actions/UIActions.js","store/actions/actionTypes.js","store/actions/chatActions.js","store/actions/streamActions.js","store/actions/userActions.js","components/Stream/StreamElement/Content/Source/Source.js","components/Stream/StreamElement/Content/Content.js","components/Stream/StreamElement/CommentSection/Comment/CommentMenu/CommentMenu.js","components/Stream/StreamElement/CommentSection/Comment/Voting/Voting.js","components/Stream/StreamElement/CommentSection/AuthorPic/AuthorPic.js","components/UI/Backdrop/Backdrop.js","components/Stream/StreamElement/CommentSection/Comment/Branches/Branches.js","components/Stream/StreamElement/CommentSection/Comment/SubCommentWrapper/SubComment/SubComment.js","components/UI/NeumorphismButton/NeumorphismButton.js","components/Stream/StreamElement/CommentSection/CommentForm/CommentForm.js","components/Stream/StreamElement/CommentSection/Comment/SubCommentWrapper/SubCommentWrapper.js","components/Stream/StreamElement/CommentSection/Comment/Comment.js","components/Stream/StreamElement/CommentSection/CommentSection.js","components/UI/PrimaryButton/PrimaryButton.js","components/Stream/StreamElement/StreamElement.js","components/Stream/Stream.js","components/Chat/ChatPreviews/ChatPrev/AddButton/AddButton.js","components/Chat/ChatPreviews/ChatPrev/ChatPrev.js","components/Chat/ChatPreviews/ChatPreviews.js","components/Chat/ChatWindow/ChatForm/ChatForm.js","components/Chat/ChatWindow/Message/Message.js","components/Chat/ChatWindow/ChatWindow.js","components/Chat/Chat.js","components/Creator/Element/ResizeHandler/ResizeHandler.js","components/Creator/Element/TextElement/AutoResizeTextElement.js","components/Creator/Element/TextElement/TextElement.js","components/Creator/Element/Element.js","components/Creator/Line/Line.js","components/Creator/TopMenu/TopMenu.js","components/Creator/SelectionMenu/SelectionMenu.js","components/Creator/SelectionFrame/SelectionFrame.js","components/Creator/ExportModal/ExportModal.js","components/Creator/ImageDragNDrop/ImageDragNDrop.js","components/Creator/Creator.js","components/Navigation/Navigation.js","components/NewChatModal/UserPrev/UserPrev.js","components/NewChatModal/NewChatModal.js","components/DropModal/ChatPrev/ChatPrev.js","components/DropModal/DropModal.js","components/Footer/Footer.js","components/SidePanel/MenuScreen/MenuScreen.js","components/SidePanel/MenuItem/MenuItem.js","components/SidePanel/AuthMenu/AuthMenu.js","components/SidePanel/UserMenu/UserMenu.js","components/SidePanel/SidePanel.js","components/Feedback/Feedback.js","App.js","serviceWorker.js","store/reducers/StreamReducer.js","store/reducers/ChatReducer.js","store/reducers/UserReducer.js","store/reducers/UIReducer.js","index.js"],"names":["module","exports","_path","switchTab","tab","type","addToMenuStack","next","setChatStateOnLogin","userdata","fetchAllUsers","dispatch","fetchAllUsersStart","axios","get","then","response","addNewUsers","data","fetchAllUsersSuccess","catch","err","console","log","fetchAllUsersFailed","users","sendMessageStart","chatId","text","randId","userId","sendMessageSuccess","message","sendMessageFailed","sendMessageFromBufferStart","id","sendMessageFromBufferSuccess","sendMessageFromBufferFailed","sendFirstMessageNewChatStart","dummyChatId","self","sendFirstMessageNewChatSuccess","createdChat","chatPartner","sendFirstMessageNewChatFailed","sendFriendRequest","user","sendFriendRequestStart","token","localStorage","getItem","headers","authorization","post","friendId","res","sendFriendRequestSuccess","chat","sendFriendRequestFailed","acceptFriendRequest","existingChatId","acceptFriendRequestStart","body","acceptFriendRequestSuccess","friend","acceptFriendRequestFailed","changeChat","setItem","createDummyChat","swipeStart","dir","swipeSuccess","swipeFailed","fetchIdsStart","setIds","ids","fetchIdsFailed","fetchDrops","fetchDropsStart","setDrops","fetchDropsFailed","drops","sendCommentStart","dropId","comment","sendCommentSuccess","sendCommentFailed","sendSubCommentStart","subComment","sendSubCommentSuccess","randPath","sendSubCommentFailed","deleteCommentStart","commentId","deleteCommentSuccess","deleteCommentFailed","fetchDropStart","fetchDropSuccess","drop","fetchDropFailed","resetDropTargets","logout","removeItem","loginStart","loginSuccess","responseData","loginFail","error","signupStart","signupSuccess","profilePicSrc","signupFail","emailAlreadyTaken","email","checkEmailTakenStart","checkEmailTakenSuccess","checkEmailTakenFailed","handleAlreadyTaken","handle","checkHandleTakenStart","checkHandleTakenSuccess","checkHandleTakenFailed","sendMessagesReadStart","sendMessagesReadSuccess","sendMessagesReadFailed","updateNotifications","notifications","deleteNotificationStart","notificationId","deleteNotificationSuccess","deleteNotificationFailed","subscribeEmailListStart","subscribeEmailListSuccess","subscribeEmailListFailed","Source","className","classes","Header","Link","href","this","props","sourceURL","Component","Content","getLoader","position","memeStatus","Spinner","color","height","width","src","startsWith","process","ContentContainer","currentlyLoadingMemeId","alt","Meme","onLoad","onFetchMemeSuccess","source","connect","state","stream","actions","CommentMenu","trashOpen","deleteCommentOpen","userComment","MenuItem","TrashOpen","TrashClosed","Trash","onMouseOver","setState","onMouseOut","onClick","DeleteDialog","YesButton","onDeleteComment","NoButton","url","delete","Voting","getArrow","up","glow","down","upvote","downvote","viewBox","fill","xmlns","d","event","stopPropagation","didUpvote","newState","route","path","vote","voterId","didDownvote","points","onOpenMenu","unvote","getCountString","number","Math","floor","firstDigit","secondDigit","upvoted","downvoted","voting","title","darkmode","ui","AuthorPic","DefaultPic","authorId","selfId","hasProfilePic","style","left","depth","indent","backdrop","zIndex","Backdrop","clicked","Branches","getRoot","i","styles","treeString","length","Root","hideBranches","getL","generateBoneStyles","key","getC","generateLine","generateBones","boneComponents","bones","push","split","pop","top","branches","root","SubComment","subComments","getSpeechBubbleArrow","selected","parentSelected","sending","SpeechBubbleArrow","fillRule","clipRule","onUnselectComment","onSelectSubComment","divElement","clientHeight","selectedComment","some","s","backgroundStyleClasses","CommentBackground","commentStyle","paddingLeft","contentStyle","maxWidth","hiddenBranches","CommentContainer","Comment","join","ref","upVoted","downVoted","SelectClickTarget","select","actualComment","streamActions","NeumorphismButton","styleClasses","Button","buttonType","SubmitComment","disabled","Disabled","colorTheme","Light","Dark","children","CommentForm","textareaValue","inputChangedHandler","newValue","target","value","trim","streamElements","submitHandler","preventDefault","newSubComment","Date","now","author","parentPath","onSendSubComment","newComment","posted","onSendComment","getBranches","fillOpacity","commentInputStyles","slice","CommentInput","CommentInputBackground","actualCommentForm","TextArea","onChange","placeholder","SubmitButton","getArrowRight","SubCommentWrapper","createSubComments","nextTreeString","map","lastProp","tree","last","selectedCommentPath","inheritance","thisTreeString","onSelectComment","c","neuMorphism","CommentSection","componentDidUpdate","getComments","comments","x","tabIndex","commentStatus","PrimaryButton","buttonClasses","theme","PrimaryButtonNeumorphism","PrimaryButtonFlat","StreamElement","streamStatus","dropStatus","onFetchDrop","PrimaryButtonClicked","onOpenDropModal","pos","transY","transZ","show","transform","halfLeft","halfRight","WebkitTransform","droppedToYouBy","cssClasses","ShowDrop","FadedRight","FadedLeft","HalfLeft","HalfRight","calcStyles2","status","DROP","dropLoaded","authReason","creatorId","Stream","timeStampLastSwipe","glowLeft","glowRight","wtfOpen","msg","send","currentlyDropping","onLightUp","right","resetGlow","keypressHandler","menuOpen","currentTab","keyCode","keyboardSwipeHandler","swipeHandler","onSwipe","anonymousId","getLeftThumb","onMouseEnter","onMouseLeave","LeftThumb","ThumbGlow","filter","y","filterUnits","colorInterpolationFilters","floodOpacity","result","in","values","stdDeviation","mode","in2","getRightThumb","RightThumb","getRiver","RiverWhite","River","getRiverGlow","RiverGlow","getStreamElements","forEach","element","unshift","dropping","droppingHandler","render","OutRight","Boat","Boat1","Boat2","document","addEventListener","onFetchIds","initialStreamLoad","modalOpen","menu","open","like","authorisation","AddButton","getAddIcon","inverted","AddIcon","getCheckMark","button","Loading","GlowOnHover","Clickable","TextButton","AcceptButton","Inverted","NotIverted","ChatPrev","connectorsOut","getConnector","Connector","ConnectorUp","ConnectorDown","getButton","active","buttonClick","friends","onSendFriendRequest","sentFriendRequests","sendingFriendRequests","acceptingFriendRequests","receivedFriendRequests","onAcceptFriendRequest","unreadMessages","notifiaction","n","notifiactionStype","TrippleDigit","DoubleDigit","SingleDigit","members","m","name","preview","messages","profilePic","DefaultProfilePic","currentChatId","Active","ProfilePic","Info","Name","Preview","NotificationCount","seenUpdatesChats","chats","allUsers","onChangeChat","ChatPreviews","searching","searchInput","focus","getElementById","getChats","chatsStatus","LoaderContainer","sort","chatA","chatB","lastInteraction","getSearchInput","input","onSearchInput","SearchInput","openSearch","closeSearch","getNewChatIcon","AddChatIcon","getNewChatButton","NewChatContainer","onOpenNewChatModal","NewChatMessage","SearchIcon","ScrollContainer","formHeight","friendsStatus","allUsersStatus","onFetchAllUsers","inputRef","ChatForm","inputValue","onInput","enterHandler","shiftKey","currentChat","find","creatingChats","onAddMessageToBuffer","onSendFirstMessageNewChat","onSendTextMessage","window","ChatInput","TextareaContainer","Textarea","rows","currentChatLoaded","chatInput","onChangeFormHeight","dummyMessageId","Message","getMessage","Text","Image","StupidFuckingFace","Drop","containerStyleclasses","MessageContainer","sent","Sent","Received","Sending","messageNew","New","windowWidth","onSendMessagesRead","messageIds","onDeleteNotification","useEffect","scrollToBottom","currentMessageNotificatios","currentNewChatNotifications","smooth","bottomRef","current","scrollIntoView","behavior","block","inline","createRef","foundAllOldMessages","new","NewMessageSeparator","sender","ChatWindow","SmallChatWindow","BigChatWindow","Messages","NotEncryptedMessage","Chat","textInput","unbufferMessage","messageBuffer","onSendMessageFromBuffer","setChatFormInputValue","onChangeShouldDeleteInput","getNotLoggedInMessage","NotLoggedInContainer","NotLoggedInMessage","InnerContainer","OutLeft","ResizeHandler","componentDidMount","handleResizeMouseDown","componentWillUnmount","removeEventListener","e","resizeMouseDown","elementId","getStyleClasses","Corner","Edge","NW","NE","SW","SE","N","W","S","E","onMouseDown","AutoResizeTextElement","useFitText","fontSize","font","fontWeight","verticalAlign","verticalAlignClass","topAlign","bottomAlign","middleAlign","contentEditable","editing","suppressContentEditableWarning","TextInput","fontFamily","onTextInput","TextElement","fixedDimensions","Element","getStyles","posX","posY","textAlign","underline","italic","textStroke","fontStyle","backgroundColor","textDecoration","WebkitTextStrokeColor","WebkitTextStrokeWidth","textShadow","cursor","editingId","inPreview","getContent","imgSrc","onImageLoad","highlighed","selectedLines","Hlines","Vlines","includes","v","h","mouseDown","elementMouseDown","mouseUp","doubleClick","selectAndEdit","onDoubleClick","onMouseUp","Line","HL","VL","TopMenu","inputFile","useRef","LeftAlign","addElements","rx","fixedWidth","click","cx","cy","r","stroke","strokeWidth","RightAlign","openExportModal","shareIcon","x1","y1","x2","y2","multiple","display","fr","FileReader","onload","image","readAsDataURL","files","SelectionMenu","leftAlignIcon","strokeColor","alignActive","alignInactive","centerAlignIcon","rightAlignIcon","topAlignIcon","middleAlignIcon","bottomAlignIcon","italicIcon","underlineIcon","editHeight","edit","editWidth","editX","editY","editFont","editFontSize","editTextAlign","editFontWeight","editFixedDimensions","editUnderline","editItalic","editVerticalAlign","flex","inputWrapper","textOptions","fontSelector","flexSpaceBetween","alignIcon","textBoxTypeOptions","checked","SelectionFrame","getResizeHandlers","resizeHandlers","pointerEvents","ExportModal","downloadFormat","linkRef","React","imagesLoaded","imageCreationStarted","downloadLoading","clientWidth","calcContentMetrics","leftBorder","rightBorder","topBorder","bottomBorder","elements","contentWidth","contentHeight","setDownloadFormat","onDownLoad","node","downloadStarted","htmlToImage","dataUrl","link","createElement","setAttribute","appendChild","parentNode","removeChild","closeExportModal","getElements","previewStyles","scaleFactorY","zoom","scaleFactorX","transformedElements","Background","Modal","PreviewContainer","Preveiw","DownloadWrapper","DownloadOptions","DownloadContainer","label","ImageDragNDrop","drag","dropRef","handleDragIn","dragCounter","dataTransfer","items","handleDragOut","handleDrop","clearData","div","dragging","border","Creator","draggingFile","selectedId","selectedHline","selectedVline","exportModalOpen","ChrisDrunk","blur","setTimeout","backgroundMouseUp","prevX","prevY","prevMouseX","clientX","prevMouseY","clientY","getLines","mousemove","newX","newY","l","abs","elementsNew","mouseup","selectionOffsetBefore","getSelection","focusOffset","elem","offsetHeight","newHeight","textContent","range","createRange","selection","childNodes","setStart","collapse","removeAllRanges","addRange","adjustTextElementHeight","innerHTML","handleImageDrop","fileList","aspectRatio","prevWidth","prevHeight","mouseStartX","mouseStartY","resizeMouseMouve","newWidth","newFontSize","diffWidth","diffHeight","fixedAspectRatio","newElement","newElements","onImgeLoad","currentlyEditing","excludeId","Set","shouldElementHighlight","renderLines","lines","OutLeftLeft","sendingSubscribeEmailList","sentSubscribeEmailList","emailListError","onSubscribeEmailList","Navigation","chatNotifications","notifiactionStyle","to","inactive","onSwitchTab","UIActions","UserPrev","existingChat","onCloseNewChatModal","selfName","selfHandle","selfHasPfilePic","onCreateDummyChat","currentUserId","NewChatModal","getAllUsers","toLowerCase","logedinUserId","f","getFriends","spellCheck","onCloseNewChatMenu","SearchContainer","getSearchIcon","failedFriendRequest","dropTargets","onUnSelectDropTarget","onSelectDropTarget","DropModal","onSendDrop","targetNames","targetId","onCloseDropModal","targets","sentTime","liked","chatIds","sendDropStart","messageReplacements","chatReplacements","sendDropSuccess","Footer","getInstagramIcon","Icon","clipPath","getTwitterIcon","getFacebookIcon","getTumblrIcon","getPinterestIcon","getSocialButtons","SocialButtons","rel","_excluded","_extends","Object","assign","bind","arguments","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgArrowBack","_ref","svgRef","titleId","ForwardRef","MenuScreen","getArrowBack","BackButton","ArrowBack","onPopFromMenuStack","currentDepth","loginOrSignup","invalid","Invalid","UNACCEPTABLE_PASSWORDS","AuthMenu","loginEmail","touched","valid","loginPassword","password","errorMessage","secondPassword","tooUgly","file","userConditions","newsletter","onInputLoginEmail","test","onLeaveLoginEmailFocus","onInputLoginPassword","onLeaveLoginPasswordFocus","onInputName","onLeaveNameFocus","onUploadprofilePic","acceptedFiles","Array","from","URL","createObjectURL","onRemoveProfilePic","onInputEmail","onLeaveEmailFocus","onInputHandle","substring","onLeaveHandleFocus","onInputPassword","onLeavePasswordFocus","onInputSecondPassword","onLeaveSecondPasswordFocus","onChangeUserconditions","prevState","onChangeNewsletter","shouldMoveRight","onMoveRight","menuStack","createAccount","onSignup","login","onLogin","signup","checkEmailTaken","chooseHandle","checkHandleTaken","getMenuScreens","content","emailErrorMessage","passwordErrorMessage","secondPasswordErrorMessage","loginErrorMessage","loginError","takenEmails","onSubmit","onAnimationStart","onBlur","ErrorMessage","loginLoading","CheckboxContainer","CheckboxText","checkEmailLoading","handleErrorMessage","takenHandles","checkHandleLoading","onDrop","getRootProps","getInputProps","Dropzone","ProfilePicPlaceholder","signupLoading","screen","goBack","MenuItems","signupError","onAddToMenuStack","exists","identifier","JSON","stringify","identification","expirationDate","getTime","expiresIn","toJSON","formData","FormData","append","method","UserMenu","LogoutContainer","onLogout","LogoutIcon","LogoutText","menuClasses","Menu","lightButtonClasses","LightButton","darkButtonClasses","DarkButton","DarkMenu","Inactive","LightMenu","SidePanel","getProfilePic","MenuOpen","DarkMode","Container","Overlay","onCloseMenu","Assistant","NameArea","Handle","Feedback","handleClicked","onOpenChrisChat","App","onSetAnonymousId","onTryAutoSignup","onSetWindowWidth","innerWidth","setInterval","onRefreshNotifications","inComingIds","iid","taktaktak","component","newChatModalOpen","dropModalOpen","withRouter","authOpen","parse","messageNotifications","checkAndAddNewMessages","newChatNotifications","Boolean","location","hostname","match","initialState","selectedTargets","dropIds","insertSubComment","replaceSubCommentId","setDropsNotLoaded","action","streamElementsNew","activeIds","random","fetchMemeSuccess","nextPos","nextId","fetchMemeFailed","sendingObject","sendingNew","commentsNew","selectDropTarget","dropTargetsNew","unselectDropTarget","scrollToTop","documentElement","scrollTop","requestAnimationFrame","scrollTo","dropIdsNew","selectComment","unselectComment","selectSubComment","unselectSubComment","newPath","reducer","failedFriendRequests","group","time","sendingMessages","newTextMessagesNotifications","dummyChatsFromRequests","chatsNew","messageId","chatInputNew","seenUpdatesChatsNew","chatInputChangeHandler","received","seen","sendingMessagesNew","shouldDeleteInput","sendingMessage","messagesNew","sendingM","currentChatIdNew","chatReplacement","messageReplacement","sendDropFailed","newMessage","creatingChatsNew","dummyChatMessages","messageBufferNew","addMessageToBuffer","bufferMessage","aciton","sendingFriendRequestsNew","sentFriendRequestsNew","friendsNew","failedFriendRequestsNew","receivedFriendRequestsNew","acceptingFriendRequestsNew","dummyId","fetchChatsStart","fetchChatsSuccess","fetchChatsFailed","chatStatus","personsNew","newMessagesThisChat","messageSet","removeDuplicateMessages","fetchNewChatStart","fetchNewChatSuccess","fetchNewChatFailed","openChrisChat","existingChrisChat","loading","deletingNotifications","setAnonymousId","messagesReadStart","notificationsNew","messagesReadSuccess","messagesReadFailed","toDelte","deletingNotificationsNew","defaults","baseURL","appReducer","combineReducers","UserReducer","ChatReducer","StreamReducer","UIReducer","composeEnhancers","compose","store","createStore","undefined","applyMiddleware","thunk","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cae16a72.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"SelectionMenu\":\"SelectionMenu_SelectionMenu__Z2ojO\",\"flex\":\"SelectionMenu_flex__15n15\",\"flexSpaceBetween\":\"SelectionMenu_flexSpaceBetween__24DeG\",\"inputWrapper\":\"SelectionMenu_inputWrapper__3hFux\",\"input\":\"SelectionMenu_input__3orDM\",\"alignIcons\":\"SelectionMenu_alignIcons__3h8DA\",\"alignIcon\":\"SelectionMenu_alignIcon__1OtCb\",\"alignActive\":\"SelectionMenu_alignActive__2hj9a\",\"alignInactive\":\"SelectionMenu_alignInactive__2E3LX\",\"textBoxTypeOptions\":\"SelectionMenu_textBoxTypeOptions__30bQ5\",\"fontSelector\":\"SelectionMenu_fontSelector__3j2fj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MenuItems\":\"AuthMenu_MenuItems__3rNnh\",\"BackButton\":\"AuthMenu_BackButton__37MYS\",\"Dropzone\":\"AuthMenu_Dropzone__1q8ct\",\"ProfilePicPlaceholder\":\"AuthMenu_ProfilePicPlaceholder__324KV\",\"ProfilePic\":\"AuthMenu_ProfilePic__1bHlH\",\"TextInput\":\"AuthMenu_TextInput__13WDk\",\"Invaid\":\"AuthMenu_Invaid__2SyHm\",\"onAutoFillStart\":\"AuthMenu_onAutoFillStart__13px6\",\"Textinput\":\"AuthMenu_Textinput__2ehuS\",\"onAutoFillCancel\":\"AuthMenu_onAutoFillCancel__3M0RO\",\"ErrorMessage\":\"AuthMenu_ErrorMessage__2ZQks\",\"CreateAccount\":\"AuthMenu_CreateAccount__3rr2F\",\"CheckboxText\":\"AuthMenu_CheckboxText__3DRRH\",\"CheckboxContainer\":\"AuthMenu_CheckboxContainer__3hbZz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AddButton\":\"AddButton_AddButton__247dH\",\"Spinner\":\"AddButton_Spinner__VKy9T\",\"AddIcon\":\"AddButton_AddIcon__15XCF\",\"Inverted\":\"AddButton_Inverted__19rUX\",\"AddIconGLow\":\"AddButton_AddIconGLow__Boows\",\"Clickable\":\"AddButton_Clickable__VUiJp\",\"TextButton\":\"AddButton_TextButton__19czF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LogoutContainer\":\"UserMenu_LogoutContainer__256hM\",\"LogoutIcon\":\"UserMenu_LogoutIcon__1thmb\",\"LogoutText\":\"UserMenu_LogoutText__1BpvJ\",\"MenuItems\":\"UserMenu_MenuItems__knxvC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatPrev\":\"ChatPrev_ChatPrev__3fJMz\",\"ProfilePic\":\"ChatPrev_ProfilePic__2fF2Q\",\"Link\":\"ChatPrev_Link__1nvmI\",\"Active\":\"ChatPrev_Active__2B2Xo\",\"Preview\":\"ChatPrev_Preview__11hWt\",\"Info\":\"ChatPrev_Info__2FAib\",\"Name\":\"ChatPrev_Name__LGoDf\",\"ConnectorUp\":\"ChatPrev_ConnectorUp__EQSim\",\"ConnectorDown\":\"ChatPrev_ConnectorDown__2pwH6\",\"SingleDigit\":\"ChatPrev_SingleDigit__3gW4S\",\"DoubleDigit\":\"ChatPrev_DoubleDigit__1TOYN\",\"TrippleDigit\":\"ChatPrev_TrippleDigit__10R-l\",\"NotificationCount\":\"ChatPrev_NotificationCount__3_GZ6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Footer\":\"Footer_Footer__238hM\",\"SocialButtons\":\"Footer_SocialButtons__1QO7E\",\"Link\":\"Footer_Link__2v7FB\",\"Icon\":\"Footer_Icon__2abUb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Stream\":\"Stream_Stream__1p-EH\",\"OutRight\":\"Stream_OutRight__2aEf-\",\"River\":\"Stream_River__1O9az\",\"RiverGlow\":\"Stream_RiverGlow__mAxa8\",\"Boat1\":\"Stream_Boat1__1Z0Du\",\"Boat2\":\"Stream_Boat2__3IrRP\",\"wtfButton\":\"Stream_wtfButton__3i49j\",\"wtfContainer\":\"Stream_wtfContainer__3DD06\",\"SubLine\":\"Stream_SubLine__MVszT\",\"EmojiButton\":\"Stream_EmojiButton__2W_FH\",\"LeftThumb\":\"Stream_LeftThumb__3tnvu\",\"RightThumb\":\"Stream_RightThumb__2xIpX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MessageContainer\":\"Message_MessageContainer__gf0e5\",\"Sent\":\"Message_Sent__2XCKT\",\"Received\":\"Message_Received__1847w\",\"Message\":\"Message_Message__1uVPF\",\"Text\":\"Message_Text__2KRx3\",\"Sending\":\"Message_Sending__1OvWC\",\"Image\":\"Message_Image__jO4GU\",\"Drop\":\"Message_Drop__Tob2B\",\"Time\":\"Message_Time__2J939\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navigation\":\"Navigation_Navigation__1tTPb\",\"active\":\"Navigation_active__1Sofg\",\"inactive\":\"Navigation_inactive__HaPCz\",\"SingleDigit\":\"Navigation_SingleDigit__2RgMU\",\"DoubleDigit\":\"Navigation_DoubleDigit__1ow4U\",\"TrippleDigit\":\"Navigation_TrippleDigit__10ipn\",\"NotificationCount\":\"Navigation_NotificationCount__daxOy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"StreamElement\":\"StreamElement_StreamElement__3OCsm\",\"Light\":\"StreamElement_Light__2TtLJ\",\"Dark\":\"StreamElement_Dark__2dlJY\",\"LogoForButton\":\"StreamElement_LogoForButton__1AJ3s\",\"title\":\"StreamElement_title__1alnv\",\"hideCommentsButton\":\"StreamElement_hideCommentsButton__2tvUl\",\"showCommentsButton\":\"StreamElement_showCommentsButton__378tv\",\"ShowDrop\":\"StreamElement_ShowDrop__1aiJj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentContainer\":\"Comment_CommentContainer__1pRtV\",\"Comment\":\"Comment_Comment__3-CQ4\",\"Root\":\"Comment_Root__2CJ9O\",\"actualComment\":\"Comment_actualComment__2e5Xa\",\"CommentBackground\":\"Comment_CommentBackground__2ay4r\",\"selected\":\"Comment_selected__1Cjjs\",\"sending\":\"Comment_sending__2ZFQ6\",\"SpeechBubbleArrow\":\"Comment_SpeechBubbleArrow__2Bk8e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatPreviews\":\"ChatPreviews_ChatPreviews__fzX0l\",\"SearchContainer\":\"ChatPreviews_SearchContainer__Ej40j\",\"SearchInput\":\"ChatPreviews_SearchInput__GTzsf\",\"SearchIcon\":\"ChatPreviews_SearchIcon__1xA98\",\"NewChatContainer\":\"ChatPreviews_NewChatContainer__B-M_c\",\"AddChatIcon\":\"ChatPreviews_AddChatIcon__2Ywob\",\"NewChatMessage\":\"ChatPreviews_NewChatMessage__1YuwC\",\"ScrollContainer\":\"ChatPreviews_ScrollContainer__3gP52\",\"EmptyMessage\":\"ChatPreviews_EmptyMessage__DTHP9\",\"LoaderContainer\":\"ChatPreviews_LoaderContainer__1-XQ1\",\"Spinner\":\"ChatPreviews_Spinner__1xiTt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Corner\":\"ResizeHandler_Corner__3-KWA\",\"Edge\":\"ResizeHandler_Edge__1xF-y\",\"NW\":\"ResizeHandler_NW__TAwmj\",\"SW\":\"ResizeHandler_SW__3WC-T\",\"SE\":\"ResizeHandler_SE__1GarH\",\"NE\":\"ResizeHandler_NE__dMKUa\",\"N\":\"ResizeHandler_N__3ZPKg\",\"S\":\"ResizeHandler_S__2Tcvz\",\"W\":\"ResizeHandler_W__2yN16\",\"E\":\"ResizeHandler_E__HY2p2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"SidePanel_Container__2n4dm\",\"Overlay\":\"SidePanel_Overlay__3H8RD\",\"ProfilePic\":\"SidePanel_ProfilePic__2088H\",\"MenuOpen\":\"SidePanel_MenuOpen__3zM5A\",\"Menu\":\"SidePanel_Menu__1Le88\",\"NameArea\":\"SidePanel_NameArea__uF_F1\",\"Handle\":\"SidePanel_Handle__3Hwhr\",\"Name\":\"SidePanel_Name__10lm8\",\"MenuItems\":\"SidePanel_MenuItems__2Im6n\",\"LightMenu\":\"SidePanel_LightMenu__3snu5\",\"DarkMenu\":\"SidePanel_DarkMenu__3io-a\"};","module.exports = \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TextInput\":\"TextElement_TextInput__1KrCZ\",\"topAlign\":\"TextElement_topAlign__iMBaG\",\"middleAlign\":\"TextElement_middleAlign__2ZxBb\",\"bottomAlign\":\"TextElement_bottomAlign__3cJU0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentContainer\":\"SubComment_CommentContainer__3pN14\",\"Comment\":\"SubComment_Comment__3QuPl\",\"Root\":\"SubComment_Root__3euip\",\"CommentBackground\":\"SubComment_CommentBackground__2YwBN\",\"actualComment\":\"SubComment_actualComment__A31dE\",\"unselectRect\":\"SubComment_unselectRect__MO8ow\",\"sending\":\"SubComment_sending__3HKiD\",\"selected\":\"SubComment_selected__3zWkG\",\"CommentBackgroundNeumorphism\":\"SubComment_CommentBackgroundNeumorphism__3JPk3\",\"SpeechBubbleArrow\":\"SubComment_SpeechBubbleArrow__1pXFE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TopMenu\":\"TopMenu_TopMenu__KNG5p\",\"LeftAlign\":\"TopMenu_LeftAlign__2xUF9\",\"RightAlign\":\"TopMenu_RightAlign__2nWqm\",\"MenuItem\":\"TopMenu_MenuItem__VTSNx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ExportModal\":\"ExportModal_ExportModal__1dqm9\",\"Background\":\"ExportModal_Background__RsbW8\",\"Modal\":\"ExportModal_Modal__1lp19\",\"PreviewContainer\":\"ExportModal_PreviewContainer__1E3j6\",\"Preveiw\":\"ExportModal_Preveiw__NOHR9\",\"DownloadOptions\":\"ExportModal_DownloadOptions__2nYOZ\",\"DownloadWrapper\":\"ExportModal_DownloadWrapper__1H_WS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentForm\":\"CommentForm_CommentForm__2ziHj\",\"CommentInput\":\"CommentForm_CommentInput__2JXGs\",\"CommentInputBackground\":\"CommentForm_CommentInputBackground__1TW1s\",\"SpeechBubbleArrow\":\"CommentForm_SpeechBubbleArrow__3gt-i\",\"TextArea\":\"CommentForm_TextArea__82bTZ\",\"InputContainer\":\"CommentForm_InputContainer__2Kt2i\",\"toplevel\":\"CommentForm_toplevel__2NYbc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"NewChatModal_Modal__3n-er\",\"SearchContainer\":\"NewChatModal_SearchContainer__1PZ0o\",\"SearchInput\":\"NewChatModal_SearchInput__33tyc\",\"SearchIcon\":\"NewChatModal_SearchIcon__1DLA0\",\"ScrollContainer\":\"NewChatModal_ScrollContainer__1XoBc\",\"LoaderContainer\":\"NewChatModal_LoaderContainer__1M8IG\",\"Spinner\":\"NewChatModal_Spinner__3J-6G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentMenu\":\"CommentMenu_CommentMenu__3B8Xo\",\"MenuItem\":\"CommentMenu_MenuItem__l5Lxn\",\"Seperator\":\"CommentMenu_Seperator__3O3Yx\",\"Trash\":\"CommentMenu_Trash__um9o6\",\"DeleteDialog\":\"CommentMenu_DeleteDialog__1AU-G\",\"YesButton\":\"CommentMenu_YesButton__PmqGu\",\"NoButton\":\"CommentMenu_NoButton__2NJ_f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Chat\":\"Chat_Chat__3NjUX\",\"OutLeft\":\"Chat_OutLeft__1_mEV\",\"OutRight\":\"Chat_OutRight__YGIUX\",\"NotLoggedInContainer\":\"Chat_NotLoggedInContainer__2Hcrs\",\"NotLoggedInMessage\":\"Chat_NotLoggedInMessage__Bn3g9\",\"InnerContainer\":\"Chat_InnerContainer__rd9e-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatWindow\":\"ChatWindow_ChatWindow__3ZoYy\",\"BigChatWindow\":\"ChatWindow_BigChatWindow__19t_d\",\"SmallChatWindow\":\"ChatWindow_SmallChatWindow__2GHo6\",\"Messages\":\"ChatWindow_Messages__1N3ql\",\"NotEncryptedMessage\":\"ChatWindow_NotEncryptedMessage__bqLT2\",\"Loader\":\"ChatWindow_Loader__2w4-b\",\"NewMessageSeparator\":\"ChatWindow_NewMessageSeparator__2uQ7X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatPrev\":\"ChatPrev_ChatPrev__1lyZi\",\"selected\":\"ChatPrev_selected__y6ntP\",\"Preview\":\"ChatPrev_Preview__1ByQn\",\"ProfilePic\":\"ChatPrev_ProfilePic__1R9OE\",\"Link\":\"ChatPrev_Link__1gyEA\",\"Active\":\"ChatPrev_Active__2SofW\",\"Info\":\"ChatPrev_Info__2XPhd\",\"Name\":\"ChatPrev_Name__11Zqr\",\"ConnectorUp\":\"ChatPrev_ConnectorUp__3UBMQ\",\"ConnectorDown\":\"ChatPrev_ConnectorDown__1juAG\",\"Notifiaction\":\"ChatPrev_Notifiaction__1pdd1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"voting\":\"Voting_voting__3vVRy\",\"up\":\"Voting_up__3cj2v\",\"down\":\"Voting_down__3d4pn\",\"points\":\"Voting_points__34ens\",\"glow\":\"Voting_glow__21-0a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"NeumorphismButton_Button__3Mhi_\",\"Light\":\"NeumorphismButton_Light__1hn8R\",\"Dark\":\"NeumorphismButton_Dark__3fV4M\",\"SubmitComment\":\"NeumorphismButton_SubmitComment__1CjOP\",\"Disabled\":\"NeumorphismButton_Disabled__3xpGV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatPrev\":\"UserPrev_ChatPrev__2Fkpd\",\"ProfilePic\":\"UserPrev_ProfilePic__3_nZY\",\"Link\":\"UserPrev_Link__2yoHm\",\"Active\":\"UserPrev_Active__3CTz3\",\"Preview\":\"UserPrev_Preview__28pMt\",\"Info\":\"UserPrev_Info__2DeeM\",\"Name\":\"UserPrev_Name__21Zdo\",\"ConnectorUp\":\"UserPrev_ConnectorUp__OHqYY\",\"ConnectorDown\":\"UserPrev_ConnectorDown__3dfXw\",\"Notifiaction\":\"UserPrev_Notifiaction__oO-da\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"DropModal_Modal__izsVc\",\"SearchContainer\":\"DropModal_SearchContainer__3meeK\",\"SearchInput\":\"DropModal_SearchInput__1qIWA\",\"SearchIcon\":\"DropModal_SearchIcon__BxKrh\",\"ScrollContainer\":\"DropModal_ScrollContainer__2Un2N\",\"LoaderContainer\":\"DropModal_LoaderContainer__2155I\",\"Spinner\":\"DropModal_Spinner__1SZUx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MenuScreen\":\"MenuScreen_MenuScreen__37x6c\",\"left\":\"MenuScreen_left__2KbP-\",\"right\":\"MenuScreen_right__16duB\",\"LogoutText\":\"MenuScreen_LogoutText__2aVtF\",\"CheckboxText\":\"MenuScreen_CheckboxText__3QIIk\",\"CheckboxContainer\":\"MenuScreen_CheckboxContainer__AE6qE\",\"Dropzone\":\"MenuScreen_Dropzone__2vjFT\",\"ProfilePicPlaceholder\":\"MenuScreen_ProfilePicPlaceholder__1GWyr\",\"ProfilePic\":\"MenuScreen_ProfilePic__2iQ_F\",\"BackButton\":\"MenuScreen_BackButton__1q91L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"Content_Content__3juYp\",\"ContentContainer\":\"Content_ContentContainer__3CNVh\",\"Spinner\":\"Content_Spinner__27jW_\",\"Meme\":\"Content_Meme__1e2JB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PrimaryButton\":\"PrimaryButton_PrimaryButton__2q7QZ\",\"PrimaryButtonFlat\":\"PrimaryButton_PrimaryButtonFlat__36rlY\",\"PrimaryButtonNeumorphism\":\"PrimaryButton_PrimaryButtonNeumorphism__Gt2M2\",\"Disabled\":\"PrimaryButton_Disabled__1O0bV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatInput\":\"ChatForm_ChatInput__1kLXn\",\"TextareaContainer\":\"ChatForm_TextareaContainer__22FgX\",\"Textarea\":\"ChatForm_Textarea__EcqJR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Element\":\"Element_Element__3cgSw\",\"highlight\":\"Element_highlight__32Nsz\",\"Image\":\"Element_Image__2dEuO\",\"Rect\":\"Element_Rect__121rk\",\"text\":\"Element_text__mgt81\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Source\":\"Source_Source__2tzeb\",\"Header\":\"Source_Header__ID_zx\",\"Link\":\"Source_Link__2KUn5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentSection\":\"CommentSection_CommentSection__g3AjZ\",\"comments\":\"CommentSection_comments__2KHFw\",\"ShowMoreComments\":\"CommentSection_ShowMoreComments__3-Tdf\",\"NeuMorphism\":\"CommentSection_NeuMorphism__1Nepv\",\"Spinner\":\"CommentSection_Spinner__2zJe0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Creator\":\"Creator_Creator__12J2i\",\"Content\":\"Creator_Content__38q3Z\",\"Blinking\":\"Creator_Blinking__3a5Xa\",\"blinker\":\"Creator_blinker__u2hUA\",\"OutLeft\":\"Creator_OutLeft__1ttKS\",\"OutLeftLeft\":\"Creator_OutLeftLeft__2SQ0t\",\"SendingWrapper\":\"Creator_SendingWrapper__cUrbo\",\"Form\":\"Creator_Form__2GT40\",\"SendButton\":\"Creator_SendButton__pJL7m\",\"ErrorMessage\":\"Creator_ErrorMessage__1iWUe\",\"Checkmark\":\"Creator_Checkmark__20ycc\",\"Spinner\":\"Creator_Spinner__dq7fA\",\"Sending\":\"Creator_Sending__3AyYF\",\"Disabled\":\"Creator_Disabled__sZMz-\",\"TakTakTak\":\"Creator_TakTakTak__3tHwA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selected\":\"Branches_selected__69WnF\",\"Root\":\"Branches_Root__VPCsi\"};","module.exports = __webpack_public_path__ + \"static/media/Boat.3dbd1766.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"HL\":\"Line_HL__3cneY\",\"VL\":\"Line_VL__327lv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MenuItem\":\"MenuItem_MenuItem__7Q6zk\",\"Invalid\":\"MenuItem_Invalid__vbVHW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Feedback\":\"Feedback_Feedback__OO24w\",\"Link\":\"Feedback_Link__2Kk4p\"};","module.exports = __webpack_public_path__ + \"static/media/TrashOpen.72dbd9cc.svg\";","module.exports = __webpack_public_path__ + \"static/media/TrashClosed.031e471e.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AuthorPic\":\"AuthorPic_AuthorPic__1aedT\",\"NeuMorphism\":\"AuthorPic_NeuMorphism__2A3xt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__3j6VK\"};","module.exports = __webpack_public_path__ + \"static/media/RiverWhite.be3b1447.svg\";","module.exports = __webpack_public_path__ + \"static/media/river.8e9135cd.svg\";","module.exports = __webpack_public_path__ + \"static/media/RiverGlow.af772977.svg\";","module.exports = __webpack_public_path__ + \"static/media/Connector.40fb2d2c.svg\";","module.exports = __webpack_public_path__ + \"static/media/stupidfuckingface.68ec9ee5.jpeg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SelectionFrame\":\"SelectionFrame_SelectionFrame__1CYUc\"};","module.exports = __webpack_public_path__ + \"static/media/ChrisDrunk.7d51e42e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/taktaktak.ef08bdad.jpg\";","module.exports = __webpack_public_path__ + \"static/media/ProfilePicPlaceholder.571b6741.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout.1120a8e8.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"draggingOverlay\":\"ImageDragNDrop_draggingOverlay__1-Q8_\"};","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgArrowBack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 12,\n    height: 20,\n    viewBox: \"0 0 12 20\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M11.835 1.87001L10.055 0.100006L0.165039 10L10.065 19.9L11.835 18.13L3.70504 10L11.835 1.87001Z\",\n    fill: \"#ffffff\",\n    fillOpacity: 0.44\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgArrowBack);\nexport default __webpack_public_path__ + \"static/media/arrow_back.eaea21b2.svg\";\nexport { ForwardRef as ReactComponent };","import * as actionTypes from './actionTypes';\n\nexport const goDark = () => {\n    return {\n        type: actionTypes.GO_DARK\n    }\n}\n\nexport const goLight = () => {\n    return {\n        type: actionTypes.GO_LIGHT\n    }\n}\n\nexport const switchTab = (tab) => {\n    return {\n        type: actionTypes.SWITCH_TAB,\n        tab: tab\n    }\n}\n\nexport const openDropModal = () => {\n    return {\n        type: actionTypes.OPEN_DROP_MODAL\n    }\n}\n\nexport const closeDropModal = () => {\n    return {\n        type: actionTypes.CLOSE_DROP_MODAL\n    }\n}\n\nexport const openMenu = () => {\n    return {\n        type: actionTypes.OPEN_MENU\n    }\n}\n\nexport const closeMenu = () => {\n    return {\n        type: actionTypes.CLOSE_MENU\n    }\n}\n\nexport const openBackdrop = (zIndex) => {\n    return {\n        type: actionTypes.OPEN_BACKDROP,\n        zIndex: zIndex\n    }\n}\n\nexport const closeBackdrop = () => {\n    return {\n        type: actionTypes.CLOSE_BACKDROP\n    }\n}\n\nexport const closeNewChatModal = () => {\n    return {\n        type: actionTypes.CLOSE_NEW_CHAT_MODAL\n    }\n}\n\nexport const openNewChatModal = () => {\n    return {\n        type: actionTypes.OPEN_NEW_CHAT_MODAL\n    }\n}\n\nexport const setWindowWidth = (width) => {\n    return {\n        type: actionTypes.SET_WINDOW_WIDTH,\n        width\n    }\n}\n\nexport const openSignup = () => {\n    return {\n        type: actionTypes.OPEN_SIGNUP\n    }\n}\n\nexport const openLogin = () => {\n    return {\n        type: actionTypes.OPEN_LOGIN\n    }\n}\n\nexport const setUIStateonLogin = () => {\n    return {\n        type: actionTypes.SET_UI_STATE_ON_LOGIN\n    }\n}\n\nexport const setUIStateonLogout = () => {\n    return {\n        type: actionTypes.SET_UI_STATE_ON_LOGOUT\n    }\n}\n\nexport const addToMenuStack = (next) => {\n    return {\n        type: actionTypes.ADD_TO_MENU_STACK, \n        next\n    }\n}\n\nexport const popFromMenuStack = () => {\n    return {\n        type: actionTypes.POP_FROM_MENU_STACK\n    }\n}\n\nexport const moveRight = () => {\n    return {\n        type: actionTypes.MOVE_MENU_RIGHT\n    }\n}","\n// UI \n    export const GO_DARK = 'GO_DARK';\n    export const GO_LIGHT = 'GO_LIGHT';\n\n    export const SWITCH_TAB = 'SWITCH_TAB';\n\n    export const OPEN_DROP_MODAL = 'OPEN_DROP_MODAL';\n    export const CLOSE_DROP_MODAL = 'CLOSE_DROP_MODAL';\n\n    export const OPEN_MENU = 'OPEN_MENU';\n    export const CLOSE_MENU = 'CLOSE_MENU';\n\n    export const OPEN_AUTH = 'OPEN_AUTH';\n    export const CLOSE_AUTH = 'CLOSE_AUTH';\n\n    export const OPEN_BACKDROP = 'OPEN_BACKDROP';\n    export const CLOSE_BACKDROP = 'CLOSE_BACKDROP';\n\n    export const OPEN_NEW_CHAT_MODAL = 'OPEN_NEW_CHAT_MODAL';\n    export const CLOSE_NEW_CHAT_MODAL = 'CLOSE_NEW_CHAT_MODAL';\n\n    export const SET_WINDOW_WIDTH = 'SET_WINDOW_WIDTH';\n\n    export const OPEN_SIGNUP = 'OPEN_SIGNUP';\n    export const OPEN_LOGIN = 'OPEN_LOGIN';\n\n    export const SET_UI_STATE_ON_LOGIN = 'SET_UI_STATE_ON_LOGIN';\n    export const SET_UI_STATE_ON_LOGOUT = 'SET_UI_STATE_ON_LOGOUT';\n\n    export const ADD_TO_MENU_STACK = 'ADD_TO_MENU_STACK';\n    export const POP_FROM_MENU_STACK = 'POP_FROM_MENU_STACK'; \n    export const MOVE_MENU_RIGHT = 'MOVE_MENU_RIGHT';\n\n// USER\n\n    export const SET_ANONYMOUS_ID = 'SET_ANONYMOUS_ID'; \n\n    export const MESSAGES_READ_START = 'MESSAGES_READ_START';\n    export const MESSAGES_READ_SUCCESS = 'MESSAGES_READ_SUCCESS'; \n    export const MESSAGES_READ_FAILED = 'MESSAGES_READ_FAILED';\n\n    export const LOGIN_START = 'LOGIN_START';\n    export const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\n    export const LOGIN_FAIL = 'AUTH_FAIL';\n\n    export const SIGNUP_START = 'SIGNUP_START';\n    export const SIGNUP_SUCCESS = 'SIGNUP_SUCCESS';\n    export const SIGNUP_FAIL ='SIGNUP_FAIL';\n\n    export const CHECK_EMAIL_TAKEN_START = 'CHECK_EMAIL_TAKEN_START';\n    export const CHECK_EMAIL_TAKEN_SUCCESS = 'CHECK_EMAIL_TAKEN_SUCCESS';\n    export const CHECK_EMAIL_TAKEN_FAILED = 'CHECK_EMAIL_TAKEN_FAILED';\n    export const EMAIL_ALREADY_TAKEN = 'EMAIL_ALREADY_TAKEN'; \n\n    export const CHECK_HANDLE_TAKEN_START = 'CHECK_HANDLE_TAKEN_START';\n    export const CHECK_HANDLE_TAKEN_SUCCESS = 'CHECK_HANDLE_TAKEN_SUCCESS';\n    export const CHECK_HANDLE_TAKEN_FAILED = 'CHECK_HANDLE_TAKEN_FAILED';\n    export const HANDLE_ALREADY_TAKEN = 'HANDLE_ALREADY_TAKEN';\n\n    export const SIGNUP = 'SIGNUP';\n    export const LOGOUT = 'LOGOUT';\n    export const CHECK_EMAIL = 'CHECK_EMAIL';\n    export const CHECK_HANDLE = 'CHECK_HANDLE';\n\n    export const REMOVE_CHAT_NOTIFICATIONS = 'REMOVE_CHAT_NOTIFICATIONS';\n    export const UPDATE_NOTIFICATIONS = 'UPDATE_NOTIFICATIONS';\n\n    export const SUBSCRIBE_EMAIL_LIST_START = 'SUBSCRIBE_EMAIL_LIST_SUCCESS';\n    export const SUBSCRIBE_EMAIL_LIST_SUCCESS = 'SUBSCRIBE_EMAIL_LIST_SUCCESS';\n    export const SUBSCRIBE_EMAIL_LIST_FAILED = 'SUBSCRIBE_EMAIL_LIST_FAILED'; \n\n    export const DELETE_NOTIFICATION_START = 'DELETE_NOTIFICATION_START';\n    export const DELETE_NOTIFICATION_SUCCESS = 'DELETE_NOTIFICATION_SUCCESS';\n    export const DELETE_NOTIFICATION_FAILED = 'DELETE_NOTIFICATION_FAILED';\n\n    export const ADD_MESSAGE_TO_BUFFER = 'ADD_MESSAGE_TO_BUFFER';\n\n    export const SEND_MESSAGE_FROM_BUFFER_START = 'SEND_MESSAGE_FROM_BUFFER_START';\n    export const SEND_MESSAGE_FROM_BUFFER_SUCCESS = 'SEND_MESSAGE_FROM_BUFFER_SUCCESS';\n    export const SEND_MESSAGE_FROM_BUFFER_FAILED = 'SEND_MESSAGE_FROM_BUFFER_FAILED';\n\n\n// STREAM\n    export const SWIPE_START = 'SWIPE_START';\n    export const SWIPE_SUCCESS = 'SWIPE_SUCCESS';\n    export const SWIPE_FAILED = 'SWIPE_FAILED';\n    \n    export const SELECT_DROPTARGET = 'SELECT_DROPTARGET';\n    export const UNSELECT_DROPTARGET = 'UNSELECT_DROPTARGET';\n    export const RESET_DROP_TARGETS = 'RESET_DROP_TARGETS';\n\n    export const SEND_COMMENT_START = 'SEND_COMMENT_START';\n    export const SEND_COMMENT_SUCCESS = 'SEND_COMMENT_SUCCESS';\n    export const SEND_COMMENT_FAILED = 'SEND_COMMENT_FAILED';\n\n    export const SEND_SUBCOMMENT_START = 'SEND_SUBCOMMENT_START'; \n    export const SEND_SUBCOMMENT_SUCCESS = 'SEND_SUBCOMMENT_SUCCESS'; \n    export const SEND_SUBCOMMENT_FAILED = 'SEND_SUBCOMMENT_FAILED';\n\n    export const ADD_SUBCOMMENT = 'ADD_SUBCOMMENT';\n    export const DELETE_COMMENT = 'DELETE_COMMENT';\n    export const SELECT_COMMENT = 'SELECT_COMMENT';\n    export const UNSELECT_COMMENT = 'UNSELECT_COMMENT';\n\n    export const FETCH_IDS_START = 'FETCH_IDS_START';\n    export const SET_IDS = 'SET_IDS';\n    export const FETCH_IDS_FAILED = 'FETCH_IDS_FAILED';\n\n    export const FETCH_DROP_START = 'FETCH_DROP_START';\n    export const FETCH_DROP_SUCCESS = 'FETCH_DROP_SUCCESS';\n    export const FETCH_DROP_FAILED = 'FETCH_DROP_FAILED';\n    \n    export const FETCH_DROPS_START = 'FETCH_DROPS_START';\n    export const FETCH_DROPS_FAILED = 'FETCH_DROPS_FAILED';\n    export const SET_DROPS = 'SET_DROPS';\n    export const SET_DROP = 'SET_DROP';\n\n    // export const SET_COMMENTS = 'SET_COMMENTS';\n    // export const FETCH_COMMENTS_FAILED = 'FETCH_COMMENTS_FAILED';\n    export const MEME_LOADED = 'MEME_LOADED';\n    export const COMMENT_SAVED ='COMMENT_SAVED';\n    export const POST_COMMENT_FAILED = 'POST_COMMENT_FAILED';\n    export const SELECT_SUBCOMMENT = 'SELECT_SUBCOMMENT';\n    export const UNSELECT_SUBCOMMENT = 'UNSELECT_SUBCOMMENT';\n    export const SET_DROPS_NOT_LOADED = 'SET_DROPS_NOT_LOADED';\n\n    export const DELETE_COMMENT_START = 'DELETE_COMMENT_START';\n    export const DELETE_COMMENT_SUCCESS = 'DELETE_COMMENT_SUCCESS';\n    export const DELETE_COMMENT_FAILED = 'DELTE_COMMENT_FAILED';\n\n    export const FETCH_MEME_START = 'FETCH_MEME_START';\n    export const FETCH_MEME_SUCCESS = 'FETCH_MEME_SUCCESS';\n    export const FETCH_MEME_FAILED = 'FETCH_MEME_FAILED';\n\n\n// CHAT\n    export const ADD_NEW_USERS = 'ADD_NEW_USERS';\n    export const SET_CHAT_STATE_ON_LOGIN ='SET_CHAT_STATE_ON_LOGIN';\n    export const CHANGE_CHAT = 'CHANGE_CHAT';\n    export const SET_CHAT_FORM_HEIGHT = 'SET_CHAT_FORM_HEIGHT';\n    export const SET_CHAT_INPUT = 'SET_CHAT_INPUT';\n    export const SAVE_CHAT_INPUT = 'SAVE_CHAT_INPUT'; \n    export const FETCH_ALL_USERS_START = 'FETCH_ALL_USERS_START';\n    export const FETCH_ALL_USERS_FAILED = 'FETCH_ALL_USERS_FALIED';\n    export const FETCH_ALL_USERS_SUCCESS = 'FETCH_ALL_USERS_SUCCESS';\n    export const CHANGE_FORM_HEIGHT = 'CHANGE_FORM_HEIGHT';\n    export const CREATE_DUMMY_CHAT = 'CREATE_DUMMY_CHAT';\n    export const CHANGE_CHAT_INPUT = 'CHANGE_CHAT_INPUT';\n    export const OPEN_CHRIS_CHAT = 'OPEN_CHRIS_CHAT'; \n\n    export const SEND_NEW_CHAT_START = 'SEND_NEW_CHAT_START';\n    export const SEND_NEW_CHAT_SUCCESS = 'SEND_NEW_CHAT_SUCCESS'\n    export const SEND_NEW_CHAT_FAILED = 'SEND_NEW_CHAT_FAILED';\n\n    export const SEND_MESSAGE_START = 'SEND_MESSAGE_START';\n    export const SEND_MESSAGE_SUCCESS = 'SEND_MESSAGE_SUCCESS';\n    export const SEND_MESSAGE_FAILED = 'SEND_MESSAGE_FAILED';\n\n    export const SEND_DROP_START = 'SEND_DROP_START';\n    export const SEND_DROP_SUCCESS = 'SEND_DROP_SUCCESS';\n    export const SEND_DROP_FAILED = 'SEND_DROP_FAILED';\n\n    export const FETCH_FRIENDS_START = 'FETCH_FRIENDS_START';\n    export const FETCH_FRIENDS_SUCCESS = 'FETCH_FRIENDS_SUCCESS';\n    export const FETCH_FRIENDS_FAILED = 'FETCH_FRIENDS_FAILED'; \n\n    export const FETCH_FIREND_REQUESTS_START = 'FETCH_FRIEND_REQUESTS_START';    \n    export const FETCH_FIREND_REQUESTS_SUCCESS = 'FETCH_FRIEND_REQUESTS_SUCCESS';    \n    export const FETCH_FIREND_REQUESTS_FAILED = 'FETCH_FRIEND_REQUESTS_FAILED';    \n\n    export const SEND_FRIEND_REQUEST_START = 'SEND_FRIEND_REQUEST_START';\n    export const SEND_FRIEND_REQUEST_SUCCESS = 'SEND_FRIEND_REQUEST_SUCCESS';\n    export const SEND_FRIEND_REQUEST_FAILED = 'SEND_FRIEND_REQUEST_FAILED';\n\n    export const ACCEPT_FRIEND_REQUEST_START = 'ACCEPT_FRIEND_REQUEST_START';\n    export const ACCEPT_FRIEND_REQUEST_SUCCESS = 'ACCEPT_FRIEND_REQUEST_SUCCESS';\n    export const ACCEPT_FRIEND_REQUEST_FAILED = 'ACCEPT_FRIEND_REQUEST_FAILED';\n\n    export const FETCH_CHAT_START = 'FETCH_CHAT_START';\n    export const FETCH_CHAT_SUCCESS = 'FETCH_CHAT_SUCCESS';\n    export const FETCH_CHAT_FAILED = 'FETCH_CHAT_FALIED';\n\n    export const FETCH_CHATS_START = 'FETCH_CHATS_START';\n    export const FETCH_CHATS_SUCCESS = 'FETCH_CHATS_SUCCESS';\n    export const FETCH_CHATS_FAILED = 'FETCH_CHATS_FAILED';\n\n    export const FETCH_NEW_MESSAGES_START = 'FETCH_NEW_MESSAGES_START';\n    export const FETCH_NEW_MESSAGES_SUCCESS = 'FETCH_NEW_MESSAGES_SUCCESS';\n    export const FETCH_NEW_MESSAGES_FAILED = 'FETCH_NEW_MESSAGES_FAILED';\n\n    export const SEND_FIRST_MESSAGE_NEW_CHAT_START = 'SEND_FIRST_MESSAGE_NEW_CHAT_START'; \n    export const SEND_FIRST_MESSAGE_NEW_CHAT_SUCCESS = 'SEND_FIRST_MESSAGE_NEW_CHAT_SUCCESS'; \n    export const SEND_FIRST_MESSAGE_NEW_CHAT_FAILED = 'SEND_FIRST_MESSAGE_NEW_CHAT_FAILED'; \n    \n    export const CHANGE_SHOULD_DELETE_INPUT = 'CHANGE_SHOULD_DELETE_INPUT';\n    export const CHECK_AND_ADD_NEW_MESSAGES = 'CHECK_AND_ADD_NEW_MESSAGES';\n\n    export const FETCH_NEW_CHAT_START = 'FETCH_NEW_CHAT_START';\n    export const FETCH_NEW_CHAT_SUCCESS = 'FETCH_NEW_CHAT_SUCCESS';\n    export const FETCH_NEW_CHAT_FAILED = 'FETCH_NEW_CHAT_FAILED';\n","import axios from 'axios';\n\nimport { closeNewChatModal } from './UIActions'\n\n\nimport * as actionTypes from '../actions/actionTypes';\n\nexport const setChatStateOnLogin = (userdata) => {\n    return {\n        type: actionTypes.SET_CHAT_STATE_ON_LOGIN,\n        userdata\n    }\n}\n\n//--------- FETCH CHAT -----------------------------------------\n\nexport const fetchChat = (chatId, token) => {\n    return dispatch => {\n        dispatch(fetchChatStart())\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.get(`/api/chat/${chatId}`, headers)\n        .then(response => {\n            console.log(response);\n            dispatch(fetchChatSuccess(response.data.chat))\n        }).catch(err => {\n            console.log(err)\n            dispatch(fetchChatFailed())\n        })\n    }\n}\n\nexport const fetchChatStart = () => {\n    return {\n        type: actionTypes.FETCH_CHAT_START,\n    }\n}\n\nexport const fetchChatSuccess = () => {\n    return {\n        type: actionTypes.FETCH_CHAT_SUCCESS,\n    }\n}\n\nexport const fetchChatFailed = () => {\n    return {\n        type: actionTypes.FETCH_CHAT_FAILED,\n    }\n}\n\n//--------- FETCH CHATS -----------------------------------------\n\nexport const fetchChats = (token, userId) => {\n    return dispatch => {\n        dispatch(fetchChatsStart())\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.get(`/api/chat/chats`, headers)\n        .then(response => {\n            dispatch(fetchChatsSuccess(response.data, userId))\n        }).catch(err => {\n            console.log(err)\n            dispatch(fetchChatsFailed())\n        })\n    }\n}\n\nexport const fetchChatsStart = () => {\n    return {\n        type: actionTypes.FETCH_CHATS_START,\n    }\n}\n\nexport const fetchChatsSuccess = (chats, userId) => {\n    return {\n        type: actionTypes.FETCH_CHATS_SUCCESS,\n        chats, \n        userId\n    }\n}\n\nexport const fetchChatsFailed = () => {\n    return {\n        type: actionTypes.FETCH_CHATS_FAILED,\n    }\n}\n\n//--------- FETCH FRIENDS ----------------------------------------------------------\n\nexport const fetchFriends = (ids, token) => {\n    return dispatch => {\n        dispatch(fetchFriendsStart());\n        const body = { userIds: ids }\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.post('/api/users/userdata', body, headers)\n        .then(response => {\n            dispatch(addNewUsers(response.data));\n            dispatch(fetchFriendsSuccess(response.data));\n        }).catch(err => {\n            dispatch(fetchFriendsFailed(err))\n        })\n    }\n}\n\nexport const fetchFriendsStart = () => {\n    return {\n        type: actionTypes.FETCH_FRIENDS_START,\n    }\n}\n\nexport const fetchFriendsSuccess = (friends) => {\n    return {\n        type: actionTypes.FETCH_FRIENDS_SUCCESS,\n        friends\n    }\n}\n\nexport const fetchFriendsFailed = () => {\n    return {\n        type: actionTypes.FETCH_IDS_FAILED\n    }\n}\n\n//--------- FETCH ALL USERS ---------------------------------------------------\n\nexport const fetchAllUsers = () => {\n    return dispatch => {\n        dispatch(fetchAllUsersStart());\n        axios.get('/api/users')\n        .then(response => {\n            dispatch(addNewUsers(response.data));\n            dispatch(fetchAllUsersSuccess(response.data))\n        }).catch(err => {\n            console.log(err);\n            dispatch(fetchAllUsersFailed())\n        })\n    }\n}\n\nexport const fetchAllUsersStart = () => {\n    return {\n        type: actionTypes.FETCH_ALL_USERS_START,\n    }\n}\n\nexport const fetchAllUsersSuccess = (users) => {\n    return {\n        type: actionTypes.FETCH_ALL_USERS_SUCCESS,\n        users, \n    }\n}\n\nexport const fetchAllUsersFailed = () => {\n    return {\n        type: actionTypes.FETCH_ALL_USERS_FAILED\n    }\n}\n\n//--------- SEND MESSAGE -------------------------------------------------------\n\nexport const sendTextMessage = (chatId, text, userId) => {\n    return dispatch => {\n        const randId = `${Date.now()}`;\n        dispatch(sendMessageStart(chatId, text, randId, userId));\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const url = `/api/chat/${chatId}/textMessage`;\n        const body = { \n            type: 'text',\n            message: { text }\n        };\n        axios.post(url, body, headers)\n        .then(response => {\n            dispatch(sendMessageSuccess(chatId, response.data, randId));\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch(sendMessageFailed(chatId, randId))\n        })\n    }\n}\n\nexport const sendMessageStart = (chatId, text, randId, userId) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_START,\n        chatId, \n        text, \n        randId,\n        userId\n    }\n}\n\nexport const sendMessageSuccess = (chatId, message, randId) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_SUCCESS,\n        chatId,\n        message, \n        randId\n    }\n}\n\nexport const sendMessageFailed = (chatId, randId) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_FAILED,\n        chatId,\n        randId\n    }\n}\n\nexport const addMessageToBuffer = (dummyChatId, text, userId) => {\n    return {\n        type: actionTypes.ADD_MESSAGE_TO_BUFFER, \n        dummyChatId, \n        dummyMessageId: `${Date.now()}`,\n        text, \n        userId,\n    }\n}\n\nexport const sendMessageFromBuffer = (id, chatId, dummyMessageId, text) => {\n    return dispatch => {    \n        dispatch(sendMessageFromBufferStart(id));\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const url = `/api/chat/${chatId}/textMessage`;\n        const body = { \n            type: 'text',\n            message: { text }\n        };\n        axios.post(url, body, headers)\n        .then(response => {\n            dispatch(sendMessageFromBufferSuccess(id, response.data));\n        }).catch(err => {\n            dispatch(sendMessageFromBufferFailed(id))\n        })\n    }\n}\n\nexport const sendMessageFromBufferStart = (id) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_FROM_BUFFER_START,\n        id\n    }\n}\n\nexport const sendMessageFromBufferSuccess = (id, response) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_FROM_BUFFER_SUCCESS,\n        id, \n        response\n    }\n}\n\nexport const sendMessageFromBufferFailed = (id) => {\n    return {\n        type: actionTypes.SEND_MESSAGE_FROM_BUFFER_FAILED,\n        id\n    }\n}\n\n//--------- SEND MESSAGES -------------------------------------------------\n\nexport const sendDropStart = (chatIds, message) => {\n    return {\n        type: actionTypes.SEND_DROP_START,\n        chatIds, \n        message\n    }\n}\n\nexport const sendDropSuccess = (messageReplacements, chatReplacements, randId) => {\n    return {\n        type: actionTypes.SEND_DROP_SUCCESS,\n        messageReplacements,\n        chatReplacements,\n        randId\n    }\n}\n\nexport const sendDropFailed = () => {\n    return {\n        type: actionTypes.SEND_DROP_FAILED, \n\n    }\n}\n\n\n//--------- SEND FIRST MESSAGE IN NEW CHAT --------------------------------\n\nexport const sendFirstMessageNewChat = (dummyChatId, self, chatPartner, text) => {\n    return dispatch => {\n        const randId = Date.now();\n        dispatch(sendFirstMessageNewChatStart(dummyChatId, randId, text, self));\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const body = {\n             members: [self.userId, chatPartner.userId],\n            message: text\n        }\n        axios.post('/api/chat', body, headers)\n        .then(res => {\n            console.log(res.data);\n            dispatch(sendFirstMessageNewChatSuccess(dummyChatId, randId, res.data, self, chatPartner))\n        }).catch(err => {\n            console.log(\"FIRST MESSAGE NEW CAHT ERROR\");\n            console.log(err);\n            dispatch(sendFirstMessageNewChatFailed())\n        })\n    }\n}\n\nexport const sendFirstMessageNewChatStart = (dummyChatId, randId, message, self) => {\n    return {\n        type: actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_START,\n        dummyChatId,\n        randId,\n        message,\n        self,\n    }\n}\n\nexport const sendFirstMessageNewChatSuccess = (dummyChatId, randId, createdChat, self, chatPartner) => {\n    return {\n        type: actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_SUCCESS,\n        dummyChatId,\n        randId,\n        createdChat,\n        self,\n        chatPartner\n    }\n}\n\nexport const sendFirstMessageNewChatFailed = () => {\n    return {\n        type: actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_FAILED,\n    }\n}\n\n\n//--------- SEND FRIEND REQUEST -------------------------------------------\n\nexport const sendFriendRequest = (user) => {\n    return dispatch => {\n        console.log(\"Sending Friend Request\");\n        dispatch(sendFriendRequestStart(user))\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.post('/api/users/addFriend', { friendId: user.userId }, headers)\n        .then(res => {\n            dispatch(sendFriendRequestSuccess(user, res.data.chat));\n        }).catch(err => {\n            console.log(err)\n            dispatch(sendFriendRequestFailed(user))\n        })\n    }\n}\n\nexport const sendFriendRequestStart = (user) => {\n    return {\n        type: actionTypes.SEND_FRIEND_REQUEST_START,\n        user\n    }\n}\n\nexport const sendFriendRequestSuccess = (user, chat) => {\n    return {\n        type: actionTypes.SEND_FRIEND_REQUEST_SUCCESS,\n        user,\n        chat\n    }\n}\n\nexport const sendFriendRequestFailed = (user) => {\n    return {\n        type: actionTypes.SEND_FRIEND_REQUEST_FAILED,\n        user\n    }\n}\n\n//--------- ACCEPT FIREND REQUEST -----------------------------------------\n\nexport const acceptFriendRequest = (user, existingChatId) => {\n    return dispatch => {\n        dispatch(acceptFriendRequestStart(user));\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const body = { \n            friendId: user.userId,\n            existingChatId\n        };\n        axios.post('/api/users/acceptFriendRequest', body, headers)\n        .then(res => {\n            dispatch(acceptFriendRequestSuccess(res.data.friend, res.data.chat, existingChatId))\n        }).catch(err => {\n            console.log(err)\n            dispatch(acceptFriendRequestFailed(user))\n        })\n    }\n}\n\nexport const acceptFriendRequestStart = (user) => {\n    return {\n        type: actionTypes.ACCEPT_FRIEND_REQUEST_START,\n        user\n    }\n}\n\nexport const acceptFriendRequestSuccess = (friend, chat) => {\n    return {\n        type: actionTypes.ACCEPT_FRIEND_REQUEST_SUCCESS,\n        friend, \n        chat\n    }\n}\n\nexport const acceptFriendRequestFailed = (user) => {\n    return {\n        type: actionTypes.ACCEPT_FRIEND_REQUEST_FAILED,\n        user\n    }\n}\n\n//---- CHAT FORM INPUT ----------------------------------------------------\n\nexport const saveChatInput = (chatId, value) => {\n    return {\n        type: actionTypes.SAVE_CHAT_INPUT,\n        chatId,\n        value\n    }\n}\n\nexport const setChatFormHeight = (height) => {\n    return {\n        type: actionTypes.SET_CHAT_FORM_HEIGHT,\n        height\n    }\n}\n\nexport const setChatInput = (value) => {\n    return {\n        type: actionTypes.SET_CHAT_INPUT,\n        value\n    }\n}\n\nexport const changeFormHeight = (height) => {\n    return {\n        type: actionTypes.CHANGE_FORM_HEIGHT,\n        height\n    }\n}\n\nexport const chatInputChangeHandler = (value) => {\n    return {\n        type: actionTypes.CHANGE_CHAT_INPUT,\n        value\n    }\n}\n\n\n//--------- NEW CHAT -----------------------------------------------------------\n\n// export const sendNewChat = (friendId, message) => {\n//     return dispatch => {\n//         dispatch(sendNewChatStart());\n//         const body = {\n//             group: false,\n//             members: [friendId],\n//             message: message\n//         };\n//         const token = localStorage.getItem('token');\n//         const headers = { headers: { authorization: `Bearer ${token}` } }  \n//         axios.post('api/chat', body, headers)\n//         .then(res => {\n//             dispatch(sendNewChatSuccess());\n//         }).catch(err => {\n//             dispatch(sendNewChatFailed());\n//             console.log(err)\n//         })\n//     }\n// }\n\n// export const sendNewChatStart = () => {\n//     return {\n//         type: actionTypes.SEND_NEW_CHAT_START,\n//     }\n// }\n\n// export const sendNewChatSuccess = () => {\n//     return {\n//         type: actionTypes.SEND_MESSAGE_SUCCESS,\n//     }\n// }\n\n// export const sendNewChatFailed = () => {\n//     return {\n//         type: actionTypes.SEND_NEW_CHAT_FAILED,\n//     }\n// }\n\n//--------- ADD DUMMY CAHT -----------------------------------------------------\n\nexport const newChat = (chatId, chatPartner, self) => {\n    return dispatch => {\n        if(chatId){\n            dispatch(changeChat(chatId));\n            document.getElementById('chatForm').focus();\n        } else {\n            dispatch(createDummyChat(chatPartner, self));\n        }\n        dispatch(closeNewChatModal())\n    }\n}\n\nexport const changeChat = (chatId) => {\n    localStorage.setItem('currentChatId', chatId);\n    return {\n        type: actionTypes.CHANGE_CHAT,\n        chatId, \n    }\n}\n\nexport const createDummyChat = (chatPartner, self) => {\n    const dummyChatId = 'dummy' + chatPartner.userId\n    localStorage.setItem('currentChatId', dummyChatId);\n    return {\n        type: actionTypes.CREATE_DUMMY_CHAT,\n        chatPartner, \n        self\n    }\n}\n\n\n\n//--------- RESET CHAT -----------------------------------------------------\n\n\nexport const addNewUsers = (users) => {\n    return {\n        type: actionTypes.ADD_NEW_USERS,\n        users\n    }\n}\n\n\n//--------- FETCH NEW MESSAGES -----------------------------------------------------\n\nexport const fetchNewMessages = () => {\n    return dispatch => {\n        dispatch(fetchNewMessagesStart());\n        axios.get()\n        .then(res => {\n            dispatch(fetchNewMessagesSuccess());\n        }).catch(err => {\n            dispatch(fetchNewMessagesFailed());\n        })\n    }\n}\n\nexport const fetchNewMessagesStart = () => {\n    return {\n        type: actionTypes.FETCH_NEW_MESSAGES_START,\n    }\n}\n\nexport const fetchNewMessagesSuccess = () => {\n    return {\n        type: actionTypes.FETCH_NEW_MESSAGES_SUCCESS,\n    }\n}\n\nexport const fetchNewMessagesFailed = () => {\n    return {\n        type: actionTypes.FETCH_NEW_MESSAGES_FAILED,\n    }\n}\n\n\nexport const checkAndAddNewMessages = (notifications) => {\n    return {\n        type: actionTypes.CHECK_AND_ADD_NEW_MESSAGES, \n        notifications\n    }\n}\n\nexport const fetchNewChatStart = () => {\n    return {\n        type: actionTypes.FETCH_NEW_CHAT_START,\n    }\n}\n\nexport const fetchNewChatSuccess = (chat) => {\n    return {\n        type: actionTypes.FETCH_NEW_CHAT_SUCCESS,\n        chat\n    }\n}\n\nexport const fetchNewChatFailed = () => {\n    return {\n        type: actionTypes.FETCH_NEW_CHAT_FAILED,\n    }\n}\n\nexport const openChrisChat = (self) => {\n    return {\n        type: actionTypes.OPEN_CHRIS_CHAT,\n        self\n    }\n}\n\n","import axios from 'axios';\n\nimport { closeDropModal, switchTab } from './UIActions';\nimport { sendDropStart, sendDropSuccess, sendDropFailed} from './chatActions';\n\nimport * as actionTypes from './actionTypes';\n\n//-------- SWIPE  -----------------------------------------------------------------\n\nexport const swipe = (dir, dropId, anonymousId ) => {\n    console.log('dir' , dir);\n    console.log('anonymousId', anonymousId);\n    return dispatch => {\n        dispatch(swipeStart(dir)); \n        if(!dropId.startsWith('no more')){\n            const url = `/api/drop/${dropId}/swipe`;\n            const token = localStorage.getItem('token');\n            const body = { like: dir === 'right', anonymousId };\n            const headers = token ? { headers: { authorisation : `Bearer ${token}` } } : null;\n            console.log(headers);\n            axios.post(url, body, headers )\n            .then(res => {\n                console.log(res);\n                dispatch(swipeSuccess()); \n            })\n            .catch(err => {\n                console.log(err);\n                dispatch(swipeFailed());\n            })\n        }\n\n    }\n}\n\nexport const swipeStart = (dir) => {\n    return {\n        type: actionTypes.SWIPE_START,\n        dir: dir\n    }\n}\n\nexport const swipeSuccess = () => {\n    return {\n        type: actionTypes.SWIPE_SUCCESS\n    }\n}\n\nexport const swipeFailed = () => {\n    return {\n        type: actionTypes.SWIPE_FAILED\n    }\n}\n\n//-------- FETCH IDS -----------------------------------------------------------------\n\nexport const fetchIds = (token) => {\n    return dispatch => {\n        dispatch(fetchIdsStart())\n        const headers = token ? { authorization: 'Bearer ' + token } : null\n        axios.get('/api/drop/ids', headers )\n        .then(res => {\n            dispatch(setIds(res.data))\n            dispatch(fetchDrops(res.data))\n        })\n        .catch(err => {\n            dispatch(fetchIdsFailed())\n        })\n    }\n}\n\nexport const fetchIdsStart = () => {\n    return {\n        type: actionTypes.FETCH_IDS_START\n    }\n}\n\nexport const setIds = (ids) => {\n    return {\n        type: actionTypes.SET_IDS,\n        ids: ids\n    }\n}\n\nexport const fetchIdsFailed = () => {\n    return {\n        type: actionTypes.FETCH_IDS_FAILED\n    }\n}\n\n//-------- FETCH DROPS -----------------------------------------------------------------\n\nexport const fetchDrops = (ids) => {\n    return dispatch => {\n        dispatch(fetchDropsStart())\n        const headers = {};\n        const body = { ids: ids }\n        axios.post('/api/drop/drops', body, headers)\n        .then(res => {\n            dispatch(setDrops(res.data))\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch(fetchDropsFailed())\n        })\n    }\n}\n\nexport const fetchDropsStart  = () => {\n    return {\n        type: actionTypes.FETCH_DROPS_START\n    }\n}\n\nexport const setDrops  = (drops) => {\n    return {\n        type: actionTypes.SET_DROPS,\n        drops\n    }\n}\n\nexport const fetchDropsFailed  = (drops) => {\n    return {\n        type: actionTypes.FETCH_DROP_FAILED\n    }\n}\n\n//-------- SELECT COMMENT -------------------------------------------------------------------\n\nexport const selectComment = (commentId, path) => {\n    return {\n        type: actionTypes.SELECT_COMMENT,\n        commentId,\n        path\n    }\n}\n\nexport const unSelectComment = () => {\n    return {\n        type: actionTypes.UNSELECT_COMMENT\n    }\n}\n\nexport const selectSubComment = (commentId, path) => {\n    return {\n        type: actionTypes.SELECT_SUBCOMMENT,\n        commentId,\n        path\n    }\n}\n\nexport const unSelectSubComment = () => {\n    return {\n        type: actionTypes.UNSELECT_SUBCOMMENT,\n    }\n}\n \n//-------- SEND COMMENT -----------------------------------------------------------------\n\nexport const sendComment = ( dropId, comment ) => {\n    return dispatch => {\n        dispatch(sendCommentStart(dropId, comment))\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const url = `/api/drop/${dropId}/comment`;\n        const body = { comment: comment.comment };\n        axios.post(url, body, headers)\n        .then(res => {\n            dispatch(sendCommentSuccess(dropId, comment.id, res.data))\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch(sendCommentFailed(dropId, err))\n        })\n    }\n}\n\nexport const sendCommentStart = (dropId, comment) => {\n    return {\n        type: actionTypes.SEND_COMMENT_START,\n        dropId,\n        comment\n    }\n}\n\nexport const sendCommentSuccess = (dropId, randId, comment) => {\n    return {\n        type: actionTypes.SEND_COMMENT_SUCCESS,\n        dropId, \n        randId,\n        comment\n    }\n}\n\nexport const sendCommentFailed = (dropId, err) => {\n    return {\n        type: actionTypes.SEND_COMMENT_FAILED,\n        dropId, \n        err\n    }\n}   \n\n//-------- SEND SUBCOMMENT -----------------------------------------------------------------\n\n\nexport const sendSubComment = ( dropId, subComment, token ) => {\n    return dispatch => {\n        const commentId = subComment.parentPath.split('/')[0];\n        const randPath = subComment.parentPath + '/' + subComment.id;\n        dispatch(sendSubCommentStart(dropId, subComment));\n        const url = `/api/comment/${commentId}/sub`;\n        const headers = { headers: { authorization: `Bearer ${token}` } };\n        const body = { \n            actualComment: subComment.comment,\n            parentPath: subComment.parentPath\n        };\n        axios.post(url, body, headers)\n        .then(res => {\n            dispatch(sendSubCommentSuccess(dropId, randPath, res.data))\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch(sendSubCommentFailed(dropId, err))\n        })\n    }\n}\n\nexport const sendSubCommentStart = (dropId, subComment) => {\n    return {\n        type: actionTypes.SEND_SUBCOMMENT_START,\n        dropId,\n        subComment\n    }\n}\n\nexport const sendSubCommentSuccess = (dropId, randPath, subComment) => {\n    return {\n        type: actionTypes.SEND_SUBCOMMENT_SUCCESS,\n        dropId,\n        randPath, \n        subComment\n    }\n}\n\nexport const sendSubCommentFailed = (dropId, err) => {\n    return {\n        type: actionTypes.SEND_SUBCOMMENT_FAILED,\n        dropId, \n        err\n    }\n}   \n\n//---------------------------------------------------------------------------------------\n\nexport const setDropsNotLoaded = () => {\n    return {\n        type: actionTypes.SET_DROPS_NOT_LOADED\n    }\n}\n\n//-------- DELETE COMMENT -------------------------------------------------------------------\n\nexport const deleteComment = (dropId, commentId) => {\n    return dispatch => {\n        dispatch(deleteCommentStart(dropId, commentId))\n        const url = `api/comment/${commentId}`\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.delete(url, headers)\n        .then(() => {\n            dispatch(deleteCommentSuccess())\n        })\n        .catch(err => {\n            console.log(err);\n            dispatch(deleteCommentFailed())\n        });\n    }\n}\n\nexport const deleteCommentStart = (dropId, commentId) => {\n    return {\n        type: actionTypes.DELETE_COMMENT_START,\n        dropId,\n        commentId,\n    }\n}\n\nexport const deleteCommentSuccess = () => {\n    return {\n        type: actionTypes.DELETE_COMMENT_SUCCESS,\n    }\n}\n\nexport const deleteCommentFailed = () => {\n    return {\n        type: actionTypes.DELETE_COMMENT_FAILED\n    }\n}\n\n\n// -------- FETCH DROP ----------------------------------------------------------\n\nexport const fetchDrop = (dropId, token) => {\n    return dispatch => {\n        dispatch(fetchDropStart(dropId))\n        if(dropId.startsWith('no')){\n            dispatch(fetchDropSuccess(dropId, { dropId, title: \"\", creatorId: \"6022396f28d69d22509a5d46\", comments: []}))\n        }else{\n            const url = dropId.startsWith('no more') ? 'apidrop/nomore' : `/api/drop/${dropId}`;\n            const headers = token ? { headers: { authorization: `Bearer ${token}` } } : null \n            axios.get(url, headers)\n            .then(res => {\n                dispatch(fetchDropSuccess(dropId, res.data))\n            }).catch(err => {\n                dispatch(fetchDropFailed(dropId))\n            })\n        }\n\n    }\n}\n\nexport const fetchDropStart = (dropId) => {\n    return {\n        type: actionTypes.FETCH_DROP_START,\n        dropId\n    }\n}\n\nexport const fetchDropSuccess = (dropId, drop) => {\n    return {\n        type: actionTypes.FETCH_DROP_SUCCESS,\n        dropId, \n        drop\n    }\n}\n\nexport const fetchDropFailed = (dropId) => {\n    return {\n        type: actionTypes.FETCH_DROP_FAILED, \n        dropId\n    }\n}\n\n//-------- FETCH MEME -----------------------------------------------------------------\n\n\nexport const fetchMemeStart = (dropId) => {\n    return {\n        type: actionTypes.FETCH_MEME_START,\n        dropId\n    }\n}\n\nexport const fetchMemeSuccess = (dropId) => {\n    return {\n        type: actionTypes.FETCH_MEME_SUCCESS,\n        dropId, \n    }\n}\n\n//--------- SELECT DROP TARGET -------------------------------------------------------\n\n\nexport const selectDropTarget = (chatId) => {\n    return {\n        type: actionTypes.SELECT_DROPTARGET,\n        chatId\n    }\n}\n\nexport const unSelectDropTarget = (chatId) => {\n    return {\n        type: actionTypes.UNSELECT_DROPTARGET,\n        chatId\n    }\n}\n\n//--------- SEND DROP ----------------------------------------------------------------\n\nexport const sendDrop = (targets, dropId, title, userId) => {\n    return dispatch => {\n        const randId = `${Date.now()}`;\n        const message = {\n            id: randId, \n            type: 'drop',\n            sender: userId,\n            sentTime: Date.now(),  \n            liked: [],\n            title,\n            dropId\n        }   \n        dispatch(closeDropModal());\n        dispatch(switchTab('chat'));\n        dispatch(resetDropTargets());\n        dispatch(sendDropStart(targets, message)); \n        const url = `/api/chat/dropMessage`;\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } };\n        const body = { \n            chatIds: targets,\n            dropId\n        };\n        axios.post(url, body, headers)\n        .then(res => {\n            console.log(res.data);\n            dispatch(sendDropSuccess(res.data.messageReplacements, res.data.chatReplacements, randId));\n        }).catch(err => {\n            console.log(err);\n            dispatch(sendDropFailed());\n        })\n    }\n}\n\nexport const resetDropTargets = () => {\n    return {\n        type: actionTypes.RESET_DROP_TARGETS, \n    }\n}","import axios from 'axios';\n\nimport * as actionTypes from './actionTypes';\nimport { setDropsNotLoaded } from './streamActions';\nimport { \n    closeMenu, \n    setUIStateonLogin,\n    setUIStateonLogout,\n    addToMenuStack\n} from './UIActions';\nimport { \n    setChatStateOnLogin,\n    checkAndAddNewMessages,\n    fetchNewChatSuccess,\n    fetchNewChatFailed,\n} from './chatActions';\n\nexport const logout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    localStorage.removeItem('expirationDate');\n    return {\n        type: actionTypes.LOGOUT\n    }\n}\n\nexport const checkAuthTimeout = (expirationTime) => {\n    return dispatch => {\n    }\n}\n\nexport const setAnonymousId = (anonymousId) => {\n    return {\n        type: actionTypes.SET_ANONYMOUS_ID,\n        anonymousId\n    }\n}\n\n\n//------ LOGIN -----------------------------------------------------------------------\n\n\nexport const login = (identifier, password) => {\n    return dispatch => {\n        dispatch(loginStart())\n        axios.post(\n            '/api/users/login', \n            JSON.stringify({\n                identification: identifier,\n                password: password\n            }), \n            { headers: { 'Content-Type': 'application/json' } }\n        ).then(res => {\n            const expirationDate = new Date(new Date().getTime() + res.data.expiresIn * 1000);\n            localStorage.setItem('token', res.data.token);\n            localStorage.setItem('expirationDate', expirationDate);\n            localStorage.setItem('user', JSON.stringify(res.data));\n            dispatch(loginSuccess(res.data));\n            dispatch(setDropsNotLoaded());\n            dispatch(setUIStateonLogin())\n            dispatch(setChatStateOnLogin(res.data))\n            dispatch(closeMenu());\n        }).catch(err => {\n            if(err.toJSON().message === 'Network Error'){\n                dispatch(loginFail(\"Check your connection, bro\"))\n            }else if(err.response && err.response.data && err.response.data.message){\n                dispatch(loginFail(err.response.data.message));\n            }else {\n                dispatch(loginFail(\"Something went wrong\"))\n            }\n        })\n    }\n}\n\nexport const loginStart = () => {\n    return {\n        type: actionTypes.LOGIN_START\n    };\n};\n\nexport const loginSuccess = (responseData) => {\n    return {\n        type: actionTypes.LOGIN_SUCCESS,\n        ...responseData\n    }\n}\n\nexport const loginFail = (message) => {\n    return {\n        type: actionTypes.LOGIN_FAIL,\n        error: message ? message : 'Something went wrong'\n    }\n}\n\n//------ SIGNUP ----------------------------------------------------------------------\n\nexport const signup = (name, email, handle, password, profilePic, src, newsletter) => {\n    return dispatch => {\n        dispatch(signupStart())\n        const url = '/api/users/signup';\n        const anonymousId = localStorage.getItem('anonymousId');\n        const formData = new FormData();\n        formData.append('name', name);\n        formData.append('email', email);\n        formData.append('handle', handle);\n        formData.append('password', password);\n        formData.append('profilePic', profilePic);\n        formData.append('newsletter', newsletter);\n        formData.append('anonymousId', anonymousId);\n        axios({\n            method: 'post',\n            url: url, \n            data: formData,\n            headers: { 'Content-Type': 'multipart/form-data' }\n        })\n        .then(res => {\n            console.log(res.data);\n            const expirationDate = new Date(new Date().getTime() + res.data.expiresIn * 1000);\n            localStorage.setItem('token', res.data.token);\n            localStorage.setItem('expirationDate', expirationDate);\n            localStorage.setItem('user', JSON.stringify(res.data));                \n            dispatch(signupSuccess(res.data, src));\n            dispatch(setDropsNotLoaded());\n            dispatch(setUIStateonLogin())\n            dispatch(setChatStateOnLogin(res.data))\n            dispatch(closeMenu());\n        }).catch(err => {\n            console.log(err)\n            dispatch(signupFail(err.response));\n        })\n    }\n}\n\nexport const signupStart = () => {\n    return {\n        type: actionTypes.SIGNUP_START\n    }\n}\n\nexport const signupSuccess = (responseData, profilePicSrc) => {\n    return {\n        type: actionTypes.SIGNUP_SUCCESS,\n        profilePicSrc,\n        ...responseData\n    }\n}\n\nexport const signupFail = (response) => {\n    return {\n        type: actionTypes.SIGNUP_FAIL,\n        error: response && response.data && response.data.message ? response.data.message : 'Something went wrong'\n    }\n}\n\n//------ CHECK EMAIL TAKEN ------------------------------------------------------------------\n\nexport const checkEmailTaken = (email) => {\n    return dispatch => {\n        dispatch(checkEmailTakenStart())\n        const url = '/api/users/checkEmail';\n        const body = { email }\n        axios.post(url, body)\n        .then(res => {\n            if(res.data && res.data.exists){\n                dispatch(emailAlreadyTaken(email));\n            } else {\n                dispatch(checkEmailTakenSuccess(res.data));\n                dispatch(addToMenuStack('CHOOSE_HANDLE'));\n            }\n        }).catch(err => {\n            dispatch(checkEmailTakenFailed(err))\n            console.log(err);\n        })\n        \n    }\n}\n\nexport const emailAlreadyTaken = (email) => {\n    return {\n        type: actionTypes.EMAIL_ALREADY_TAKEN,\n        email\n    }\n}\n\nexport const checkEmailTakenStart = () => {\n    return {\n        type: actionTypes.CHECK_EMAIL_TAKEN_START\n    }\n}\n\nexport const checkEmailTakenSuccess = (res) => {\n    console.log(res);\n    return {\n        type: actionTypes.CHECK_EMAIL_TAKEN_SUCCESS\n    }\n}\n\nexport const checkEmailTakenFailed = (err) => {\n    console.log(err);\n    return {\n        type: actionTypes.CHECK_EMAIL_TAKEN_FAILED\n    }\n}\n\n//------ CHECK HANDLE TAKEN ------------------------------------------------------------------\n\nexport const checkHandleTaken = (handle) => {\n    return dispatch => {\n        dispatch(checkHandleTakenStart())\n        const url = '/api/users/checkHandle';\n        const body = { handle }\n        axios.post(url, body)\n        .then(res => {\n            if(res.data && res.data.exists){\n                dispatch(handleAlreadyTaken(handle));\n            } else {\n                dispatch(checkHandleTakenSuccess(res.data));\n                dispatch(addToMenuStack('CHOOSE_PROFILE_PIC'));\n                console.log(document.getElementById('handle'))\n                document.getElementById('handle').focus(); \n            }\n        }).catch(err => {\n            dispatch(checkHandleTakenFailed(err))\n            console.log(err);\n        })\n        \n    }\n}\n\nexport const handleAlreadyTaken = (handle) => {\n    return {\n        type: actionTypes.HANDLE_ALREADY_TAKEN,\n        handle\n    }\n}\n\nexport const checkHandleTakenStart = () => {\n    return {\n        type: actionTypes.CHECK_HANDLE_TAKEN_START\n    }\n}\n\nexport const checkHandleTakenSuccess = (res) => {\n    console.log(res);\n    return {\n        type: actionTypes.CHECK_HANDLE_TAKEN_SUCCESS\n    }\n}\n\nexport const checkHandleTakenFailed = (err) => {\n    console.log(err);\n    return {\n        type: actionTypes.CHECK_HANDLE_TAKEN_FAILED\n    }\n}\n\n//------ CHECK AUTH STATE ----------------------------------------------------------------------\n\n\n\nexport const authCheckState = () => {\n    return dispatch => {\n        const token = localStorage.getItem('token');\n        if (!token) {\n            dispatch(setUIStateonLogout())\n            dispatch(logout());\n        } else {\n            const expirationDate = new Date(localStorage.getItem('expirationDate'));\n            if (expirationDate <= new Date()) {\n                dispatch(setUIStateonLogout())\n                dispatch(logout());\n            } else {\n                const user = JSON.parse(localStorage.getItem('user'));\n                dispatch(loginSuccess(user));\n                // dispatch(setDropsNotLoaded());\n                dispatch(setChatStateOnLogin(user));\n                dispatch(setUIStateonLogin())\n                dispatch(checkAuthTimeout((expirationDate.getTime() - new Date().getTime()) / 1000 ));\n                const url = '/api/users/refresh';\n                const headers =  { headers: {authorization: 'Bearer ' + token }};\n                axios.get(url, headers)\n                .then(res => {\n                    dispatch(loginSuccess(res.data));\n                    // dispatch(setDropsNotLoaded());\n                    dispatch(setChatStateOnLogin(res.data))\n                    const expirationDate = new Date(new Date().getTime() + res.data.expiresIn * 1000);\n                    localStorage.setItem('token', res.data.token);\n                    localStorage.setItem('expirationDate', expirationDate);\n                    localStorage.setItem('user', JSON.stringify(res.data)); \n                }).catch(err => {\n                    console.log(err);\n                })\n            }\n        }\n    };\n};\n\n\n\n//--------- SEND MESSAGES READ ---------------------------------------------\n\nexport const sendMessagesRead = (chatId, messageIds) => {\n    return dispatch => {\n        dispatch(sendMessagesReadStart(chatId))\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        const url = `/api/chat/${chatId}/read`;\n        const body = {\n            messageIds\n        }\n        axios.post(url, body, headers)\n        .then(res => {\n            console.log(res);\n            dispatch(sendMessagesReadSuccess())\n        }).catch(err => {\n            console.log(err); \n            dispatch(sendMessagesReadFailed())\n        })\n    }\n}\n\nexport const sendMessagesReadStart = (chatId) => {\n    return {\n        type: actionTypes.MESSAGES_READ_START,\n        chatId\n    }\n}\n\nexport const sendMessagesReadSuccess = () => {\n    return {\n        type: actionTypes.MESSAGES_READ_SUCCESS,\n    }\n}\n\nexport const sendMessagesReadFailed = () => {\n    return {\n        type: actionTypes.MESSAGES_READ_FAILED,\n    }\n}\n\n\n//---- REFRESH NOTIFICATIONS ----------------------------------------------------\n\n\nexport const refreshNotifications = (notifications) => {\n    console.log(notifications);\n    return dispatch => {\n        dispatch(updateNotifications(notifications));\n        const messageNotifications = notifications.filter(n => n.type.startsWith('NEW_MESSAGE'));\n        if(messageNotifications.length > 0){\n            dispatch(checkAndAddNewMessages(messageNotifications))\n        }\n        const newChatNotifications = notifications.filter(n => n.type.startsWith('NEW_CHAT'));\n        if(newChatNotifications.length > 0 ){\n            newChatNotifications.forEach(n => {\n                const token = localStorage.getItem('token');\n                const headers = { headers: { authorization : `Bearer ${token}` } }\n                const url = `/api/chat/${n.chatId}`;\n                axios.get(url, headers)\n                .then(res => {\n                    console.log(res.data);\n                    dispatch(fetchNewChatSuccess(res.data));\n                }).catch(err => {\n                    console.log(err); \n                    dispatch(fetchNewChatFailed())\n                })\n\n            })\n        }\n    }\n}\n\nexport const updateNotifications = (notifications) => {\n    return {\n        type: actionTypes.UPDATE_NOTIFICATIONS,\n        notifications\n    }\n}\n\n//---- DELETE NOTIFICATION -------------------------------------------------------\n\nexport const deleteNotification = (notificationId) => {\n    return dispatch => {\n        dispatch(deleteNotificationStart(notificationId));\n        const url = `/api/users/notification/${notificationId}`;\n        const token = localStorage.getItem('token');\n        const headers = { headers: { authorization : `Bearer ${token}` } }\n        axios.delete(url, headers)\n        .then(res => {\n            console.log(res.data);\n            dispatch(deleteNotificationSuccess());\n        }).catch(err => {\n            console.log(err);\n            dispatch(deleteNotificationFailed());\n        })\n    }\n}\n\nexport const deleteNotificationStart = (notificationId) => {\n    return {\n        type: actionTypes.DELETE_NOTIFICATION_START,\n        notificationId\n    }\n}\n\nexport const deleteNotificationSuccess = (notificationId) => {\n    return {\n        type: actionTypes.DELETE_NOTIFICATION_SUCCESS,\n        notificationId\n    }\n}\n\nexport const deleteNotificationFailed = (notificationId) => {\n    return {\n        type: actionTypes.DELETE_NOTIFICATION_FAILED,\n        notificationId,\n    }\n}\n\n\n//---- SUBSCRIBE EMAIL LIST ------------------------------------------------------\n\nexport const subscribeEmailList = (email) => {\n    return dispatch => {\n        console.log(\"subscribeEmailListStart\");\n        dispatch(subscribeEmailListStart())\n        const url = '/api/users/emaillist'\n        const body = {email: email};\n        const headers = { }\n        axios.post(url, body, headers)\n        .then(res => {\n            dispatch(subscribeEmailListSuccess());\n        }).catch(err => {\n            console.log(err);\n            const message = err.response ? err.response.data ? err.response.data.message ? err.response.data.message : null : null : null;\n            dispatch(subscribeEmailListFailed(message));\n        })\n    }\n}\n\nexport const subscribeEmailListStart = () => {\n    return {\n        type:actionTypes.SUBSCRIBE_EMAIL_LIST_START\n    }\n}\n\nexport const subscribeEmailListSuccess = () => {\n    return {\n        type:actionTypes.SUBSCRIBE_EMAIL_LIST_SUCCESS\n    }\n}\n\nexport const subscribeEmailListFailed = (message) => {\n    return {\n        type:actionTypes.SUBSCRIBE_EMAIL_LIST_FAILED,\n        message\n    }\n}","import React, { Component } from 'react';\nimport classes from './Source.module.css';\n\nclass Source extends Component {\n\n\n    render(){\n        return(\n            <div className={classes.Source}>\n                <p className={classes.Header}>Source:</p>\n                <a  className={classes.Link} \n                    href={this.props.sourceURL}\n                    >\n                    {this.props.sourceURL}\n                </a>\n            </div>\n        )\n    }\n}\n\nexport default Source;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loader from 'react-loader-spinner'\n\nimport * as actions from '../../../../store/actions';\nimport Source from './Source/Source';\nimport classes from './Content.module.css';\n\n\nclass Content extends Component {\n\n    getLoader = () => {\n        if(this.props.position > 2) return null;\n        if(this.props.memeStatus !== 'loaded'){\n            return <Loader className={classes.Spinner} type=\"Puff\" color=\"#00BFFF\" height={50} width={50}/>\n        }\n    }\n \n    render() {\n        const src = this.props.dropId.startsWith('no') \n                    ? `${process.env.REACT_APP_MEME_SOURCE_URL}6022a6fec54847291bdee46c`\n                    : `${process.env.REACT_APP_MEME_SOURCE_URL}${this.props.dropId}`\n        return(\n            <div className={classes.Content}>\n                <div className={classes.ContentContainer}>\n                    {\n                        (this.props.memeStatus === 'loaded' || this.props.currentlyLoadingMemeId === this.props.dropId) && this.props.position < 10 \n                        ? <img \n                            alt={`Meme ${this.props.id}`} \n                            className={classes.Meme} \n                            src={src}\n                            onLoad={() => this.props.onFetchMemeSuccess(this.props.dropId)}/>\n                        : null\n                    }\n                    {this.getLoader()} \n                    {\n                        this.props.source ? \n                        <Source sourceURL={this.props.source} /> \n                        : null\n                    }\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentlyLoadingMemeId: state.stream.currentlyLoadingMemeId\n    }\n  }\n  \n  const mapDispatchToProps = dispatch => {\n    return {\n        onFetchMemeSuccess: (dropId) => dispatch(actions.fetchMemeSuccess(dropId)),\n    }\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(Content);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport classes from './CommentMenu.module.css';\nimport TrashOpen from './TrashOpen.svg';\nimport TrashClosed from './TrashClosed.svg';\n\nimport * as actions from '../../../../../../store/actions/index';\n\nclass CommentMenu extends Component {\n\n    state ={\n        trashOpen: false,\n        deleteCommentOpen: false\n    }\n\n\n    render() {\n        return(\n            <div className={classes.CommentMenu}>\n                {/* <div className={classes.MenuItem}>screenshot mode </div> */}\n                {/* <div className={classes.Seperator}>|</div>  */}\n                { !this.props.userComment && this.props.token ? <div className={classes.MenuItem}>report</div> : null}\n                { !this.state.deleteCommentOpen \n                    ? this.props.userComment && this.props.token\n                        ? <img \n                            src={this.state.trashOpen ? TrashOpen : TrashClosed} \n                            alt='' \n                            className={classes.Trash}\n                            onMouseOver={() => this.setState({trashOpen: true})} \n                            onMouseOut={() => this.setState({trashOpen: false})}\n                            onClick={() => this.setState({deleteCommentOpen: true})}/>\n                        : null\n                    : null }\n                { this.state.deleteCommentOpen \n                    ? <div className={classes.DeleteDialog}>Delete Comment? \n                        <button className={classes.YesButton} onClick={() => this.props.onDeleteComment(this.props.dropId, this.props.commentId)}>yes</button>\n                        <button className={classes.NoButton} onClick={() => this.setState({deleteCommentOpen: false})}>no</button>\n                      </div>\n                    : null }\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.user.token,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onDeleteComment: (dropId, commentId) => dispatch(actions.deleteComment(dropId, commentId)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentMenu);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nimport classes from './Voting.module.css';\nimport * as actions from '../../../../../../store/actions/index';\n\n\nclass Voting extends Component {\n\n    constructor(props) {\n        super();\n        this.state = {\n            didUpvote: props.upvoted,\n            didDownvote: props.downvoted,\n            points: props.points\n        }\n    }\n\n    getArrow = (up, glow) => {\n        return(\n            <svg \n                className={`${up ? classes.up : classes.down} ${glow ? classes.glow : null}`} \n                onClick={up ? this.upvote : this.downvote} \n                width=\"60\" height=\"14\" viewBox=\"0 0 60 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M28.036 1.70084C29.1634 0.724555 30.8366 0.724556 31.964 1.70084L58.5583 24.7322C60.658 26.5506 59.372 30 56.5943 30H3.40566C0.628007 30 -0.658012 26.5506 1.4417 24.7322L28.036 1.70084Z\" \n                    fill={`${glow ? '#ffffff' : '#bbbbbb'}`}/>\n            </svg>\n        )\n    }\n\n\n    upvote = (event) => {\n        event.stopPropagation();\n        if(this.props.token){\n            if(!this.state.didUpvote){\n                let newState;\n                const route = this.props.path ? `/api/comment/${this.props.commentId}/voteSub` : `/api/comment/${this.props.commentId}/vote`\n                const body = this.props.path ? {vote: 'up', voterId: this.props.userId, path: this.props.path } : { vote: 'up' }\n                const headers = this.props.token ? { headers: { authorization: `Bearer ${this.props.token}` } } : null \n                axios.post(\n                    route, \n                    body,\n                    headers\n                ).then().catch(console.log);\n                if(this.state.didDownvote){ // Up:0 down:1\n                    newState = { didUpvote:true, didDownvote:false, points:this.state.points+2 }\n                } else {                    // Up:0 down:0\n                    newState = { didUpvote:true, didDownvote:false, points:this.state.points+1 }\n                }\n                this.setState(newState);\n            } \n        } else {\n            this.props.onOpenMenu(\"Create an Account to upvote Comments\");\n        }\n\n        // nothing should happen otherwise; either already upvoted or both are true (should not happen)\n    }\n\n    downvote = (event) => {\n        event.stopPropagation();\n        if(this.props.token){\n            if(!this.state.didDownvote){\n                const route = this.props.path ? `/api/comment/${this.props.commentId}/voteSub` : `/api/comment/${this.props.commentId}/vote`\n                const body = this.props.path ? {vote: 'down', voterId: this.props.userId, path: this.props.path } : { vote: 'down'}\n                const headers = this.props.token ? { headers: { authorization: `Bearer ${this.props.token}` } } : null \n                axios.post(\n                    route, \n                    body,\n                    headers\n                ).then().catch(console.log);\n                if(this.state.didUpvote){ // Up:1 down:0\n                    this.setState({ didDownvote:true, didUpvote:false, points:this.state.points-2 });\n                } else {                    // Up:0 down:0\n                    this.setState({ didDownvote:true, didUpvote:false, points:this.state.points-1 }); \n                }\n            }\n        } else {\n            this.props.onOpenMenu();\n        }\n        // nothing should happen otherwise; either already downvoted or both are true (should not happen)\n    }\n\n    unvote = (event) => {\n        event.stopPropagation();\n        if(!this.props.token){\n            this.props.onOpenMenu();\n        } else if(this.state.didDownvote || this.state.didUpvote){\n            const route = this.props.path ? `/api/comment/${this.props.commentId}/voteSub` : `/api/comment/${this.props.commentId}/vote`\n            const body = this.props.path ? {vote: 'neutral', voterId: this.props.userId, path: this.props.path } : { vote: 'neutral' }\n            const headers = this.props.token ? { headers: { authorization: `Bearer ${this.props.token}` } } : null \n            axios.post(\n                route, \n                body,\n                headers\n            ).then().catch(console.log);\n\n            if(this.state.didDownvote){\n                this.setState({ didDownvote:false, didUpvote:false, points:this.state.points+1})\n            } else if(this.state.didUpvote){\n                this.setState({ didDownvote:false, didUpvote:false, points:this.state.points-1});\n            } \n        }\n    }\n    \n    //transforms the exact number of up/downvotes to a more presentable String \n    getCountString = number => {\n        if(number >= 100000000){\n            return `${Math.floor(number/1000000)}M`\n        } else if(number >= 1000000){\n            const firstDigit = Math.floor(number/1000000);\n            const secondDigit = Math.floor((number-firstDigit*1000000)/100000);\n            return `${firstDigit}.${secondDigit}M`;\n        } else if(number >=100000) {\n            return `${Math.floor(number/1000)}K`;\n        } else if(number >= 1000){\n            const firstDigit = Math.floor(number/1000);\n            const secondDigit = Math.floor((number-firstDigit*1000)/100);\n            return `${firstDigit}.${secondDigit}K`;\n        }\n        return `${number}`\n    }\n\n    render(){\n        \n\n        return(\n            <div className={classes.voting}>\n                {this.getArrow(true, this.state.didUpvote)}\n                <div \n                    className={classes.points}\n                    title={`${this.state.points} points`}\n                    onClick={this.unvote}\n                >\n                    {this.getCountString(this.state.points)}\n                </div>\n                {this.getArrow(false, this.state.didDownvote)}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      darkmode: state.ui.darkmode,\n      token: state.user.token,\n      userId: state.user.userId\n    }\n  }\n  \n  const mapDispatchToProps = dispatch => {\n    return {\n        onOpenMenu: () => dispatch(actions.openMenu()),\n    }\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(Voting);","import React, { Component } from 'react';\nimport { connect } from 'react-redux'; \nimport classes from './AuthorPic.module.css';\nimport DefaultPic from '../../../../../media/DefaultProfilePic.png';\n\nclass AuthorPic extends Component {\n\n\n    render(){\n        let profilePicSrc = DefaultPic;\n        if(this.props.authorId && this.props.authorId === this.props.selfId){\n            if(this.props.profilePicSrc){\n                profilePicSrc = this.props.profilePicSrc;\n            }else {\n                if(this.props.token && this.props.hasProfilePic){\n                    profilePicSrc = `${process.env.REACT_APP_PROFILE_PICTURES_SOURCE_URL}` + this.props.selfId; \n                }\n            }\n        }\n        return (\n            <img \n                src={profilePicSrc} \n                className={classes.AuthorPic} \n                style={{left: `${this.props.depth*this.props.indent}px`}}\n                alt=' '/>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        hasProfilePic: state.user.hasProfilePic,\n        selfId: state.user.userId,\n        token: state.user.token,\n\n    }\n}\n\nexport default connect(mapStateToProps, null)(AuthorPic);","import React from 'react';\n\nimport classes from './Backdrop.module.css';\n\nconst backdrop = (props) => (\n        <div \n            style={props.zIndex ? {zIndex: `${props.zIndex}`} : null }\n            className={classes.Backdrop} \n            onClick={props.clicked}\n        ></div> \n);\n\nexport default backdrop;","import React, { Component } from 'react';\n\nimport classes from './Branches.module.css';\n\nconst INDENT = 17;\n\nconst HIDDENCOLOR = '#333333';\n\n\nclass Branches extends Component {\n\n\n    getRoot = (i) => {\n        let styles = { left: `${11 + this.props.treeString.length * INDENT}px` }\n        return(\n        <svg className={classes.Root} style={styles} width={\"2px\"} height={`${this.props.height}px`} viewBox={`0 0 2 ${this.props.height}`} fill=\"#abcdef\" xmlns=\"http://www.w3.org/2000/svg\">\n          <path d={`M0 0H2V${this.props.height}H0V0Z`} fill={`${i >= this.props.hideBranches ? HIDDENCOLOR : '#ffffff'}`} />\n        </svg>\n        )\n    }\n\n    getL = (i) => {\n        return(\n            <svg style={this.generateBoneStyles(i + 1, \"L\")} key={`${i}L`} width=\"6\" height=\"4\" viewBox=\"0 0 6 4\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M0 0H2V1V1C2 1.55228 2.44772 2 3 2V2H6V4H2C0.89543 4 0 3.10457 0 2V0Z\" fill={`${i >= this.props.hideBranches ? '#ffffff' : HIDDENCOLOR}`}/>\n            </svg>\n        )\n    }\n\n    getC = (i) => {\n        return(\n            <svg style={this.generateBoneStyles(i + 1, \"connector\")} key={`${i}-connector`} width=\"4\" height=\"2\" viewBox=\"0 0 4 2\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M0 0H4V2H0V0Z\" fill={`${i >= this.props.hideBranches ? '#ffffff' : HIDDENCOLOR}`}/>\n            </svg>\n        )\n        \n    }\n\n    generateLine = (depth, type) => {\n        let height = 0;\n        switch (type) {\n            case \"I\": height = this.props.height + 22; break;\n            case \"IL\": height = 53; break;\n            case \"start\": height = this.props.height; break;\n            default: console.log(\"DIESE NACHRICHT SOLLE NIE KOMMEN\");\n        }\n        return (\n            <svg\n            key={depth}\n            style={this.generateBoneStyles(depth, type)}\n            width={\"2px\"}\n            height={`${height}px`}\n            viewBox={`0 0 2 ${height}`}\n            xmlns=\"http://www.w3.org/2000/svg\"\n            >\n                <path d={`M0 0H2V${height}H0V0Z`} fill={`${depth >= this.props.hideBranches ? '#ffffff' : HIDDENCOLOR}`} />\n            </svg>\n        );\n    };\n\n\n    generateBones = boneComponents => {\n        let bones = [];\n        //Generate Bone Components\n        for (let i = 0; i < boneComponents.length; i++) {\n            switch (boneComponents[i]) {\n            case \" \": break;\n            case \"I\": bones.push(this.generateLine(i, \"I\")); break;\n            case \"T\": bones.push(this.generateLine(i, \"I\"));\n                      bones.push(this.getC(i));break;\n            case \"L\": bones.push(this.generateLine(i, \"IL\"));\n                      bones.push(this.getL(i));\n                      let pathArr = this.props.path.split(\"/\");\n                      pathArr.pop();\n                      break;\n            default: console.log(\"ERROR: unwanted Character in BuildBone\");\n            }\n        }\n        return bones;\n    };\n\n\n\n    generateBoneStyles = (depth, type) => {\n        let styles = {\n            top: \"-42px\",\n            position: \"absolute\",\n        };\n        switch (type) {\n            case \"start\": styles.top = \"25px\";\n                        styles.left = `${11 + INDENT * depth}px`;break;\n            case \"I\":\n            case \"IL\": styles.left = `${11 + INDENT * depth}px`; break;\n            case \"L\": styles.left = `${INDENT * depth - 6}px`; styles.top = \"9px\"; break;\n            case \"connector\": styles.left = `${INDENT * depth - 4}px`; styles.top = \"12px\"; break;\n            default: console.log(\"Switch case ERROR\");\n        }\n        return styles;\n    };\n\n\n\n\n    render() {\n        return (\n            <div className={classes.branches}>\n                {this.generateBones(this.props.treeString)}\n                {this.props.root ? this.getRoot(this.props.depth) : null}\n            </div>\n        )\n    }\n}\n\nexport default Branches;","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport CommentMenu from '../../CommentMenu/CommentMenu';\nimport Voting from \"../../Voting/Voting\";\nimport AuthorPic from \"../../../AuthorPic/AuthorPic\";\nimport Backdrop from '../../../../../../UI/Backdrop/Backdrop';\nimport Branches from '../../Branches/Branches';\nimport * as streamActions from '../../../../../../../store/actions/index';\n\nimport classes from \"./SubComment.module.css\";\n\nconst INDENT = 17;\nconst COLOR_COMMENT_BACKGROUND = 'rgba(0, 2, 10, 0.6)';\nconst COLOR_COMMENT_SELECTED = 'rgba(87, 122, 161, 0.6)'\n\n\nclass SubComment extends Component {\n  \n  state = {\n    height: 0\n  }\n\n  componentDidMount() {\n    const height = this.divElement.clientHeight;\n    this.setState({ height });\n  }\n  \n  componentDidUpdate() {\n    const height = this.divElement.clientHeight;\n    if(this.state.height !== height){\n      this.setState({ height });\n    }\n  }\n\n  getRoot = () => {\n    if (this.props.comment.subComments && this.props.comment.subComments.length > 0)\n    return(\n    <svg\n      key={1001}\n      className={classes.Root}\n      width={\"2px\"}\n      height={`${this.state.height}px`}\n      viewBox={`0 0 2 ${this.state.height}`}\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <path d={`M0 0H20V${this.state.height}H0V0Z`} fill=\"green\" />\n    </svg>\n    )\n  };\n\n  getSpeechBubbleArrow = (selected, parentSelected, sending) => {\n    const color = selected || parentSelected ? COLOR_COMMENT_SELECTED : sending ? 'rgba(255,255,255,0.5)' : COLOR_COMMENT_BACKGROUND\n    return (\n      <svg className={classes.SpeechBubbleArrow} width=\"18\" height=\"28\" viewBox=\"0 0 18 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M17.1946 1.09753C15.127 2.89687 11.5635 5.9083 8 8.49986C5.64212 10.2146 7.62939e-06 9.99998 7.62939e-06 9.99998C7.62939e-06 9.99998 6.54393 10.8743 9.5 13.4999C13.3722 16.9392 13.9978 25.9679 14 25.9998L14 10C14 6.61858 15.1988 3.51715 17.1946 1.09753Z\" \n              fill= {color}/>\n      </svg>\n    )\n  }\n\n  clicked = (sending, selected) => {\n    if(sending){\n      return () => {console.log('Comment still sending; cant select yet')}\n    } else if(selected){\n      return this.props.onUnselectComment\n    } else {\n      return () => this.props.onSelectSubComment(this.props.commentId, this.props.path)\n    }\n  }\n\n\n  render() {\n\n    const selected = this.props.selectedComment === this.props.path;\n    const sending = this.props.sending.some(s => s.dropId === this.props.dropId && s.path === this.props.path)\n    const parentSelected = this.props.path.startsWith(this.props.selectedComment);\n    let backgroundStyleClasses = [classes.CommentBackground]\n    if(sending) backgroundStyleClasses.push(classes.sending);\n    if(selected || parentSelected) backgroundStyleClasses.push() \n\n    const commentStyle = { paddingLeft: `${this.props.depth * INDENT}px` };\n    const contentStyle = { left: `${this.props.depth * INDENT + 40}px`, maxWidth: `${545 - INDENT * this.props.depth}px`};\n\n    const hiddenBranches = parentSelected ? this.props.selectedComment.split('/').length -1 : selected ? this.props.depth : null;\n\n    return (\n      <div className={`${classes.CommentContainer} ${parentSelected || selected ? classes.selected : null}`}>\n        {selected ? <Backdrop clicked={ this.props.onUnselectComment }/> : null }\n        {selected ? <CommentMenu token={this.props.token} userComment={this.props.authorId === this.props.userId}/> : null}\n        <div className={classes.Comment} style={commentStyle}>\n          <AuthorPic depth={this.props.depth} indent={INDENT} authorId={this.props.authorId}/>\n          <div \n            className={backgroundStyleClasses.join(' ')} \n            ref={divElement => (this.divElement = divElement)}\n            onClick={this.clicked(sending, selected)}>\n            <Voting \n              upvoted={this.props.upVoted}\n              downvoted={this.props.downVoted}\n              points={this.props.points} \n              commentId={this.props.commentId}\n              path={this.props.path}/>\n            <div className={classes.SelectClickTarget} onClick={this.select}>\n              <span className={classes.actualComment} style={contentStyle}>\n                {this.props.actualComment}\n              </span>\n              {this.getSpeechBubbleArrow(selected, parentSelected, sending)}\n            </div>\n          </div>\n        </div>\n        <Branches \n          hideBranches={ hiddenBranches }\n          treeString={ this.props.treeString }\n          height={ this.state.height }\n          root={ selected || (this.props.subComments && this.props.subComments.length > 0) }\n          path={ this.props.path }\n          selected={ selected }\n        />\n          {/* {this.createSubComments(nextTreeString, depth)} */}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    selectedComment: state.stream.selectedComment,\n    sending: state.stream.sending,\n    token: state.user.token, \n    userId: state.user.userId\n  }\n}\n\nconst mapDispatchToProps = dispatch => { \n  return {\n    onSelectSubComment: (commentId, path) => dispatch(streamActions.selectSubComment(commentId, path)),\n    onUnselectComment: () => dispatch(streamActions.unSelectComment())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SubComment);\n","import React, { Component } from 'react'\nimport classes from './NeumorphismButton.module.css';\n\nclass NeumorphismButton extends Component {\n\n\n    render(){\n        let styleClasses = [classes.Button];\n        if(this.props.buttonType){\n            switch(this.props.buttonType) {\n                case 'SubmitComment': styleClasses.push(classes.SubmitComment); break;\n                // case 'PrimaryButton': styleClasses.push(classes.PrimaryButton); break;\n                default: console.log('no type given');\n            }\n        }\n        if(this.props.disabled) styleClasses.push(classes.Disabled);\n        if(this.props.colorTheme === 'light') styleClasses.push(classes.Light);\n        if(this.props.colorTheme === 'dark') styleClasses.push(classes.Dark);\n        return(\n            <button \n                onClick={this.props.clicked} \n                className={styleClasses.join(' ')}\n                disabled={this.props.disabled}>\n                {this.props.children}\n            </button>\n        )\n    }\n}\n\nexport default NeumorphismButton;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport * as streamActions from '../../../../../store/actions/index';\nimport classes from './CommentForm.module.css';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport AuthorPic from '../AuthorPic/AuthorPic';\n\nimport NeumorphismButton from '../../../../UI/NeumorphismButton/NeumorphismButton';\nimport Branches from '../Comment/Branches/Branches';\n\nconst INDENT = 17;\n\n\nclass CommentForm extends Component {\n\n    state = {\n        textareaValue: '',\n        disabled: true\n    }\n\n    inputChangedHandler = (event) => {\n        const newValue = event.target.value; \n        const disabled = newValue.trim() === '' || this.props.streamElements[0].id.startsWith(\"no more\");\n        this.setState({textareaValue: newValue, disabled: disabled});\n    }\n\n    submitHandler = (event) => {\n        event.preventDefault();\n        if(!this.props.token){\n            this.props.onOpenMenu();\n        } else {\n            this.setState({textareaValue: '', disabled: true});\n\n            if(!this.props.subComment) {\n                const newComment = {\n                    id: `${Date.now()}`,\n                    comment: this.state.textareaValue, \n                    authorId: this.props.userId, \n                    posted: new Date(), \n                    points: 0,\n                    subComments: [],\n                    path: '0'\n                }\n                this.props.onSendComment(this.props.dropId, newComment, this.props.token);\n            } else {\n                const newSubComment = {\n                    id: `${Date.now()}`,\n                    author: this.props.userId, \n                    points: 0, \n                    subComments: [],\n                    comment: this.state.textareaValue, \n                    parentPath: this.props.selectedComment\n                }\n                this.props.onSendSubComment(this.props.dropId, newSubComment, this.props.token )\n            }\n        }\n    }\n\n    getSpeechBubbleArrow() {\n        return(\n            <svg className={classes.SpeechBubbleArrow} width=\"18\" height=\"28\" viewBox=\"0 0 18 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M17.1946 1.09753C15.127 2.89687 11.5635 5.9083 8 8.49986C5.64212 10.2146 7.62939e-06 9.99998 7.62939e-06 9.99998C7.62939e-06 9.99998 6.54393 10.8743 9.5 13.4999C13.3722 16.9392 13.9978 25.9679 14 25.9998L14 10C14 6.61858 15.1988 3.51715 17.1946 1.09753Z\" fill= '#eeeeee'/>\n            </svg>\n        )\n    }\n\n    getArrowRight(){\n        return(\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g id=\"arrow_forward_24px\">\n                <path id=\"icon/navigation/arrow_forward_24px\" d=\"M12 4L10.59 5.41L16.17 11H4V13H16.17L10.59 18.59L12 20L20 12L12 4Z\" fill={this.state.disabled ? 'grey' : 'black'} fillOpacity=\"0.54\"/>\n                </g>\n            </svg>\n        )\n    }\n\n    getBranches = (depth, treeString) => {\n        if(!this.props.path) return null\n        return <Branches hideBranches={depth-1} treeString={treeString} height={61} path={this.props.path}/>\n    }\n\n    render(){\n        const depth = this.props.path ? this.props.path.split(\"/\").length : 0;\n        const commentInputStyles = { paddingLeft: `${depth * INDENT}px` };\n        const contentStyle = { left: `${(depth+1) * INDENT + 40}px`};\n        const treeString = this.props.treeString ? [...this.props.treeString.slice(1), 'L'] : ['L']\n\n        return(\n            <div className={classes.CommentForm}\n                style={this.props.path ? {zIndex: '200'} : null}>\n                <div className={classes.CommentInput} style={commentInputStyles}>\n                    <AuthorPic depth={depth} indent={INDENT} authorId={this.props.userId}/>\n                    <div className={classes.CommentInputBackground}>\n                        <div className={classes.actualCommentForm} style={contentStyle}>\n                            <TextareaAutosize \n                                className={classes.TextArea}\n                                onChange={this.inputChangedHandler} \n                                value={this.state.textareaValue}\n                                placeholder={this.props.path ? 'Write a response...' : 'Write a comment...'}/>\n                            <NeumorphismButton\n                                className={classes.SubmitButton} \n                                colorTheme='light'\n                                buttonType='SubmitComment'\n                                clicked={this.submitHandler} \n                                disabled={this.state.disabled} \n                                type='submit'>\n                                    {this.getArrowRight()}\n                            </NeumorphismButton>                            \n                            {this.getSpeechBubbleArrow()}\n                        </div>\n                    </div>\n                </div>\n                {this.getBranches(depth, treeString)}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        selectedComment: state.stream.selectedComment,\n        token: state.user.token,\n        userId: state.user.userId, \n        streamElements: state.stream.streamElements, \n    }\n}\n  \nconst mapDispatchToProps = dispatch => {\n    return {\n        onOpenMenu: () => dispatch(streamActions.openMenu()),\n        onSendComment: (dropId, comment, token) => dispatch(streamActions.sendComment(dropId, comment, token)),\n        onSendSubComment: (dropId, subComment, token) => dispatch(streamActions.sendSubComment(dropId, subComment, token)),    \n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CommentForm);","import React, { Component } from 'react';\n\nimport SubComment from './SubComment/SubComment';\nimport CommentForm from '../../CommentForm/CommentForm';\n\nclass SubCommentWrapper extends Component {\n\n    createSubComments = (nextTreeString, depth, selected) => {\n        const subComments = this.props.subComments.map((s, i) => {\n          const lastProp = selected ? false : i === this.props.subComments.length - 1 ? true : false;\n          return(\n            <SubCommentWrapper\n              {...s}\n              tree={nextTreeString}\n              last={lastProp}\n              depth={depth+1}\n              key={i}\n              dropId={this.props.dropId}\n              selectedCommentPath={this.props.selectedCommentPath}\n              actualComment={s.comment}\n              subComments={s.subComments}\n              commentId={this.props.commentId}\n              selected={selected}\n            />\n          )\n        })\n        return subComments;\n    };\n\n    render(){\n\n        const depth = this.props.path.split(\"/\").length - 1;\n        const selected = this.props.selectedCommentPath === this.props.path;\n        /////////////////////////////  tree algorithm // DO NOT FUCKING TOUCH   /////////////////////////////\n        let inheritance = this.props.tree ? this.props.tree : [];\n        let thisTreeString = this.props.last === true ? [...inheritance, \"L\"].slice(1) : [...inheritance, \"T\"].slice(1);\n        !this.props.selected && this.props.last === true && depth > 1 ? [...inheritance, \"L\"].slice(1) : [...inheritance, \"T\"].slice(1);\n        let nextTreeString = this.props.last === true ? [...inheritance, \" \"] : [...inheritance, \"I\"];\n        /////////////////////////////////////////////////////////////////////////////////////////////////////\n        \n        return (\n            <div className=\"SubCommentWrapper\">\n                <SubComment {...this.props} treeString={thisTreeString}/>\n                { this.createSubComments(nextTreeString, depth, selected)  }\n                {\n                  selected ? \n                  <CommentForm\n                    subComment\n                    dropId={this.props.dropId}\n                    path={this.props.path}\n                    treeString={nextTreeString}/> \n                  : null \n                }\n            </div>\n        )\n    }\n}\n\nexport default SubCommentWrapper;","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport SubCommentWrapper from './SubCommentWrapper/SubCommentWrapper';\nimport Voting from \"./Voting/Voting\";\nimport AuthorPic from \"../AuthorPic/AuthorPic\";\nimport Backdrop from '../../../../UI/Backdrop/Backdrop';\nimport CommentForm from '../CommentForm/CommentForm';\nimport CommentMenu from './CommentMenu/CommentMenu';\nimport * as streamActions from '../../../../../store/actions/index';\n\nimport classes from \"./Comment.module.css\";\n\n//import content from './Comment.js';\n\nexport const COLOR_COMMENT_BACKGROUND = 'rgba(0, 2, 10, 0.6)';\nexport const COLOR_COMMENT_BACKGORUND_HIGHLIGHTED = 'rgba(100, 0, 0, 0.6)';\nconst COLOR_COMMENT_SELECTED = 'rgba(87, 122, 161, 0.6)'\n\n\nclass Comment extends Component {\n  \n  state = {\n    height: 0\n  }\n\n  componentDidMount() {\n    const height = this.divElement.clientHeight;\n    this.setState({ height });\n  }\n  \n  componentDidUpdate() {\n    const height = this.divElement.clientHeight;\n    if(this.state.height !== height){\n      this.setState({ height });\n    }\n  }\n\n  getRoot(selected) {\n      if((this.props.comment.subComments && this.props.comment.subComments.length > 0) || selected){\n        return (\n          <svg \n            key={1000} \n            className={classes.Root} \n            width={\"2px\"} \n            height={`${this.state.height}px`} \n            viewBox={`0 0 2 ${this.state.height}`} \n            fill=\"none\" \n            xmlns=\"http://www.w3.org/2000/svg\"\n          >\n            <path d={`M0 0H2V${this.state.height}H0V0Z`} fill=\"#ffffff\" />\n          </svg>\n        )\n       } else {\n         return null\n       } \n  }\n\n  createSubComments = (selected) => {\n      const subComments = this.props.comment.subComments.map((s, i) => {\n        const lastProp = i === this.props.comment.subComments.length - 1 && !selected ? true : false;\n        return(\n          <SubCommentWrapper\n            {...s}\n            parentSelected={selected}\n            tree={['I']}\n            last={lastProp}\n            depth={1}\n            key={i}\n            dropId={this.props.dropId}\n            selectedCommentPath={this.props.selectedComment}\n            commentId={this.props.comment.id}\n            actualComment={s.comment}\n            subComments={s.subComments}\n          />\n        )\n      })\n    return subComments;\n  };\n\n  getSpeechBubbleArrow = (selected, sending) => {\n    const color = selected ? COLOR_COMMENT_SELECTED : sending ? 'rgba(255,255,255,0.5)' : COLOR_COMMENT_BACKGROUND\n    return (\n      <svg className={classes.SpeechBubbleArrow} width=\"18\" height=\"28\" viewBox=\"0 0 18 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M17.1946 1.09753C15.127 2.89687 11.5635 5.9083 8 8.49986C5.64212 10.2146 7.62939e-06 9.99998 7.62939e-06 9.99998C7.62939e-06 9.99998 6.54393 10.8743 9.5 13.4999C13.3722 16.9392 13.9978 25.9679 14 25.9998L14 10C14 6.61858 15.1988 3.51715 17.1946 1.09753Z\" \n              fill= {color}/>\n      </svg>\n    )\n  }\n\n  clicked = (sending, selected) => {\n    if(sending){\n      return () => {console.log('Comment still sending; cant select yet')}\n    } else if(selected){\n      return this.props.onUnselectComment\n    }else if(!sending){\n      return () => this.props.onSelectComment(this.props.id, '/')\n    }\n  }\n\n\n  render() {\n    let backgroundStyleClasses = [classes.CommentBackground]\n    const selected = this.props.selectedComment === this.props.id\n    const sending = this.props.sending.some(c => c.randId === this.props.id); \n    if(sending) backgroundStyleClasses.push(classes.sending);\n    if(selected) backgroundStyleClasses.push(classes.selected);\n      return (\n      <div className={classes.CommentContainer}>\n        {selected ? <Backdrop zIndex={100} clicked={this.props.onUnselectComment}/> : null}\n        {selected ? <CommentMenu dropId={this.props.dropId} commentId={this.props.id} userComment={this.props.authorId === this.props.userId}/> : null}\n        <div className={`${classes.Comment} ${selected ? classes.selected : null}`}>\n          <AuthorPic depth={0} indent={0} neuMorphism={this.props.neuMorphism} authorId={this.props.authorId}/>\n          <div \n            className={backgroundStyleClasses.join(' ')}\n            onClick={this.clicked(sending, selected)}\n            ref={divElement => (this.divElement = divElement)}>\n            <Voting \n              upvoted={this.props.upVoted}\n              downvoted={this.props.downVoted}\n              commentId={this.props.id}\n              points={this.props.points} />\n            <div className={classes.SelectClickTarget}>\n              <span className={classes.actualComment}>\n                {this.props.comment.comment}\n              </span>\n              {this.getSpeechBubbleArrow(selected, sending)}\n            </div>\n          </div>\n          {this.getRoot(selected)}\n        </div>\n\n        {this.props.comment.subComments ? this.createSubComments(selected) : null}\n        {selected ? \n          <CommentForm \n            dropId={this.props.dropId}\n            subComment={true}\n            path={this.props.id}\n            treeString={this.props.subComments.length > 0 ? [] : null}/> \n          : null\n        }\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    selectedComment: state.stream.selectedComment,\n    sending: state.stream.sending,\n    userId: state.user.userId,\n    token: state.user.token\n  }\n}\n\nconst mapDispatchToProps = dispatch => { \n  return {\n    onSelectComment: (commentId, path) => dispatch(streamActions.selectComment(commentId, path)),\n    onUnselectComment: () => dispatch(streamActions.unSelectComment())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Comment);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loader from 'react-loader-spinner'\n\nimport classes from './CommentSection.module.css';\nimport Comment from './Comment/Comment';\nimport CommentForm from './CommentForm/CommentForm';\n\n\n\n\nclass CommentSection extends Component {\n\n\n    componentDidUpdate = () => {\n    }\n\n    getComments = () => {\n        return this.props.comments.map(x => {\n            return(\n                <Comment \n                    {...x}\n                    key={x.id} \n                    comment={x} \n                    dropId={this.props.dropId} \n                />\n            )\n        })\n    }\n\n    getLoader = () => {\n        return(\n            <Loader \n                className={classes.Spinner} \n                type=\"ThreeDots\" \n                color=\"#00BFFF\" \n                height={30} \n                width={30}\n            />\n        )\n    }\n\n    render(){\n        if(this.props.position > 1) return null\n        return(\n            <div className={classes.CommentSection} tabIndex='0'>\n                <CommentForm dropId={this.props.dropId} />\n                <div className={classes.comments}>\n                    { this.props.commentStatus === 'not loaded' ? this.getLoader() : this.getComments()}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      darkmode: state.ui.darkmode, \n    }\n}\n  \n  \nexport default connect(mapStateToProps, mapDispatchToProps)(CommentSection);","import React, { Component } from \"react\";\nimport classes from \"./PrimaryButton.module.css\";\n\nclass PrimaryButton extends Component {\n  render() {\n    let buttonClasses = [classes.PrimaryButton];\n    if (this.props.theme) {\n      buttonClasses.push(classes.PrimaryButtonNeumorphism);\n    } else {\n      buttonClasses.push(classes.PrimaryButtonFlat);\n    }\n    if(this.props.disabled){\n      buttonClasses.push(classes.Disabled);\n    }\n\n    return (\n      <button className={buttonClasses.join(\" \")} onClick={this.props.disabled ? null : this.props.clicked}>\n        {this.props.children}\n      </button>\n    );\n  }\n}\nexport default PrimaryButton;\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../../store/actions/index';\nimport classes from \"./StreamElement.module.css\";\n\nimport Content from \"./Content/Content\";\nimport CommentSection from \"./CommentSection/CommentSection\";\nimport PrimaryButton from \"../../UI/PrimaryButton/PrimaryButton\";\n\n// import LogoForButton from '../../../media/LogoForButton.png';\n\nconst NEUMORPHISM = false;\n\n// const R = 200; //Distance eye to projection\n// const Y = 150; //vertical position of th object\n// const B = 1100; //width of the object\n// const X = 100; //Distance projection to element\n\nclass StreamElement extends Component {\n\n  componentDidUpdate = () => {\n    if(this.props.streamStatus === 'drops loaded' && this.props.dropStatus === 'not loaded' && this.props.id.length > 2){\n      this.props.onFetchDrop(this.props.id);\n    }\n  }\n\n  calcStyles2(pos) {\n    const transY = (pos - 1) * -2;\n    const transZ = (pos - 1) * -4;\n    const styles = {};\n    if (this.props.show === \"left\") {\n      styles.transform = `translate3d(-100vw,0,0)`;\n    } else if (this.props.show === \"right\") {\n      styles.transform = `translate3d(+100vw,0,0)`;\n    }else if (this.props.position === 1 && this.props.halfLeft){\n      styles.transform = `translate3d(-5vw,0,0)`;\n    }else if(this.props.position === 1 && this.props.halfRight){\n      styles.transform = `translate3d(5vw,0,0)`;\n    } else {\n      styles.transform = `translate3d( 0, ${transY}px, ${transZ}px)`;\n      styles.WebkitTransform = `translate3d( 0, ${transY}px, ${transZ}px)`;\n    }\n    return styles;\n  }\n\n  PrimaryButtonClicked = () => {\n    if(!this.props.token){\n      this.props.onOpenMenu('Create an Account and directly share Memes with friends here!');\n    } else {\n      this.props.onOpenDropModal();\n    }\n  }\n\n  render() {\n    let droppedToYouBy = [];\n\n    let cssClasses = [classes.StreamElement];\n\n    if (this.props.show === \"show\") cssClasses.push(classes.ShowDrop);\n    if (this.props.show === \"right\") cssClasses.push(classes.FadedRight);\n    if (this.props.show === \"left\")  cssClasses.push(classes.FadedLeft);\n    if (this.props.position === 1) {\n      if(this.props.halfLeft) cssClasses.push(classes.HalfLeft);\n      if(this.props.halfRight) cssClasses.push(classes.HalfRight);\n    }\n    cssClasses.push(this.props.darkmode ? classes.Dark : classes.Light)\n    \n    return (\n      <div\n        tabIndex=\"0\"\n        className={cssClasses.join(\" \")}\n        style={this.calcStyles2(this.props.position)}>\n        {droppedToYouBy}\n        {this.props.title ? <h3 className={classes.title}>{this.props.title}</h3>: null }\n        <Content \n          data={this.props.data}\n          position={this.props.position} \n          dropId={this.props.id} \n          status={this.props.status} \n          source={this.props.source}\n          memeStatus={this.props.memeStatus}/>\n        <PrimaryButton theme={NEUMORPHISM} clicked={this.PrimaryButtonClicked} disabled={this.props.id.length < 4 || this.props.id.startsWith('no more')}>\n          <h3 className={classes.DROP}>Drop</h3>\n        </PrimaryButton>\n        <CommentSection \n          position={this.props.position}\n          dropId={this.props.id} \n          comments={this.props.comments} \n          dropLoaded={this.props.status === 'drop loaded'}\n          commentStatus={this.props.dropStatus}/>      \n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    darkmode: state.ui.darkmode,\n    token: state.user.token,\n    streamStatus: state.stream.streamStatus\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onOpenMenu: (authReason) => dispatch(actions.openMenu(authReason)),\n    onOpenDropModal: () => dispatch(actions.openDropModal()),\n    onFetchDrop: (dropId, token) => dispatch(actions.fetchDrop(dropId, token)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StreamElement);\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as streamActions from '../../store/actions/index';\n\nimport StreamElement from \"./StreamElement/StreamElement\";\nimport classes from \"./Stream.module.css\";\nimport RiverWhite from \"../../SVGs/RiverWhite.svg\";\nimport River from \"../../SVGs/river.svg\"\nimport RiverGlow from \"../../SVGs/RiverGlow.svg\";\nimport Boat from \"../../media/Boat.png\";\n\nclass Stream extends Component {\n\n  state = {\n    timeStampLastSwipe: 0,\n    glowLeft: false,\n    glowRight: false,\n    wtfOpen: false,\n  }\n\n  componentDidMount() {\n    document.addEventListener(\"keyup\", this.keyboardSwipeHandler, false);\n    document.addEventListener(\"keydown\", this.keypressHandler, false);\n  }\n\n  componentDidUpdate() {\n    if(this.props.streamStatus === 'nothing loaded'){\n      this.props.onFetchIds();\n    }\n  }\n\n  drop = (msg) => {\n    this.props.send(msg);\n    this.setState({\n      currentlyDropping: false,\n    });\n  };\n\n  onLightUp = (left, right) => {\n    this.setState({glowLeft: left, glowRight: right})\n  }\n\n  resetGlow = () => {\n    this.setState({glowLeft: false, glowRight: false});\n  }\n\n  // onKeyDown\n  keypressHandler = (event) => {\n    if(!this.props.menuOpen && this.props.currentTab === 'stream'){\n      if (event.keyCode === 37) {\n        this.onLightUp(true, false);\n      } else if (event.keyCode === 39) {\n        this.onLightUp(false, true);\n      }\n    }\n  }\n\n  // onKeyUp\n  keyboardSwipeHandler = (event) => {\n    if (event.keyCode === 37 && this.state.glowLeft) {\n        this.resetGlow();\n        this.swipeHandler(true);\n    } \n    if (event.keyCode === 39 && this.state.glowRight) {\n      this.resetGlow();\n      this.swipeHandler(false);\n    }\n  };\n\n  swipeHandler = (left) => {\n    if(  this.props.streamElements[1].memeStatus === 'loaded' \n      && this.props.streamElements[1].status === 'id loaded'\n      && !this.props.menuOpen ){\n      this.props.onSwipe(left ? 'left' : 'right', this.props.streamElements[1].id, this.props.anonymousId);\n    }\n  }\n\n  getLeftThumb = () => {\n    return (\n      <svg\n        onMouseEnter={() => this.onLightUp(true, false)}\n        onMouseLeave={this.resetGlow}\n        onClick={() => this.swipeHandler(true)}\n        className={`${classes.LeftThumb} ${classes.ThumbGlow}`}\n        xmlns=\"http://www.w3.org/2000/svg\" width=\"130\" height=\"130\" fill=\"none\" viewBox=\"0 0 130 130\">\n        <g filter={this.state.glowLeft ? \"url(#filter0_dd)\" : null}>\n          <path \n            d=\"M92.0177 42.2216C86.749 41.7113 81.6781 40.0051 76.5061 38.9511C71.0367 37.8369 65.5161 36.9958 59.996 36.1755C59.8856 36.1588 59.7815 36.1606 59.677 36.1593C59.5021 36.1246 59.3181 36.1045 59.1124 36.118C54.8811 36.3956 50.6969 37.0121 46.5264 37.7704C46.2564 37.8197 46.0373 37.9129 45.8468 38.0283C43.4346 38.5792 40.992 39.7617 39.706 41.9728C38.5827 43.9043 38.4274 46.0332 38.7441 48.1584C35.5408 51.0711 34.2384 54.8916 35.2674 59.1005C31.023 63.7101 30.8856 69.7316 35.1049 74.2518C32.5673 78.72 32.7345 83.6501 36.1271 87.7818C36.3481 88.0509 36.5897 88.2283 36.8385 88.3358C37.0378 88.4637 37.2695 88.5663 37.5521 88.6217C44.1235 89.912 50.8026 89.1964 56.2346 85.029C56.8084 84.5891 57.0592 84.001 57.0787 83.4154C57.1524 83.2013 57.2003 82.9769 57.2061 82.7408C57.2137 82.5954 57.2135 82.5431 57.2073 82.5629C57.2186 82.4842 57.2307 82.4048 57.2416 82.3264C57.2875 81.9574 57.3399 81.5913 57.348 81.2194C57.7083 81.2261 58.0682 81.2343 58.4276 81.2551C56.0659 89.8836 57.4168 107.446 70.3386 102.672C71.3364 102.304 71.7329 101.435 71.6951 100.596C71.7491 100.412 71.7878 100.217 71.7899 99.9984C71.8407 94.7175 72.8071 89.6863 75.6708 85.1557C79.1832 79.5986 85.1722 79.9545 91.0998 80.487C93.0124 80.6592 94.9675 81.0991 96.8947 80.9421C99.2743 80.7481 99.4179 80.0318 100.029 78.0768C100.093 77.8717 100.136 77.6509 100.132 77.3997C99.9446 66.6904 99.7468 55.9813 99.4002 45.2766C99.2947 42.0264 94.2329 42.4356 92.0177 42.2216ZM85.8764 76.1608C73.1836 75.8195 68.0886 87.454 67.7317 99.1557C59.9711 100.554 60.9928 86.8212 62.5297 81.7481C62.7796 81.7939 63.0303 81.8302 63.2803 81.8816C65.8529 82.4082 66.8733 78.4564 64.296 77.9292C58.8742 76.8186 53.4898 76.9097 48.0807 78.0418C45.5072 78.5803 46.672 82.4932 49.2338 81.9562C50.5776 81.675 51.9214 81.481 53.2665 81.3609C53.2636 81.4394 53.2641 81.4712 53.2681 81.4559C53.2568 81.5353 53.2447 81.614 53.2335 81.6932C53.2123 81.8678 53.1892 82.0425 53.17 82.217C48.8825 85.0867 43.9593 85.6635 38.8683 84.7218C36.495 81.7108 37.2792 78.2287 39.2829 75.2415C39.6301 74.7236 39.6888 74.22 39.5674 73.7785C39.6096 73.263 39.4299 72.7237 38.9118 72.2653C35.1986 68.9763 35.1719 64.9747 38.597 61.5133C39.3934 61.1316 39.93 60.3014 39.5488 59.2113C38.4344 56.0226 38.9522 53.0885 41.6972 50.9359C41.7838 50.8683 41.8523 50.7926 41.9246 50.7184C42.6631 50.3033 43.1851 49.4936 42.9311 48.4398C42.5823 46.9887 42.3754 45.2824 43.2633 43.9702C44.1753 42.6233 45.8378 42.1685 47.3419 41.8613C47.567 41.8149 47.7539 41.7357 47.9233 41.6435C51.6557 40.9717 55.3952 40.4461 59.1828 40.197C59.2266 40.1939 59.2634 40.1814 59.3058 40.177C68.4517 41.5391 77.5684 42.9647 86.4501 45.5993C86.5383 45.6254 86.6205 45.6327 86.705 45.6482C85.6635 55.8162 84.9157 65.9667 85.8764 76.1608ZM89.9725 76.3006C89.0178 66.4081 89.6823 56.5564 90.6733 46.6912C92.2358 46.7675 93.7982 46.8419 95.362 46.9151C95.6692 56.8222 95.861 66.7312 96.0347 76.6413C94.0083 76.655 91.989 76.5217 89.9725 76.3006Z\" \n            fill={this.state.glowLeft ? '#ffffff' : '#555555'}/>\n          <path\n            fillRule=\"evenodd\"\n            d=\"M65 15c-27.614 0-50 22.386-50 50s22.386 50 50 50 50-22.386 50-50-22.386-50-50-50zm0 4c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46z\"\n            clipRule=\"evenodd\"\n            fill={this.state.glowLeft ? '#ffffff' : '#555555'}/>\n        </g>\n        <defs>\n        { this.state.glowLeft ?\n        <filter id=\"filter0_dd\" x=\"0.13501\" y=\"0.13501\" width=\"131.73\" height=\"131.73\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n          <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n          <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n          <feOffset/>\n          <feGaussianBlur stdDeviation=\"7.5\"/>\n          <feColorMatrix type=\"matrix\" values=\"0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0\"/>\n          <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n          <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n          <feOffset/>\n          <feGaussianBlur stdDeviation=\"2.5\"/>\n          <feColorMatrix type=\"matrix\" values=\"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0\"/>\n          <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n          <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n        </filter>\n        : null }\n        </defs>\n      </svg>\n    );\n  }\n\n  getRightThumb = () => {\n    return (\n      <svg\n        onMouseEnter={() => this.onLightUp(false, true)}\n        onMouseLeave={this.resetGlow}\n        onClick={() => this.swipeHandler(false)}\n        className={`${classes.RightThumb} ${classes.ThumbGlow}`}\n        xmlns=\"http://www.w3.org/2000/svg\" width=\"132\" height=\"132\" fill=\"none\" viewBox=\"0 0 132 132\">\n        <g filter={this.state.glowRight ? \"url(#filter0_dd1)\" : null}>\n        <path \n          d=\"M38.571 88.32c5.26.603 10.3 2.397 15.453 3.542 5.449 1.209 10.954 2.146 16.459 3.063.11.018.214.018.318.022.175.037.358.06.564.05 4.236-.203 8.43-.746 12.613-1.432.27-.044.492-.134.684-.246 2.421-.508 4.884-1.648 6.209-3.837 1.157-1.911 1.35-4.037 1.07-6.167 3.253-2.857 4.622-6.654 3.667-10.88 4.324-4.535 4.566-10.553.426-15.146 2.616-4.424 2.534-9.356-.785-13.546a1.894 1.894 0 00-.702-.566 2.018 2.018 0 00-.709-.299c-6.547-1.404-13.238-.806-18.742 3.266a2.079 2.079 0 00-.872 1.599c-.077.213-.13.436-.14.672-.01.145-.01.198-.004.178l-.038.236c-.052.368-.111.733-.126 1.105-.36-.013-.72-.027-1.078-.054 2.512-8.587 1.467-26.17-11.536-21.622-1.004.35-1.416 1.212-1.392 2.052a2.16 2.16 0 00-.106.596c-.143 5.279-1.197 10.293-4.139 14.773-3.609 5.494-9.59 5.034-15.508 4.398-1.91-.205-3.856-.68-5.786-.556-2.383.152-2.539.866-3.184 2.81a2.108 2.108 0 00-.114.675c0 10.711.01 21.422.17 32.131.049 3.252 5.117 2.931 7.328 3.184zm6.733-33.826c12.685.563 17.982-10.981 18.543-22.675 7.784-1.262 6.523 12.45 4.898 17.496-.25-.05-.5-.09-.748-.147-2.564-.571-3.653 3.362-1.085 3.934 5.402 1.206 10.787 1.208 16.215.17 2.582-.493 1.486-4.425-1.085-3.933a34.786 34.786 0 01-4.042.525c.004-.079.004-.11 0-.095l.038-.237c.025-.174.05-.348.073-.523 4.337-2.794 9.27-3.285 14.343-2.254 2.32 3.052 1.476 6.52-.58 9.471-.356.512-.423 1.015-.31 1.458-.05.515.12 1.057.63 1.525 3.655 3.353 3.612 7.354.127 10.755-.803.368-1.354 1.189-.992 2.285 1.058 3.208.49 6.133-2.293 8.237-.088.066-.157.14-.23.213-.746.403-1.283 1.203-1.047 2.261.323 1.457.5 3.167-.41 4.463-.936 1.331-2.606 1.757-4.115 2.038a2.068 2.068 0 00-.585.207c-3.744.607-7.492 1.067-11.283 1.25-.044.002-.081.014-.123.018-9.121-1.522-18.212-3.106-27.046-5.895-.088-.028-.17-.037-.254-.054 1.219-10.148 2.144-20.284 1.361-30.493zm-4.093-.211c.782 9.907-.054 19.746-1.218 29.592-1.56-.103-3.121-.205-4.684-.305-.134-9.911-.153-19.822-.153-29.734 2.026.022 4.043.19 6.055.447z\"\n          fill={this.state.glowRight ? '#ffffff' : '#555555'}/>\n        <path \n          fillRule=\"evenodd\" \n          clipRule=\"evenodd\" \n          d=\"M66.8726 115.992C94.4827 115.51 116.474 92.7374 115.992 65.1274C115.51 37.5174 92.7374 15.5257 65.1274 16.0076C37.5174 16.4896 15.5257 39.2626 16.0076 66.8726C16.4896 94.4827 39.2626 116.474 66.8726 115.992ZM66.8028 111.993C92.204 111.55 112.436 90.5984 111.993 65.1972C111.55 39.796 90.5984 19.5636 65.1972 20.007C39.796 20.4504 19.5636 41.4016 20.007 66.8028C20.4504 92.204 41.4016 112.436 66.8028 111.993Z\" \n          fill={this.state.glowRight ? '#ffffff' : '#555555'}/>\n        </g>\n        <defs>\n        { this.state.glowRight ? \n          <filter id=\"filter0_dd1\" x=\"0.13501\" y=\"0.13501\" width=\"131.73\" height=\"131.73\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n            <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n            <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n            <feOffset/>\n            <feGaussianBlur stdDeviation=\"7.5\"/>\n            <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.08 0 0 0 0 1 0 0 0 0 0 0 0 0 1 0\"/>\n            <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n            <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n            <feOffset/>\n            <feGaussianBlur stdDeviation=\"2.5\"/>\n            <feColorMatrix type=\"matrix\" values=\"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 1 0\"/>\n            <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n            <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n          </filter>\n        : <svg width=\"102\" height=\"102\" viewBox=\"0 0 102 102\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path d=\"M77.0177 27.2216C71.749 26.7113 66.6781 25.0051 61.5061 23.9511C56.0367 22.8369 50.5161 21.9958 44.996 21.1755C44.8856 21.1588 44.7815 21.1606 44.677 21.1593C44.5021 21.1246 44.3181 21.1045 44.1124 21.118C39.8811 21.3956 35.6969 22.0121 31.5264 22.7704C31.2564 22.8197 31.0373 22.9129 30.8468 23.0283C28.4346 23.5792 25.992 24.7617 24.706 26.9728C23.5827 28.9043 23.4274 31.0332 23.7441 33.1584C20.5408 36.0711 19.2384 39.8916 20.2674 44.1005C16.023 48.7101 15.8856 54.7316 20.1049 59.2518C17.5673 63.72 17.7345 68.6501 21.1271 72.7818C21.3481 73.0509 21.5897 73.2283 21.8385 73.3358C22.0378 73.4637 22.2695 73.5663 22.5521 73.6217C29.1235 74.912 35.8026 74.1964 41.2346 70.029C41.8084 69.5891 42.0592 69.001 42.0787 68.4154C42.1524 68.2013 42.2003 67.9769 42.2061 67.7408C42.2137 67.5954 42.2135 67.5431 42.2073 67.5629C42.2186 67.4842 42.2307 67.4048 42.2416 67.3264C42.2875 66.9574 42.3399 66.5913 42.348 66.2194C42.7083 66.2261 43.0682 66.2343 43.4276 66.2551C41.0659 74.8836 42.4168 92.4456 55.3386 87.6719C56.3364 87.3037 56.7329 86.435 56.6951 85.5962C56.7491 85.4124 56.7878 85.2169 56.7899 84.9984C56.8407 79.7175 57.8071 74.6863 60.6708 70.1557C64.1832 64.5986 70.1722 64.9545 76.0998 65.487C78.0124 65.6592 79.9675 66.0991 81.8947 65.9421C84.2743 65.7481 84.4179 65.0318 85.0285 63.0768C85.0926 62.8717 85.1359 62.6509 85.1315 62.3997C84.9446 51.6904 84.7468 40.9813 84.4002 30.2766C84.2947 27.0264 79.2329 27.4356 77.0177 27.2216ZM70.8764 61.1608C58.1836 60.8195 53.0886 72.454 52.7317 84.1557C44.9711 85.5539 45.9928 71.8212 47.5297 66.7481C47.7796 66.7939 48.0303 66.8302 48.2803 66.8816C50.8529 67.4082 51.8733 63.4564 49.296 62.9292C43.8742 61.8186 38.4898 61.9097 33.0807 63.0418C30.5072 63.5803 31.672 67.4932 34.2338 66.9562C35.5776 66.675 36.9214 66.481 38.2665 66.3609C38.2636 66.4394 38.2641 66.4712 38.2681 66.4559C38.2568 66.5353 38.2447 66.614 38.2335 66.6932C38.2123 66.8678 38.1892 67.0425 38.17 67.217C33.8825 70.0867 28.9593 70.6635 23.8683 69.7218C21.495 66.7108 22.2792 63.2287 24.2829 60.2415C24.6301 59.7236 24.6888 59.22 24.5674 58.7785C24.6096 58.263 24.4299 57.7237 23.9118 57.2653C20.1986 53.9763 20.1719 49.9747 23.597 46.5133C24.3934 46.1316 24.93 45.3014 24.5488 44.2113C23.4344 41.0226 23.9522 38.0885 26.6972 35.9359C26.7838 35.8683 26.8523 35.7926 26.9246 35.7184C27.6631 35.3033 28.1851 34.4936 27.9311 33.4398C27.5823 31.9887 27.3754 30.2824 28.2633 28.9702C29.1753 27.6233 30.8378 27.1685 32.3419 26.8613C32.567 26.8149 32.7539 26.7357 32.9233 26.6435C36.6557 25.9717 40.3952 25.4461 44.1828 25.197C44.2266 25.1939 44.2634 25.1814 44.3058 25.177C53.4517 26.5391 62.5684 27.9647 71.4501 30.5993C71.5383 30.6254 71.6205 30.6327 71.705 30.6482C70.6635 40.8162 69.9157 50.9667 70.8764 61.1608ZM74.9725 61.3006C74.0178 51.4081 74.6823 41.5564 75.6733 31.6912C77.2358 31.7675 78.7982 31.8419 80.362 31.9151C80.6692 41.8222 80.861 51.7312 81.0347 61.6413C79.0083 61.655 76.989 61.5217 74.9725 61.3006Z\" fill=\"white\"/>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M51.8726 100.992C79.4827 100.51 101.474 77.7374 100.992 50.1274C100.51 22.5174 77.7374 0.525694 50.1274 1.00763C22.5174 1.48956 0.525695 24.2626 1.00763 51.8726C1.48956 79.4827 24.2626 101.474 51.8726 100.992ZM51.8028 96.993C77.204 96.5496 97.4364 75.5984 96.993 50.1972C96.5496 24.796 75.5984 4.56364 50.1972 5.00702C24.796 5.4504 4.56364 26.4016 5.00702 51.8028C5.4504 77.204 26.4016 97.4364 51.8028 96.993Z\" fill=\"white\"/>\n        </svg>\n         }\n        </defs>\n      </svg>\n    );\n  }\n\n  getRiver = () => {\n    return(\n      this.props.darkmode \n      ? <img src={RiverWhite} alt=\"\" className={classes.River} /> \n      : <img src={River} alt=\"\" className={classes.River} />\n    )\n  }\n\n  getRiverGlow = () => {\n    return (\n      this.props.darkmode \n      ? <img src={RiverGlow} alt=\"\" className={classes.RiverGlow} /> \n      : null\n    )\n  }\n\n  getStreamElements = () => {\n    let streamElements = [];\n    this.props.streamElements.forEach((element) => {\n      streamElements.unshift(\n        <StreamElement\n          halfLeft={this.state.glowLeft}\n          halfRight={this.state.glowRight}\n          key={element.id}\n          {...element}\n          dropping={this.droppingHandler}\n        />\n      );\n    });\n    return streamElements;\n  }\n\n  render = () => {\n    const styleClasses = [classes.Stream];\n    if (this.props.currentTab !== 'stream') {\n      styleClasses.push(classes.OutRight);\n    }\n    return (\n      <div className={styleClasses.join(\" \")}>\n        {this.getRiver()}\n        {this.getRiverGlow()}\n        <img src={Boat} alt=\"\" className={classes.Boat1} />\n        <img src={Boat} alt=\"\" className={classes.Boat2} />\n        {this.getStreamElements()}\n        {this.getLeftThumb()}\n        {this.getRightThumb()}\n      </div>\n    );\n  };\n}\n\nconst mapStateToProps = state => {\n  return {\n    timeStampLastSwipe: state.stream.timeStampLastSwipe,\n    streamElements: state.stream.streamElements,\n    initialStreamLoad: state.stream.initialStreamLoad,\n    streamStatus: state.stream.streamStatus,\n\n    currentTab: state.ui.currentTab,\n    modalOpen: state.ui.modalOpen,\n    menuOpen: state.ui.menu.open,\n    darkmode: state.ui.darkmode,\n\n    anonymousId: state.user.anonymousId,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFetchIds: () => dispatch(streamActions.fetchIds()),\n    onSwipe: (dir, dropId, anonymousId) => dispatch(streamActions.swipe(dir, dropId, anonymousId)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Stream);\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner'; \n\nimport classes from './AddButton.module.css';\n\nclass AddButton extends Component {\n\n\n    getAddIcon = (inverted) => {\n        return (\n            <svg className={classes.AddIcon} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g id=\"person_add_24px\">\n                    <path id=\"icon/social/person_add_24px\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M15 12C17.21 12 19 10.21 19 8C19 5.78998 17.21 4 15 4C12.79 4 11 5.78998 11 8C11 10.21 12.79 12 15 12ZM15 6C16.1 6 17 6.90002 17 8C17 9.09998 16.1 10 15 10C13.9 10 13 9.09998 13 8C13 6.90002 13.9 6 15 6ZM7 18C7 15.34 12.33 14 15 14C17.67 14 23 15.34 23 18V20H7V18ZM9 18C9.21997 17.28 12.3101 16 15 16C17.7 16 20.8 17.29 21 18H9ZM6 12V15H4V12H1V10H4V7H6V10H9V12H6Z\" fill={inverted ? \"#444444\" : \"#abcdef\" } />\n                </g>\n            </svg>\n        )\n    }\n\n    getCheckMark = () => {\n        return(\n            <svg className={classes.AddIcon} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n            <g id=\"check_24px\">\n            <path id=\"icon/navigation/check_24px\" d=\"M8.79496 15.875L4.62496 11.705L3.20496 13.115L8.79496 18.705L20.795 6.70501L19.385 5.29501L8.79496 15.875Z\" fill=\"#abcdef\"/>\n            </g>\n            </svg>\n        )\n    }\n\n    render() {\n\n        let styleClasses = [classes.AddButton]\n        let button;\n        let title;\n        if(this.props.type==='sending'){\n            button = <Loader className={classes.Spinner} type=\"TailSpin\" color={this.props.inverted ? '#000000' : '#abcdef'} height={18} width={18}/>; \n            styleClasses.push(classes.Loading)\n            title = 'sending friend request...'\n        }\n        if(this.props.type==='accepting'){\n            button = <Loader className={classes.Spinner} type=\"TailSpin\" color={this.props.inverted ? '#000000' : '#abcdef'} height={18} width={18}/>; \n            styleClasses.push(classes.Loading)\n            title = 'accepting friend request...'\n        }\n        if(this.props.type === 'add'){\n            button = this.getAddIcon(this.props.inverted); \n            title = 'send friend request';\n            styleClasses.push(classes.GlowOnHover);\n            styleClasses.push(classes.Clickable);\n        }\n        if(this.props.type === 'received'){\n            button = <span className={classes.TextButton}>accept</span>;\n            title = 'accept friend request';\n            styleClasses.push(classes.AcceptButton);\n            styleClasses.push(classes.GlowOnHover);\n            styleClasses.push(classes.Clickable);\n        }\n        if(this.props.type === 'sent'){\n            button = <span className={classes.TextButton}>requested</span>;\n            title = 'friend request sent';\n        }\n        styleClasses.push(this.props.inverted ? classes.Inverted : classes.NotIverted);\n        \n        return(\n            <div \n                title={title} \n                className={styleClasses.join(' ')} \n                onClick={(event) => {\n                    event.preventDefault();\n                    event.stopPropagation();\n                    this.props.clicked()\n                }}\n                >\n                {button}\n            </div>\n        )\n    }\n}\n\nexport default AddButton;","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport classes from \"./ChatPrev.module.css\";\nimport DefaultProfilePic from \"../../../../media/DefaultProfilePic.png\";\nimport AddButton from './AddButton/AddButton';\nimport Connector from './Connector.svg';\nimport * as actions from '../../../../store/actions/index';\n\n\nclass ChatPrev extends Component {\n\n  state={\n    connectorsOut: false\n  }\n\n  getConnector = (up) => {\n    return <img \n      src={Connector} \n      alt='' \n      className={`${up ? classes.ConnectorUp : classes.ConnectorDown}`}/>\n  }\n\n  getButton = (chatPartner, active) => {\n    let buttonType;\n    let buttonClick = () => console.log('Nothing should happen');\n    if(!this.props.friends.some(friend => friend.userId === chatPartner.userId)){\n      buttonType = 'add';\n      buttonClick = () => this.props.onSendFriendRequest(chatPartner, this.props.chatId.startsWith('request') ? this.props.chatId : null);\n    }\n    if(this.props.sentFriendRequests.some(user => user.userId === chatPartner.userId)){\n      buttonType= 'sent';\n    }\n    if(this.props.sendingFriendRequests.some(user => user.userId === chatPartner.userId)){\n      buttonType='sending';\n    }\n    if(this.props.acceptingFriendRequests.some(user => user.userId === chatPartner.userId)){\n      buttonType='accepting';\n    }\n    if(this.props.receivedFriendRequests.some(user => user.userId === chatPartner.userId)){\n      buttonType='received';\n      buttonClick = () => this.props.onAcceptFriendRequest(chatPartner);\n    }\n    return buttonType ? <AddButton type={buttonType} clicked={buttonClick} inverted={active}/> : null;\n  }\n\n  render() {\n    const unreadMessages = this.props.notifiaction\n      .filter(n => (n.type.startsWith('NEW_MESSAGE') && n.chatId === this.props.chatId)\n        || (n.type.startsWith('NEW_CHAT') && n.chatId === this.props.chatId)); \n    const notifiactionStype = unreadMessages.length > 99 \n      ? classes.TrippleDigit : unreadMessages.length > 9 \n        ? classes.DoubleDigit : classes.SingleDigit\n    const chatPartner = this.props.members.filter(m => m.userId !== this.props.userId)[0];\n    if(!chatPartner) console.log(this.props.members, this.props.userId);\n    const name = chatPartner.name;\n    const preview = this.props.messages.length > 0 ? this.props.messages[this.props.messages.length-1].text : '@' + chatPartner.handle;\n    const profilePicSrc = chatPartner.profilePic ? `${process.env.REACT_APP_PROFILE_PICTURES_SOURCE_URL}` + chatPartner.userId : DefaultProfilePic;\n\n    const active = this.props.chatId === this.props.currentChatId;\n    let styleClasses = [classes.ChatPrev];\n    if(active) styleClasses.push(classes.Active);\n\n    return (\n      <div onClick={this.props.clicked} className={styleClasses.join(\" \")}>\n        {active ? this.getConnector(true) : null } \n        {active ? this.getConnector(false) : null } \n        <img src={profilePicSrc} alt=\" \" className={classes.ProfilePic}/>\n        <div className={classes.Info}>\n          <h3 className={classes.Name}>{name}</h3>\n          <p className={classes.Preview}>{preview}</p>\n        </div>\n        { \n          unreadMessages.length > 0\n          ? <div className={notifiactionStype}>\n                  <span className={classes.NotificationCount}>{unreadMessages.length}</span>\n            </div> \n          : null \n        }\n    {this.getButton(chatPartner, active)}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    darkmode: state.ui.darkmode,\n\n    currentChatId: state.chat.currentChatId,\n    unreadMessages: state.chat.unreadMessages, \n    seenUpdatesChats: state.chat.seenUpdatesChats,\n    chats: state.chat.chats,\n    allUsers: state.chat.allUsers,\n    friends: state.chat.friends,\n    acceptingFriendRequests: state.chat.acceptingFriendRequests,\n    sendingFriendRequests: state.chat.sendingFriendRequests,\n    sentFriendRequests: state.chat.sentFriendRequests, \n    receivedFriendRequests: state.chat.receivedFriendRequests,\n\n    notifiaction: state.user.notifications,\n    token: state.user.token,\n    userId: state.user.userId,\n\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onChangeChat: (chatId) => dispatch(actions.changeChat(chatId)),\n    onSendFriendRequest: (user) => dispatch(actions.sendFriendRequest(user)),\n    onAcceptFriendRequest: (user) => dispatch(actions.acceptFriendRequest(user)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatPrev);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport Loader from 'react-loader-spinner';\n\nimport ChatPrev from './ChatPrev/ChatPrev';\nimport classes from './ChatPreviews.module.css';\nimport * as actions from '../../../store/actions/index';\n\n\nclass ChatPreviews extends Component {\n\n    state = {\n      searching: false,\n      searchInput: ''\n    }\n\n    componentDidUpdate = () => {\n      if(this.searchInput) this.searchInput.focus();\n    }\n\n    clicked = (chatId) => {\n      this.props.onChangeChat(chatId);\n      document.getElementById('chatForm').focus();\n    }\n\n    getChats = () => {\n      let chats = [];\n      if(this.props.chatsStatus === 'loading'){\n        chats = \n        <div className={classes.LoaderContainer}>\n          <Loader \n            className={classes.Spinner} \n            type=\"ThreeDots\" \n            color=\"#00BFFF\" \n            height={30} \n            width={30}/> \n        </div>\n      }else {\n        chats = this.props.chats\n        .sort((chatA, chatB) => chatB.lastInteraction - chatA.lastInteraction)\n        .map(chat => {\n            return (\n              <ChatPrev \n                {...chat}\n                key={chat.chatId}\n                clicked={() => this.clicked(chat.chatId)}\n              /> \n            )\n          })\n        \n      }\n      return chats\n    }\n\n    getSearchIcon() {\n      return (\n        <svg className={classes.SearchIcon} onClick={this.state.searching ? () => this.closeSearch() : () => this.openSearch()} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <g id=\"search_24px\">\n          <path id=\"icon/action/search_24px\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M14.965 14.255H15.755L20.745 19.255L19.255 20.745L14.255 15.755V14.965L13.985 14.685C12.845 15.665 11.365 16.255 9.755 16.255C6.16504 16.255 3.255 13.345 3.255 9.755C3.255 6.16501 6.16504 3.255 9.755 3.255C13.345 3.255 16.255 6.16501 16.255 9.755C16.255 11.365 15.665 12.845 14.6851 13.985L14.965 14.255ZM5.255 9.755C5.255 12.245 7.26501 14.255 9.755 14.255C12.245 14.255 14.255 12.245 14.255 9.755C14.255 7.26501 12.245 5.255 9.755 5.255C7.26501 5.255 5.255 7.26501 5.255 9.755Z\" fill={'#ffffff'}/>\n          </g>\n        </svg>\n      )\n    }\n\n    getSearchInput = () => {\n      if(this.state.searching){\n        return (\n          <input \n          placeholder={\"Search by username or @handle\"}\n          ref={(input) => { this.searchInput = input; }} \n          type=\"text\" \n          value={this.state.searchInput} \n          onChange={this.onSearchInput}\n          className={classes.SearchInput}/> \n        )\n      }\n      return null;\n    }\n\n    openSearch = () => {\n      this.setState({searching: true})\n    }\n\n    closeSearch = () => {\n      this.setState({searching: false, searchInput: ''})\n    }\n\n    onSearchInput = (event) => {\n      this.setState({searchInput: event.target.value});\n    }\n\n    getNewChatIcon = () => {\n      return(\n        <svg className={classes.AddChatIcon} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <g id=\"chat_bubble_outline_24px\">\n          <path id=\"icon/communication/chat_bubble_outline_24px\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M4 2H20C21.1 2 22 2.89999 22 4V16C22 17.1 21.1 18 20 18H6L2 22V4C2 2.89999 2.90002 2 4 2ZM6 16H20V4H4V18L6 16Z\" fill=\"#ffffff\"/>\n          <rect id=\"Rectangle 6\" x=\"7\" y=\"9\" width=\"10\" height=\"2\" fill=\"#ffffff\"/>\n          <rect id=\"Rectangle 7\" x=\"11\" y=\"5\" width=\"2\" height=\"10\" fill=\"#ffffff\"/>\n          </g>\n        </svg>\n      )\n    }\n\n    getNewChatButton = () => {\n      if(!this.state.searching){\n        return(\n          <div className={classes.NewChatContainer} onClick={this.props.token ? this.props.onOpenNewChatModal : null}>\n            {this.getNewChatIcon()}\n            <h3 className={classes.NewChatMessage}>new chat</h3>\n          </div>\n        )\n      }\n      return null;\n    }\n\n    render(){\n        return(\n            <div className={classes.ChatPreviews}>\n                <div className={classes.Header}>\n                  {/* <div className={classes.SearchContainer}>\n                    {this.getSearchIcon()}\n                      {this.getSearchInput()}\n                  </div> */}\n                </div> \n                {this.getNewChatButton()}\n                <div className={classes.ScrollContainer}>\n                  {this.getChats()}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      userId: state.user.userId,\n      token: state.user.token,\n      notifications: state.user.notifications,\n\n      chats: state.chat.chats,\n      chatsStatus: state.chat.chatsStatus,\n      currentChatId: state.chat.currentChatId,\n      height: state.chat.formHeight,\n      \n      receivedFriendRequests: state.chat.receivedFriendRequests,\n      acceptingFriendRequests: state.chat.acceptingFriendRequests,\n\n      friends: state.chat.friends,\n      friendsStatus: state.chat.friendsStatus,\n\n      allUsers: state.chat.allUsers,\n      allUsersStatus: state.chat.allUsersStatus,\n\n      currentTab: state.ui.currentTab,\n      darkmode: state.ui.currentTab,\n\n    }\n  }\n  \n  const mapDispatchToProps = dispatch => {\n    return {\n      onFetchAllUsers: () => dispatch(actions.fetchAllUsers()),\n      onChangeChat: (chatId, user, self, inputRef) => dispatch(actions.changeChat(chatId, user, self, inputRef)), \n      onOpenNewChatModal: () => dispatch(actions.openNewChatModal()),\n    }\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(ChatPreviews);","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport classes from './ChatForm.module.css';\n\nimport NeumorphismButton from '../../../UI/NeumorphismButton/NeumorphismButton';\n\nimport * as actions from '../../../../store/actions/index';\n\n\nclass ChatForm extends Component { \n    \n    state = {\n        inputValue: ''\n    }\n\n    componentDidMount(){\n        window.addEventListener('keypress', this.enterHandler);\n    }\n\n\n    onInput = event => {\n        this.setState({inputValue: event.target.value});\n    }\n\n    enterHandler = (event) => {\n        if(event.keyCode === 13 && !event.shiftKey && this.state.inputValue.length > 0 ){\n            event.preventDefault();\n            this.submitHandler();\n        }\n    }\n\n    submitHandler = () => {\n        if(this.props.currentChatId.startsWith('dummy')){\n            const currentChat = this.props.chats.find(c => c.chatId === this.props.currentChatId);\n            const self = currentChat.members.find(m => m.userId === this.props.userId);\n            const chatPartner = currentChat.members.find(m => m.userId !== this.props.userId);\n            if(this.props.creatingChats.some(id => id === this.props.currentChatId)){\n                this.props.onAddMessageToBuffer(this.props.currentChatId, this.state.inputValue, this.props.userId);\n            }else {\n                this.props.onSendFirstMessageNewChat(this.props.currentChatId, self, chatPartner, this.state.inputValue);\n\n            }\n        }else {\n            this.props.onSendTextMessage(this.props.currentChatId, this.state.inputValue, this.props.userId);\n        }\n        this.setState({inputValue: ''});\n    }\n\n    getArrowRight = () => {\n        return(\n            <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g id=\"arrow_forward_24px\">\n                <path id=\"icon/navigation/arrow_forward_24px\" d=\"M12 4L10.59 5.41L16.17 11H4V13H16.17L10.59 18.59L12 20L20 12L12 4Z\" fill={this.state.inputValue.length === 0 ? 'grey' : 'black'} fillOpacity=\"0.54\"/>\n                </g>\n            </svg>\n        )\n    }  \n\n    render() {\n        return(\n            <div className={classes.ChatInput}>\n                <div className={classes.TextareaContainer}\n                    // onDragEnter={() => setDragging(true)}\n                    // onDragLeave={() => setDragging(false)}>\n                >\n                    <textarea \n                        id=\"chatForm\"\n                        className={classes.Textarea} \n                        style={{height: `${this.props.formHeight+5}px`}}\n                        value={this.state.inputValue}\n                        rows={1}\n                        onChange={this.onInput}\n                    />                \n                    <NeumorphismButton\n                        colorTheme='light'\n                        buttonType='SubmitComment'\n                        clicked={this.submitHandler} \n                        className={classes.SubmitButton} \n                        type='submit'>\n                            {this.getArrowRight()}\n                    </NeumorphismButton>\n                </div> \n            </div>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        currentChatLoaded: state.chat.currentChatLoaded,\n        formHeight: state.chat.formHeight,\n        chats: state.chat.chats,\n        currentChatId: state.chat.currentChatId,\n        chatInput: state.chat.chatInput,\n        creatingChats: state.chat.creatingChats,\n\n        userId: state.user.userId,\n        handle: state.user.handle,\n        profilePic: state.user.hasProfilePic, \n        name: state.user.name,\n\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onChangeFormHeight: (height) => dispatch(actions.changeFormHeight(height)),\n        onSendTextMessage: (chatId, text, userId) => dispatch(actions.sendTextMessage(chatId, text, userId)), \n        onSendFirstMessageNewChat: (dummyChatId, self, chatPartner, text) => dispatch(actions.sendFirstMessageNewChat(dummyChatId, self, chatPartner, text)),\n        onAddMessageToBuffer: (dummyChatId, text, userId) => dispatch(actions.addMessageToBuffer(dummyChatId, text, userId)),\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatForm);","import React, { Component } from \"react\";\n\nimport classes from \"./Message.module.css\";\n\nimport StupidFuckingFace from '../../../../media/stupidfuckingface.jpeg';\n\nclass Message extends Component {\n\n  \n\n  getMessage = () => {\n    switch(this.props.type){\n      case 'text': return <p className={classes.Text}>{this.props.text}</p>\n      case 'image': return ([\n        <img className={classes.Image} /*src={this.props.src}*/ src={StupidFuckingFace} alt='' key='image' />,\n        this.props.text ? <p className={classes.Text} key='description'>{this.props.text}</p> : null\n      ])\n      case 'drop': \n        return ( \n          <div>\n            {this.props.title ? <p className={classes.Text}>{this.props.title}</p> : null }\n            <img className={classes.Drop} src={`https://storage.googleapis.com/drop-meme-bucket/meme-${this.props.dropId}`} key='drop' alt='could not load meme. Refresh motherfucker.'/>\n          </div>\n        )\n      default: return null\n    }\n  }\n\n  render() {\n    const containerStyleclasses = [classes.MessageContainer];\n    if(this.props.sent){\n      containerStyleclasses.push(classes.Sent);\n    }else{\n      containerStyleclasses.push(classes.Received);\n    }\n    if(this.props.sending){\n      containerStyleclasses.push(classes.Sending);\n    }\n    if(this.props.messageNew){\n      containerStyleclasses.push(classes.New);\n    } \n    return (\n      <div className={containerStyleclasses.join(' ')}>\n        {/* <Sender sender={this.props.sender}/> */}\n        <div className={classes.Message}>\n          {this.getMessage()}\n          {/* <span className={classes.Time}>{new Date(this.props.time).getHours()}</span> */}\n        </div>\n      </div>\n    );\n  }\n}\n\n\n\nexport default Message;\n","import React, { useEffect, createRef } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../../store/actions/index';\n\nimport classes from './ChatWindow.module.css';\nimport ChatForm from './ChatForm/ChatForm';\nimport Message from './Message/Message';\n\nconst ChatWindow = props => {\n\n\n  useEffect(() => {\n    scrollToBottom();\n    if(props.currentTab === 'chat'){\n      const currentMessageNotificatios = props.notifications.filter(n => n.type.startsWith('NEW_MESSAGE') && n.chatId === props.currentChatId);\n      if(currentMessageNotificatios.length > 0){\n        const messageIds = currentMessageNotificatios.map(n => n.message.id);\n        props.onSendMessagesRead(props.currentChatId, messageIds);\n      }\n      const currentNewChatNotifications = props.notifications.find(n => {\n        if(n.type.startsWith('NEW_CHAT')){\n          console.log('FOUND NEW CHAT NOTIFICATON');\n          console.log(props.currentChatId);\n          console.log(n.chatId);\n          if(n.chatId === props.currentChatId) return true;\n        }\n        return false;\n      })\n      if(currentNewChatNotifications){\n        console.log('Found new Chat Notification')\n        console.log(currentNewChatNotifications);\n        props.onDeleteNotification(currentNewChatNotifications.id);\n      }\n    }\n\n  })\n\n  const scrollToBottom = (smooth) => {\n    bottomRef.current.scrollIntoView({behavior: smooth ? 'smooth' : 'auto', block: \"start\", inline: \"nearest\"});\n  }\n\n  const bottomRef = createRef()\n\n\n  let messages = [];\n  let foundAllOldMessages = false;\n  const currentChat = props.chats.find((x) => x.chatId === props.currentChatId);\n  if(currentChat){\n    currentChat.messages.forEach(message => {\n      if(!message.new){\n        messages.push(\n          <Message           \n            {...message} \n            key={message.id}\n            sent={props.userId === message.sender}\n          />\n        )\n      } else {\n        if(!foundAllOldMessages){\n          messages.push(\n            <div key='separator' className={classes.NewMessageSeparator}>new messages</div>\n          )\n          foundAllOldMessages = true;\n        }\n        messages.push(\n          <Message           \n            {...message} \n            new\n            key={message.id}\n            sent={props.userId === message.sender}\n          />\n        )\n      }\n    })\n  }\n  let styleClasses = [classes.ChatWindow];\n  styleClasses.push(props.windowWidth < 1277 ? classes.SmallChatWindow : classes.BigChatWindow);\n  return (\n    <div className={styleClasses.join(' ')}>\n      <div\n        className={classes.Messages} \n        style={{height: `calc(80vh-${props.formHeight}px)`}}>\n        <p className={classes.NotEncryptedMessage}>\n          This Chat is not yet end-to-end encrypted. <br/>\n          Or encrypted. But it is end-to-end, lol. <br/>\n          What I mean is maybe don't send nudes here just yet. <br/>\n        </p>\n        {/* {oldMessages}\n        {newMessages.length > 0 ? <div className={classes.NewMessageSeparator}>new messages</div> : null }\n        {newMessages} */}\n        {messages}\n        <div style={{ height: \"90px\"}} ref={bottomRef}></div>\n      </div>\n      <ChatForm inputRef={props.inputRef}/>\n    </div>\n  )\n}\n\nconst mapStateToProps = state => {\n    return {\n      windowWidth: state.ui.windowWidth,\n\n      height: state.chat.formHeight,\n      currentTab: state.ui.currentTab,\n\n      chatsStatus: state.chat.chatsStatus,\n      currentChatId: state.chat.currentChatId,\n      chats: state.chat.chats,\n      unreadMessages: state.chat.unreadMessages,\n\n      userId: state.user.userId, \n      notifications: state.user.notifications,\n    }\n  }\n  \n  const mapDispatchToProps = dispatch => {\n    return {\n      onSendMessagesRead: (chatId, messageIds) => dispatch(actions.sendMessagesRead(chatId, messageIds)),\n      onDeleteNotification: (notificationId) => dispatch(actions.deleteNotification(notificationId)),\n    }\n  }\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(ChatWindow);","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../store/actions/index'; \n\nimport classes from \"./Chat.module.css\";\nimport ChatPrevs from './ChatPreviews/ChatPreviews';\nimport ChatWindow from './ChatWindow/ChatWindow';\nimport PrimaryButton from '../UI/PrimaryButton/PrimaryButton';\n\nclass Chat extends Component {\n\n  state = {\n    textInput: 'placeholder'\n  }\n  \n  componentDidUpdate = () => {\n    const unbufferMessage = this.props.messageBuffer.find(m => !m.dummyChatId.startsWith('dummy') && !m.sending); \n    if(unbufferMessage){\n      console.log('Sending Message');\n      console.log(unbufferMessage); \n      this.props.onSendMessageFromBuffer(\n        unbufferMessage.id, \n        unbufferMessage.dummyChatId, \n        unbufferMessage.dummyMessageId,\n        unbufferMessage.text\n      );\n    }\n  }\n\n  setChatFormInputValue = (event) => {\n    this.setState({textInput: event.target.value})\n  }\n\n  changeChat = (chatId) => {\n    this.props.onChangeChat(chatId, null, null, this.state.textInput);\n    this.props.onChangeShouldDeleteInput(true);\n  }\n\n  getNotLoggedInMessage = () => {\n    return(\n      <div className={classes.NotLoggedInContainer}>\n        <div className={classes.NotLoggedInMessage}>\n          <div className={classes.InnerContainer}>\n            <PrimaryButton clicked={this.props.onOpenMenu}><h3>Log in</h3></PrimaryButton>\n            or\n            <PrimaryButton clicked={this.props.onOpenMenu}><h3>Create Account</h3></PrimaryButton> \n            to use the Dropchat!\n            <p>Chat with friends and share memes!</p>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    const styleClasses = [classes.Chat];\n    if (this.props.currentTab === 'stream') styleClasses.push(classes.OutLeft);\n    if (this.props.currentTab === 'creator') styleClasses.push(classes.OutRight);\n    return (\n      <div className={styleClasses.join(\" \")}>\n        { !this.props.token ? this.getNotLoggedInMessage() : null }\n        <ChatPrevs/>\n        <ChatWindow/>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentTab: state.ui.currentTab,\n    token: state.user.token,\n    chats: state.stream.chats,\n    messageBuffer: state.chat.messageBuffer,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onOpenMenu: () => dispatch(actions.openMenu()),\n    onChangeChat: (chatId, self, user, inputValue) => dispatch(actions.changeChat(chatId, self, user, inputValue)),\n    onSendMessageFromBuffer: (id, dummyChatId, dummyMessageId, text) => dispatch(actions.sendMessageFromBuffer(id, dummyChatId, dummyMessageId, text)), \n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Chat);\n","import React, { Component } from 'react';\nimport classes from './ResizeHandler.module.css';\n\n\nclass ResizeHandler extends Component {\n\n    componentDidMount = () => {\n        let element = document.getElementById(`rsh-${this.props.dir}`);\n        if(element){\n            element.addEventListener('onmousedown', this.handleResizeMouseDown);\n        }\n    }\n\n    componentWillUnmount = () => {\n        let element = document.getElementById(`rsh-${this.props.dir}`);\n        if(element){\n            element.removeEventListener('onmousedown', this.handleResizeMouseDown)\n        }\n    }\n\n    handleResizeMouseDown = e => {\n        e.stopPropagation();\n        this.props.resizeMouseDown(e, this.props.dir, this.props.elementId);\n    }\n\n    getStyleClasses = () => {\n        let styles = [this.props.dir.length > 1 ? classes.Corner : classes.Edge];\n        switch(this.props.dir){ \n            case 'NW': styles.push(classes.NW);break;\n            case 'NE': styles.push(classes.NE);break;\n            case 'SW': styles.push(classes.SW);break;\n            case 'SE': styles.push(classes.SE);break;\n            case 'N': styles.push(classes.N);break;\n            case 'W': styles.push(classes.W);break;\n            case 'S': styles.push(classes.S);break;\n            case 'E': styles.push(classes.E);break;\n        }\n        return styles;\n    } \n\n\n    render() {\n        return(\n            <div \n                id={`rsh-${this.props.dir}`}\n                className={this.getStyleClasses().join(' ')} \n                onMouseDown={e => this.props.resizeMouseDown(e, this.props.dir, this.props.elementId)}>\n            </div>\n        )\n    }\n}\n\nexport default ResizeHandler;","import React from 'react';\nimport useFitText from 'use-fit-text'; \n\nimport classes from './TextElement.module.css'; \n\nconst AutoResizeTextElement = (props) => {\n\n    const { fontSize, ref } = useFitText(); \n\n    const {font, height, width, fontWeight, verticalAlign, elementId } = props.element;\n\n    const verticalAlignClass = \n    verticalAlign === 'top' ? classes.topAlign \n    : verticalAlign === 'bottom' ? classes.bottomAlign \n    : classes.middleAlign;\n\n    return(\n        <div\n            contentEditable={props.editing}\n            suppressContentEditableWarning\n            type='text' \n            id={`${elementId}-input`}\n            className={`${classes.TextInput} ${verticalAlignClass}`} \n            // onDoubleClick={this.onTextFocus}\n            style={{\n                fontFamily: font,\n                fontWeight: fontWeight,\n                height,\n                width\n            }}\n            onInput={(e) => props.onTextInput(e, elementId)}>\n                <div \n                    ref={ref}\n                    style={{ fontSize, height, width }}\n                >\n                    {props.text}\n                </div>\n        </div>\n    )\n}\n\nexport default AutoResizeTextElement; ","import React from 'react';\nimport useFitText from 'use-fit-text'; \nimport AutoResizeTextElement from './AutoResizeTextElement';\n\nimport classes from './TextElement.module.css'; \n\nconst TextElement = (props) => {\n\n    const { fontSize, ref } = useFitText(); \n\n    const {font, height, width, fixedDimensions, fontWeight, verticalAlign, elementId } = props.element;\n\n    const verticalAlignClass = \n    verticalAlign === 'top' ? classes.topAlign \n    : verticalAlign === 'bottom' ? classes.bottomAlign \n    : classes.middleAlign;\n\n    if(fixedDimensions) return <AutoResizeTextElement {...props} />\n\n    return(\n        <div\n            contentEditable={props.editing}\n            suppressContentEditableWarning\n            type='text' \n            id={`${elementId}-input`}\n            className={`${classes.TextInput} ${verticalAlignClass}`} \n            // onDoubleClick={this.onTextFocus}\n            style={{\n                fontFamily: font,\n                fontWeight: fontWeight\n            }}\n            onInput={(e) => props.onTextInput(e, elementId)}>\n\n                    {props.text}\n        </div>\n    )\n}\n\nexport default TextElement; ","import React, { Component } from 'react';\n\nimport * as classes from './Element.module.css';\nimport ResizeHandler from './ResizeHandler/ResizeHandler';\nimport TextElement from './TextElement/TextElement';\n\n\n\nclass Element extends Component {\n\n    getStyles = () => {\n        const { height, width, posX, posY, font, fontSize, textAlign, fontWeight, underline, italic, color, textStroke, elementId } = this.props.element;\n        return {\n            height: `${height}px`, \n            width: `${width}px`,\n            left: `${posX}px`,\n            top: `${posY}px`,\n            fontFamily: `${font},Oswald,Impact`,\n            fontSize: `${fontSize}pt`,\n            textAlign: textAlign, \n            fontWeight: fontWeight,\n            fontStyle: italic ? 'italic' : 'normal',\n            backgroundColor: color,\n            textDecoration: underline ? 'underline' : 'none',\n            WebkitTextStrokeColor: textStroke ? \"black\" : null,\n            WebkitTextStrokeWidth: textStroke ? \"0.06rem\": null,\n            textShadow: textStroke ? \"0px 0px 0.1rem  #000\" : null,\n            cursor: this.props.editingId === elementId || this.props.inPreview ? null : 'grab', \n        }\n    }\n\n    getContent = () => {\n        const {color, elementId, imgSrc, text } = this.props.element;\n        switch(this.props.type){\n            case 'text': \n                return(\n                    <TextElement\n                        element={this.props.element}\n                        onInput={this.props.onTextInput}\n                        text={text}\n                        editing={this.props.editingId == elementId}\n                        onTextInput={this.props.onTextInput}\n                    />\n                )\n            case 'image': \n                return(\n                    <img\n                        src={imgSrc}\n                        className={classes.Image}\n                        id={`${elementId}-image`}\n                        onLoad={this.props.onImageLoad}\n                    />\n                )\n            case 'rect':\n                return (\n                    <div \n                        className={classes.Rect}\n                        style={{backgroundColor: color}}\n                    >\n                    </div>\n                )\n            default: return null;\n        }\n    }\n\n    highlighed = () => {\n        if(this.props.selected || !this.props.selectedLines) return false;\n        let Hlines = [];\n        let Vlines = [];\n        Hlines.push(this.props.element.posY)\n        Hlines.push((2* this.props.element.posY + this.props.element.height)/2)\n        Hlines.push(this.props.element.posY + this.props.element.height)\n        Vlines.push(this.props.element.posX)\n        Vlines.push((2* this.props.element.posX + this.props.element.width)/2)\n        Vlines.push(this.props.element.posX + this.props.element.width)\n        return Vlines.includes(this.props.selectedLines.v) || Hlines.includes(this.props.selectedLines.h);\n    }\n\n    mouseDown = (e) => {\n        e.stopPropagation(); \n        if(this.props.editingId !== this.props.element.elementId && !this.props.inPreview){\n            this.props.elementMouseDown(e, this.props.element.elementId);\n        }\n    }\n\n    mouseUp = (e) => {\n        e.stopPropagation();\n        if(this.props.editingId !== this.props.element.elementId && !this.props.inPreview){\n            this.props.select(e, this.props.element.elementId);\n        }\n    }\n\n    doubleClick = (e) => {\n        if(!this.props.inPreview){\n            if(this.props.element.type === 'text'){\n                this.props.selectAndEdit(e, this.props.element.elementId);\n            } else {\n                this.props.select(e, this.props.element.elementId);\n            }\n        }\n    }\n\n    render() {  \n        let styleClasses = [classes.Element];\n        if(this.highlighed()) styleClasses.push(classes.highlight);\n        return(\n            <div className={styleClasses.join(' ')}\n                onDoubleClick={this.doubleClick}\n                onMouseDown={this.mouseDown}\n                onMouseUp={this.mouseUp}\n                style={this.getStyles()}\n                id={`element-${this.props.element.elementId}`}\n            >\n                {this.getContent()}\n                {/* {this.getResizeHandlers()} */}\n            </div>\n        )\n    }\n}\n\nexport default Element;","import React, { Component } from 'react';\nimport classes from './Line.module.css';\n\n\nclass Line extends Component {\n\n\n    render() {\n        return(\n            <div \n                className={this.props.left === 0 ? classes.HL : classes.VL}\n                style={{\n                    top: `${this.props.top}px`,\n                    left: `${this.props.left}px`\n                }}>    \n            </div>\n        )\n    }\n}\n\nexport default Line;","import React, { useRef } from 'react';\nimport classes from './TopMenu.module.css';\n\nconst TopMenu = props => {\n\n    const inputFile = useRef(null) \n\n    const getRectangleIcon = () => {\n        return(\n            <svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect width=\"26\" height=\"26\" rx=\"3\" fill=\"white\"/>\n            </svg>\n\n        )\n    }\n\n    const getNewCircleIcon = () => {\n        return(\n            <svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M26 13C26 20.1797 20.1797 26 13 26C5.8203 26 0 20.1797 0 13C0 5.8203 5.8203 0 13 0C20.1797 0 26 5.8203 26 13Z\" fill=\"white\"/>\n            </svg>\n        )\n    }\n\n    const getNewTextElementIcon = () => {\n        return(\n            <svg width=\"23\" height=\"26\" viewBox=\"0 0 23 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M0 0H22.5V3H0V0Z\" fill=\"white\"/>\n                <path d=\"M0 3H3V7H0V3Z\" fill=\"white\"/>\n                <path d=\"M20 3H22.5V7H20V3Z\" fill=\"white\"/>\n                <path d=\"M7 23H16V26H7V23Z\" fill=\"white\"/>\n                <path d=\"M10 3H13V26H10V3Z\" fill=\"white\"/>\n            </svg>\n        )\n    }\n\n    const getNewImageIcon = () => {\n        return(\n            <svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M0.411133 20.9529L7.36393 14.0001L8.77815 15.4143L1.82535 22.3671L0.411133 20.9529Z\" fill=\"white\"/>\n                <path d=\"M10.0928 19.2714L19.3641 10.0001L20.7783 11.4143L11.507 20.6856L10.0928 19.2714Z\" fill=\"white\"/>\n                <path d=\"M7.41406 14L12.8181 19.404L11.4039 20.8182L5.99985 15.4142L7.41406 14Z\" fill=\"white\"/>\n                <path d=\"M19.4141 10L25.778 16.364L24.3638 17.7782L17.9998 11.4142L19.4141 10Z\" fill=\"white\"/>\n                <circle cx=\"9.5\" cy=\"8.5\" r=\"2.5\" stroke=\"white\" strokeWidth=\"2\"/>\n                <rect x=\"1\" y=\"1\" width=\"24\" height=\"24\" rx=\"1\" stroke=\"white\" strokeWidth=\"2\"/>\n            </svg>\n\n        )\n    }\n\n    const getShareIcon = () => {\n        return(\n            <svg \n                className={classes.shareIcon}\n                width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <line x1=\"10.4472\" y1=\"17.1056\" x2=\"20.4472\" y2=\"22.1056\" stroke=\"#fff\" strokeWidth=\"2\"/>\n                <line x1=\"9.55279\" y1=\"13.1056\" x2=\"19.5528\" y2=\"8.10557\" stroke=\"#fff\" strokeWidth=\"2\"/>\n                <circle cx=\"6\" cy=\"15\" r=\"5\" stroke=\"#fff\" strokeWidth=\"2\"/>\n                <circle cx=\"24\" cy=\"24\" r=\"5\" stroke=\"#fff\" strokeWidth=\"2\"/>\n                <circle cx=\"24\" cy=\"6\" r=\"5\" stroke=\"#fff\" strokeWidth=\"2\"/>\n            </svg>\n\n        )\n    }\n\n    const getDownLoadIcon = () => {\n        return(\n            <svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M1 26H6V33H34V26H39V35C39 36.6569 37.6569 38 36 38H4C2.34315 38 1 36.6569 1 35V26Z\" fill=\"#ffffff\"/>\n                <path d=\"M16 1C16 0.447716 16.4477 0 17 0H23C23.5523 0 24 0.447715 24 1V18H28.8439C29.6953 18 30.1572 18.996 29.6073 19.6459L20.7634 30.0978C20.3639 30.5699 19.6361 30.5699 19.2366 30.0978L10.3927 19.6459C9.84279 18.996 10.3047 18 11.1561 18H16V1Z\" fill=\"#ffffff\"/>\n            </svg>\n        )\n    }\n\n    const onFileInput =  (event) => {\n        console.log(\"FILE INPUT\")\n        let posX = 100;\n        let posY = 100;  \n        for(let i=0; i<event.target.files.length;i++){\n            let fr = new FileReader; \n            fr.onload = () => {\n                let image = new Image; \n                image.src = fr.result; \n                image.onload = () => {\n                    props.addElements([{\n                        type: 'image', \n                        elementId: `${Date.now()}${i}`, \n                        height: image.height,\n                        width: image.width,\n                        posX, \n                        posY,\n                        imgSrc: image.src\n                    }])\n                }\n            }\n            fr.readAsDataURL(event.target.files[i]); \n            posX += 20; \n            posY += 20; \n        }\n    }\n\n    const addImageClickHandler = () => {\n        inputFile.current.click();\n    }\n\n    return(\n        <div className={classes.TopMenu}>\n            <div className={classes.LeftAlign}>\n                <div \n                    className={classes.MenuItem}\n                    onClick={() => props.addElements([{\n                        type: 'rect', \n                        elementId: `${Date.now()}`,\n                        posX: 100,\n                        posY: 100,\n                        height: 400,\n                        width: 400,\n                        color: '#FF8592',\n                    }])}\n                >\n                    {getRectangleIcon()}\n                </div>\n                <div \n                    className={classes.MenuItem}\n                    onClick={() => props.addElements([{\n                        type: 'text', \n                        elementId: `${Date.now()}`,\n                        height: 60,\n                        width: 400, \n                        posX: 100,\n                        posY: 300,\n                        text: 'Text Element 3',\n                        font: 'Oswald',\n                        fontSize: '30',\n                        fontWeight: '700',\n                        textAlign: 'center',\n                        fixedWidth: true,\n                        underline: false, \n                        italic: false, \n                        textStroke: true\n                }])}>\n                    {getNewTextElementIcon()}\n                </div>\n                <div \n                    className={classes.MenuItem}\n                    onClick={addImageClickHandler}>\n                    {getNewImageIcon()}\n                </div>\n            </div>\n            <div className={classes.RightAlign}>\n                <div \n                    className={classes.MenuItem}\n                    onClick={props.openExportModal}>\n                    {getShareIcon()}\n                </div>\n                <div \n                    className={classes.MenuItem}\n                    onClick={props.openExportModal}>\n                    {getDownLoadIcon()}\n                </div>\n            </div>\n            <input type='file' id='file' multiple ref={inputFile} style={{display: 'none'}} onInput={onFileInput}/>\n        </div>\n    )\n}\n\nexport default TopMenu;"," import React, { Component } from 'react';\n import classes from './SelectionMenu.module.css';\n\n class SelectionMenu extends Component {\n\n    leftAlignIcon = () => {\n        const strokeColor = this.props.selected.textAlign === 'left' ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.selected.textAlign === 'left' ? classes.alignActive : classes.alignInactive} \n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                {/* <rect x=\"1.5\" y=\"1.5\" width=\"37\" height=\"37\" rx=\"3.5\" stroke=\"white\" stroke-width=\"3\"/> */}\n                <line x1=\"7\" y1=\"8\" x2=\"33\" y2=\"8\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"7\" y1=\"20\" x2=\"30\" y2=\"20\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"7\" y1=\"32\" x2=\"27\" y2=\"32\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"7\" y1=\"14\" x2=\"22\" y2=\"14\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"7\" y1=\"26\" x2=\"22\" y2=\"26\" stroke={strokeColor} strokeWidth=\"2\"/>\n            </svg>\n        )\n    }\n\n    centerAlignIcon = () => {\n        const strokeColor = this.props.selected.textAlign === 'center' ? '#11192c' : '#ffffff';\n        return (\n            <svg \n                className={this.props.selected.textAlign === 'center' ? classes.alignActive : classes.alignInactive} \n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                {/* <rect x=\"1.5\" y=\"1.5\" width=\"37\" height=\"37\" rx=\"3.5\" stroke=\"white\" stroke-width=\"3\"/> */}\n                <line x1=\"7\" y1=\"8\" x2=\"33\" y2=\"8\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"9\" y1=\"20\" x2=\"32\" y2=\"20\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"10\" y1=\"32\" x2=\"30\" y2=\"32\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"13\" y1=\"14\" x2=\"28\" y2=\"14\" stroke={strokeColor} strokeWidth=\"2\"/>\n                <line x1=\"13\" y1=\"26\" x2=\"28\" y2=\"26\" stroke={strokeColor} strokeWidth=\"2\"/>\n            </svg>\n        )\n    }\n\n    rightAlignIcon = () => {\n        const strokeColor = this.props.selected.textAlign === 'right' ? '#11192c' : '#ffffff';\n        return (\n            <svg \n                className={this.props.selected.textAlign === 'right' ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                {/* <rect x=\"-1.5\" y=\"1.5\" width=\"37\" height=\"37\" rx=\"3.5\" transform=\"matrix(-1 0 0 1 37 0)\" stroke=\"white\" stroke-width=\"3\"/> */}\n                <line stroke={strokeColor} y1=\"-1\" x2=\"26\" y2=\"-1\" transform=\"matrix(-1 0 0 1 33 9)\" strokeWidth=\"2\"/>\n                <line stroke={strokeColor} y1=\"-1\" x2=\"23\" y2=\"-1\" transform=\"matrix(-1 0 0 1 33 21)\" strokeWidth=\"2\"/>\n                <line stroke={strokeColor} y1=\"-1\" x2=\"20\" y2=\"-1\" transform=\"matrix(-1 0 0 1 33 33)\" strokeWidth=\"2\"/>\n                <line stroke={strokeColor} y1=\"-1\" x2=\"16\" y2=\"-1\" transform=\"matrix(-1 0 0 1 33 15)\" strokeWidth=\"2\"/>\n                <line stroke={strokeColor} y1=\"-1\" x2=\"16\" y2=\"-1\" transform=\"matrix(-1 0 0 1 33 27)\" strokeWidth=\"2\"/>\n            </svg>\n        )\n    }\n\n    topAlignIcon = () => {\n        const strokeColor = this.props.selected.verticalAlign === 'top' ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.selected.verticalAlign === 'top' ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <line stroke={strokeColor} x1=\"6\" y1=\"7\" x2=\"34\" y2=\"7\" strokeWidth=\"2\"/>\n                <path fill={strokeColor} d=\"M20.7071 10.2929C20.3166 9.90237 19.6834 9.90237 19.2929 10.2929L12.9289 16.6569C12.5384 17.0474 12.5384 17.6805 12.9289 18.0711C13.3195 18.4616 13.9526 18.4616 14.3431 18.0711L20 12.4142L25.6569 18.0711C26.0474 18.4616 26.6805 18.4616 27.0711 18.0711C27.4616 17.6805 27.4616 17.0474 27.0711 16.6569L20.7071 10.2929ZM21 33V11H19V33H21Z\"/>\n            </svg>\n        )\n    }\n\n    middleAlignIcon = () => {\n        const strokeColor = this.props.selected.verticalAlign === 'middle' ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.selected.verticalAlign === 'middle' ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <line stroke={strokeColor} x1=\"6\" y1=\"20\" x2=\"34\" y2=\"20\" strokeWidth=\"2\"/>\n                <path fill={strokeColor} d=\"M20.7071 23.2929C20.3166 22.9024 19.6834 22.9024 19.2929 23.2929L12.9289 29.6569C12.5384 30.0474 12.5384 30.6805 12.9289 31.0711C13.3195 31.4616 13.9526 31.4616 14.3431 31.0711L20 25.4142L25.6569 31.0711C26.0474 31.4616 26.6805 31.4616 27.0711 31.0711C27.4616 30.6805 27.4616 30.0474 27.0711 29.6569L20.7071 23.2929ZM21 34L21 24H19V34H21Z\"/>\n                <path fill={strokeColor} d=\"M19.2929 16.7071C19.6834 17.0976 20.3166 17.0976 20.7071 16.7071L27.0711 10.3431C27.4616 9.95262 27.4616 9.31946 27.0711 8.92893C26.6805 8.53841 26.0474 8.53841 25.6569 8.92893L20 14.5858L14.3431 8.92893C13.9526 8.53841 13.3195 8.53841 12.9289 8.92893C12.5384 9.31946 12.5384 9.95262 12.9289 10.3431L19.2929 16.7071ZM19 6V16H21V6H19Z\"/>\n                </svg>\n        )\n    }\n\n    bottomAlignIcon = () => {\n        const strokeColor = this.props.selected.verticalAlign === 'bottom' ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.selected.verticalAlign === 'bottom' ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <line stroke={strokeColor} x1=\"34\" y1=\"33\" x2=\"6\" y2=\"33\" strokeWidth=\"2\"/>\n                <path fill={strokeColor} d=\"M19.2929 29.7071C19.6834 30.0976 20.3166 30.0976 20.7071 29.7071L27.0711 23.3431C27.4616 22.9526 27.4616 22.3195 27.0711 21.9289C26.6805 21.5384 26.0474 21.5384 25.6569 21.9289L20 27.5858L14.3431 21.9289C13.9526 21.5384 13.3195 21.5384 12.9289 21.9289C12.5384 22.3195 12.5384 22.9526 12.9289 23.3431L19.2929 29.7071ZM19 7V29H21V7H19Z\" fill={strokeColor}/>\n            </svg>\n        )\n    }\n\n    italicIcon = () => {\n        const strokeColor = this.props.selected.italic ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.selected.italic ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M16 8C16 7.44772 16.4477 7 17 7H28C28.5523 7 29 7.44772 29 8V9C29 9.55228 28.5523 10 28 10H24.7899C24.3268 10 23.9243 10.3179 23.8171 10.7684L19.2932 29.7684C19.1436 30.3968 19.6201 31 20.266 31H23C23.5523 31 24 31.4477 24 32V33C24 33.5523 23.5523 34 23 34H12C11.4477 34 11 33.5523 11 33V32C11 31.4477 11.4477 31 12 31H15.2101C15.6732 31 16.0757 30.6821 16.1829 30.2316L20.7068 11.2316C20.8564 10.6032 20.3799 10 19.734 10H17C16.4477 10 16 9.55228 16 9V8Z\" fill={strokeColor}/>\n            </svg>\n        )\n    }\n\n    underlineIcon = () => {\n        const strokeColor = this.props.selected.underline ? '#11192c' : '#ffffff';\n        return(\n            <svg \n                className={this.props.selected.underline ? classes.alignActive : classes.alignInactive}\n                width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path d=\"M11 32C11 31.4477 11.4477 31 12 31H28C28.5523 31 29 31.4477 29 32V33C29 33.5523 28.5523 34 28 34H12C11.4477 34 11 33.5523 11 33V32Z\" fill={strokeColor}/>\n                <path d=\"M12 8C12 7.44772 12.4477 7 13 7H15C15.5523 7 16 7.44772 16 8V22C16 22.5523 15.5523 23 15 23H13C12.4477 23 12 22.5523 12 22V8Z\" fill={strokeColor}/>\n                <path d=\"M24 8C24 7.44772 24.4477 7 25 7H27C27.5523 7 28 7.44772 28 8V22C28 22.5523 27.5523 23 27 23H25C24.4477 23 24 22.5523 24 22V8Z\" fill={strokeColor}/>\n                <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M16 17.7358C13.6088 18.6868 12 20.4643 12 22.5C12 26 15.5817 28 20 28C24.4183 28 28 26 28 22.5C28 20.4643 26.3912 18.6868 24 17.7358V21C24 25 20 25 20 25C20 25 16 25 16 21V17.7358Z\" fill={strokeColor}/>\n            </svg>\n        )\n    }\n\n    stopPropagation = (e) => {\n        e.stopPropagation();\n    }\n\n    editHeight = (e) => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            height: e.target.value,\n        });\n    }\n\n    editWidth = (e) => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            width: e.target.value,\n        });\n    }\n\n    editX = (e) => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            posX: e.target.value,\n        });\n    }\n\n    editY = (e) => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            posY: e.target.value,\n        });\n    }\n\n    editFont = (e) => {\n        console.log(e.target.value);\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            font: e.target.value,\n        });\n    }\n\n    editFontSize = (e) => {\n        console.log(e.target.value);\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            fontSize: e.target.value,\n        });\n    }\n\n    editTextAlign = (value) => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            textAlign: value,\n        });\n    }\n\n    editFontWeight = (e) => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            fontWeight: e.target.value,\n        });\n    }\n\n    editFixedDimensions = (value) => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            fixedDimensions: value,\n        });\n    }\n\n    editUnderline = () => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            underline: !this.props.selected.underline,\n        });\n    }\n\n    editItalic = () => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            italic: !this.props.selected.italic,\n        });\n    }\n\n    editVerticalAlign = (value) => {\n        this.props.edit(this.props.selected.elementId, {\n            ...this.props.selected, \n            verticalAlign: value\n        });\n    }\n\n    render(){\n        if(!this.props.selected) return null;\n        const { type, elementId, posX, posY, height, width, fontSize, font, fontWeight, fixedDimensions } = this.props.selected;\n\n        return (\n            <div className={classes.SelectionMenu} onClick={this.stopPropagation} onMouseUp={this.stopPropagation}>\n                <div>\n                    <div className={classes.flex}>\n                        <div className={classes.inputWrapper}>\n                            <span>Height:</span>\n                            <input className={classes.input} onChange={this.editHeight} type='number' value={height}/>\n                        </div>\n                        <div className={classes.inputWrapper}>\n                            <span>Width:</span>\n                            <input className={classes.input} onChange={this.editWidth} type='number' value={width}/>\n                        </div>\n                    </div>\n                    <div className={classes.flex}>\n                        <div className={classes.inputWrapper}>\n                            <span>X:</span>\n                            <input className={classes.input}  onChange={this.editX} type='number' value={posX}/>\n                        </div>\n                        <div className={classes.inputWrapper}>\n                            <span>Y:</span>\n                            <input className={classes.input} onChange={this.editY} type='number' value={posY}/>\n                        </div>\n                    </div>\n                </div>\n                { type === \"text\" ? \n                    <div className={classes.textOptions}>\n                        <div className={classes.flex}>\n                            <div className={classes.fontSelector}> \n                                <select onChange={this.editFont} value={font}>\n                                    <option value=\"Impact\">Impact</option>\n                                    <option value=\"Arial\">Arial</option>\n                                    <option value=\"Times\">Times</option>\n                                    <option value=\"Verdana\">Verdana</option>\n                                </select>\n                            </div>\n                            <div className={classes.inputWrapper}>\n                                <input className={classes.input} onChange={this.editFontSize} type='number' value={fontSize}/>\n                            </div>\n                        </div>\n                        <div className={classes.flexSpaceBetween}>\n                            <div className={classes.flex}>\n                                <div className={classes.alignIcon} onClick={() => this.editTextAlign(\"left\")}>\n                                    {this.leftAlignIcon()}\n                                </div>\n                                <div className={classes.alignIcon} onClick={() => this.editTextAlign(\"center\")}>\n                                    {this.centerAlignIcon()}\n                                </div>\n                                <div className={classes.alignIcon} onClick={() => this.editTextAlign(\"right\")}>\n                                    {this.rightAlignIcon()}\n                                </div>\n                            </div>\n                            <div className={classes.flex}>\n                                <div className={classes.alignIcon} onClick={() => this.editVerticalAlign(\"top\")}>\n                                {this.topAlignIcon()}\n                                </div>\n                                <div className={classes.alignIcon} onClick={() => this.editVerticalAlign(\"middle\")}>\n                                {this.middleAlignIcon()}\n                                </div>\n                                <div className={classes.alignIcon} onClick={() => this.editVerticalAlign(\"bottom\")}>\n                                {this.bottomAlignIcon()}\n                                </div>\n                            </div>\n                        </div>\n                        <div className={classes.flex}>\n                            <div className={classes.fontWeight}>\n                                <select onChange={this.editFontWeight} value={fontWeight}>\n                                    {/* <option value=\"900\">Black</option>\n                                    <option value=\"800\">ExtraBold</option> */}\n                                    <option value=\"700\">Bold</option>\n                                    {/* <option value=\"600\">SemiBold</option>\n                                    <option value=\"500\">Medium</option> */}\n                                    <option value=\"400\">Regular</option>\n                                    {/* <option value=\"300\">Light</option>\n                                    <option value=\"200\">ExtraLight</option>\n                                    <option value=\"100\">Thin</option> */}\n                                </select>\n                            </div>\n                            <div className={classes.alignIcon} onClick={this.editItalic}>\n                                {this.italicIcon()}\n                            </div>\n                            <div className={classes.alignIcon} onClick={this.editUnderline}>\n                                {this.underlineIcon()}\n                            </div>\n                        </div>\n\n\n                        <div className={classes.textBoxTypeOptions}>\n                            <div onClick={() => this.editFixedDimensions(false)}>\n                                <input type=\"checkbox\" onChange={() => this.editFixedDimensions(false)} checked={!fixedDimensions}/> fixed width & font size\n                            </div>\n                            <div onClick={() => this.editFixedDimensions(true)}>\n                                <input type=\"checkbox\" onChange={() => this.editFixedDimensions(true)} checked={fixedDimensions}/> fixed textbox size\n                            </div>\n                        </div>\n                    </div>\n                : null }\n            </div>\n        )\n    }\n }\n\n export default SelectionMenu;","import React, { Component } from 'react';\nimport ResizeHandler from '../Element/ResizeHandler/ResizeHandler';\nimport classes from './SelectionFrame.module.css';\n\nclass SelectionFrame extends Component {\n\n\n    getResizeHandlers = () => {\n        let resizeHandlers = [];\n        if(this.props.editingId) return null; \n        if(this.props.element.type === 'text' && !this.props.element.fixedDimensions){\n                resizeHandlers.push('W','E');\n        } else {\n            resizeHandlers.push('NW','SW','NE','SE');\n            if(this.props.element.height > 30){\n                resizeHandlers.push('E','W');\n            }\n            if(this.props.element.width > 30){\n                resizeHandlers.push('N','S');\n            }\n        } \n        return resizeHandlers.map(r => {\n            return (\n                <ResizeHandler \n                    key={r} \n                    dir={r} \n                    elementId={this.props.element.elementId} \n                    resizeMouseDown={this.props.resizeMouseDown}\n                />\n            )\n        });\n    }\n\n    doubleClick = e => {\n        if(this.props.element.type === 'text'){\n            this.props.selectAndEdit(e, this.props.element.elementId)\n        }\n    }\n\n    getStyles = () => {\n        const { height, width, posX, posY } = this.props.element;\n        let styles = {\n            height: `${height}px`, \n            width: `${width}px`,\n            left: `${posX}px`,\n            top: `${posY}px`,\n        }\n        if(this.props.editingId){\n            styles.pointerEvents = 'none'; \n        }else {\n            styles.cursor = 'grab';\n        }\n        return styles; \n    }\n\n    onMouseDown = (e) => {\n        if(this.props.editingId !== this.props.element.elementId){\n            this.props.elementMouseDown(e, this.props.element.elementId)\n        }\n    }\n\n    render(){\n        return(\n            <div \n                className={classes.SelectionFrame} \n                style={this.getStyles()}\n                onMouseDown={this.onMouseDown}\n                onMouseUp={this.mouseUp}\n                onDoubleClick={this.doubleClick}\n                >\n                {this.getResizeHandlers()}\n            </div>           \n        );\n    }\n}\n\nexport default SelectionFrame;","import React, { Component } from 'react';\n\nimport classes from './ExportModal.module.css';\n\nimport * as htmlToImage from 'html-to-image';\n\nimport Element from '../Element/Element';\nimport PrimaryButton from '../../UI/PrimaryButton/PrimaryButton';\nimport Loader from 'react-loader-spinner'; \nimport { Link } from 'react-router-dom';\n\n\nclass ExportModal extends Component {\n\n    state={\n        height: 0,\n        width: 0, \n        downloadFormat: 'jpg', // jpg, png, svg\n        linkRef: React.createRef(), \n        imagesLoaded: 0, \n        imageCreationStarted: false, \n        downloadLoading: false,\n    }\n\n    componentDidMount = () => {\n        const height = this.divElement.clientHeight;\n        const width = this.divElement.clientWidth;\n        console.log(height, width);\n        this.setState({ height, width });\n    }\n\n    componentDidUpdate = () => {\n        const height = this.divElement.clientHeight;\n        const width = this.divElement.clientWidth;\n        if(height !== this.state.height || width !== this.state.width){\n            this.setState({ height, width });\n        }\n    }\n\n    calcContentMetrics = () => {\n        let leftBorder = 10000000000;\n        let rightBorder = -10000000000;\n        let topBorder = 10000000000;\n        let bottomBorder = -10000000000;\n        \n        this.props.elements.forEach(element => {\n            if(element.posX < leftBorder) leftBorder =  element.posX;\n            if(element.posX + element.width > rightBorder) rightBorder =  element.posX + element.width;\n            if(element.posY < topBorder) topBorder =  element.posY;\n            if(element.posY + element.height > bottomBorder) bottomBorder =  element.posY + element.height;\n        })\n        return {\n            leftBorder,\n            rightBorder,\n            topBorder, \n            bottomBorder,\n            contentWidth: rightBorder-leftBorder,\n            contentHeight: bottomBorder-topBorder,\n        };\n    }\n\n    setDownloadFormat = (e) => {\n        console.log(e.target.value);\n        this.setState({downloadFormat: e.target.value});\n    }\n\n    onDownLoad = () => {\n            const node = document.getElementById('preview');\n            this.setState({downloadStarted: true}); \n            //png\n            if(this.state.downloadFormat === \"png\"){\n                htmlToImage.toPng(node)\n                .then(dataUrl => {\n                    const link = document.createElement('a');\n                    link.setAttribute('download',`FileName.${this.state.downloadFormat}`);\n                    link.href = dataUrl;\n                    document.body.appendChild(link);\n                    link.click();\n                    if(link && link.parentNode){\n                        link.parentNode.removeChild(link);\n                    }\n                    this.props.closeExportModal(); \n                }).catch(err => {\n                    console.log(\"png downloadError\")\n                    console.log(err);\n                })\n            }\n    \n            // jpg\n            if(this.state.downloadFormat === \"jpg\"){\n                htmlToImage.toJpeg(node)\n                .then(dataUrl => {\n                    const link = document.createElement('a');\n                    link.setAttribute('download',`FileName.${this.state.downloadFormat}`);\n                    link.href = dataUrl;\n                    document.body.appendChild(link);\n                    link.click();\n                    if(link && link.parentNode){\n                        link.parentNode.removeChild(link);\n                    }\n                    this.props.closeExportModal(); \n                }).catch(err => {\n                    console.log(\"SETTING URL ERROR\")\n                    console.log(err);\n                })\n            }\n    \n            // svg\n            if(this.state.downloadFormat === \"png\"){\n                htmlToImage.toSvg(node)\n                .then(dataUrl => {\n                    const link = document.createElement('a');\n                    link.setAttribute('download',`FileName.${this.state.downloadFormat}`);\n                    link.href = dataUrl;\n                    document.body.appendChild(link);\n                    link.click();\n                    if(link && link.parentNode){\n                        link.parentNode.removeChild(link);\n                    }\n                    this.props.closeExportModal(); \n                }).catch(err => {\n                    console.log(\"SETTING URL ERROR\")\n                })\n            }\n    }\n\n    getElements = (elements) => {\n\n        // TODO: redo/replace this with real orders and z-index\n        const orderedElements = [\n          ...elements.filter(e => e.type !== 'text'),\n          ...elements.filter(e => e.type === 'text')\n        ]\n    \n        return orderedElements.map(e => {\n          // const highlight = this.state.dragging && this.state.\n            switch(e.type){\n                case 'text': \n                    return(\n                        <Element \n                        inPreview\n                        type='text'\n                        key={`prev-${e.elementId}`}\n                        element={e}\n                        />\n                    ) \n                case 'rect': \n                    return(\n                        <Element \n                            inPreview\n                            type='rect'\n                            key={`prev-${e.elementId}`}\n                            element={e}\n                        />\n                    )\n                case 'image': \n                    return(\n                        <Element \n                        inPreview\n                        type='image'\n                        key={`prev-${e.elementId}`}\n                        element={e}\n                        />\n                    )\n                default: console.log('Invalid Element Type!'); return null; \n            }\n        })\n    }\n\n    render(){\n        const {\n            leftBorder,\n            rightBorder,\n            topBorder, \n            bottomBorder,\n            contentWidth,\n            contentHeight\n        } = this.calcContentMetrics();\n\n        const aspectRatioContainer = this.state.width/this.state.height;\n        const aspectRatioContent = contentWidth/contentHeight; \n\n        let previewStyles = {\n            height: contentHeight,\n            width: contentWidth\n        };\n        \n        if(aspectRatioContent < aspectRatioContainer) {\n            const scaleFactorY = this.state.height / contentHeight; \n            if(contentHeight > this.state.height){\n                previewStyles.zoom = scaleFactorY; \n            }\n        } else {\n            const scaleFactorX =  this.state.width / contentWidth \n            if(contentWidth > this.state.width){\n                previewStyles.zoom = scaleFactorX; \n            }\n        }\n\n        const transformedElements = this.props.elements.map(element => {\n            return {\n                ...element,\n                posX: element.posX - leftBorder,\n                posY: element.posY - topBorder,\n            }\n        })\n\n\n        return(\n            <div className={classes.ExportModal}>\n                <div className={classes.Background} onClick={this.props.closeExportModal}></div>\n                <div className={classes.Modal}>\n                    <div id=\"previewContainer\" className={classes.PreviewContainer} ref={ (divElement) => { this.divElement = divElement } }>\n                        <div \n                            className={classes.Preveiw} \n                            style={previewStyles}\n                            >\n                                <div id=\"preview\" className={classes.DownloadWrapper}>\n                                    {\n                                        this.getElements(transformedElements)\n                                    }\n                                </div>\n                        </div>\n                    </div>\n                    <div className={classes.DownloadOptions}>\n                        <div className={classes.DownloadContainer}>\n                            <select onChange={this.setDownloadFormat} value={this.state.downloadFormat}>\n                                <option value=\"png\" label=\"png\"/>\n                                <option value=\"jpg\" label=\"jpg\"/>\n                                <option value=\"svg\" label=\"svg\"/>\n                            </select>\n                            <PrimaryButton clicked={this.onDownLoad} disabled={this.state.downloadLoading}>\n                                {\n                                    !this.state.downloadLoading\n                                    ? <h3>Download</h3> \n                                    :  <Loader \n                                        className={classes.Spinner} \n                                        type=\"ThreeDots\" \n                                        color=\"#FFFFFF\" \n                                        height={30} \n                                        width={30}/>\n                                }\n                            </PrimaryButton>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ExportModal;","import React, { Component } from 'react'\nimport classes from './ImageDragNDrop.module.css'; \n\nclass ImageDragNDrop extends Component {\n  state = {\n    drag: false\n  }\n  dropRef = React.createRef()\n\n  handleDragIn = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    console.log(\"drag in\"); \n    this.dragCounter++\n    if (e.dataTransfer.items && e.dataTransfer.items.length > 0) {\n      this.setState({drag: true})\n    }\n  }\n  handleDragOut = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    console.log(\"drag out\"); \n    this.dragCounter--\n    if (this.dragCounter === 0) {\n      this.setState({drag: false})\n    }\n  }\n  handleDrop = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n    this.setState({drag: false})\n    if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\n      this.props.handleDrop(e.dataTransfer.files)\n      e.dataTransfer.clearData()\n      this.dragCounter = 0;     \n    }\n  }\n  componentDidMount() {\n    let div = this.dropRef.current\n    div.addEventListener('dragenter', this.handleDragIn)\n    div.addEventListener('dragleave', this.handleDragOut)\n    div.addEventListener('drop', this.handleDrop)\n  }\n  componentWillUnmount() {\n    let div = this.dropRef.current\n    div.removeEventListener('dragenter', this.handleDragIn)\n    div.removeEventListener('dragleave', this.handleDragOut)\n    div.removeEventListener('drop', this.handleDrop)\n  }\n  render() {\n    return (\n      <div\n        style={{display: 'inline-block', position: 'relative', height: \"100%\", width: \"100%\"}}\n        ref={this.dropRef}\n      >\n        {this.state.dragging &&\n          <div \n            style={{\n              border: 'dashed grey 4px',\n              backgroundColor: 'rgba(255,255,255,.8)',\n              zIndex: 9999, \n              height: \"100%\", \n              width: \"100%\",\n            }}\n          >\n            <div \n              style={{\n                position: 'absolute',\n                top: '50%',\n                right: 0,\n                left: 0,\n                textAlign: 'center',\n                color: 'grey',\n                fontSize: 36\n              }}\n            >\n              <div>drop here :)</div>\n            </div>\n          </div>\n        }\n        {this.props.children}\n      </div>\n    )\n  }\n}\nexport default ImageDragNDrop","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../store/actions/index';\nimport classes from \"./Creator.module.css\";\nimport Element from \"./Element/Element\";\nimport Line from \"./Line/Line\";\nimport TopMenu from \"./TopMenu/TopMenu\";\nimport SelectionMenu from \"./SelectionMenu/SelectionMenu\";\nimport SelectionFrame from \"./SelectionFrame/SelectionFrame\";\nimport ExportModal from \"./ExportModal/ExportModal\";\nimport ImageDragNDrop from \"./ImageDragNDrop/ImageDragNDrop\";\nimport ChrisDrunk from './ChrisDrunk.jpg'; \n\nconst JUMP_TO_LINE_TOLERANZ = 4;\n\nclass Creator extends Component {\n\n  state = {\n    dragging: false, \n    draggingFile: false, \n    selectedId: null,\n    editingId: null, \n    selectedHline: null,\n    selectedVline: null,\n    exportModalOpen: false,\n    files: [], \n    elements: [\n      {\n        type: 'text', \n        elementId: '5',\n        height: 200,\n        width: 600, \n        posX: 100,\n        posY: 100,\n        text: 'Solange die Woscht dicker wies\\' Brot ist...',\n        font: 'Oswald',\n        fontSize: '47',\n        fontWeight: '700',\n        textAlign: 'center',\n        verticalAlign: 'top', \n        fixedDimensions: true,\n        underline: false, \n        italic: false, \n        textStroke: true,\n      },\n      {\n        type: 'text', \n        elementId: '6',\n        height: 200,\n        width: 600, \n        posX: 100,\n        posY: 700,\n        text: '...ists\\' woscht wie dicks\\' Brot ist.',\n        font: 'Oswald',\n        fontSize: '47',\n        fontWeight: '700',\n        textAlign: 'center',\n        verticalAlign: 'top', \n        fixedDimensions: true,\n        underline: false, \n        italic: false, \n        textStroke: true,\n      },\n      {\n        type: 'rect',\n        elementId: '8',\n        posX: 100,\n        posY: 100,\n        height: 100,\n        width: 400,\n        color: '#FF8592',\n      },\n      {\n        type: 'image',\n        elementId: '11',\n        imgSrc: ChrisDrunk,\n        posX: 100,\n        posY: 100,\n        height: 800,\n        width: 600,\n      }\n    ],\n  }\n\n\n  /// SELECT /////////////////////////////////////////////////\n\n  select = (e, elementId) => {\n    e.stopPropagation();\n    e.preventDefault();\n    if(this.state.editingId){\n      const element = document.getElementById(`${this.state.editingId}-input`);\n      element.blur();\n    }\n    this.setState({\n      selectedId: elementId, \n      editingId: null\n    })\n  }\n\n  selectAndEdit = (e, elementId) => {\n    e.stopPropagation();\n    e.preventDefault();\n    this.setState({\n      selectedId: elementId,\n      editingId: elementId\n    })\n    const element = document.getElementById(`${elementId}-input`);\n    setTimeout(() => {\n      console.log(\"focusing\")\n      element.focus();\n    }, 0); \n  }\n\n  backgroundMouseUp = (e) => {\n    if(!this.state.dragging){\n      if(this.state.editingId){\n        const element = document.getElementById(`${this.state.editingId}-input`);\n        element.blur();\n        this.setState({ editingId: null, draggingFile: false })\n      }else{\n        this.setState({\n          selectedId: null, draggingFile: false \n        });\n      }\n    }\n  }\n\n  /// REPOSITION /////////////////////////////////////////////////\n\n  elementMouseDown = (e, elementId) => {\n    e.preventDefault();\n    e.stopPropagation();\n    const element = this.state.elements.find(e => e.elementId === elementId);\n    const prevX = element.posX;\n    const prevY = element.posY;\n    const prevMouseX = e.clientX;\n    const prevMouseY = e.clientY;\n    const { Hlines, Vlines } = this.getLines(elementId);\n    const mousemove = (e) => {\n      let  newX = prevX - prevMouseX + e.clientX;\n      let newY = prevY - prevMouseY + e.clientY;\n      let selectedHline = null;\n      let selectedVline = null; \n      Hlines.forEach(l => {\n        if(Math.abs(l-newY) < JUMP_TO_LINE_TOLERANZ){\n           newY = l;\n           selectedHline = l;\n        } \n        if(Math.abs(l-(newY+element.height)) < JUMP_TO_LINE_TOLERANZ){\n          newY = l - element.height;\n          selectedHline = l;\n        }\n        if(Math.abs(l-(2*newY+element.height)/2) < JUMP_TO_LINE_TOLERANZ){\n          newY = l - 0.5 * element.height;\n          selectedHline = l;\n        }\n      })\n      Vlines.forEach(l => {\n        if(Math.abs(l-newX) < JUMP_TO_LINE_TOLERANZ){\n           newX = l;\n           selectedVline = l;\n        } \n        if(Math.abs(l-(newX+element.width)) < JUMP_TO_LINE_TOLERANZ){\n          newX = l - element.width\n          selectedVline = l;\n        }\n        if(Math.abs(l-(2*newX+element.width)/2) < JUMP_TO_LINE_TOLERANZ){\n          newX = l - 0.5 * element.width\n          selectedVline = l;\n        }\n      })\n      let elementsNew = this.state.elements.map(e => {\n        if(e.elementId !== elementId){\n          return e;\n        }else{\n          return ({\n            ...element,\n            posX: newX,\n            posY: newY,\n          })\n        }\n      });\n      this.setState({\n        selectedId: elementId, \n        selectedHline: selectedHline,\n        selectedVline: selectedVline,\n        elements: elementsNew,\n      });\n    } \n\n    const mouseup = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n      window.removeEventListener('mousemove', mousemove);\n      window.removeEventListener('mouseup', mouseup);\n      this.setState({\n        selectedHline: null, \n        selectedVline: null,\n        dragging: false\n      })\n    }\n\n    window.addEventListener('mousemove', mousemove);\n    window.addEventListener('mouseup', mouseup);\n    this.setState({\n      selectedId: elementId,\n      dragging: true, \n    })\n  }\n\n  onTextInput = (e, elementId) => {\n    const selectionOffsetBefore = window.getSelection().focusOffset;\n    let elementsNew = this.state.elements.filter(e => e.elementId !== elementId);\n    const element = this.state.elements.find(e => e.elementId === elementId);\n    let elem = document.getElementById(`${elementId}-input`);\n    console.log(elem.offsetHeight, element.height)\n    let newHeight = element.fixedDimensions ? element.height : elem.offsetHeight; \n    this.setState({\n      elements: [\n        ...elementsNew,\n        {\n          ...element,\n          height: newHeight,\n          text: e.target.textContent\n        }\n      ]\n    }, () => {\n      let range = document.createRange(); \n      let selection = window.getSelection();\n      if(!element.fixedDimensions){\n        if(elem.childNodes.length > 0){\n          range.setStart(elem.childNodes[0], selectionOffsetBefore); \n          range.collapse(true); \n          selection.removeAllRanges(); \n          selection.addRange(range); \n          elem.focus(); \n        }\n      } else {\n        if(elem.childNodes.length > 0 && elem.childNodes[0].childNodes.length > 0){\n          range.setStart(elem.childNodes[0].childNodes[0], selectionOffsetBefore); \n          range.collapse(true); \n          selection.removeAllRanges(); \n          selection.addRange(range); \n          elem.focus(); \n        }\n      }\n    });\n  }\n\n  adjustTextElementHeight = (elementId) => {\n    let elementsNew = this.state.elements.filter(e => e.elementId !== elementId);\n    const element = this.state.elements.find(e => e.elementId === elementId);\n    const elem = document.getElementById(`${elementId}-input`);\n    elem.innerHTML = element.text;\n    console.log(elem.offsetHeight, element.height) \n    console.log(elementsNew); \n    this.setState({\n      elements: [\n        ...elementsNew,\n        {\n          ...element,\n          height: elem.offsetHeight,\n        }\n      ]\n    });\n  }\n\n  /// ADD //////////////////////////////////////////////////\n\n  addElements = (elements) => {\n    this.setState({\n      elements: [...this.state.elements, ...elements],\n      selectedId: elements[elements.length-1].elementId,\n    })\n  }\n\n  handleImageDrop = (files) => {\n    let fileList = this.state.files\n    for (var i = 0; i < files.length; i++) {\n      if (!files[i].name) return\n      fileList.push(files[i].name)\n      console.log(files[i]); \n    }\n    this.setState({files: fileList})\n  }\n\n  ///  RESIZE  /////////////////////////////////////////////////\n\n  resizeMouseDown = (e, dir, elementId) => {\n    console.log('RESIZE MOUSE DOWN');\n    e.preventDefault();\n    e.stopPropagation(); \n    const element = this.state.elements.find(e => e.elementId === elementId);\n    const aspectRatio = element.width / element.height;\n    const prevWidth = element.width;\n    const prevHeight = element.height;\n    const prevX = element.posX;\n    const prevY = element.posY;\n    const mouseStartX = e.clientX;\n    const mouseStartY = e.clientY;\n\n    const resizeMouseMouve = (e) => {\n        let newWidth = prevWidth;\n        let newHeight = prevHeight;\n        let newX = prevX;\n        let newY = prevY;\n        let newFontSize = element.fontSize;\n\n        const diffWidth = e.clientX - mouseStartX;\n        const diffHeight = e.clientY - mouseStartY;\n\n        const { Hlines, Vlines } = this.getLines(elementId);\n        let selectedHline = null;\n        let selectedVline = null; \n\n        let fixedAspectRatio = element.type === 'image'; \n        if(e.shiftKey) fixedAspectRatio = !fixedAspectRatio; \n\n        switch(dir) {\n            case 'E': \n                newWidth += diffWidth;\n                Vlines.forEach(l => {\n                  if(Math.abs(newX + newWidth - l) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = l - prevX;\n                    selectedVline = l;\n                  }  \n                });\n                break;\n            case 'S': \n                newHeight += diffHeight; \n                Hlines.forEach(l => {\n                  if(Math.abs(newY + newHeight - l) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = l - prevY;\n                    selectedHline = l;\n                  }  \n                });\n                break; \n            case 'W': \n                newWidth -= diffWidth;\n                newX += diffWidth;\n                Vlines.forEach(l => {\n                  if(Math.abs(l-newX) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = prevX + prevWidth - l;\n                    newX = l;\n                    selectedVline = l;\n                  }  \n                });\n                break;    \n            case 'N': \n                newHeight -= diffHeight;\n                newY += diffHeight;\n                Hlines.forEach(l => {\n                  if(Math.abs(l-newY) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = prevY + prevHeight - l;\n                    newY = l;\n                    selectedHline = l;\n                  }  \n                });\n                break;                 \n            case 'SE':\n                newWidth += diffWidth; \n                newHeight = fixedAspectRatio ? newWidth / aspectRatio : newHeight + diffHeight; \n                Vlines.forEach(l => {\n                  if(Math.abs(newX + newWidth - l) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = l - prevX;\n                    selectedVline = l;\n                  }  \n                });\n                Hlines.forEach(l => {\n                  if(Math.abs(newY + newHeight - l) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = l - prevY;\n                    selectedHline = l;\n                  }  \n                });\n                break; \n            case 'NE':\n                newWidth += diffWidth; \n                newHeight = fixedAspectRatio ? newWidth / aspectRatio : newHeight - diffHeight;\n                newY += prevHeight - newHeight; \n                Hlines.forEach(l => {\n                  if(Math.abs(l-newY) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = prevY + prevHeight - l;\n                    newY = l;\n                    selectedHline = l;\n                  }  \n                });\n                Vlines.forEach(l => {\n                  if(Math.abs(newX + newWidth - l) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = l - prevX;\n                    selectedVline = l;\n                  }  \n                });\n                break; \n            case 'SW':\n                newWidth -= diffWidth; \n                newHeight = fixedAspectRatio ? newWidth / aspectRatio : newHeight + diffHeight; \n                newX += prevWidth - newWidth; \n                Hlines.forEach(l => {\n                  if(Math.abs(newY + newHeight - l) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = l - prevY;\n                    selectedHline = l;\n                  }  \n                });\n                Vlines.forEach(l => {\n                  if(Math.abs(l-newX) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = prevX + prevWidth - l;\n                    newX = l;\n                    selectedVline = l;\n                  }  \n                });\n                break;\n            case 'NW':\n                newWidth -= diffWidth; \n                newHeight = fixedAspectRatio ? newWidth / aspectRatio : newHeight - diffHeight;\n                newX += prevWidth - newWidth; \n                newY += prevHeight - newHeight; \n                Hlines.forEach(l => {\n                  if(Math.abs(l-newY) < JUMP_TO_LINE_TOLERANZ){\n                    newHeight = prevY + prevHeight - l;\n                    newY = l;\n                    selectedHline = l;\n                  }  \n                });\n                Vlines.forEach(l => {\n                  if(Math.abs(l-newX) < JUMP_TO_LINE_TOLERANZ){\n                    newWidth = prevX + prevWidth - l;\n                    newX = l;\n                    selectedVline = l;\n                  }  \n                });\n                break; \n            default: console.log('Invalid dir', dir)\n        }\n\n        if(element.type === 'text'){\n          const elem = document.getElementById(`${elementId}-input`);\n          if(!element.fixedDimensions){\n            newHeight = elem.offsetHeight;\n          } else {\n            if(elem.offsetHeight > newHeight){\n              newFontSize = element.fontSize - 2; \n            }\n          }\n        }\n\n        let elementsNew = this.state.elements.map(E => {\n          if(E.elementId === elementId){\n            return {\n              ...element,\n                width: newWidth, \n                height: newHeight,\n                posX: newX,\n                posY: newY,\n                fontSize: newFontSize\n            }\n          }else{\n            return E\n          }\n        });\n        this.setState({\n          dragging: true,\n          elements: elementsNew,\n          selectedHline: selectedHline,\n          selectedVline: selectedVline,\n        });\n    }\n    const mouseup = (e) => {\n      e.preventDefault();\n      e.stopPropagation(); \n      window.removeEventListener('mousemove', resizeMouseMouve);\n      window.removeEventListener('mouseup', mouseup);\n      this.setState({\n        selectedHline: null, \n        selectedVline: null,\n        dragging: false\n      })\n    }\n    window.addEventListener('mousemove', resizeMouseMouve);\n    window.addEventListener('mouseup', mouseup);\n  }\n\n  edit = (elementId, newElement) => {\n    const newElements = this.state.elements.map(e => {\n      if(e.elementId === elementId){\n        return newElement\n      }else{\n        return e;\n      }\n    })\n    this.setState({ elements: newElements, editingId: null })\n  }\n\n  /// EXPORT /////////////////////////////////////// \n\n  closeExportModal = () => {\n    this.setState({exportModalOpen: false})\n  }\n\n  openExportModal = () => {\n    this.setState({exportModalOpen: true})\n  }\n  \n  /// RENDER /////////////////////////////////////////////////\n\n  getElements = (elements, inPreview, onImgeLoad) => {\n\n    // TODO: redo/replace this with real orders and z-index\n    const orderedElements = [\n      ...elements.filter(e => e.type !== 'text'),\n      ...elements.filter(e => e.type === 'text')\n    ]\n\n    return orderedElements.map(e => {\n      // const highlight = this.state.dragging && this.state.\n      switch(e.type){\n        case 'text': \n          return(\n            <Element \n              inPreview={inPreview}\n              currentlyEditing={this.state.editingId === e.elementId}\n              type='text'\n              key={`${inPreview ? 'prev' : ''}-${e.elementId}`}\n              element={e}\n              editingId={this.state.editingId}\n              selected={e.elementId === this.state.selectedId}\n              edit={this.edit}\n              select={this.select}\n              selectAndEdit={this.selectAndEdit}\n              elementMouseDown={this.elementMouseDown}\n              onTextInput={this.onTextInput}\n              selectedLines={{h: this.state.selectedHline, v: this.state.selectedVline}}\n            />\n          ) \n        case 'rect': \n            return(\n              <Element \n                inPreview={inPreview}\n                currentlyEditing={this.state.editingId === e.elementId}\n                type='rect'\n                key={`${inPreview ? 'prev' : ''}-${e.elementId}`}\n                element={e}\n                selected={e.elementId === this.state.selectedId}\n                select={this.select}\n                elementMouseDown={this.elementMouseDown}\n                selectedLines={{h: this.state.selectedHline, v: this.state.selectedVline}}\n              />\n            )\n        case 'image': \n          return(\n            <Element \n              inPreview={inPreview}\n              currentlyEditing={this.state.editingId === e.elementId}\n              type='image'\n              key={`${inPreview ? 'prev' : ''}-${e.elementId}`}\n              element={e}\n              selected={e.elementId === this.state.selectedId}\n              select={this.select}\n              elementMouseDown={this.elementMouseDown}\n              onImageLoad={onImgeLoad}\n              selectedLines={{h: this.state.selectedHline, v: this.state.selectedVline}}\n            />\n          )\n        default: console.log('Invalid Element Type!'); return null; \n      }\n    })\n  }\n\n  getLines = (excludeId) => {\n    let Hlines = [];\n    let Vlines = [];\n    this.state.elements.forEach(element => {\n      if(excludeId !== element.elementId){\n        Hlines.push(element.posY)\n        Hlines.push((2* element.posY + element.height)/2)\n        Hlines.push(element.posY + element.height)\n        Vlines.push(element.posX)\n        Vlines.push((2* element.posX + element.width)/2)\n        Vlines.push(element.posX + element.width)\n      } \n    });\n    const lines = {\n      Hlines: [...new Set(Hlines)],\n      Vlines: [...new Set(Vlines)]\n    }\n    return lines; \n  }\n\n  shouldElementHighlight = (elementId) => {\n    if(!this.state.selectedHline && !this.state.selectedHline) return false;\n    if(elementId === this.state.selectedId) return false;\n    const element = this.state.elements.find(e => e.elementId === elementId);\n    let Hlines = [];\n    let Vlines = [];\n    Hlines.push(element.posY)\n    Hlines.push(element.posY + element.height)\n    Hlines.push((2* element.posY + element.height)/2)\n    Vlines.push(element.posX)\n    Vlines.push(element.posX + element.width)\n    Vlines.push((2* element.posX + element.width)/2)\n    console.log(element);\n    console.log(Hlines);\n    console.log(Vlines);\n    console.log(this.state.selectedVline);\n    console.log(Vlines.includes(this.state.selectedVline))\n    if(Hlines.includes(this.state.selectedHline)) return true; \n    if(Vlines.includes(this.state.selectedVline)) return true; \n    return false;\n  }\n\n  renderLines = () => {\n    let lines = [];\n    if(this.state.selectedHline){\n      lines.push(<Line key={`HL-${this.state.selectedHline}`} top={this.state.selectedHline} left={0}/>)\n    }\n    if(this.state.selectedVline){\n      lines.push(<Line key={`VL-${this.state.selectedVline}`} top={0} left={this.state.selectedVline}/>)\n    }\n    return lines; \n  }\n\n\n  render() {\n    const styleClasses = [classes.Creator];\n    if (this.props.currentTab === 'stream') styleClasses.push(classes.OutLeftLeft);\n    if (this.props.currentTab === 'chat') styleClasses.push(classes.OutLeft);\n    const selected = this.state.elements.find(e => e.elementId === this.state.selectedId);\n    return (\n      <div \n        className={styleClasses.join(\" \")}\n        onMouseUp={this.backgroundMouseUp}\n      >\n        <ImageDragNDrop handleDrop={this.handleImageDrop}>\n          <SelectionMenu\n            edit={this.edit}\n            selected={selected}\n          /> \n          {\n            selected && \n              <SelectionFrame \n                element={selected}\n                editingId={this.state.editingId}\n                resizeMouseDown={this.resizeMouseDown}\n                elementMouseDown={this.elementMouseDown}\n                selectAndEdit={this.selectAndEdit}\n              /> \n          }\n          { this.getElements(this.state.elements) }\n          <TopMenu \n            addElements={this.addElements}\n            openExportModal={this.openExportModal}\n          />\n          { this.renderLines() }\n          {/* {\n            this.state.draggingFile && \n            <div className={classes.draggingOverlay}>Drop Images Here</div>\n          } */}\n          { \n            this.state.exportModalOpen && \n              <ExportModal \n                closeExportModal={this.closeExportModal}\n                getElements={this.getElements}\n                elements={this.state.elements}\n              /> \n          }\n        </ImageDragNDrop>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentTab: state.ui.currentTab,\n    darkmode: state.ui.currentTab,\n    sending: state.user.sendingSubscribeEmailList, \n    sent: state.user.sentSubscribeEmailList, \n    emailListError: state.user.emailListError,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSubscribeEmailList: (email) => dispatch(actions.subscribeEmailList(email)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Creator);\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport { NavLink } from \"react-router-dom\";\n\n\nimport classes from \"./Navigation.module.css\";\n\nimport * as UIActions from '../../store/actions/index';\n\nclass Navigation extends Component {\n  render() {\n    const chatNotifications = this.props.notifications.filter(n => {\n      if(n.type.startsWith('NEW_MESSAGE')) return true;\n      if(n.type.startsWith('NEW_CHAT')) return true;\n      return false;\n    })\n    const notifiactionStyle = chatNotifications.length > 99 \n    ? classes.TrippleDigit : chatNotifications.length > 9 \n      ? classes.DoubleDigit : classes.SingleDigit\n    return (\n      <div className={classes.Navigation}>\n        <nav>\n          <ul>\n          <li>\n              <NavLink style={{ textDecoration: \"none\" }} to=\"/creator\">\n                <span\n                  className={this.props.currentTab === \"creator\" ? classes.active : classes.inactive}\n                  onClick={() => this.props.onSwitchTab(\"creator\")}\n                >\n                  Creator\n                </span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink style={{ textDecoration: \"none\", position: 'relative' }} to=\"/chat\">\n                {\n                  chatNotifications.length > 0 \n                    ? <div className={notifiactionStyle}>\n                        <span className={classes.NotificationCount}>\n                          {chatNotifications.length}\n                        </span>\n                      </div> \n                    : null \n                }\n                <span\n                  className={this.props.currentTab === \"chat\" ? classes.active : classes.inactive}\n                  onClick={() => {\n                    this.props.onSwitchTab(\"chat\");\n                    document.getElementById('chatForm').focus();\n                  }}\n                >\n                  Chat\n                </span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink style={{ textDecoration: \"none\" }} to=\"/stream\">\n                <span\n                  className={this.props.currentTab === \"stream\" ? classes.active : classes.inactive }\n                  onClick={() => this.props.onSwitchTab(\"stream\")}\n                >\n                  Stream\n                </span>\n              </NavLink>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    currentTab: state.ui.currentTab,\n    darkmode: state.ui.darkmode,\n    allUsersStatus: state.chat.allUsersStatus,\n\n    notifications: state.user.notifications\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSwitchTab: (tab) => dispatch(UIActions.switchTab(tab)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Navigation);\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport classes from \"./UserPrev.module.css\";\nimport DefaultProfilePic from \"../../../media/DefaultProfilePic.png\";\nimport AddButton from '../../Chat/ChatPreviews/ChatPrev/AddButton/AddButton';\nimport * as actions from '../../../store/actions/index';\n\n\nclass UserPrev extends Component {\n\n  getButton = () => {\n    let buttonType;\n    let buttonClick = () => console.log('Nothing should happen');\n\n    // ADD BUTTON\n    if(!this.props.friends.some(friend => friend.userId === this.props.userId)){\n      buttonType = 'add';\n      buttonClick = () => this.props.onSendFriendRequest(this.props.user);\n    } \n\n    // LOADING BUTTON\n    if(this.props.sendingFriendRequests.some(user => user.userId === this.props.userId) || \n       this.props.acceptingFriendRequests.some(user => user.userId === this.props.userId)){\n         buttonType='loading';\n    }\n\n    // CHECK BUTTON\n    if(this.props.sentFriendRequests.some(user => user.userId === this.props.userId)){\n      buttonType = 'sent';\n    } \n\n    //ACCEPT BUTTON\n    if(this.props.receivedFriendRequests.some(user => user.userId === this.props.userId)){\n      buttonType='received';\n      buttonClick = () => this.props.onAcceptFriendRequest(this.props.user);\n    } \n    if(!buttonType){\n      return null;\n    }else {\n      return <AddButton type={buttonType} clicked={buttonClick} />\n    }\n  }\n\n  clicked = () => {\n    const existingChat = this.props.chats.find(chat => chat.members.some(user => user.userId === this.props.userId));\n    if(existingChat){\n      this.props.onChangeChat(existingChat.chatId); \n      this.props.onCloseNewChatModal();\n    }else{\n      const self = {\n        name: this.props.selfName,\n        handle: this.props.selfHandle,\n        userId: this.props.selfId,\n        profilePic: this.props.selfHasPfilePic,\n      }\n      const chatPartner = this.props.user;\n      this.props.onCreateDummyChat(chatPartner, self);\n      this.props.onCloseNewChatModal();\n    }\n  }\n\n  render() {\n    const profilePicSrc = this.props.profilePic ? `${process.env.REACT_APP_PROFILE_PICTURES_SOURCE_URL}` + this.props.userId : DefaultProfilePic;\n    return (\n      <div onClick={this.clicked} className={classes.ChatPrev}>\n        <img src={profilePicSrc} alt=\" \" className={classes.ProfilePic}/>\n        <div className={classes.Info}>\n          <h3 className={classes.Name}>{this.props.name}</h3>\n          <p className={classes.Preview}>@{this.props.handle}</p>\n        </div>\n        {this.getButton()}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    darkmode: state.ui.darkmode,\n    currentChatId: state.chat.currentChatId,\n    currentUserId: state.user.userId,\n    unreadMessages: state.chat.unreadMessages, \n    seenUpdatesChats: state.chat.seenUpdatesChats,\n    token: state.user.token,\n    chats: state.chat.chats,\n    allUsers: state.chat.allUsers,\n\n    selfId: state.user.userId,\n    selfName: state.user.name,\n    selfHandle: state.user.handle,\n    selfHasPfilePic: state.user.hasProfilePic,\n\n    friends: state.chat.friends,\n    acceptingFriendRequests: state.chat.acceptingFriendRequests,\n    sendingFriendRequests: state.chat.sendingFriendRequests,\n    sentFriendRequests: state.chat.sentFriendRequests, \n    receivedFriendRequests: state.chat.receivedFriendRequests,\n\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onCreateDummyChat: (chatPartner, self) => dispatch(actions.createDummyChat(chatPartner, self)),\n    onChangeChat: (chatId) => dispatch(actions.changeChat(chatId)),\n\n    onSendFriendRequest: (user) => dispatch(actions.sendFriendRequest(user)),\n    onAcceptFriendRequest: (user) => dispatch(actions.acceptFriendRequest(user)),\n\n    onCloseNewChatModal: () => dispatch(actions.closeNewChatModal()),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserPrev);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'; \nimport * as actions from '../../store/actions/index';\nimport UserPrev from './UserPrev/UserPrev';\n\nimport classes from './NewChatModal.module.css';\nimport Backdrop from '../UI/Backdrop/Backdrop';\nimport Loader from 'react-loader-spinner';\n\nclass NewChatModal extends Component {\n\n    state = {\n      searchInput: '',\n      searching: true\n    }\n\n    componentDidMount = () => {\n      if(this.props.allUsersStatus === 'not loaded'){\n        this.props.onFetchAllUsers();\n      }\n    }\n\n    componentDidUpdate = () => {\n      console.log()\n    }\n\n    getAllUsers = () => {\n      let allUsers = null;\n      if(this.props.allUsersStatus === 'loading'){\n        allUsers = \n        <div className={classes.LoaderContainer}>\n          <Loader \n            className={classes.Spinner} \n            type=\"ThreeDots\" \n            color=\"#00BFFF\" \n            height={30} \n            width={30}/> \n        </div>\n      }\n      if(this.props.allUsersStatus === 'loaded'){ \n        allUsers = \n        <div>\n          {\n            this.props.allUsers\n            .filter(user => {\n              return user.name.toLowerCase().includes(this.state.searchInput.toLowerCase()) \n                      && user.userId !== this.props.logedinUserId\n                      && !this.props.friends.some(f => f.userId === user.userId)\n            })\n            .map(user => {\n              return (\n                <UserPrev \n                  user={user}\n                  {...user}\n                  inputRef={this.props.inputRef} \n                  key={'s' + user.userId}\n                  preview={user.handle}\n                />\n              )\n            })\n          }\n        </div>\n      }\n      return allUsers\n    }\n\n    getFriends = () => {\n      const friends = this.props.friends\n      .filter(friend => friend.name.toLowerCase().includes(this.state.searchInput.toLowerCase()) \n      )\n      .map(friend => {\n        return (\n          <UserPrev \n            user={friend}\n            {...friend}\n            inputRef={this.props.inputRef} \n            key={'f' + friend.userId}\n            preview={friend.handle}\n          />\n        )\n      })\n      return friends;\n    }\n\n    onSearchInput = (event) => {\n      this.setState({searchInput: event.target.value});\n    }\n\n    getSearchIcon() {\n      return (\n        <svg className={classes.SearchIcon} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <g id=\"search_24px\">\n          <path id=\"icon/action/search_24px\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M14.965 14.255H15.755L20.745 19.255L19.255 20.745L14.255 15.755V14.965L13.985 14.685C12.845 15.665 11.365 16.255 9.755 16.255C6.16504 16.255 3.255 13.345 3.255 9.755C3.255 6.16501 6.16504 3.255 9.755 3.255C13.345 3.255 16.255 6.16501 16.255 9.755C16.255 11.365 15.665 12.845 14.6851 13.985L14.965 14.255ZM5.255 9.755C5.255 12.245 7.26501 14.255 9.755 14.255C12.245 14.255 14.255 12.245 14.255 9.755C14.255 7.26501 12.245 5.255 9.755 5.255C7.26501 5.255 5.255 7.26501 5.255 9.755Z\" fill={'#ffffff'}/>\n          </g>\n        </svg>\n      )\n    }\n\n    getSearchInput = () => {\n      if(this.state.searching){\n        return (\n          <input \n          spellCheck='false'\n          placeholder={\"Search by username or @handle\"}\n          ref={(input) => { this.searchInput = input; }} \n          type=\"text\" \n          value={this.state.searchInput} \n          onChange={this.onSearchInput}\n          className={classes.SearchInput}/> \n        )\n      }\n      return null;\n    }\n\n    render() {\n        return(\n            <div>\n              <Backdrop show={this.props.modalOpen} clicked={this.props.onCloseNewChatMenu} />\n              <div className={classes.Modal}>\n                <h2>New Chat</h2>\n                <div className={classes.SearchContainer}>\n                  {this.getSearchIcon()}\n                  {this.getSearchInput()}\n                </div>\n                <div className={classes.ScrollContainer}>\n                  {this.getFriends()}\n                  {this.getAllUsers()} \n                </div>\n              </div>\n            </div>\n\n           )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        logedinUserId: state.user.userId, \n\n        allUsersStatus: state.chat.allUsersStatus,\n        allUsers: state.chat.allUsers,\n\n        friends: state.chat.friends,\n        chats: state.chat.chats,\n\n        sendingFriendRequests: state.chat.sendingFriendRequests, \n        sentFriendRequests: state.chat.sentFriendRequests, \n        failedFriendRequest: state.chat.failedFriendRequest,\n\n        receivedFriendRequests: state.chat.receivedFriendRequests,\n\n        token: state.user.token, \n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFetchAllUsers: () => dispatch(actions.fetchAllUsers()),\n    onCloseNewChatMenu: () => dispatch(actions.closeNewChatModal()),\n    onSendFriendRequest: (userId, token) => dispatch(actions.sendFriendRequest(userId, token)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NewChatModal);\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport classes from \"./ChatPrev.module.css\";\nimport DefaultProfilePic from \"../../../media/DefaultProfilePic.png\";\nimport * as actions from '../../../store/actions/index';\n\n\nclass ChatPrev extends Component {\n\n  clicked = () => {\n    if(this.props.dropTargets.some(id => id === this.props.chatId)){\n      this.props.onUnSelectDropTarget(this.props.chatId)\n    } else {\n      this.props.onSelectDropTarget(this.props.chatId)\n\n    }\n  }\n\n  render() {\n    const profilePicSrc = this.props.profilePic ? `${process.env.REACT_APP_PROFILE_PICTURES_SOURCE_URL}` + this.props.userId : DefaultProfilePic;\n    const selected = this.props.dropTargets.some(id => id === this.props.chatId);\n    return (\n      <div onClick={this.clicked} className={`${classes.ChatPrev} ${selected ? classes.selected : ''}`}>\n        <img src={profilePicSrc} alt=\" \" className={classes.ProfilePic}/>\n        <div className={classes.Info}>\n          <h3 className={classes.Name}>{this.props.name}</h3>\n          <p className={classes.Preview}>@{this.props.handle}</p>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    darkmode: state.ui.darkmode,\n    dropTargets: state.stream.dropTargets\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSelectDropTarget: (chatId) => dispatch(actions.selectDropTarget(chatId)),\n    onUnSelectDropTarget: (chatId) => dispatch(actions.unSelectDropTarget(chatId)),\n    onCloseNewChatModal: () => dispatch(actions.closeNewChatModal()),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ChatPrev);\n\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux'; \nimport * as actions from '../../store/actions/index';\n\n\nimport classes from './DropModal.module.css';\nimport Backdrop from '../UI/Backdrop/Backdrop';\nimport ChatPrev from './ChatPrev/ChatPrev';\nimport PrimaryButton from '../UI/PrimaryButton/PrimaryButton';\n\nclass DropModal extends Component {\n\n    state = {\n      searchInput: '',\n      searching: true\n    }\n\n    componentDidMount = () => {\n      if(this.props.allUsersStatus === 'not loaded'){\n        this.props.onFetchAllUsers();\n      }\n    }\n\n    getFriends = () => {\n      const friends = this.props.friends\n      .filter(friend => friend.name.toLowerCase().includes(this.state.searchInput.toLowerCase()) \n      )\n      .map(friend => {\n        return (\n          <ChatPrev \n            user={friend}\n            {...friend}\n            key={'f' + friend.userId}\n            preview={friend.handle}\n          />\n        )\n      })\n      return friends;\n    }\n\n    getChats = () => {\n      return this.props.chats.map(chat => {\n        const chatPartner = chat.members.find(m => m.userId !== this.props.userId);\n        return(\n          <ChatPrev\n            chatId={chat.chatId}\n            user={chatPartner}\n            {...chatPartner}\n            key={chat.chatId}/>\n        )\n      })\n    }\n\n    onSearchInput = (event) => {\n      this.setState({searchInput: event.target.value});\n    }\n\n    getSearchIcon = () => {\n      return (\n        <svg className={classes.SearchIcon} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n          <g id=\"search_24px\">\n          <path id=\"icon/action/search_24px\" fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M14.965 14.255H15.755L20.745 19.255L19.255 20.745L14.255 15.755V14.965L13.985 14.685C12.845 15.665 11.365 16.255 9.755 16.255C6.16504 16.255 3.255 13.345 3.255 9.755C3.255 6.16501 6.16504 3.255 9.755 3.255C13.345 3.255 16.255 6.16501 16.255 9.755C16.255 11.365 15.665 12.845 14.6851 13.985L14.965 14.255ZM5.255 9.755C5.255 12.245 7.26501 14.255 9.755 14.255C12.245 14.255 14.255 12.245 14.255 9.755C14.255 7.26501 12.245 5.255 9.755 5.255C7.26501 5.255 5.255 7.26501 5.255 9.755Z\" fill={'#ffffff'}/>\n          </g>\n        </svg>\n      )\n    }\n\n    send = () => {\n      this.props.onSendDrop(this.props.dropTargets, this.props.streamElements[1].id, this.props.title, this.props.userId);\n      document.getElementById('chatForm').focus();\n    }\n\n    render() {\n        const targetNames = this.props.dropTargets\n          .map(targetId => {\n            return this.props.chats.find(chat => chat.chatId === targetId).name;\n          })\n          .map(name => name.split(' ')[0]);\n\n        return(\n            <div>\n              <Backdrop show={this.props.modalOpen} clicked={this.props.onCloseDropModal} />\n              <div className={classes.Modal}>\n                <h2>Select Chat</h2>\n                <div className={classes.SearchContainer}>\n                  {this.getSearchIcon()}\n                  <input \n                    placeholder={\"Search by username or @handle\"}\n                    ref={(input) => { this.searchInput = input; }} \n                    type=\"text\" \n                    value={this.state.searchInput} \n                    onChange={this.onSearchInput}\n                    className={classes.SearchInput}/>\n                  </div>\n                <div className={classes.ScrollContainer}>\n                  {this.getChats()}\n                </div>\n                <PrimaryButton \n                  theme={false} \n                  clicked={() => this.send(this.props.streamElements[0].id)} \n                  disabled={this.props.dropTargets.length === 0}>\n                  {\n                    this.props.dropTargets.length > 0 \n                    ? <h3>Drop to {targetNames.join(', ')}</h3>\n                    : <h3>Drop</h3>\n                  }\n                </PrimaryButton>\n              </div>\n            </div>\n\n           )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        chats: state.chat.chats,\n\n        userId: state.user.userId,\n        token: state.user.token,\n\n        streamElements: state.stream.streamElements,\n        dropTargets: state.stream.dropTargets,\n\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSendDrop: (targets, dropId, title, selfId) => dispatch(actions.sendDrop(targets, dropId, title, selfId)),\n    onFetchAllUsers: () => dispatch(actions.fetchAllUsers()),\n    onCloseDropModal: () => dispatch(actions.closeDropModal()),\n    onSendFriendRequest: (userId, token) => dispatch(actions.sendFriendRequest(userId, token)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DropModal);\n","import React, { Component } from 'react';\n\nimport classes from './Footer.module.css';\n\nclass Footer extends Component {\n\n    getInstagramIcon = () => {\n        return(\n            <svg className={classes.Icon} viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <rect width=\"26\" height=\"26\" rx=\"3\" fill=\"#121218\"/>\n                <g clipPath=\"url(#clip0)\">\n                <g filter=\"url(#filter0_dd)\">\n                <path d=\"M13 4.80184C15.6701 4.80184 15.9864 4.812 17.0408 4.86011C18.0158 4.90461 18.5453 5.06752 18.8977 5.20443C19.3644 5.38583 19.6976 5.60257 20.0475 5.95248C20.3974 6.30239 20.6142 6.63555 20.7955 7.10229C20.9325 7.4547 21.0954 7.98419 21.1399 8.95914C21.188 10.0136 21.1982 10.3299 21.1982 13C21.1982 15.6701 21.188 15.9864 21.1399 17.0409C21.0954 18.0158 20.9325 18.5453 20.7955 18.8978C20.6142 19.3645 20.3974 19.6976 20.0475 20.0476C19.6976 20.3975 19.3644 20.6142 18.8977 20.7956C18.5453 20.9325 18.0158 21.0954 17.0408 21.1399C15.9865 21.188 15.6703 21.1982 13 21.1982C10.3297 21.1982 10.0134 21.188 8.95914 21.1399C7.98415 21.0954 7.45466 20.9325 7.10229 20.7956C6.63551 20.6142 6.30235 20.3975 5.95244 20.0476C5.60253 19.6976 5.38579 19.3645 5.20443 18.8978C5.06748 18.5453 4.90457 18.0158 4.86007 17.0409C4.81196 15.9864 4.8018 15.6701 4.8018 13C4.8018 10.3299 4.81196 10.0136 4.86007 8.95918C4.90457 7.98419 5.06748 7.4547 5.20443 7.10229C5.38579 6.63555 5.60253 6.30239 5.95244 5.95248C6.30235 5.60257 6.63551 5.38583 7.10229 5.20443C7.45466 5.06752 7.98415 4.90461 8.9591 4.86011C10.0136 4.812 10.3299 4.80184 13 4.80184ZM13 3C10.2841 3 9.94362 3.01151 8.87701 3.06018C7.81259 3.10876 7.08569 3.27779 6.44958 3.52501C5.79199 3.78056 5.23432 4.1225 4.67839 4.67843C4.12246 5.23436 3.78052 5.79203 3.52497 6.44962C3.27775 7.08573 3.10872 7.81263 3.06014 8.87705C3.01147 9.94362 3 10.2842 3 13C3 15.7159 3.01147 16.0564 3.06014 17.123C3.10872 18.1874 3.27775 18.9143 3.52497 19.5504C3.78052 20.208 4.12246 20.7657 4.67839 21.3216C5.23432 21.8775 5.79199 22.2195 6.44958 22.475C7.08569 22.7223 7.81259 22.8913 8.87701 22.9399C9.94362 22.9885 10.2841 23 13 23C15.7158 23 16.0564 22.9885 17.1229 22.9399C18.1874 22.8913 18.9143 22.7223 19.5504 22.475C20.208 22.2195 20.7656 21.8775 21.3216 21.3216C21.8775 20.7657 22.2194 20.208 22.475 19.5504C22.7222 18.9143 22.8912 18.1874 22.9398 17.123C22.9885 16.0564 23 15.7159 23 13C23 10.2842 22.9885 9.94362 22.9398 8.87705C22.8912 7.81263 22.7222 7.08573 22.475 6.44962C22.2194 5.79203 21.8775 5.23436 21.3216 4.67843C20.7656 4.1225 20.208 3.78056 19.5504 3.52501C18.9143 3.27779 18.1874 3.10876 17.1229 3.06018C16.0564 3.01151 15.7158 3 13 3ZM13 7.86487C10.1639 7.86487 7.86483 10.164 7.86483 13C7.86483 15.8361 10.1639 18.1352 13 18.1352C15.836 18.1352 18.1351 15.8361 18.1351 13C18.1351 10.164 15.836 7.86487 13 7.86487ZM13 16.3334C11.159 16.3334 9.66663 14.841 9.66663 13C9.66663 11.1591 11.159 9.66667 13 9.66667C14.8409 9.66667 16.3333 11.1591 16.3333 13C16.3333 14.841 14.8409 16.3334 13 16.3334ZM19.538 7.66199C19.538 8.32474 19.0008 8.86201 18.338 8.86201C17.6753 8.86201 17.138 8.32474 17.138 7.66199C17.138 6.99924 17.6753 6.462 18.338 6.462C19.0008 6.462 19.538 6.99924 19.538 7.66199Z\" fill=\"white\"/>\n                </g>\n                </g>\n                <defs>\n                <filter id=\"filter0_dd\" x=\"-7\" y=\"-7\" width=\"40\" height=\"40\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n                <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"2.5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0\"/>\n                <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n                </filter>\n                <clipPath id=\"clip0\">\n                <rect width=\"26\" height=\"26\" fill=\"white\"/>\n                </clipPath>\n                </defs>\n            </svg>\n        )\n    }\n\n    getTwitterIcon = () => {\n        return(\n            <svg className={classes.Icon} viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g clipPath=\"url(#clip0)\">\n                <rect width=\"26\" height=\"26\" rx=\"3\" fill=\"#121218\"/>\n                <g filter=\"url(#filter0_dd)\">\n                <path d=\"M10.1025 19.208C16.232 19.208 19.586 14.125 19.586 9.7245C19.586 9.5815 19.586 9.4385 19.5795 9.2955C20.2295 8.8275 20.795 8.236 21.2435 7.5665C20.6455 7.833 20.002 8.0085 19.326 8.093C20.015 7.6835 20.5415 7.027 20.795 6.247C20.1515 6.6305 19.4365 6.9035 18.676 7.053C18.065 6.403 17.2005 6 16.245 6C14.4055 6 12.9105 7.495 12.9105 9.3345C12.9105 9.5945 12.943 9.848 12.995 10.095C10.226 9.9585 7.769 8.626 6.1245 6.611C5.8385 7.105 5.676 7.677 5.676 8.288C5.676 9.445 6.2675 10.4655 7.158 11.0635C6.612 11.044 6.0985 10.8945 5.65 10.6475C5.65 10.6605 5.65 10.6735 5.65 10.693C5.65 12.305 6.8005 13.657 8.3215 13.9625C8.042 14.0405 7.7495 14.0795 7.444 14.0795C7.2295 14.0795 7.0215 14.06 6.82 14.021C7.2425 15.347 8.4775 16.309 9.9335 16.335C8.7895 17.232 7.353 17.765 5.793 17.765C5.5265 17.765 5.26 17.752 5 17.7195C6.469 18.6555 8.224 19.208 10.1025 19.208Z\" fill=\"white\"/>\n                </g>\n                </g>\n                <defs>\n                <filter id=\"filter0_dd\" x=\"-5\" y=\"-4\" width=\"36.2435\" height=\"33.208\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n                <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"2.5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0\"/>\n                <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n                </filter>\n                <clipPath id=\"clip0\">\n                <rect width=\"26\" height=\"26\" fill=\"white\"/>\n                </clipPath>\n                </defs>\n            </svg>\n        )\n    }\n\n    getFacebookIcon = () => {\n        return (\n            <svg className={classes.Icon} width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g clipPath=\"url(#clip0)\">\n                <path d=\"M22.75 26H3.25C1.456 26 0 24.544 0 22.75V3.25C0 1.456 1.456 0 3.25 0H22.75C24.544 0 26 1.456 26 3.25V22.75C26 24.544 24.544 26 22.75 26Z\" fill=\"#121218\"/>\n                <g filter=\"url(#filter0_dd)\">\n                <path d=\"M20.2137 15.9373L20.8356 11.7748H16.9452V9.07489C16.9452 7.93585 17.4877 6.82493 19.2301 6.82493H21V3.28124C21 3.28124 19.3945 3 17.8603 3C14.6548 3 12.5616 4.99403 12.5616 8.6024V11.7748H9V15.9373H12.5616V26.1746C12.5616 26.1746 12.5616 26.1746 14.5714 26.1746C16.9286 26.1746 16.9286 26.1746 16.9286 26.1746L16.9452 15.9373H20.2137Z\" fill=\"white\"/>\n                </g>\n                </g>\n                <defs>\n                <filter id=\"filter0_dd\" x=\"-1\" y=\"-7\" width=\"32\" height=\"43.1746\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n                <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"2.5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0\"/>\n                <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n                </filter>\n                <clipPath id=\"clip0\">\n                <rect width=\"26\" height=\"26\" fill=\"white\"/>\n                </clipPath>\n                </defs>\n            </svg>\n        )\n    }\n\n    getTumblrIcon = () => {\n        return (\n            <svg className={classes.Icon} viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g clipPath=\"url(#clip0)\">\n                <rect width=\"26\" height=\"26\" rx=\"3\" fill=\"#121218\"/>\n                <g filter=\"url(#filter0_dd)\">\n                <path d=\"M14.3459 22C11.9512 22 10.1752 20.6102 10.1752 17.2768V11.9435H8V9.05085C10.3947 8.35028 11.3925 6.0226 11.5022 4H13.9867V8.58757H16.8803V11.9435H13.9867V16.5876C13.9867 17.9774 14.6053 18.4633 15.5931 18.4633H17V22H14.3459Z\" fill=\"white\"/>\n                </g>\n                </g>\n                <defs>\n                <filter id=\"filter0_dd\" x=\"-2\" y=\"-6\" width=\"29\" height=\"38\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n                <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"2.5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0\"/>\n                <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n                </filter>\n                <clipPath id=\"clip0\">\n                <rect width=\"26\" height=\"26\" fill=\"white\"/>\n                </clipPath>\n                </defs>\n            </svg>\n\n        )\n    }\n\n    getPinterestIcon = () => {\n        return ( \n            <svg className={classes.Icon} width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                <g clipPath=\"url(#clip0)\">\n                <rect width=\"26\" height=\"26\" rx=\"3\" fill=\"#121218\"/>\n                <g filter=\"url(#filter0_dd)\">\n                <path d=\"M11.5352 4.06354C8.33129 4.416 5.13873 6.97042 5.00696 10.6193C4.92413 12.8473 5.56603 14.5187 7.71763 14.988C8.6513 13.3648 7.41644 13.0068 7.22444 11.8325C6.43571 7.02051 12.8566 3.7389 16.2167 7.09842C18.5415 9.42467 17.0111 16.5815 13.2613 15.8376C9.66969 15.1271 15.0195 9.43023 12.1526 8.31163C9.82216 7.40265 8.58354 11.0924 9.68851 12.9252C9.04096 16.0769 7.6461 19.0469 8.21082 23C10.0424 21.6903 10.6598 19.1823 11.1662 16.5667C12.0867 17.1176 12.578 17.6908 13.7526 17.7799C18.0841 18.1101 20.503 13.5188 19.9119 9.28368C19.3867 5.52904 15.5842 3.61833 11.5352 4.06354Z\" fill=\"white\"/>\n                </g>\n                </g>\n                <defs>\n                <filter id=\"filter0_dd\" x=\"-5\" y=\"-6\" width=\"35\" height=\"39\" filterUnits=\"userSpaceOnUse\" colorInterpolationFilters=\"sRGB\">\n                <feFlood floodOpacity=\"0\" result=\"BackgroundImageFix\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.0685603 0 0 0 0 0.608795 0 0 0 0 1 0 0 0 1 0\"/>\n                <feBlend mode=\"normal\" in2=\"BackgroundImageFix\" result=\"effect1_dropShadow\"/>\n                <feColorMatrix in=\"SourceAlpha\" type=\"matrix\" values=\"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"/>\n                <feOffset/>\n                <feGaussianBlur stdDeviation=\"2.5\"/>\n                <feColorMatrix type=\"matrix\" values=\"0 0 0 0 0.58106 0 0 0 0 0.798909 0 0 0 0 1 0 0 0 0.8 0\"/>\n                <feBlend mode=\"normal\" in2=\"effect1_dropShadow\" result=\"effect2_dropShadow\"/>\n                <feBlend mode=\"normal\" in=\"SourceGraphic\" in2=\"effect2_dropShadow\" result=\"shape\"/>\n                </filter>\n                <clipPath id=\"clip0\">\n                <rect width=\"26\" height=\"26\" fill=\"white\"/>\n                </clipPath>\n                </defs>\n            </svg>\n\n        )\n    }\n\n\n    getSocialButtons = () => {\n        return(\n            <div className={classes.SocialButtons}>\n                <a href='https://twitter.com/drops_meme' className={classes.Link} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {this.getTwitterIcon()}  \n                </a>\n                <a href='https://www.instagram.com/meme_drops/' className={classes.Link}  target=\"_blank\" rel=\"noopener noreferrer\">\n                    {this.getInstagramIcon()}\n                </a>\n                <a href='https://www.facebook.com/mememedrop' className={classes.Link} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {this.getFacebookIcon()} \n                </a>\n                <a href='https://www.tumblr.com/blog/memedrops' className={classes.Link} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {this.getTumblrIcon()}  \n                </a>\n                <a href='https://www.pinterest.de/memedrops/' className={classes.Link} target=\"_blank\" rel=\"noopener noreferrer\">\n                    {this.getPinterestIcon()} \n                </a>\n            </div>\n        )\n    }\n\n    render() {\n        return (\n            <div className={classes.Footer}>\n                {this.getSocialButtons()}\n            </div>\n        )\n    }\n}\n\nexport default Footer;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport classes from './MenuScreen.module.css';\n\nimport { ReactComponent as ArrowBack } from './arrow_back.svg'\n\nimport * as actions from '../../../store/actions/index';\n\n\n\nclass MenuScreen extends Component {\n\n    getArrowBack = () => {\n          return (\n            <div className={classes.BackButton}>\n                <ArrowBack className={classes.ArrowBack} onClick={this.props.onPopFromMenuStack}/>\n            </div>\n          )\n      }\n\n    render() {\n        return(\n            <div className={`${classes.MenuScreen} ${this.props.pos === -1 ? classes.left : this.props.pos === 1 ? classes.right : null}`}>\n                {this.props.currentDepth !== 0 ? this.getArrowBack() : null}\n                {this.props.children}\n            </div>\n        )\n    }\n}\n\n\nconst mapStateToProps = state => {\n    return {\n        authReason: state.user.authReason, \n        loginOrSignup: state.ui.loginOrSignup,\n        currentDepth: state.ui.menu.currentDepth, \n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onPopFromMenuStack: () => dispatch(actions.popFromMenuStack()), \n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MenuScreen);","import React, { Component } from 'react';\n\nimport classes from './MenuItem.module.css';\n\nclass MenuItem extends Component {\n    render() {\n        return(\n            <div className={`${classes.MenuItem} ${this.props.invalid ? classes.Invalid : ''}`}>\n                {this.props.children}\n            </div>\n        )\n    }\n}\n\nexport default MenuItem;","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport Dropzone from 'react-dropzone';\nimport * as actions from '../../../store/actions/index';\n\n\n\nimport MenuScreen from '../MenuScreen/MenuScreen';\nimport PrimaryButton from '../../UI/PrimaryButton/PrimaryButton'; \nimport MenuItem from \"../MenuItem/MenuItem\";\nimport Loader from \"react-loader-spinner\";\n\nimport classes from \"./AuthMenu.module.css\";\nimport ProfilePicPlaceholder from './ProfilePicPlaceholder.svg'; \n\nconst UNACCEPTABLE_PASSWORDS = ['12345', '123456', '1234567', '12345678', '123456789', '1234567890']\n\n\nclass AuthMenu extends Component { \n\n  state = {\n    loginEmail: {\n        value: '',\n        touched: false,\n        valid: false,\n    },\n    loginPassword: {\n        value: '',\n        touched: false,\n        valid: false,\n    },\n    name: {\n        value: '',\n        touched: false,\n        valid: false,\n    },\n    password: {\n        value: '',\n        touched: false,\n        valid: false,\n        errorMessage: 'Min 5 Characters'\n    },\n    secondPassword: {\n        value: '', \n        touched: false,\n        valid: false,\n    },\n    email: {\n        value: '',\n        touched: false,\n        valid: false,\n    },\n    handle: {\n        value: '',\n        touched: false,\n        valid: false,\n    },\n    profilePic: {\n        tooUgly: true,\n        src: null,\n        file: null, \n    },\n    userConditions: {\n        value: true,\n        touched: false,\n    }, \n    newsletter: true,\n}\n\n//--------- LOGIN EMAIL --------------------------------------------------------\n\nonInputLoginEmail = (event) => {\n    const email = event.target.value;\n    const valid = email ? /^\\S+@\\S+\\.\\S+$/.test(email) : false;\n    this.setState({ \n        loginEmail: {\n            ...this.state.loginEmail,\n            value: event.target.value,\n            errorMessage: valid ? null : 'Please enter valid email.',\n            valid: valid\n        }\n    })  \n}\n\nonLeaveLoginEmailFocus = () => {\n    this.setState({\n        loginEmail: {\n            ...this.state.loginEmail, \n            touched: true\n        }\n    })\n}\n\n//--------- LOGIN PASSWORD -----------------------------------------------------\n\n\nonInputLoginPassword = (event) => {\n    const password = event.target.value;\n    this.setState({ \n        loginPassword: {\n            ...this.state.loginPassword, \n            value: password\n        }\n    })\n}\n\nonLeaveLoginPasswordFocus = () => {\n    this.setState({\n        loginPassword: {\n            ...this.state.loginPassword,\n            touched: true\n        }\n    })\n}\n\n//--------- NAME ---------------------------------------------------------\n\nonInputName = (event) => {\n    const name = event.target.value;\n    const valid =  name ? name.length > 3 && name.length < 20  : false\n    this.setState({ \n        name: {\n            ...this.state.name, \n            value: event.target.value,\n            errorMessage: valid ? null : '4-20 characters',\n            valid: valid\n        }\n    })\n}\n\nonLeaveNameFocus = () => {\n    this.setState({\n        name: {\n            ...this.state.name, \n            touched: true\n        }\n    })\n}\n\n//--------- PROFILE PIC --------------------------------------------------\n\n\nonUploadprofilePic = (acceptedFiles) => {\n    if(acceptedFiles && acceptedFiles.length > 0){\n        const file = Array.from(acceptedFiles)[0];\n        const src = window.URL.createObjectURL(file)\n        this.setState({\n            profilePic :{ \n                file, \n                src,\n                tooUgly: false\n            }\n        });\n    }\n}\n\nonRemoveProfilePic = (event) => {\n    this.setState({\n        profilePic: {\n            tooUgly: true,\n            src: null,\n            file: null, \n        },\n    })\n}\n\n\n\n//--------- EMAIL --------------------------------------------------------\n\nonInputEmail = (event) => {\n    const email = event.target.value;\n    const valid = email ? /^\\S+@\\S+\\.\\S+$/.test(email) : false;\n    this.setState({ \n        email: {\n            value: event.target.value,\n            errorMessage: valid ? null : 'Please enter valid email.',\n            valid: valid\n        }\n    })  \n}\n\nonLeaveEmailFocus = () => {\n    this.setState({\n        email: {\n            ...this.state.email, \n            touched: true\n        }\n    })\n}\n\n//--------- HANDLE -------------------------------------------------------\n\nonInputHandle = (event) => {\n    const handle = event.target.value.startsWith('@') ? event.target.value.substring(1) : event.target.value;\n    let errorMessage = '';\n    if(handle.length < 4 || handle.length > 14) errorMessage = '4-14 characters.'; \n    if(!/^[a-zA-Z]+$/.test(handle)) errorMessage = 'letters only!';\n    this.setState({ \n        handle: {\n            ...this.state.handle, \n            value: handle,\n            errorMessage,\n            valid: errorMessage === '',\n        }\n    })  \n}\n\nonLeaveHandleFocus = () => {\n    this.setState({\n        handle: {\n            ...this.state.handle, \n            touched: true\n        }\n    })\n}\n\n//--------- PASSWORD -----------------------------------------------------\n\n\nonInputPassword = (event) => {\n    const password = event.target.value;\n    let valid = true; \n    let errorMessage;\n    if(!password || password.length < 5){\n        valid = false;\n        errorMessage = 'Min 5 Characters';\n    } else if(UNACCEPTABLE_PASSWORDS.includes(password)){\n        valid = false;\n        errorMessage = 'Really? Can u please chose another password?';\n    } else if(password.length > 30){\n        valid = false;\n        errorMessage = 'Max 30 characters'\n    }\n    this.setState({ \n        password: {\n            ...this.state.password,\n            value: event.target.value,\n            errorMessage,\n            valid: valid\n        }\n    })\n}\n\n\nonLeavePasswordFocus = () => {\n    this.setState({\n        password: {\n            ...this.state.password,\n            touched: true\n        }\n    })\n}\n\n//--------- SECOND PASSWORD  ---------------------------------------------\n\nonInputSecondPassword = (event) => {\n    const password = event.target.value;\n    const valid = password === this.state.password.value;\n    const errorMessage = valid ? null : 'Passwords do not match.';\n\n    this.setState({ \n        secondPassword: {\n            ...this.state.secondPassword,\n            value: event.target.value,\n            errorMessage,\n            valid: valid\n        }\n    })\n}\n\nonLeaveSecondPasswordFocus = () => {\n    this.setState({\n        secondPassword: {\n            ...this.state.secondPassword,\n            touched: true\n        }\n    })\n}\n\n//--------- USER CONDITIONS & NEWSLETTER  --------------------------------\n\nonChangeUserconditions = (event) => {\n    this.setState(prevState => {\n        return { \n            userConditions: {\n                ...prevState.userConditions,\n                value: !prevState.userConditions.value \n            }\n        }\n    })\n}\n\nonChangeNewsletter = (event) => {\n    this.setState(prevState => {\n        return { \n            newsletter: !prevState.newsletter \n        }\n    })\n}\n\n  componentDidUpdate = () => {\n    if(this.props.shouldMoveRight) {\n      this.props.onMoveRight()\n    }; \n    if(this.props.menuStack[this.props.menuStack.length-1] === 'CHOOSE_HANDLE'){\n        document.getElementById('handle').focus(); \n    }\n  }\n\n  createAccount = () => {\n    console.log(`\n        src:      ${this.state.profilePic.src}\n        name:     ${this.state.name.value}\n        password: ${this.state.password.value}\n        handle:   ${this.state.handle.value}\n        email:    ${this.state.email.value}\n        file:     ${this.state.profilePic.file}\n    `)\n    this.props.onSignup(\n        this.state.name.value, \n        this.state.email.value, \n        this.state.handle.value, \n        this.state.password.value, \n        this.state.profilePic.file,\n        this.state.profilePic.src, \n        this.state.newsletter\n    );\n  }\n\n  login = (event) => {\n    event.preventDefault();\n    this.props.onLogin(this.state.loginEmail.value, this.state.loginPassword.value)\n  }\n\n  signup = (event) => {\n    event.preventDefault();\n    if(this.state.email.valid && this.state.password.valid && this.state.secondPassword.valid && this.state.name.valid){\n        this.props.checkEmailTaken(this.state.email.value);\n    }else {\n        this.setState({\n            email: { ...this.state.email, touched: true },\n            password: { ...this.state.password, touched: true },\n            secondPassword: { ...this.state.secondPassword, touched: true },\n            name: { ...this.state.name, touched: true },\n        })\n    }\n  }\n\n  chooseHandle = (event) => {\n      event.preventDefault(); \n      if(this.state.handle.valid){\n        this.props.checkHandleTaken(this.state.handle.value);\n      }else{\n          this.setState({\n              handle: { ...this.state.handle, touched: true }\n          })\n      }\n  }\n\n\n  getMenuScreens = () => {\n    return this.props.menuStack.map((s,i) => {\n        const pos = this.props.menuStack[this.props.currentDepth] === s ? 0 : i < this.props.currentDepth ? -1 : 1\n        let content = []; \n        switch(s){\n            case 'AUTH': \n                const loginErrorMessage = !this.state.loginEmail.valid & this.state.loginEmail.touched ? 'Not a valid email' : this.props.loginError;\n                let emailErrorMessage, \n                    passwordErrorMessage, \n                    secondPasswordErrorMessage;\n                if(!this.state.email.valid && this.state.email.touched) emailErrorMessage = 'Not a valid email';\n                if(this.props.takenEmails.some(e => e === this.state.email.value)) emailErrorMessage = 'There already exists an account with that email.';\n                if(!this.state.password.valid && this.state.password.touched) passwordErrorMessage = this.state.password.errorMessage;\n                if(!this.state.secondPassword.valid && this.state.secondPassword.touched) secondPasswordErrorMessage = this.state.secondPassword.errorMessage;\n            \n                content.push(\n                    <MenuItem key={s + 'login'}>\n                        <form onSubmit={this.login}>\n                            <input\n                                onAnimationStart={this.onInputEmail}\n                                className={classes.TextInput}\n                                element=\"input\"\n                                id=\"emailLogin\"\n                                type=\"email\"\n                                placeholder='email'\n                                spellCheck='false'\n                                value={this.state.loginEmail.value}\n                                onChange={this.onInputLoginEmail}\n                                onBlur={this.onLeaveLoginEmailFocus}\n                            />\n                            <input\n                                onAnimationStart={this.onInputLoginPassword}\n                                className={classes.TextInput}\n                                element=\"input\"\n                                type=\"password\"\n                                placeholder='password'\n                                value={this.state.loginPassword.value}\n                                onChange={this.onInputLoginPassword}\n                                onBlur={this.onLeaveLoginPasswordFocus}\n                            />\n                            {\n                                loginErrorMessage ? \n                                <div className={classes.ErrorMessage}>\n                                    {loginErrorMessage}\n                                </div>\n                                :null\n                            }\n\n                            <PrimaryButton clicked={this.login}>\n                                { this.props.loginLoading \n                                ? <Loader \n                                    className={classes.Spinner} \n                                    type=\"ThreeDots\" \n                                    color=\"#FFFFFF\" \n                                    height={30} \n                                    width={30}/> \n                                : <h3>Login</h3> }\n                            </PrimaryButton>\n                        </form>\n                    </MenuItem>)\n                content.push(\n                    <MenuItem key={s + 'signup'}>\n                        <form onSubmit={this.signup}>\n                            <input\n                                className={classes.TextInput}\n                                element=\"input\"\n                                id=\"emailSignup\"\n                                type=\"email\"\n                                placeholder='email'\n                                value={this.state.email.value}\n                                onChange={this.onInputEmail}\n                                onAnimationStart={this.onInputEmail}\n                                onBlur={this.onLeaveEmailFocus}\n                            />\n                            {\n                                emailErrorMessage ? \n                                <div className={classes.ErrorMessage}>\n                                    {emailErrorMessage}\n                                </div>\n                                : null\n                            }\n                            <input\n                                className={classes.TextInput}\n                                element=\"input\"\n                                type=\"password\"\n                                placeholder='password'\n                                value={this.state.password.value}\n                                onChange={this.onInputPassword}\n                                onAnimationStart={this.onInputPassword}\n                                onBlur={this.onLeavePasswordFocus}\n                            />\n                            {\n                                passwordErrorMessage ? \n                                <div className={classes.ErrorMessage}>\n                                    {passwordErrorMessage}\n                                </div>\n                                :null\n                            }\n                            <input\n                                className={classes.TextInput}\n                                element=\"input\"\n                                type=\"password\"\n                                placeholder='repeat password'\n                                value={this.state.secondPassword.value}\n                                onChange={this.onInputSecondPassword}\n                                onAnimationStart={this.onInputSecondPassword}\n                                onBlur={this.onLeaveSecondPasswordFocus}\n                            />\n                            {\n                                secondPasswordErrorMessage ? \n                                <div className={classes.ErrorMessage}>\n                                    {secondPasswordErrorMessage}\n                                </div>:null\n                            }\n                            <input \n                                className={classes.TextInput}\n                                id=\"name\" \n                                placeholder=\"Your Name\"\n                                type=\"text\"\n                                value={this.state.name.value}\n                                onChange={this.onInputName}\n                                onAnimationStart={this.onInputName}\n                            />\n                            <div className={classes.CheckboxContainer}>\n                                <input \n                                    type='checkbox' \n                                    onChange={this.onChangeUserconditions} \n                                    checked={this.state.userConditions.value}/>\n                                <p onClick={this.onChangeUserconditions} className={classes.CheckboxText}>\n                                    accept user conditions & shit\n                                </p>\n                            </div>\n                            <div className={classes.CheckboxContainer}>\n                                <input \n                                    type='checkbox' \n                                    onChange={this.onChangeNewsletter} \n                                    checked={this.state.newsletter}/>\n                                <p onClick={this.onChangeNewsletter} className={classes.CheckboxText}>\n                                    Receive an email for every big new feature\n                                </p>\n                            </div>\n                            <PrimaryButton type=\"submit\" clicked={(event) => this.signup(event)}>\n                                { \n                                    this.props.checkEmailLoading \n                                    ? <Loader \n                                        className={classes.Spinner} \n                                        type=\"ThreeDots\" \n                                        color=\"#FFFFFF\" \n                                        height={30} \n                                        width={30}/> \n                                    : <h3>Create Account</h3>\n                                }\n                            </PrimaryButton>\n                        </form>\n                    </MenuItem>\n                );\n                break; \n            case 'CHOOSE_HANDLE': \n                let handleErrorMessage;\n                if(!this.state.handle.valid && this.state.handle.touched) handleErrorMessage = this.state.handle.errorMessage;\n                if(this.props.takenHandles.some(h => h === this.state.handle.value)) handleErrorMessage = 'Handle already taken'\n                content.push(\n                    <MenuItem  key={s}>\n                        <form onSubmit={this.chooseHandle}>\n                            <h3>Enter @ Handle:</h3>            \n                            <input\n                                className={classes.TextInput}\n                                element=\"input\"\n                                id=\"handle\"\n                                type=\"text\"\n                                placeholder=\"@elon\"\n                                value={'@' + this.state.handle.value}\n                                onChange={this.onInputHandle}\n                                onAnimationStart={this.onInputHandle}\n                                onBlur={this.onLeaveHandleFocus}\n                            />\n                            {\n                                handleErrorMessage ? \n                                <div className={classes.ErrorMessage}>\n                                    {handleErrorMessage}\n                                </div>:null\n                            }\n                            <PrimaryButton type=\"submit\" clicked={(event) => this.chooseHandle(event)}>\n                            { \n                                this.props.checkHandleLoading \n                                ? <Loader \n                                    className={classes.Spinner} \n                                    type=\"ThreeDots\" \n                                    color=\"#FFFFFF\" \n                                    height={30} \n                                    width={30}/> \n                                : <h3>Choose {this.state.handle.value}</h3>\n                            }\n                            </PrimaryButton>\n                        </form>\n                    </MenuItem>\n                ); \n                break; \n            case 'CHOOSE_PROFILE_PIC':\n                content.push(\n                    <MenuItem  key={s}>\n                        <h3>Profile Picture</h3>\n                        <input type='checkbox' onChange={this.onRemoveProfilePic} checked={this.state.profilePic.tooUgly}/> I'm too ugly<br/>\n                        <input type='checkbox' onChange={() => console.log('Upload Pic!')} checked={!this.state.profilePic.tooUgly}/> Upload picture\n                        <Dropzone onDrop={this.onUploadprofilePic}>\n                            {({getRootProps, getInputProps}) => (\n                                <section>\n                                <div {...getRootProps()}>\n                                    <input {...getInputProps()} />\n                                        <div className={classes.Dropzone}>\n                                        { \n                                            this.state.profilePic.src \n                                            ? <img \n                                                className={classes.ProfilePic}\n                                                src={this.state.profilePic.src} \n                                                alt='profilePic'/> \n                                            : <img \n                                                className={classes.ProfilePicPlaceholder} \n                                                src={ProfilePicPlaceholder} \n                                                alt='drag & drop profile Pic here'/>\n                                        }\n                                        </div> \n                                    </div>\n                                </section>\n                            )}\n                        </Dropzone>\n                        <PrimaryButton clicked={this.createAccount}>\n                        { \n                                this.props.signupLoading \n                                ? <Loader \n                                    className={classes.Spinner} \n                                    type=\"ThreeDots\" \n                                    color=\"#FFFFFF\" \n                                    height={30} \n                                    width={30}/> \n                                : <h3>Finish</h3>\n                            }\n                        </PrimaryButton>\n                    </MenuItem>\n                );\n                break; \n            default: console.log('INVALID ELEMENT ON MENU STACK');\n        }\n        return (\n            <MenuScreen screen={s} pos={pos} goBack={this.goBack} addToMenuStack={this.addToMenuStack}  key={s}>\n                {content}\n            </MenuScreen>\n        )\n    })\n  }\n\n\n  render() {\n    return (\n        <div className={classes.MenuItems}>\n          { this.getMenuScreens() }\n        </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n\n  return {\n    menuStack: state.ui.menu.menuStack, \n    loginLoading: state.user.loginLoading,\n    checkEmailLoading: state.user.checkEmailLoading,\n    signupLoading: state.user.signupLoading,\n    checkHandleLoading: state.user.checkHandleLoading,\n    shouldMoveRight: state.ui.menu.shouldMoveRight, \n\n    darkmode: state.ui.darkmode,\n    currentDepth: state.ui.menu.currentDepth, \n\n    name: state.user.name, \n    handle: state.user.handle,\n    token: state.user.token,\n\n    loginError: state.user.loginError, \n    signupError: state.user.signupError,\n    takenEmails: state.user.takenEmails,\n    takenHandles: state.user.takenHandles,\n\n    \n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onMoveRight: () => dispatch(actions.moveRight()),\n    onAddToMenuStack: (next) => dispatch(actions.addToMenuStack(next)), \n\n    checkEmailTaken: (email) => dispatch(actions.checkEmailTaken(email)),\n    checkHandleTaken: (handle) => dispatch(actions.checkHandleTaken(handle)),\n    onLogin: (email, password) => dispatch(actions.login(email, password)),\n    onSignup: (name, email, handle, password, file, src, newsletter) => dispatch(actions.signup(name, email, handle, password, file, src, newsletter)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AuthMenu);\n\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\nimport * as actions from '../../../store/actions/index';\n\nimport MenuScreen from '../MenuScreen/MenuScreen';\nimport MenuItem from \"../MenuItem/MenuItem\";\n\nimport classes from \"./UserMenu.module.css\";\nimport LogoutIcon from './logout.svg';\n\n\n\nclass UserMenu extends Component { \n\n  state = {\n\n}\n\n  componentDidUpdate = () => {\n    if(this.props.shouldMoveRight) {\n      this.props.onMoveRight()\n    }; \n  }\n\n\n  getMenuScreens = () => {\n\n\n    return this.props.menuStack.map((s,i) => {\n        console.log(classes.LogoutContainer);\n        console.log('########################')\n        const pos = this.props.menuStack[this.props.currentDepth] === s ? 0 : i < this.props.currentDepth ? -1 : 1\n        let content = []; \n        switch(s){\n            case 'USER_MENU': \n                content.push(\n                    <MenuItem  key={s}>\n                        <div className={classes.LogoutContainer} onClick={this.props.onLogout}>\n                          <img className={classes.LogoutIcon} src={LogoutIcon} alt='logoutIcon'/>\n                          <p className={classes.LogoutText}>logout</p>\n                        </div>\n                    </MenuItem>\n                );\n                break; \n            default: console.log('INVALID ELEMENT ON MENU STACK');\n        }\n        return (\n            <MenuScreen screen={s} pos={pos} goBack={this.goBack} addToMenuStack={this.addToMenuStack}  key={s}>\n                {content}\n            </MenuScreen>\n        )\n    })\n  }\n\n\n  render() {\n    let menuClasses = [classes.Menu];\n    let lightButtonClasses = [classes.LightButton];\n    let darkButtonClasses = [classes.DarkButton];\n    if(this.props.darkmode){\n      menuClasses.push(classes.DarkMenu); \n      darkButtonClasses.push(classes.Active);\n      lightButtonClasses.push(classes.Inactive);\n    } else {\n      menuClasses.push(classes.LightMenu); \n      lightButtonClasses.push(classes.Active);\n      darkButtonClasses.push(classes.Inactive);\n    }\n    return (\n      <div className={classes.MenuItems}>\n        { this.getMenuScreens() }\n      </div>\n      \n    );\n  }\n}\n\nconst mapStateToProps = state => {\n\n  return {\n    menuStack: state.ui.menu.menuStack, \n    darkmode: state.ui.darkmode,\n    currentDepth: state.ui.menu.currentDepth, \n    shouldMoveRight: state.ui.menu.shouldMoveRight, \n\n    token: state.user.token,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onMoveRight: () => dispatch(actions.moveRight()),\n    onLogout: () => dispatch(actions.logout()), \n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UserMenu);\n\n","import React, { Component } from \"react\";\nimport { connect } from 'react-redux';\n\nimport * as actions from '../../store/actions/index';\nimport classes from \"./SidePanel.module.css\";\nimport DefaultProfilePic from '../../media/DefaultProfilePic.png';\n\nimport AuthMenu from \"./AuthMenu/AuthMenu\";\nimport UserMenu from \"./UserMenu/UserMenu\";\n\n\n\nclass SidePanel extends Component {\n\n\n\n    getProfilePic = () => {\n        let profilePicSrc = DefaultProfilePic;\n        const token = localStorage.getItem('token');\n        if(this.props.profilePicSrc){\n            profilePicSrc = this.props.profilePicSrc;\n        }else {\n            if(token && this.props.hasProfilePic){\n                profilePicSrc = `${process.env.REACT_APP_PROFILE_PICTURES_SOURCE_URL}` + this.props.userId; \n            }\n        }\n        return(\n            <img \n                alt=''\n                className={`${classes.ProfilePic} ${this.props.menuOpen ? classes.MenuOpen : ''}`} \n                src={profilePicSrc}/>\n        )\n    }\n\n    render() {\n        let menuClasses = [classes.Menu, classes.DarkMode];\n        return (\n            <div className={classes.Container}>\n                { this.props.menuOpen ? <div className={classes.Overlay} onClick={this.props.onCloseMenu}></div> : null }\n                <div \n                    onClick={this.props.menuOpen ? this.props.onCloseMenu : this.props.onOpenMenu} \n                    className={classes.Assistant}>\n                    { this.getProfilePic() }\n                </div>\n                {\n                    this.props.menuOpen \n                    ? <div className={menuClasses.join(' ')}>\n                        <div className={classes.NameArea}>\n                        <h2 className={classes.Name}>{this.props.name}</h2>\n                        {\n                            this.props.token \n                            ? <p className={classes.Handle}>@{this.props.handle}</p>\n                            : null \n                        }\n                        </div>\n                        <hr/>\n                        { \n                            this.props.menuOpen \n                            ? this.props.token \n                                ? <UserMenu/> \n                                : <AuthMenu/> \n                            : null\n                        }\n                    </div>\n                    : null\n                }\n \n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        darkmode: state.ui.darkmode, \n        menuOpen: state.ui.menu.open,\n\n        token: state.user.token,\n        userId: state.user.userId,\n        handle: state.user.handle,\n        name: state.user.name, \n\n        hasProfilePic: state.user.hasProfilePic,\n        profilePicSrc: state.user.profilePicSrc,\n\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n      onOpenMenu: () => dispatch(actions.openMenu()),\n      onCloseMenu: () => dispatch(actions.closeMenu())\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SidePanel);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actions from '../../store/actions/index';\n\nimport classes from './Feedback.module.css';\n\nclass Feedback extends Component {\n\n    handleClicked = () => {\n        if(this.props.token && this.props.userId !== '6022396f28d69d22509a5d46'){\n            const self = {\n                handle: this.props.handle,\n                name: this.props.name, \n                profilePic: this.props.profilePic, \n                userId: this.props.userId\n            }\n            this.props.onSwitchTab('chat');\n            this.props.onOpenChrisChat(self);\n        }\n    }\n\n    render(){\n        return(\n            <div className={classes.Feedback}>\n                <h2>Got some feedback?<br/> Found a bug? <br/>Confused?</h2>\n                Send a screenshot or text me!<br/><br/>\n                +49 17682625207<br/>\n                on here: <span onClick={this.handleClicked} className={this.props.token ? classes.Link : null}>@chris</span><br/>\n                cloy202@gmail.com<br/>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.user.token,\n        userId: state.user.userId, \n        profilePic: state.user.profilePic, \n        handle: state.user.handle\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onOpenChrisChat: (self) => dispatch(actions.openChrisChat(self)),\n        onSwitchTab: (tab) => dispatch(actions.switchTab(tab)), \n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Feedback); ","import React, { Component } from \"react\";\nimport { Route, withRouter, Redirect } from \"react-router-dom\";\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nimport Stream from \"./components/Stream/Stream\";\nimport Chat from \"./components/Chat/Chat\";\nimport Creator from './components/Creator/Creator';\nimport Navigation from \"./components/Navigation/Navigation\";\nimport NewChatModal from './components/NewChatModal/NewChatModal';\nimport DropModal from './components/DropModal/DropModal';\nimport taktaktak from './media/taktaktak.jpg'; \n\nimport * as actions from './store/actions/index';\nimport Footer from \"./components/Footer/Footer\";\nimport SidePanel from \"./components/SidePanel/SidePanel\";\nimport Feedback from \"./components/Feedback/Feedback\";\n\nclass App extends Component {\n\n  componentDidMount = () => {\n    let anonymousId = localStorage.getItem('anonymousId');\n    if(!anonymousId) {\n      localStorage.setItem('anonymousId', 'anonymous'+Date.now());\n    }\n    this.props.onSetAnonymousId(anonymousId);\n    this.props.onTryAutoSignup();\n    this.props.onSetWindowWidth(window.innerWidth);\n    window.addEventListener('resize', () => this.props.onSetWindowWidth(window.innerWidth));\n      setInterval(() => {\n        if(this.props.token){\n          const token = localStorage.getItem('token');\n          const headers = { headers: { authorization : `Bearer ${token}` } }\n          const url = `/api/users/notifications`;\n          axios.get(url, headers)\n          .then(res => {\n              if(this.props.notifications.length !== res.data.length){\n                this.props.onRefreshNotifications(res.data);\n              }else {\n                const inComingIds = res.data.map(n => n.id);\n                this.props.notifications.map(n => n.id)\n                .forEach(id => {\n                  if(!inComingIds.some(iid => iid === id)){\n                    this.props.onRefreshNotifications(res.data);\n                  }\n                })\n              }\n          })\n          .catch(err => {\n            console.log(err);\n          })\n        }\n      }, 5000);\n  } \n\n  componentDidUpdate(){\n    if(this.props.anonymousId === ''){\n      let anonymousId = localStorage.getItem('anonymousId');\n      if(!anonymousId) {\n        localStorage.setItem('anonymousId', 'anonymous'+Date.now());\n      }\n      this.props.onSetAnonymousId(anonymousId);\n    }\n    if(this.props.windowWidth !== window.innerWidth){\n      this.props.onSetWindowWidth(window.innerWidth);\n    }\n  }\n\n  render() {\n\n    if(this.props.windowWidth < 600){\n      return (\n        <div className='DesktopOnlyMessage'>\n          Desktop only for now, sry. <br/>\n          \\_()_/<br/>\n          App is coming soon though.<br/>\n          Working all day and night.<br/><br/>\n          <img src={taktaktak} alt='chris working' className='taktaktak'/>\n        </div>\n      )\n    }\n\n    return (\n        <div className='App'>\n          <div className={`Background ${this.props.darkmode ? 'Dark' : 'Light'}`}></div>\n          <Route path={['/stream', '/chat', '/creator']} component={Stream}/>\n          <Route path={['/stream', '/chat', '/creator']} component={Chat}/>\n          <Route path={['/stream', '/chat', '/creator']} component={Creator}/>\n          <Redirect to='/stream'/>\n          {this.props.newChatModalOpen ? <NewChatModal/> : null}\n          {this.props.dropModalOpen ? <DropModal/> : null}\n          <Navigation/>\n          <SidePanel/> \n          <Footer/>\n          <Feedback/>\n        </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    dropModalOpen: state.ui.dropModalOpen,\n    windowWidth: state.ui.windowWidth,\n    darkmode: state.ui.darkmode,\n    authOpen: state.user.authOpen,\n    newChatModalOpen: state.ui.newChatModalOpen,\n    notifications: state.user.notifications,\n    token: state.user.token,\n    anonymousId: state.user.anonymousId,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSetWindowWidth: (width) => dispatch(actions.setWindowWidth(width)),\n    onTryAutoSignup: () => dispatch(actions.authCheckState()),\n    onRefreshNotifications: (notifications) => dispatch(actions.refreshNotifications(notifications)),\n    onSetAnonymousId: (anonymousId) => dispatch(actions.setAnonymousId(anonymousId)),\n  }\n}\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import * as actionTypes from '../actions/actionTypes';\n\n\nconst initialState = {\n    dropTargets: [],\n    selectedTargets: [],\n    dropIds: [],\n    streamStatus: 'nothing loaded',\n    streamElements: [\n        { position: 0, show: \"left\", id: \"0\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 1, show: \"show\", id: \"1\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 2, show: \"show\", id: \"2\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 3, show: \"show\", id: \"3\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 4, show: \"show\", id: \"4\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 5, show: \"show\", id: \"5\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 6, show: \"show\", id: \"6\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 7, show: \"show\", id: \"7\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 8, show: \"show\", id: \"8\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 9, show: \"show\", id: \"9\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 10, show: \"show\", id: \"10\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 11, show: \"show\", id: \"11\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 12, show: \"show\", id: \"12\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 13, show: \"show\", id: \"13\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 14, show: \"show\", id: \"14\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 15, show: \"show\", id: \"15\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 16, show: \"show\", id: \"16\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 17, show: \"show\", id: \"17\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 18, show: \"show\", id: \"18\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 19, show: \"show\", id: \"19\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 20, show: \"show\", id: \"20\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n        { position: 21, show: \"show\", id: \"21\", dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'},\n    ],\n    timeStampLastSwipe: 0,\n    currentlyLoadingMemeId: '', \n    selectedComment: null,\n    sending: [],\n}\n\n// ----- UTIL --------------------------------------------------------------------\n\nconst insertSubComment = (parentPath, subComments, comment) => {\n    return subComments.map(s => {\n        if(s.path === parentPath) return { ...s, subComments: [...s.subComments, comment] } \n        if(parentPath.startsWith(s.path)) return {...s, subComments: insertSubComment(parentPath, s.subComments, comment) }\n        else return s \n    })\n}\n\nconst replaceSubCommentId = (subComments, randPath, subComment) => {\n    return subComments.map(s => {\n        if(s.path === randPath){ \n            console.log(\"Reached SubComment\")\n            return { ...s, path: subComment.path} \n        }\n        else{\n            console.log('Going Deepa') \n            return {...s, subComments: replaceSubCommentId(s.subComments, randPath, subComment)}\n        }\n    })\n}\n\nconst scrollToTop = () => {\n    const c = document.documentElement.scrollTop || document.body.scrollTop;\n    if (c > 0) {\n      window.requestAnimationFrame(scrollToTop);\n      window.scrollTo(0, c - c / 10);\n    }\n};\n\nconst setDropsNotLoaded = (state, action) => {\n    const streamElementsNew = state.streamElements.map((s,i) => {\n        return {...s, show: i === 0 ? 'left' : 'show', id: `${i}`, status: 'not loaded', dropStatus: 'not loaded', comments: [], memeStatus: 'not loaded'}\n    })\n    return {\n        ...state, \n        streamElements: streamElementsNew,\n        streamStatus: 'nothing loaded'\n    }\n}\n\n// ----- FETCH IDS -----------------------------------------------------------\n\nconst fetchIdsStart = (state, action) => {\n    return {\n        ...state,\n        streamStatus: 'loading ids'\n    }\n}\n\nconst setIds = (state, action) => {\n    let activeIds = action.ids.slice(0, 21);\n    const ids = action.ids.slice(21, action.ids.length)\n    const streamElementsNew = state.streamElements.map((s, i) => {\n        if(s.position === 0){\n            return s\n        }else if(activeIds.length === 0){\n            return {...s, id: 'no more' + Math.random(), status: 'no more', memeStatus: 'not loaded'} \n        } else {\n            return { ...s, id: activeIds.pop(), status:'id loaded', memeStatus: 'not loaded'}\n        }\n    })\n    return {\n        ...state,\n        dropIds: ids,\n        currentlyLoadingMemeId: streamElementsNew[1].id,\n        streamElements: streamElementsNew,\n        streamStatus: 'ids loaded'\n    }\n}\n\nconst fetchIdsFailed = (state, action) => {\n    return { ...state, streamStatus: 'ids failed' }\n}\n\n\n// ----- FETCH DROPS ----------------------------------------------------------\n\nconst fetchDropsStart = (state, action) => {\n    return state;\n}\n\nconst setDrops = (state, action) => {\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.position === 0){\n            return { position: 0, show: \"left\", id: \"0\", dropStatus: 'loaded', comments: [], memeStatus: 'loading'}\n        }\n        const drop = action.drops.find(d => d.dropId === s.id); \n        if(drop){\n            return {\n                ...s,\n                comments: drop.comments.map(c => {return {...c, path:'0'}}),\n                title: drop.title ? drop.title : null,\n                source: drop.source ? drop.source : null,\n                dropStatus: 'loaded',\n            }\n        }else {\n            return s\n        }\n    })\n    \n    return {\n        ...state,\n        streamElements: streamElementsNew,\n        streamStatus: 'drops loaded'\n    }\n}\n\nconst fetchDropsFailed = (state, action) => {\n    return state;\n}\n\n// ----- FETCH MEME ----------------------------------------------------------\n\n\nconst fetchMemeSuccess = (state, action) => {\n    let nextPos; \n    let nextId = 'no more';\n    const streamElementsNew = state.streamElements.map(s => {\n        if(action.dropId === s.id){\n            nextPos = s.position + 1 \n            return {\n                ...s, \n                memeStatus: 'loaded'\n            }\n        } else if(s.position === nextPos) {\n            nextId = s.id\n            return s\n        } else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        streamElements: streamElementsNew,\n        currentlyLoadingMemeId: nextId\n    }\n}\n\nconst fetchMemeFailed = (state, action) => {\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            return {\n                ...s,\n                memeStatus: 'failed'\n            }\n        } else { return s }\n    })\n    return {\n        ...state, \n        streamElements: streamElementsNew\n    }\n}\n\n// ----- FETCH DROP ----------------------------------------------------------\n\nconst fetchDropStart = (state, action) => {\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            return {\n                ...s,\n                dropStatus: 'loading',\n            }\n        }else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        streamElements: streamElementsNew\n    }\n}\n\nconst fetchDropSuccess = (state, action) => {\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            return {\n                ...s,\n                ...action.drop,\n                comments: action.drop.comments ? action.drop.comments.map(c => {return {...c, path:'0'}}) : [],\n                title: action.drop.title ? action.drop.title : null,\n                source: action.drop.source ? action.drop.source : null,\n                dropStatus: 'loaded'\n            }\n        }else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        streamElements: streamElementsNew\n    }\n}\n\nconst fetchDropFailed = (state, action) => {\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            return {\n                ...s,\n                dropStatus: 'failed',\n            }\n        }else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        streamElements: streamElementsNew\n    }\n}\n\n\n// ----- SEND COMMENT ---------------------------------------------------------------------\n\nconst sendCommentStart = (state, action) => {\n    const sendingObject = { dropId: action.dropId, randId: action.comment.id }\n    const sendingNew = [...state.sending, sendingObject];\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            const commentsNew = [action.comment, ...s.comments];\n            return {\n                ...s,\n                comments: commentsNew\n            }\n        }else {\n            return s \n        }\n    })\n    return {\n        ...state,\n        sending: sendingNew, \n        streamElements: streamElementsNew,\n    }\n}\n\nconst sendCommentSuccess = (state, action) => {\n    console.log(action);\n    const sendingNew = state.sending.filter(c => c.randId !== action.randId);\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === action.dropId){\n            const commentsNew = s.comments.map(c => {\n                if(c.id === action.comment.randId){\n                    return action.comment\n                }else {\n                    return c \n                }\n            })\n            return {\n                ...s, \n                comments: commentsNew\n            }\n        }else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        streamElements: streamElementsNew,\n        sending: sendingNew,\n    }\n}\n\nconst sendCommentFailed = (state, action) => {\n    console.log(action.err);\n    return {\n        ...state\n    }\n}\n\n// ----- SELECT DROP TARGET ------------------------------------------------------\n\nconst selectDropTarget = (state, action) => {\n    const dropTargetsNew = [...state.dropTargets, action.chatId]\n    return {\n        ...state,\n        dropTargets: dropTargetsNew\n    }\n}\n\nconst unselectDropTarget = (state, action) => {\n    const dropTargetsNew = state.dropTargets.filter(id => id !== action.chatId)\n    return {\n        ...state, \n        dropTargets: dropTargetsNew\n    }\n}\n\nconst resetDropTargets = (state, action) => {\n    return {\n        ...state,\n        dropTargets: []\n    }\n}\n\n// ----- SWIPE -----------------------------------------------------------------------\n\nconst swipeStart = (state, action) => {\n    scrollToTop();\n    if(state.selectedComment){\n        return {\n            ...state,\n            selectedComment: null\n        }\n    } else {\n        if(state.dropIds.length > 0) console.log('##################');\n        const nextId = state.dropIds.length !== 0 ? state.dropIds[0] : 'no more' + Date.now();\n        const dropIdsNew = state.dropIds.slice(1, state.dropIds.length); \n        const streamElementsNew = [\n            ...state.streamElements.map(s => {\n                return {\n                    ...s, \n                    position: s.position - 1,\n                    show: s.position-1 === 0 ? action.dir : 'show'\n                }\n            })\n            .filter(s => {\n                return s.position >= 0\n            }),\n            {\n                position: 21,\n                show: 'show',\n                id: nextId,\n                status: 'id loaded',\n                dropStatus: 'not loaded',\n                comments: []\n            }\n        ]\n        return {\n            ...state,\n            streamElements: streamElementsNew,\n            dropIds: dropIdsNew, \n            dropTargets: [],\n        }\n    }\n}\n\nconst swipeSuccess = (state, action) => {\n    return {\n        ...state,\n    }\n}\n\nconst swipeFailed = (state, action) => {\n    return {\n        ...state,\n    }\n}\n\n// ----- SELECT COMMENT ---------------------------------------------------------------------\n\n\nconst selectComment = (state, action) => {\n    return { ...state, selectedComment: action.commentId }\n}\n\nconst unselectComment = (state, action) => {\n    return { ...state, selectedComment: null }\n}\n\nconst selectSubComment = (state, action) => {\n    return { ...state, selectedComment: action.path }\n}\n\nconst unselectSubComment = (state) => {\n    return { ...state, selectedComment: null }\n}\n\n// ----- SEND SUBCOMMENT -------------------------------------------------------------------------\n\nconst sendSubCommentStart = (state, action) => {\n    const { dropId, subComment } = action; \n    const newPath = `${state.selectedComment}/${subComment.id}`;\n    const sendingNew = [...state.sending, {dropId: dropId, path: newPath}]\n    const newSubComment = {\n        id: subComment.id,\n        comment: subComment.comment,\n        path: newPath,\n        points: 0,\n        subComments: []\n    }\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === dropId){\n            const comments = s.comments.map(c => {\n                if(state.selectedComment.split('/')[0] === c.id){\n                    if(state.selectedComment.split('/').length > 1){\n                        return {...c, subComments: insertSubComment(state.selectedComment, c.subComments, newSubComment)}\n                    }else{\n\n                        return {...c, subComments: [...c.subComments, newSubComment]}\n                    }\n                }else {\n                    return c;\n                }\n            });\n            return {\n                ...s,\n                comments: comments\n            }\n        } else {\n            return s\n        }\n    })\n    return {\n        ...state, \n        streamElements: streamElementsNew, \n        sending: sendingNew,\n        selectedComment: null,\n    }\n}\n\nconst sendSubCommentSuccess = (state, action) => {\n    const { dropId, randPath, subComment } = action;\n    const sendingNew = state.sending.filter(s => {\n        return !(s.dropId === dropId && s.path === randPath)\n    })\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === dropId){\n            const commentsNew = s.comments.map(c => {\n                if(randPath.startsWith(c.id)){\n                    return {\n                        ...c, \n                        subComments: replaceSubCommentId(c.subComments, randPath, subComment)\n                    }\n                }else {\n                    return c\n                }\n            })\n            return {\n                ...s,\n                comments: commentsNew\n            }\n        }else {\n            return s\n        }\n    })\n    return {\n        ...state,\n        sending: sendingNew,\n        streamElements: streamElementsNew\n    }\n}\n\nconst sendSubCommentFailed = (state, action) => {\n    return {\n        ...state\n    }\n}\n\nconst deleteCommentStart = (state, action) => {\n    const { dropId, commentId } = action;\n    const streamElementsNew = state.streamElements.map(s => {\n        if(s.id === dropId){\n            const commentsNew = s.comments.filter(c => c.id !== commentId);\n            return {\n                ...s,\n                comments: commentsNew\n            }\n        } else {\n            return s\n        }\n    })\n    return {\n        ...state, \n        streamElements: streamElementsNew, \n        selectedComment: null,\n    }\n}\n\nconst deleteCommentSuccess = (state, action) => {\n    return state\n}\n\nconst deleteCommentFailed = (state, action) => {\n    return state\n}\n\nconst reducer = (state = initialState, action ) => {\n    switch( action.type ) {\n        case actionTypes.SELECT_DROPTARGET: return selectDropTarget(state, action);\n        case actionTypes.UNSELECT_DROPTARGET: return unselectDropTarget(state, action);\n        case actionTypes.RESET_DROP_TARGETS: return resetDropTargets(state, action);\n\n        case actionTypes.SWIPE_START: return swipeStart(state, action);\n        case actionTypes.SWIPE_SUCCESS: return swipeSuccess(state, action);\n        case actionTypes.SWIPE_FAILED: return swipeFailed(state, action);\n\n        case actionTypes.FETCH_IDS_START: return fetchIdsStart(state, action);\n        case actionTypes.SET_IDS: return setIds(state, action);\n        case actionTypes.FETCH_IDS_FAILED: return fetchIdsFailed(state, action);\n\n        case actionTypes.SELECT_COMMENT: return selectComment(state, action);\n        case actionTypes.UNSELECT_COMMENT: return unselectComment(state, action);\n        case actionTypes.SELECT_SUBCOMMENT: return selectSubComment(state, action);\n        case actionTypes.UNSELECT_SUBCOMMENT: return unselectSubComment(state);\n\n        case actionTypes.SET_DROPS_NOT_LOADED: return setDropsNotLoaded(state, action);\n\n        case actionTypes.FETCH_DROPS_START: return fetchDropsStart(state, action);\n        case actionTypes.SET_DROPS: return setDrops(state, action);\n        case actionTypes.FETCH_DROPS_FAILED: return fetchDropsFailed(state, action);\n\n        case actionTypes.FETCH_DROP_START: return fetchDropStart(state, action);\n        case actionTypes.FETCH_DROP_SUCCESS: return fetchDropSuccess(state, action);\n        case actionTypes.FETCH_DROP_FAILED: return fetchDropFailed(state, action);\n\n        case actionTypes.FETCH_MEME_SUCCESS: return fetchMemeSuccess(state, action);\n        case actionTypes.FETCH_MEME_FAILED: return fetchMemeFailed(state, action);\n \n        case actionTypes.SEND_COMMENT_START: return sendCommentStart(state, action);\n        case actionTypes.SEND_COMMENT_SUCCESS: return sendCommentSuccess(state, action);\n        case actionTypes.SEND_COMMENT_FAILED: return sendCommentFailed(state, action);\n\n        case actionTypes.DELETE_COMMENT_START: return deleteCommentStart(state, action);\n        case actionTypes.DELETE_COMMENT_SUCCESS: return deleteCommentSuccess(state, action);\n        case actionTypes.DELETE_COMMENT_FAILED: return deleteCommentFailed(state, action);\n\n        case actionTypes.SEND_SUBCOMMENT_START: return sendSubCommentStart(state, action);\n        case actionTypes.SEND_SUBCOMMENT_SUCCESS: return sendSubCommentSuccess(state, action);\n        case actionTypes.SEND_SUBCOMMENT_FAILED: return sendSubCommentFailed(state, action);\n\n\n    \n        default: return state;\n    }\n}\n\n\n\n\n\n\n\n\nexport default reducer; ","import * as actionTypes from '../actions/actionTypes';\n\nconst initialState = {\n    currentChatId: '1',\n    formHeight: 53,\n    chatInput: '',  \n    allUsers: [],\n    allUsersStatus: 'not loaded',\n\n    sendingFriendRequests: [],\n    sentFriendRequests: [],\n    failedFriendRequests: [],\n\n    receivedFriendRequests: [],\n    acceptingFriendRequests: [],\n    creatingChats: [],\n    messageBuffer: [],\n\n    friends: [\n        { userId: '42069',  name: 'Elon Musk',        handle: 'elon',    profilePic: false},\n        { userId: '12',     name: 'Tonald Drump',     handle: 'donald',  profilePic: false},\n        { userId: '12345',  name: 'Shrek',            handle: 'shrek',   profilePic: false},\n        { userId: '42069',  name: 'Rick Astley',      handle: 'rick',    profilePic: false},\n        { userId: '123456', name: 'Keano Reeeeeeeee', handle: 'Keano',   profilePic: false},\n        { userId: '122',    name: 'Michael Jordan',   handle: 'michael', profilePic: false},\n\n\n    ],\n    friendsStatus: 'not loaded',\n    chats: [\n        {\n            group: false,\n            chatId: '1',\n            members: [\n                { userId: '1', name: 'Username' }, \n                { userId: '42069', name: 'Elon Musk', handle: 'elon', profilePic: false }\n            ],\n            inputValue: '',\n            lastInteraction: 1611673082511,\n            messages: [ \n                {\n                    text: 'Whats poppin\\' Elon?',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '1',\n                    id: '1',\n                },\n                {\n                    text: 'Rocket goes brrrrrt',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '5',\n                    id: '2',\n                    new: true\n                },\n            ]\n        },\n        {\n            chatId: '2',\n            group: false,\n            members: [\n                { userId: '1'}, \n                { userId: '12', name: 'Tonald Drump', handle: 'donald', profilePic: false}\n            ],            \n            inputValue: '', \n            lastInteraction: 1611673082510,\n            messages: [\n                {\n                    text: 'I won. By a lot.',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '12',\n                    id: '1',\n                    new: true,\n                }\n            ],        \n        },\n        {\n            chatId: '3',\n            members: [\n                { userId: '1'}, \n                { userId: '12345', name: 'Shrek', profilePic: false}\n            ],             \n            inputValue: '', \n            lastInteraction: 1611673082509,\n            messages: [\n                {\n                    text: 'Get out of my swamp!',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '12345',\n                    id: '1',\n                    new: true\n                }\n            ],        \n        },\n        {\n            chatId: '4',\n            members: [\n                { userId: '1'}, \n                { userId: '123456', name: 'Keano Reeeeeeeee', profilePic: false}\n            ], \n            inputValue: '', \n            lastInteraction: 1611673082508,\n\n            messages: [\n                {\n                    text: 'I can do total sellout and they still love me lol',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '123456',\n                    id: '1',\n                }\n            ],\n        },\n        {\n            chatId: '5',\n            name: 'Rick Astley',\n            members: [\n                { userId: '1'}, \n                { userId: '42069', name: 'Rick Astley', profilePic: false}\n            ],            inputValue: '', \n            messages: [\n                {\n                    text: 'Never gonna give you up!',\n                    time: '14:32', \n                    type: 'text',\n                    sender: '12345',\n                    id: '1',\n                },\n            ],        \n        },\n        {\n            chatId: '6',\n            members: [\n                { userId: '1'}, \n                { userId: '122', name: 'Michael Jordan', handle: 'michael', profilePic: false},\n            ],\n            inputValue: '', \n            lastInteraction: 1611673082507,\n            messages: [\n                {\n                    text: 'And I took that personally.',\n                    time: '14:32', \n                    sender: 'chris',\n                    id: 1,\n                    sent: true \n                }\n            ],        \n        },\n    ], \n    seenUpdatesChats: [],\n    users: [],\n    sendingMessages: [],\n    chatsStatus: 'not loaded',\n    currentChatLoaded: false, \n}\n\nconst reducer = (state = initialState, action) => {\n    switch(action.type) {\n        case actionTypes.SET_CHAT_STATE_ON_LOGIN: return setChatStateOnLogin(state, action);\n        case actionTypes.ADD_NEW_USERS: return addNewUsers(state, action);\n\n        case actionTypes.SEND_MESSAGE_START: return sendMessageStart(state, action);\n        case actionTypes.SEND_MESSAGE_SUCCESS: return sendMessageSuccess(state, action);\n        case actionTypes.SEND_MESSAGE_FAILED: return sendMessageFailed(state, action);\n\n        case actionTypes.SEND_DROP_START: return sendDropStart(state, action);\n        case actionTypes.SEND_DROP_SUCCESS: return sendDropSuccess(state, action);\n        case actionTypes.SEND_DROP_FAILED: return sendDropFailed(state, action);\n\n        case actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_START: return sendFirstMessageNewChatStart(state, action);\n        case actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_SUCCESS: return sendFirstMessageNewChatSuccess(state, action);\n        case actionTypes.SEND_FIRST_MESSAGE_NEW_CHAT_FAILED: return sendFirstMessageNewChatFailed(state, action);\n\n        case actionTypes.ADD_MESSAGE_TO_BUFFER: return addMessageToBuffer(state, action);\n        case actionTypes.SEND_MESSAGE_FROM_BUFFER_START: return sendMessageFromBufferStart(state, action);\n        case actionTypes.SEND_MESSAGE_FROM_BUFFER_SUCCESS: return sendMessageFromBufferSuccess(state, action);\n        case actionTypes.SEND_MESSAGE_FROM_BUFFER_FAILED: return sendMessageFromBufferFailed(state, action);\n         \n\n        case actionTypes.CHANGE_CHAT: return changeChat(state, action);\n        case actionTypes.CHANGE_CHAT_INPUT: return chatInputChangeHandler(state, action);\n        \n        case actionTypes.FETCH_ALL_USERS_START: return fetchAllUsersStart(state, action);\n        case actionTypes.FETCH_ALL_USERS_SUCCESS: return fetchAllUsersSuccess(state, action);\n        case actionTypes.FETCH_ALL_USERS_FAILED: return fetchAllUsersFailed(state, action);\n\n        case actionTypes.SEND_FRIEND_REQUEST_START: return sendFriendRequestStart(state, action);\n        case actionTypes.SEND_FRIEND_REQUEST_SUCCESS: return sendFriendRequestSuccess(state, action);\n        case actionTypes.SEND_FRIEND_REQUEST_FAILED: return sendFriendRequestFailed(state, action);\n\n        case actionTypes.ACCEPT_FRIEND_REQUEST_START: return acceptFriendRequestStart(state, action);\n        case actionTypes.ACCEPT_FRIEND_REQUEST_SUCCESS: return acceptFriendRequestSuccess(state, action);\n        case actionTypes.ACCEPT_FRIEND_REQUEST_FAILED: return acceptFriendRequestFailed(state, action);\n\n        case actionTypes.FETCH_CHATS_START: return fetchChatsStart(state, action);\n        case actionTypes.FETCH_CHATS_SUCCESS: return fetchChatsSuccess(state, action);\n        case actionTypes.FETCH_CHATS_FAILED: return fetchChatsFailed(state, action);\n\n        case actionTypes.FETCH_NEW_CHAT_START: return fetchNewChatStart(state, action);\n        case actionTypes.FETCH_NEW_CHAT_SUCCESS: return fetchNewChatSuccess(state, action);\n        case actionTypes.FETCH_NEW_CHAT_FAILED: return fetchNewChatFailed(state, action);\n\n        case actionTypes.CREATE_DUMMY_CHAT: return createDummyChat(state, action);\n        case actionTypes.CHECK_AND_ADD_NEW_MESSAGES: return checkAndAddNewMessages(state, action);\n        case actionTypes.OPEN_CHRIS_CHAT: return openChrisChat(state, action);\n\n\n        default: return state;\n    }\n}\n\n\n//----- LOG IN / OUT -----------------------------------------------------\n\nconst setChatStateOnLogin = (state, action) => {\n    console.log(action.userdata.receivedFriendRequests);\n    const newTextMessagesNotifications = action.userdata.notifications.filter(n => n.type.startsWith('NEW_MESSAGE'));\n    const dummyChatsFromRequests = action.userdata.receivedFriendRequests\n    .filter(user => !action.userdata.chats.some(c => c.members.some(m => m.userId === user.userId)))\n    .map(user => {\n        console.log(user);\n        const self = {\n            userId: action.userdata.userId,\n            name: action.userdata.name,\n            handle: action.userdata.handle,\n            profilePic: action.userdata.profilePic,\n        }\n        const dummyChatId = `dummy${user.userId}`\n        return {\n            group: false,\n            messages: [],\n            chatId: dummyChatId,\n            members: [self, user],\n            name: user.name,\n            lastInteraction: Date.now(),\n        }\n    })\n    console.log(dummyChatsFromRequests);\n    const chatsNew = [\n        ...action.userdata.chats.map(chat => {\n            const messages = chat.messages.map(message => {\n                if(newTextMessagesNotifications.some(n => n.chatId === chat.chatId && n.messageId === message.id)){\n                    return {\n                        ...message,\n                        new: true\n                    }\n                }else {\n                    return message\n                }\n            })\n            return {\n                ...chat,\n                messages\n            }\n        }),\n        ...dummyChatsFromRequests\n    ]\n    return {\n        ...state, \n        receivedFriendRequests: action.userdata.receivedFriendRequests, \n        sentFriendRequests: action.userdata.sentFriendRequests,\n        friends: action.userdata.friends,\n        chats: chatsNew,\n        currentChatId: action.userdata.chats.length > 0 ? action.userdata.chats[0].chatId : null,\n    }\n}\n\n\n\n//----- CHANGE CHAT ------------------------------------------------------\n\nconst changeChat = (state, action) => {\n    let chatInputNew;\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === state.currentChatId){\n            const messages = chat.messages.map(message => {\n                if(message.new){\n                    return {\n                        ...message,\n                        new: false\n                    }\n                }else {\n                    return message;\n                }\n            })\n            return {\n                ...chat,\n                messages,\n                inputValue: state.chatInput\n            }\n        } else if(chat.chatId === action.chatId){\n            chatInputNew = chat.inputValue; \n            return chat;\n        } else {\n            return chat\n        }\n    })\n    const seenUpdatesChatsNew = [...state.seenUpdatesChats, action.chatId]\n\n    return {\n        ...state,\n        chats: chatsNew, \n        inputValue: chatInputNew, \n        currentChatId: action.chatId,\n        seenUpdatesChats: seenUpdatesChatsNew, \n    }\n}\n\nconst chatInputChangeHandler = (state, action) => {\n    const chatInputNew = action.value;\n    return {\n        ...state,\n        chatInput: chatInputNew,\n    }\n}\n\n//----- SEND MESSAGE  -------------------------------------------------\n\nconst sendMessageStart = (state, action) => {\n    const { randId, text, userId } = action;\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === state.currentChatId){\n            return {\n                ...chat, \n                messages: [\n                    ...chat.messages,\n                    {\n                        received: [],\n                        seen: [],\n                        liked: [],\n                        text: text, \n                        sender: userId,\n                        time: new Date(),\n                        id: randId,\n                        type: 'text', \n                        sending: true\n                    }\n                ]\n            }\n        }\n        else {\n            return chat\n        }\n    })\n    const sendingMessagesNew = [...state.sendingMessages, {chatId: state.currentChatId, randId: action.randId}]\n    return {\n        ...state,\n        chats: chatsNew,\n        sendingMessages: sendingMessagesNew,\n        chatInput: '',\n        shouldDeleteInput: true\n    }\n}\n\nconst sendMessageSuccess = (state, action) => {\n    const sendingMessage = state.sendingMessages.find(m => m.randId === action.randId);\n    const sendingMessagesNew = state.sendingMessages.filter(m => m.randId !== action.randId);\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === sendingMessage.chatId){\n            const messagesNew = chat.messages.map(message => {\n                if(message.id === sendingMessage.randId){\n                    return action.message;\n                }else{\n                    return message\n                }\n            })\n            return {\n                ...chat,\n                messages: messagesNew\n            }\n        }else {\n            return chat\n        }\n    })\n    return {\n        ...state,\n        chats: chatsNew,\n        sendingMessages: sendingMessagesNew,\n    }\n}\n\nconst sendMessageFailed = (state, action) => {\n    return {\n        ...state\n    }\n}\n\n//----- SEND FIRST MESSAGE NEW CHAT -------------------------------------\n\nconst sendDropStart = (state, action) => {\n    const chatsNew = state.chats.map(chat => {\n        if(action.chatIds.some(id => id === chat.chatId)){\n            const messagesNew = [...chat.messages, action.message]\n            return {\n                ...chat,\n                messages: messagesNew\n            } \n        }else {\n            return chat\n        }\n    })\n    const sendingM = action.chatIds.map(chatId => { return { randId: action.message.id, chatId}})\n    const sendingMessagesNew = [...state.sendingMessages, ...sendingM]\n    return {\n        ...state,\n        chats: chatsNew,\n        sendingMessages: sendingMessagesNew,\n        currentChatId: action.chatIds[0],\n    }\n}\n\nconst sendDropSuccess = (state, action) => {\n    \n    const { messageReplacements, chatReplacements, randId } = action;\n    let currentChatIdNew = state.currentChatLoaded;\n    console.log(action)\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId.startsWith('dummy')){\n            console.log('FOUND DUMMY CHAT');\n            const chatReplacement = chatReplacements.find(r => `dummy${r.userId}` === chat.chatId); \n            if(chatReplacement){\n                console.log('FOUND A MATCHING REPLACEMENT');\n                currentChatIdNew = chatReplacement.chat.chatId;\n                return chatReplacement.chat;\n            }\n        }\n        const messageReplacement = messageReplacements.find(r => r.chatId === chat.chatId);\n        if(messageReplacement){\n            const messagesNew = chat.messages.map(message => {\n                if(message.id === randId){\n                    return messageReplacement.message\n                }else {\n                    return message\n                }\n            })\n            return {\n                ...chat,\n                messages: messagesNew\n            }\n        } else {\n            return chat\n        }\n    })\n    return {\n        ...state,\n        chats: chatsNew,\n        currentChatId: currentChatIdNew, \n    }\n}\n\nconst sendDropFailed = (state, action) => {\n    return {\n        ...state\n    }\n}\n\n//----- SEND FIRST MESSAGE NEW CHAT -------------------------------------\n\nconst sendFirstMessageNewChatStart = (state, action) => {\n    const { dummyChatId, randId, message, self } = action;\n    console.log(action);\n    const newMessage = {\n        received: [],\n        seen: [],\n        liked: [],\n        text: message, \n        sender: self.userId,\n        time: new Date(),\n        id: randId,\n        type: 'text', \n        sent: true, \n        sending: true\n    }\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === dummyChatId){\n            return {\n                ...chat,\n                messages: [newMessage],\n            }\n        }else{\n            return chat\n        }\n    });\n    const creatingChatsNew = [...state.creatingChats, dummyChatId];\n    return {\n        ...state,\n        chats: chatsNew,\n        creatingChats: creatingChatsNew\n    }\n}\n\nconst sendFirstMessageNewChatSuccess = (state, action) => {\n    const { dummyChatId, createdChat, self, chatPartner } = action;\n    const currentChatIdNew = state.currentChatId === dummyChatId ? createdChat.chatId : state.currentChatId;\n    const dummyChatMessages = state.chats.find(c => c.chatId === dummyChatId).messages;\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === dummyChatId){\n            console.log('FOUND DUMMY CHAT');\n            return {\n                ...createdChat, \n                messages: [...createdChat.messages, ...dummyChatMessages.slice(1, dummyChatMessages.length)],\n                members: [self, chatPartner],\n            }\n        } else {\n            return chat\n        }\n    })\n    const messageBufferNew = state.messageBuffer.map(message => {\n        if(message.dummyChatId === dummyChatId){\n            return {\n                ...message, \n                dummyChatId: createdChat.chatId\n            }\n        }else {\n            return message\n        }\n    })\n    const creatingChatsNew = state.creatingChats.filter(id => id !== dummyChatId);\n    return {\n        ...state, \n        chats: chatsNew,\n        currentChatId: currentChatIdNew,\n        messageBuffer: messageBufferNew, \n        creatingChats: creatingChatsNew,\n    }\n}\n\nconst sendFirstMessageNewChatFailed = (state, action) => {\n    return {\n        ...state, \n    }\n}\n\n//----- ADD_MESSAGE_TO_BUFFER ------------------------------------------\n\nconst addMessageToBuffer = (state, action) => {\n    const { dummyChatId, dummyMessageId, text, userId } = action; \n    const messageBufferNew = [...state.messageBuffer, {\n        dummyChatId,\n        dummyMessageId, \n        text, \n        id: `${Date.now()}`\n    }]\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === state.currentChatId){\n            return {\n                ...chat, \n                messages: [\n                    ...chat.messages,\n                    {\n                        received: [],\n                        seen: [],\n                        liked: [],\n                        text: text, \n                        sender: userId,\n                        time: new Date(),\n                        id: dummyMessageId,\n                        type: 'text', \n                        sending: true\n                    }\n                ]\n            }\n        }\n        else {\n            return chat\n        }\n    })\n    return {\n        ...state,\n        messageBuffer: messageBufferNew,\n        chats: chatsNew\n    }\n}\n\nconst sendMessageFromBufferStart = (state, action) => {\n    const { id } = action;\n    const messageBufferNew = state.messageBuffer.map(m => {\n        if(m.id === id){\n            return {\n                ...m, \n                sending: true\n            }\n        }else {\n            return m; \n        }\n    })\n    return {\n        ...state, \n        messageBuffer: messageBufferNew\n    }\n}\n\n//////////////////////////////////////////////////////////////////////\n\nconst sendMessageFromBufferSuccess = (state, action) => {\n    const { id, response } = action;;\n    const bufferMessage = state.messageBuffer.find(m => m.id === id);\n    console.log(bufferMessage);\n    const chatsNew = state.chats.map(chat => {\n        if(chat.chatId === bufferMessage.dummyChatId){\n            const messagesNew = chat.messages.map(m => {\n                if(m.id === bufferMessage.dummyMessageId){\n                    return response\n                }else{\n                    return m\n                }\n            })\n            return {\n                ...chat, \n                messages: messagesNew\n            }\n        }else {\n            return chat\n        }\n    })\n    const messageBufferNew = state.messageBuffer.filter(m => m.id !== id)\n    return {\n        ...state,\n        chats: chatsNew,\n        messageBuffer: messageBufferNew \n    }\n}\n\n///////////////////////////////////////////////////////////////////////\n\nconst sendMessageFromBufferFailed = (state, action) => {\n    const { id } = action;\n    const messageBufferNew = state.messageBuffer.map(m => {\n        if(m.id === id){\n            return {\n                ...m, \n                sending: false\n            }\n        }else {\n            return m; \n        }\n    })\n    return {\n        ...state, \n        messageBuffer: messageBufferNew\n    }\n}\n\n//----- FETCH ALL USERS -------------------------------------------------\n\nconst fetchAllUsersStart = (state, aciton) => {\n    return {\n        ...state,\n        allUsersStatus: 'loading'\n    }\n}\n\nconst fetchAllUsersSuccess = (state, action) => {\n    return {\n        ...state,\n        allUsersStatus: 'loaded',\n        allUsers: action.users, \n    }\n}\n\nconst fetchAllUsersFailed = (state, action) => {\n    return {\n        ...state,\n        allUsersStatus: 'failed'\n    }\n}\n\n//----- SEND FRIEND REQUEST --------------------------------------------------\n\nconst sendFriendRequestStart = (state, action) => {\n    const sendingFriendRequestsNew = [...state.sendingFriendRequests, action.user];\n    return {\n        ...state,\n        sendingFriendRequests: sendingFriendRequestsNew\n    }\n}\n\nconst sendFriendRequestSuccess = (state, action) => {\n    const sendingFriendRequestsNew = state.sendingFriendRequests.filter(user => user.userId !== action.user.userId);\n    const sentFriendRequestsNew = action.chat ? state.sentFriendRequests : [...state.sentFriendRequests, action.user];\n    let chatsNew = state.chats;\n    let currentChatIdNew = state.currentChatId;\n    let friendsNew = state.friends;\n    if(action.chat){\n        chatsNew = [\n            ...state.chats.filter(chat => chat.chatId !== action.chat.chatId && chat.chatId !== `dummy${action.user.userId}`),\n            action.chat\n        ]\n        currentChatIdNew = action.chat.chatId;\n        friendsNew = [...state.friends, action.user]\n    }\n    return {\n        ...state,\n        sentFriendRequests: sentFriendRequestsNew,\n        sendingFriendRequests: sendingFriendRequestsNew, \n        chats: chatsNew,\n        currentChatId: currentChatIdNew,\n        friends: friendsNew,\n    }\n}\n\nconst sendFriendRequestFailed = (state, action) => {\n    const sendingFriendRequestsNew = state.sendingFriendRequests.filter(user => user.userId !== action.user.userId);\n    const failedFriendRequestsNew = [...state.failedFriendRequests, action.user];\n\n    return {\n        ...state, \n        sendingFriendRequests: sendingFriendRequestsNew, \n        failedFriendRequests: failedFriendRequestsNew, \n    }\n}\n\n//----- ACCEPT FRIEND REQUEST --------------------------------------------------\n\n\nconst acceptFriendRequestStart = (state, action) => {\n    console.log('USER', action.user);\n    const receivedFriendRequestsNew = state.receivedFriendRequests.filter(user => user.userId !== action.user.userId);\n    const acceptingFriendRequestsNew = [...state.acceptingFriendRequests, action.user]; \n    return {\n        ...state, \n        receivedFriendRequests: receivedFriendRequestsNew,\n        acceptingFriendRequests: acceptingFriendRequestsNew\n    }\n}\n\nconst acceptFriendRequestSuccess = (state, action) => {\n    const { friend, chat } = action;\n    const acceptingFriendRequestsNew = state.acceptingFriendRequests.filter(user => user.userId !== friend.userId);\n    const friendsNew = [...state.friends, friend]; \n    const dummyId = `dummy${friend.userId}`\n    const chatsNew = [\n        ...state.chats.filter(c => c.chatId !== dummyId && c.chatId !== chat.chatId), \n        chat\n    ]\n    const currentChatIdNew = chat.chatId;\n    return {\n        ...state,\n        friends: friendsNew,\n        chats: chatsNew,\n        acceptingFriendRequests: acceptingFriendRequestsNew,\n        currentChatId: currentChatIdNew,\n    }\n}\n\nconst acceptFriendRequestFailed = (state, action) => {\n    const receivedFriendRequestsNew = [...state.receivedFriendRequests, action.user]\n    return {\n        ...state,\n        receivedFriendRequests: receivedFriendRequestsNew,\n    }\n}\n\n//----- FETCH CHATS --------------------------------------------------\n\nconst fetchChatsStart = (state, action) => {\n    return {\n        ...state, \n        chatsStatus: 'loading'\n    }\n}\n\nconst fetchChatsSuccess = (state, action) => {\n    const chatsNew = action.chats.map(chat => {\n        return {\n            ...chat,\n            inputValue: '',\n        }\n    })\n    const currentChatId = chatsNew.length > 0 ? chatsNew[0].chatId : null ;\n    return {\n        ...state,\n        chats: chatsNew,\n        currentChatId: currentChatId,\n        chatsStatus: 'loaded'\n    }\n}\n\nconst fetchChatsFailed = (state, action) => {\n    return {\n        ...state, \n        chatStatus: 'failed'\n    }\n}\n\n\n// ------------------------------------------------------\n\nconst createDummyChat = (state, action) => {\n    const dummyChatId = 'dummy' + action.chatPartner.userId\n    const alreadyExists = state.chats.some(chat => chat.chatId === dummyChatId);\n    const chatsNew = alreadyExists ? state.chats : [\n        {\n            group: false,\n            messages: [],\n            chatId: dummyChatId,\n            members: [action.self, action.chatPartner],\n            name: action.chatPartner.name,\n            lastInteraction: Date.now()\n        }, \n        ...state.chats]\n    return {\n        ...state,\n        chats: chatsNew,\n        currentChatId: dummyChatId\n    }\n}\n\nconst addNewUsers = (state, action) => {\n    const personsNew = [...state.users, ...action.users];\n    return {\n        ...state,\n        users: personsNew\n    }\n}\n\nconst removeDuplicateMessages = (messages) => {\n    let messageSet = [];\n    messages.forEach(message => {\n        if(!messageSet.some(m => m.id === message.id)){\n            messageSet.push(message);\n        }\n    })\n    return messageSet;\n}\n\nconst checkAndAddNewMessages = (state, action) => {\n    const chatsNew = state.chats.map(chat => {\n        const newMessagesThisChat = action.notifications\n            .filter(n => n.chatId === chat.chatId)\n            .map(n => {return {...n.message, new: true}})\n        if(newMessagesThisChat.length > 0){\n            const messagesNew = removeDuplicateMessages([...chat.messages, ...newMessagesThisChat]);\n            return {\n                ...chat,\n                messages: messagesNew\n            }\n        }else {\n            return chat\n        }\n    })\n\n    return {\n        ...state,\n        chats: chatsNew \n    }\n}\n\n//------ FETCH NEW CHAT ------------------------------------------------------------\n\nconst fetchNewChatStart = (state, action) => {\n    return {\n        ...state, \n    }\n}\n\nconst fetchNewChatSuccess = (state, action) => {\n    \n    const chatsNew = [...state.chats.filter(chat => chat.chatId !== action.chat.chatId), action.chat]\n    return {\n        ...state, \n        chats: chatsNew\n    }\n}\n\nconst fetchNewChatFailed = (state, action) => {\n    return {\n        ...state, \n    }\n}\n\n//------ OPEN CHRIS CHAT -----------------------------------------------------------\n\nconst openChrisChat = (state, action) => {\n    console.log('CHRIS CHAT ID', `dummy${process.env.REACT_APP_CHRIS_ID}`)\n    const existingChrisChat = state.chats\n        .find(chat => chat.chatId === `dummy${process.env.REACT_APP_CHRIS_ID}` \n           || chat.members.some(m => m.userId === `${process.env.REACT_APP_CHRIS_ID}`)); \n    const currentChatIdNew = existingChrisChat ? existingChrisChat.chatId : `dummy${process.env.REACT_APP_CHRIS_ID}`;\n    const chatsNew = existingChrisChat ? state.chats : [...state.chats, {\n        group: false,\n        name: 'Chris Loy',\n        messages: [],\n        chatId: `dummy${process.env.REACT_APP_CHRIS_ID}`,\n        members: [action.self, {\n            name: 'Chris Loy',\n            handle: 'chris',\n            userId: `${process.env.REACT_APP_CHRIS_ID}`, \n            profilePic: true\n        }],\n        lastInteraction: Date.now(),\n    }]\n    return {\n        ...state, \n        chats: chatsNew, \n        currentChatId: currentChatIdNew,\n    }\n}\n\n\nexport default reducer;","import * as actionTypes from '../actions/actionTypes';\n\nconst initialState = {\n    anonymousId: '',\n    token: null,\n    name: null,\n    handle: null,\n    userId: '1',\n    error: null,\n    loading: null,\n    checkEmailLoading: false,\n    checkHandleLoading: false,\n    takenEmails: [],\n    takenHandles: [],\n    signupLoading: false,\n    authOpen: false, \n    authReason: null,\n    hasProfilePic: false,\n    profilePicSrc: null,\n    receivedFriendRequests: [],\n    sendingSubscribeEmailList: false,\n    sentSubscribeEmailList: false,\n    notifications: [\n        {\n            type: 'TEXT_MESSAGE',\n            chatId: '2',\n            message:{\n                text: 'I won. By a lot.',\n                time: '14:32', \n                type: 'text',\n                sender: '12',\n                id: '1',\n            }\n        },\n        {\n            type: 'TEXT_MESSAGE',\n            chatId: '3',\n            message: {\n                text: 'Get out of my swamp!',\n                time: '14:32', \n                type: 'text',\n                sender: '12345',\n                id: '1',\n            }\n        },\n    ], \n    deletingNotifications: [],\n}\n\nconst setAnonymousId = (state, action) => {\n    return {\n        ...state,\n        anonymousId: action.anonymousId\n    }\n}\n\n//------ LOGIN ---------------------------------------------------\n\nconst loginStart = (state) => {\n    return { \n        ...state, \n        loginLoading: true \n    }\n}\n\nconst loginSuccess = (state, action) => {\n    return { \n        ...state, \n        loginLoading: false, \n        loginError: null, \n        signupError: null, \n        hasProfilePic: action.profilePic,\n        name: action.name,\n        handle: action.handle,\n        userId: action.userId, \n        token: action.token,\n        email: action.email,\n        friends: action.friends,\n        receivedFriendRequests: action.receivedFriendRequests,\n        notifications: action.notifications\n    }\n}\n\nconst loginFail = (state, action) => {\n    return { \n        ...state, \n        loginLoading: false, \n        loginError: action.error \n    }\n}\n\n//------ SIGNUP --------------------------------------------------\n\n\nconst signupStart = ( state) => {\n    return { \n        ...state, \n        signupLoading: true \n    }\n}\n\nconst signupFail = (state, action) => {\n    return { \n        ...state, \n        signupLoading: false, \n        signupError: action.error \n    }\n}\n\nconst signupSuccess = (state, action) => {\n    return { \n        ...state, \n        signupLoading: false, \n        error: null, \n        hasProfilePic: action.profilePic,\n        name: action.name,\n        handle: action.handle,\n        userId: action.userId, \n        token: action.token,\n        email: action.email,\n        profilePicSrc: action.profilePicSrc,\n        friends: action.friends,\n        receivedFriendRequests: [],\n        notifications: [],\n        sendingSubscribeEmailList: false,\n    }\n}\n\n//------ CHECK EMAIL TAKEN ---------------------------------------\n\nconst checkEmailTakenStart = (state, action) => {\n    return {\n        ...state,\n        checkEmailLoading: true,\n    }\n}\n\nconst checkEmailTakenSuccess = (state, action) => {\n    return {\n        ...state,\n        checkEmailLoading: false,\n    }\n}\n\nconst checkEmailTakenFailed = (state, action) => {\n    return {\n        ...state,\n        checkEmailLoading: false,\n    }\n}\n\nconst emailAlreadyTaken = (state, action) => {\n    return {\n        ...state,\n        checkEmailLoading: false,\n        takenEmails: [\n            ...state.takenEmails,\n            action.email\n        ]\n    }\n}\n\n//------ CHECK HANDLE TAKEN ---------------------------------------\n\nconst checkHandleTakenStart = (state, action) => {\n    return {\n        ...state,\n        checkHandleLoading: true,\n    }\n}\n\nconst checkHandleTakenSuccess = (state, action) => {\n    return {\n        ...state,\n        checkHandleLoading: false,\n    }\n}\n\nconst checkHandleTakenFailed = (state, action) => {\n    return {\n        ...state,\n        checkHandleLoading: false,\n    }\n}\n\nconst handleAlreadyTaken = (state, action) => {\n    return {\n        ...state,\n        checkHandleLoading: false,\n        takenHandles: [\n            ...state.takenHandles,\n            action.handle\n        ]\n    }\n}\n\n//------ MESSAGES READ -------------------------------------------\n\nconst messagesReadStart = (state, action) => {\n    const notificationsNew = state.notifications\n        .filter(n => !(n.type.startsWith('NEW_MESSAGE') && n.chatId === action.chatId))\n    return {\n        ...state,\n        notifications: notificationsNew\n    }\n}\n\nconst messagesReadSuccess = (state, action) => {\n    return state\n}\n\nconst messagesReadFailed = (state, action) => {\n    return state\n}\n\n//------ UPDATE NOTIFICATIONS -------------------------------------\n\n\nconst checkAndAddNewMessages = (state, action) => {\n    return state\n}\n\nconst updateNotifications = (state, action) => {\n    return {\n        ...state,\n        notifications: action.notifications\n    }\n}\n\n//------ SUBSCRIBE EMAIL LIST -------------------------------------\n\nconst subscribeEmailListStart = (state, action) => {\n    return {\n        ...state,\n        sendingSubscribeEmailList: true\n    }\n}\n\nconst subscribeEmailListSuccess = (state, action) => {\n    return {\n        ...state,\n        sendingSubscribeEmailList: false,\n        sentSubscribeEmailList: true\n    }\n}\n\nconst subscribeEmailListFailed = (state, action) => {\n    return {\n        ...state,\n        emailListError: action.message,\n        sendingSubscribeEmailList: false,\n        sentSubscribeEmailList: false\n    }\n}\n\nconst deleteNotificationStart = (state, action) => {\n    const toDelte = state.notifications.find(n => n.id === action.notificationId);\n    console.log(toDelte);\n    const notificationsNew = state.notifications.filter(n => n.id !== action.notificationId);\n    const deletingNotificationsNew = [...state.deletingNotifications, toDelte];\n    return {\n        ...state,\n        notifications: notificationsNew,\n        deletingNotifications: deletingNotificationsNew,\n    }\n}\n\nconst deleteNotificationSuccess = (state, action) => {\n    const deletingNotificationsNew = state.deletingNotifications.filter(n => n.id === action.notificationId)\n    return {\n        ...state,\n        deletingNotifications: deletingNotificationsNew,\n    }\n}\n\nconst deleteNotificationFailed = (state, action) => {\n    return {\n        ...state,\n    }\n}\n\nconst reducer = (state = initialState, action ) => {\n    switch( action.type ) {\n        case actionTypes.SET_ANONYMOUS_ID: return setAnonymousId(state, action);\n\n        case actionTypes.LOGIN_START: return loginStart(state, action);\n        case actionTypes.LOGIN_SUCCESS: return loginSuccess(state, action);\n        case actionTypes.LOGIN_FAIL: return loginFail(state, action);\n\n        case actionTypes.SIGNUP_START: return signupStart(state, action);\n        case actionTypes.SIGNUP_SUCCESS: return signupSuccess(state, action);\n        case actionTypes.SIGNUP_FAIL: return signupFail(state, action);\n\n        case actionTypes.CHECK_EMAIL_TAKEN_START: return checkEmailTakenStart(state, action);\n        case actionTypes.CHECK_EMAIL_TAKEN_SUCCESS: return checkEmailTakenSuccess(state, action);\n        case actionTypes.CHECK_EMAIL_TAKEN_FAILED: return checkEmailTakenFailed(state, action);\n        case actionTypes.EMAIL_ALREADY_TAKEN: return emailAlreadyTaken(state, action);\n\n        case actionTypes.CHECK_HANDLE_TAKEN_START: return checkHandleTakenStart(state, action);\n        case actionTypes.CHECK_HANDLE_TAKEN_SUCCESS: return checkHandleTakenSuccess(state, action);\n        case actionTypes.CHECK_HANDLE_TAKEN_FAILED: return checkHandleTakenFailed(state, action);\n        case actionTypes.HANDLE_ALREADY_TAKEN: return handleAlreadyTaken(state, action);\n\n        case actionTypes.MESSAGES_READ_START: return messagesReadStart(state, action);\n        case actionTypes.MESSAGES_READ_SUCCESS: return messagesReadSuccess(state, action);\n        case actionTypes.MESSAGES_READ_FAILED: return messagesReadFailed(state, action);\n\n        case actionTypes.CHECK_AND_ADD_NEW_MESSAGES: return checkAndAddNewMessages(state, action);\n\n        case actionTypes.UPDATE_NOTIFICATIONS: return updateNotifications(state, action);\n\n        case actionTypes.SUBSCRIBE_EMAIL_LIST_START: return subscribeEmailListStart(state, action);\n        case actionTypes.SUBSCRIBE_EMAIL_LIST_SUCCESS: return subscribeEmailListSuccess(state, action);\n        case actionTypes.SUBSCRIBE_EMAIL_LIST_FAILED: return subscribeEmailListFailed(state, action);\n\n        case actionTypes.DELETE_NOTIFICATION_START: return deleteNotificationStart(state, action);\n        case actionTypes.DELETE_NOTIFICATION_SUCCESS: return deleteNotificationSuccess(state, action);\n        case actionTypes.DELETE_NOTIFICATION_FAILED: return deleteNotificationFailed(state, action);\n\n        default: return state;\n    }\n}\n\nexport default reducer; ","import * as actionTypes from '../actions/actionTypes';\n\nconst initialState = {\n    darkmode: true,\n    dropModalOpen: false,\n    currentTab: 'creator',\n    menu: {\n        open: false,\n        menuStack: ['AUTH'],\n        currentDepth: 0,\n        shouldMoveRight: false,\n    },\n    newChatModalOpen: false,\n    windowWidth: 1080,\n    loginOrSignup: 'login',\n}\n\nconst scrollToTop = () => {\n    const c = document.documentElement.scrollTop || document.body.scrollTop;\n    if (c > 0) {\n      window.requestAnimationFrame(scrollToTop);\n      window.scrollTo(0, c - c / 10);\n    }\n};\n\nconst reducer = (state = initialState, action ) => {\n    switch( action.type ) {\n        case actionTypes.GO_DARK: \n            console.log('Bravo 6 going dark')\n            return {\n                ...state,\n                darkmode: true\n            }\n        case actionTypes.GO_LIGHT: \n            return {\n                ...state,\n                darkmode: false\n            }\n        case actionTypes.SWITCH_TAB: \n            scrollToTop()\n            return {\n                ...state,\n                currentTab: action.tab\n            }\n        case actionTypes.OPEN_DROP_MODAL: \n            return {\n                ...state,\n                dropModalOpen: true\n            }\n        case actionTypes.CLOSE_DROP_MODAL: \n            return {\n                ...state,\n                dropModalOpen: false\n            }\n        case actionTypes.OPEN_MENU: \n            return {\n                ...state,\n                menu: {\n                    ...state.menu,\n                    open: true\n                }\n            }\n        case actionTypes.CLOSE_MENU: \n            return {\n                ...state,\n                menu: {\n                    ...state.menu,\n                    open: false\n                }\n            }\n        case actionTypes.OPEN_NEW_CHAT_MODAL: \n            return {\n                ...state,\n                newChatModalOpen: true\n            }\n        case actionTypes.CLOSE_NEW_CHAT_MODAL: \n            return {\n                ...state,\n                newChatModalOpen: false\n            }\n        case actionTypes.SET_WINDOW_WIDTH: \n            return {\n                ...state, \n                windowWidth: action.width\n            }\n        case actionTypes.SET_UI_STATE_ON_LOGIN: \n            return {\n                ...state, \n                menu: {\n                    open: false,\n                    menuStack: ['USER_MENU'],\n                    currentDepth: 0,\n                },\n            }\n        // case actionTypes.SET_UI_STATE_ON_LOGOUT: \n        //     return {\n        //         ...state, \n        //         menu: {\n        //             open: true,\n        //             menuStack: ['AUTH'],\n        //             currentDepth: 0,\n        //         }\n        //     }\n        case actionTypes.ADD_TO_MENU_STACK: \n            return {\n                ...state,\n                menu: {\n                    ...state.menu,\n                    shouldMoveRight: true, \n                    menuStack: [...state.menu.menuStack, action.next]\n                    \n                }\n            }\n        case actionTypes.POP_FROM_MENU_STACK: \n            return {\n                ...state, \n                menu: {\n                    ...state.menu,\n                    currentDepth: state.menu.currentDepth-1,\n                    menuStack: state.menu.menuStack.slice(0, state.menu.menuStack.length-1)\n                }\n            }\n        case actionTypes.MOVE_MENU_RIGHT: \n            return {\n                ...state, \n                menu: {\n                    ...state.menu,\n                    shouldMoveRight: false, \n                    currentDepth: state.menu.currentDepth + 1 \n                }\n            }\n        default: return state;\n    }\n}\n\nexport default reducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { createStore, combineReducers, compose, applyMiddleware  } from 'redux';\nimport thunk from 'redux-thunk';\nimport axios from 'axios';\n\nimport * as actions from './store/actions/actionTypes';\nimport StreamReducer from './store/reducers/StreamReducer';\nimport ChatReducer from './store/reducers/ChatReducer';\nimport UserReducer from './store/reducers/UserReducer';\nimport UIReducer from './store/reducers/UIReducer'\n\naxios.defaults.baseURL = `${process.env.REACT_APP_BACKEND_URL}`;\n\nconst appReducer = combineReducers({\n    user: UserReducer,\n    chat: ChatReducer,\n    stream: StreamReducer,\n    ui: UIReducer,\n});\n\nconst rootReducer = (state, action) => {\n    if(action.type === actions.LOGOUT){\n        state = undefined;\n    }\n    return appReducer(state, action);\n}\n\nconst composeEnhancers = (process.env.NODE_ENV === 'development' ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : null) || compose;\n\n\nconst store = createStore(\n    rootReducer, /* preloadedState, */\n    composeEnhancers(\n        applyMiddleware(thunk)\n    )\n  );\n\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    </Provider>\n    , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}